var TR=Object.defineProperty,SR=Object.defineProperties;var AR=Object.getOwnPropertyDescriptors;var kc=Object.getOwnPropertySymbols;var B_=Object.prototype.hasOwnProperty,H_=Object.prototype.propertyIsEnumerable;var U_=(e,t,n)=>t in e?TR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||={})B_.call(t,n)&&U_(e,n,t[n]);if(kc)for(var n of kc(t))H_.call(t,n)&&U_(e,n,t[n]);return e},x=(e,t)=>SR(e,AR(t));var $_=(e,t)=>{var n={};for(var r in e)B_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kc)for(var r of kc(e))t.indexOf(r)<0&&H_.call(e,r)&&(n[r]=e[r]);return n};var m=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var eh;function Pc(){return eh}function sn(e){let t=eh;return eh=e,t}var W_=Symbol("NotFound");function zi(e){return e===W_||e?.name==="\u0275NotFound"}function Uc(e,t){return Object.is(e,t)}var Le=null,Fc=!1,th=1,RR=null,Ve=Symbol("SIGNAL");function k(e){let t=Le;return Le=e,t}function Bc(){return Le}var Pr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gi(e){if(Fc)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(e);let t=Le.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Le.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Le.producers,n!==void 0&&n.producer===e)){Le.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Le&&(!r||MR(i,Le)))return;let o=Yi(Le),s={producer:e,consumer:Le,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Le.producersTail=s,t!==void 0?t.nextProducer=s:Le.producers=s,o&&G_(e,s)}function z_(){th++}function Hc(e){if(!(Yi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===th)){if(!e.producerMustRecompute(e)&&!vs(e)){jc(e);return}e.producerRecomputeValue(e),jc(e)}}function nh(e){if(e.consumers===void 0)return;let t=Fc;Fc=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||NR(r)}}finally{Fc=t}}function rh(){return Le?.consumerAllowSignalWrites!==!1}function NR(e){e.dirty=!0,nh(e),e.consumerMarkedDirty?.(e)}function jc(e){e.dirty=!1,e.lastCleanEpoch=th}function Fr(e){return e&&(e.producersTail=void 0,e.recomputing=!0),k(e)}function qi(e,t){if(k(t),!e)return;e.recomputing=!1;let n=e.producersTail,r=n!==void 0?n.nextProducer:e.producers;if(r!==void 0){if(Yi(e))do r=ih(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function vs(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Hc(n),r!==n.version))return!0}return!1}function ys(e){if(Yi(e)){let t=e.producers;for(;t!==void 0;)t=ih(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function G_(e,t){let n=e.consumersTail,r=Yi(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)G_(i.producer,i)}function ih(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!Yi(t)){let o=t.producers;for(;o!==void 0;)o=ih(o)}return n}function Yi(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function $c(e){RR?.(e)}function MR(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Wc(e,t){let n=Object.create(OR);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Hc(n),Gi(n),n.value===ms)throw n.error;return n.value};return r[Ve]=n,$c(n),r}var Lc=Symbol("UNSET"),Vc=Symbol("COMPUTING"),ms=Symbol("ERRORED"),OR=x(v({},Pr),{value:Lc,dirty:!0,error:null,equal:Uc,kind:"computed",producerMustRecompute(e){return e.value===Lc||e.value===Vc},producerRecomputeValue(e){if(e.value===Vc)throw new Error("");let t=e.value;e.value=Vc;let n=Fr(e),r,i=!1;try{r=e.computation(),k(null),i=t!==Lc&&t!==ms&&r!==ms&&e.equal(t,r)}catch(o){r=ms,e.error=o}finally{qi(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function xR(){throw new Error}var q_=xR;function Y_(e){q_(e)}function oh(e){q_=e}var kR=null;function sh(e,t){let n=Object.create(zc);n.value=e,t!==void 0&&(n.equal=t);let r=()=>K_(n);return r[Ve]=n,$c(n),[r,s=>Ki(n,s),s=>ah(n,s)]}function K_(e){return Gi(e),e.value}function Ki(e,t){rh()||Y_(e),e.equal(e.value,t)||(e.value=t,PR(e))}function ah(e,t){rh()||Y_(e),Ki(e,t(e.value))}var zc=x(v({},Pr),{equal:Uc,value:void 0,kind:"signal"});function PR(e){e.version++,z_(),nh(e),kR?.(e)}function F(e){return typeof e=="function"}function Zi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Gc=Zi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Lr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ue=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){t=o instanceof Gc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Z_(o)}catch(s){t=t??[],s instanceof Gc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Gc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Z_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Lr(n,t)}remove(t){let{_finalizers:n}=this;n&&Lr(n,t),t instanceof e&&t._removeParent(this)}};ue.EMPTY=(()=>{let e=new ue;return e.closed=!0,e})();var ch=ue.EMPTY;function qc(e){return e instanceof ue||e&&"closed"in e&&F(e.remove)&&F(e.add)&&F(e.unsubscribe)}function Z_(e){F(e)?e():e.unsubscribe()}var Pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qi={setTimeout(e,t,...n){let{delegate:r}=Qi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Qi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Yc(e){Qi.setTimeout(()=>{let{onUnhandledError:t}=Pt;if(t)t(e);else throw e})}function _s(){}var Q_=lh("C",void 0,void 0);function J_(e){return lh("E",void 0,e)}function X_(e){return lh("N",e,void 0)}function lh(e,t,n){return{kind:e,value:t,error:n}}var Vr=null;function Ji(e){if(Pt.useDeprecatedSynchronousErrorHandling){let t=!Vr;if(t&&(Vr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Vr;if(Vr=null,n)throw r}}else e()}function eE(e){Pt.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=e)}var jr=class extends ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,qc(t)&&t.add(this)):this.destination=VR}static create(t,n,r){return new Xi(t,n,r)}next(t){this.isStopped?dh(X_(t),this):this._next(t)}error(t){this.isStopped?dh(J_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?dh(Q_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FR=Function.prototype.bind;function uh(e,t){return FR.call(e,t)}var fh=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Kc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Kc(r)}else Kc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Kc(n)}}},Xi=class extends jr{constructor(t,n,r){super();let i;if(F(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Pt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&uh(t.next,o),error:t.error&&uh(t.error,o),complete:t.complete&&uh(t.complete,o)}):i=t}this.destination=new fh(i)}};function Kc(e){Pt.useDeprecatedSynchronousErrorHandling?eE(e):Yc(e)}function LR(e){throw e}function dh(e,t){let{onStoppedNotification:n}=Pt;n&&Qi.setTimeout(()=>n(e,t))}var VR={closed:!0,next:_s,error:LR,complete:_s};var eo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function lt(e){return e}function hh(...e){return ph(e)}function ph(e){return e.length===0?lt:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var V=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=UR(n)?n:new Xi(n,r,i);return Ji(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=tE(r),new r((i,o)=>{let s=new Xi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[eo](){return this}pipe(...n){return ph(n)(this)}toPromise(n){return n=tE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function tE(e){var t;return(t=e??Pt.Promise)!==null&&t!==void 0?t:Promise}function jR(e){return e&&F(e.next)&&F(e.error)&&F(e.complete)}function UR(e){return e&&e instanceof jr||jR(e)&&qc(e)}function gh(e){return F(e?.lift)}function Y(e){return t=>{if(gh(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(e,t,n,r,i){return new mh(e,t,n,r,i)}var mh=class extends jr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function to(){return Y((e,t)=>{let n=null;e._refCount++;let r=z(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var no=class extends V{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gh(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ue;let n=this.getSubject();t.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ue.EMPTY)}return t}refCount(){return to()(this)}};var nE=Zi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=(()=>{class e extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Zc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new nE}next(n){Ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ch:(this.currentObservers=null,o.push(n),new ue(()=>{this.currentObservers=null,Lr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new V;return n.source=this,n}}return e.create=(t,n)=>new Zc(t,n),e})(),Zc=class extends Ie{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:ch}};var ke=class extends Ie{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var vh={now(){return(vh.delegate||Date).now()},delegate:void 0};var Qc=class extends ue{constructor(t,n){super()}schedule(t,n=0){return this}};var Es={setInterval(e,t,...n){let{delegate:r}=Es;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Es;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var ro=class extends Qc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Es.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Es.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Lr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var io=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};io.now=vh.now;var oo=class extends io{constructor(t,n=io.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var yh=new oo(ro);var Jc=class extends ro{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var Xc=class extends oo{};var _h=new Xc(Jc);var Je=new V(e=>e.complete());function rE(e){return e&&F(e.schedule)}function iE(e){return e[e.length-1]}function el(e){return F(iE(e))?e.pop():void 0}function rr(e){return rE(iE(e))?e.pop():void 0}function Eh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function sE(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function oE(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ur(e){return this instanceof Ur?(this.v=e,this):new Ur(e)}function aE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(y){return new Promise(function(w,T){o.push([h,y,w,T])>1||c(h,y)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(y){f(o[0][3],y)}}function l(h){h.value instanceof Ur?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function cE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof oE=="function"?oE(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var tl=e=>e&&typeof e.length=="number"&&typeof e!="function";function nl(e){return F(e?.then)}function rl(e){return F(e[eo])}function il(e){return Symbol.asyncIterator&&F(e?.[Symbol.asyncIterator])}function ol(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function BR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sl=BR();function al(e){return F(e?.[sl])}function cl(e){return aE(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Ur(n.read());if(i)return yield Ur(void 0);yield yield Ur(r)}}finally{n.releaseLock()}})}function ll(e){return F(e?.getReader)}function Ce(e){if(e instanceof V)return e;if(e!=null){if(rl(e))return HR(e);if(tl(e))return $R(e);if(nl(e))return WR(e);if(il(e))return lE(e);if(al(e))return zR(e);if(ll(e))return GR(e)}throw ol(e)}function HR(e){return new V(t=>{let n=e[eo]();if(F(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $R(e){return new V(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function WR(e){return new V(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Yc)})}function zR(e){return new V(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function lE(e){return new V(t=>{qR(e,t).catch(n=>t.error(n))})}function GR(e){return lE(cl(e))}function qR(e,t){var n,r,i,o;return sE(this,void 0,void 0,function*(){try{for(n=cE(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Xe(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ir(e,t=0){return Y((n,r)=>{n.subscribe(z(r,i=>Xe(r,e,()=>r.next(i),t),()=>Xe(r,e,()=>r.complete(),t),i=>Xe(r,e,()=>r.error(i),t)))})}function or(e,t=0){return Y((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function uE(e,t){return Ce(e).pipe(or(t),ir(t))}function dE(e,t){return Ce(e).pipe(or(t),ir(t))}function fE(e,t){return new V(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function hE(e,t){return new V(n=>{let r;return Xe(n,t,()=>{r=e[sl](),Xe(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function ul(e,t){if(!e)throw new Error("Iterable cannot be null");return new V(n=>{Xe(n,t,()=>{let r=e[Symbol.asyncIterator]();Xe(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pE(e,t){return ul(cl(e),t)}function gE(e,t){if(e!=null){if(rl(e))return uE(e,t);if(tl(e))return fE(e,t);if(nl(e))return dE(e,t);if(il(e))return ul(e,t);if(al(e))return hE(e,t);if(ll(e))return pE(e,t)}throw ol(e)}function ae(e,t){return t?gE(e,t):Ce(e)}function N(...e){let t=rr(e);return ae(e,t)}function so(e,t){let n=F(e)?e:()=>e,r=i=>i.error(n());return new V(t?i=>t.schedule(r,0,i):r)}function Ih(e){return!!e&&(e instanceof V||F(e.lift)&&F(e.subscribe))}var xn=Zi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function G(e,t){return Y((n,r)=>{let i=0;n.subscribe(z(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:YR}=Array;function KR(e,t){return YR(t)?e(...t):e(t)}function dl(e){return G(t=>KR(e,t))}var{isArray:ZR}=Array,{getPrototypeOf:QR,prototype:JR,keys:XR}=Object;function fl(e){if(e.length===1){let t=e[0];if(ZR(t))return{args:t,keys:null};if(eN(t)){let n=XR(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function eN(e){return e&&typeof e=="object"&&QR(e)===JR}function hl(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Is(...e){let t=rr(e),n=el(e),{args:r,keys:i}=fl(e);if(r.length===0)return ae([],t);let o=new V(tN(r,t,i?s=>hl(i,s):lt));return n?o.pipe(dl(n)):o}function tN(e,t,n=lt){return r=>{mE(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)mE(t,()=>{let l=ae(e[c],t),u=!1;l.subscribe(z(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function mE(e,t,n){e?Xe(n,e,t):t()}function vE(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=y=>l<r?p(y):c.push(y),p=y=>{o&&t.next(y),l++;let w=!1;Ce(n(y,u++)).subscribe(z(t,T=>{i?.(T),o?h(T):t.next(T)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){let T=c.shift();s?Xe(t,s,()=>p(T)):p(T)}f()}catch(T){t.error(T)}}))};return e.subscribe(z(t,h,()=>{d=!0,f()})),()=>{a?.()}}function me(e,t,n=1/0){return F(t)?me((r,i)=>G((o,s)=>t(r,o,i,s))(Ce(e(r,i))),n):(typeof t=="number"&&(n=t),Y((r,i)=>vE(r,i,e,n)))}function ao(e=1/0){return me(lt,e)}function yE(){return ao(1)}function co(...e){return yE()(ae(e,rr(e)))}function Cs(e){return new V(t=>{Ce(e()).subscribe(t)})}function Ch(...e){let t=el(e),{args:n,keys:r}=fl(e),i=new V(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ce(n[u]).subscribe(z(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?hl(r,a):a),o.complete())}))}});return t?i.pipe(dl(t)):i}function et(e,t){return Y((n,r)=>{let i=0;n.subscribe(z(r,o=>e.call(t,o,i++)&&r.next(o)))})}function kn(e){return Y((t,n)=>{let r=null,i=!1,o;r=t.subscribe(z(n,void 0,void 0,s=>{o=Ce(e(s,kn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function _E(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(z(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function sr(e,t){return F(t)?me(e,t,1):me(e,1)}function ar(e){return Y((t,n)=>{let r=!1;t.subscribe(z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Pn(e){return e<=0?()=>Je:Y((t,n)=>{let r=0;t.subscribe(z(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function pl(e=nN){return Y((t,n)=>{let r=!1;t.subscribe(z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function nN(){return new xn}function ws(e){return Y((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Fn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?et((i,o)=>e(i,o,r)):lt,Pn(1),n?ar(t):pl(()=>new xn))}function lo(e){return e<=0?()=>Je:Y((t,n)=>{let r=[];t.subscribe(z(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function wh(e,t){let n=arguments.length>=2;return r=>r.pipe(e?et((i,o)=>e(i,o,r)):lt,lo(1),n?ar(t):pl(()=>new xn))}function bh(e,t){return Y(_E(e,t,arguments.length>=2,!0))}function Dh(...e){let t=rr(e);return Y((n,r)=>{(t?co(e,n,t):co(e,n)).subscribe(r)})}function Be(e,t){return Y((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(z(r,c=>{i?.unsubscribe();let l=0,u=o++;Ce(e(c,u)).subscribe(i=z(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function gl(e){return Y((t,n)=>{Ce(e).subscribe(z(n,()=>n.complete(),_s)),!n.closed&&t.subscribe(n)})}function Me(e,t,n){let r=F(e)||t||n?{next:e,error:t,complete:n}:e;return r?Y((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(z(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):lt}function EE(e){let t=k(null);try{return e()}finally{k(t)}}var El="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",b=class extends Error{code;constructor(t,n){super(Un(t,n)),this.code=t}};function rN(e){return`NG0${Math.abs(e)}`}function Un(e,t){return`${rN(e)}${t?": "+t:""}`}var fo=globalThis;function X(e){for(let t in e)if(e[t]===X)return t;throw Error("")}function wE(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Vn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Vn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Vh(e,t){return e?t?`${e} ${t}`:e:t||""}var iN=X({__forward_ref__:X});function ft(e){return e.__forward_ref__=ft,e.toString=function(){return Vn(this())},e}function Pe(e){return jh(e)?e():e}function jh(e){return typeof e=="function"&&e.hasOwnProperty(iN)&&e.__forward_ref__===ft}function bE(e,t){e==null&&Uh(t,e,null,"!=")}function Uh(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Lt(e){return{providers:e.providers||[],imports:e.imports||[]}}function As(e){return oN(e,Il)}function Bh(e){return As(e)!==null}function oN(e,t){return e.hasOwnProperty(t)&&e[t]||null}function sN(e){let t=e?.[Il]??null;return t||null}function Sh(e){return e&&e.hasOwnProperty(vl)?e[vl]:null}var Il=X({\u0275prov:X}),vl=X({\u0275inj:X}),I=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Hh(e){return e&&!!e.\u0275providers}var $h=X({\u0275cmp:X}),Wh=X({\u0275dir:X}),zh=X({\u0275pipe:X}),Gh=X({\u0275mod:X}),Ts=X({\u0275fac:X}),Gr=X({__NG_ELEMENT_ID__:X}),IE=X({__NG_ENV_ID__:X});function qr(e){return typeof e=="string"?e:e==null?"":String(e)}function yl(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():qr(e)}var qh=X({ngErrorCode:X}),DE=X({ngErrorMessage:X}),Ds=X({ngTokenPath:X});function Yh(e,t){return TE("",-200,t)}function Cl(e,t){throw new b(-201,!1)}function aN(e,t){e[Ds]??=[];let n=e[Ds],r;typeof t=="object"&&"multi"in t&&t?.multi===!0?(bE(t.provide,"Token with multi: true should have a provide property"),r=yl(t.provide)):r=yl(t),n[0]!==r&&e[Ds].unshift(r)}function cN(e,t){let n=e[Ds],r=e[qh],i=e[DE]||e.message;return e.message=uN(i,r,n,t),e}function TE(e,t,n){let r=new b(t,e);return r[qh]=t,r[DE]=e,n&&(r[Ds]=n),r}function lN(e){return e[qh]}function uN(e,t,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Un(t,`${e}${o}${i}`)}var Ah;function SE(){return Ah}function ut(e){let t=Ah;return Ah=e,t}function Kh(e,t,n){let r=As(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Cl(e,"Injector")}var dN={},Br=dN,Rh="__NG_DI_FLAG__",Nh=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Hr(n)||0;try{return this.injector.get(t,r&8?null:Br,r)}catch(i){if(zi(i))return i;throw i}}};function fN(e,t=0){let n=Pc();if(n===void 0)throw new b(-203,!1);if(n===null)return Kh(e,void 0,t);{let r=hN(t),i=n.retrieve(e,r);if(zi(i)){if(r.optional)return null;throw i}return i}}function M(e,t=0){return(SE()||fN)(Pe(e),t)}function g(e,t){return M(e,Hr(t))}function Hr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function hN(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Mh(e){let t=[];for(let n=0;n<e.length;n++){let r=Pe(e[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=pN(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(M(i,o))}else t.push(M(r))}return t}function AE(e,t){return e[Rh]=t,e.prototype[Rh]=t,e}function pN(e){return e[Rh]}function $r(e,t){let n=e.hasOwnProperty(Ts);return n?e[Ts]:null}function wl(e,t){e.forEach(n=>Array.isArray(n)?wl(n,t):t(n))}function Zh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Rs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function RE(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function NE(e,t,n){let r=ho(e,t);return r>=0?e[r|1]=n:(r=~r,RE(e,r,t,n)),r}function bl(e,t){let n=ho(e,t);if(n>=0)return e[n|1]}function ho(e,t){return gN(e,t,1)}function gN(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var lr={},dt=[],Vt=new I(""),Qh=new I("",-1),Jh=new I(""),Ss=class{get(t,n=Br){if(n===Br){let i=TE("",-201);throw i.name="\u0275NotFound",i}return n}};function Xh(e){return e[Gh]||null}function an(e){return e[$h]||null}function Dl(e){return e[Wh]||null}function ep(e){return e[zh]||null}function ht(e){return{\u0275providers:e}}function ME(...e){return{\u0275providers:Tl(!0,e),\u0275fromNgModule:!0}}function Tl(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return wl(t,s=>{let a=s;_l(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&OE(i,o),n}function OE(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];tp(i,o=>{t(o,r)})}}function _l(e,t,n,r){if(e=Pe(e),!e)return!1;let i=null,o=Sh(e),s=!o&&an(e);if(!o&&!s){let c=e.ngModule;if(o=Sh(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)_l(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{wl(o.imports,u=>{_l(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&OE(l,t)}if(!a){let l=$r(i)||(()=>new i);t({provide:i,useFactory:l,deps:dt},i),t({provide:Jh,useValue:i,multi:!0},i),t({provide:Vt,useValue:()=>M(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;tp(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function tp(e,t){for(let n of e)Hh(n)&&(n=n.\u0275providers),Array.isArray(n)?tp(n,t):t(n)}var mN=X({provide:String,useValue:X});function xE(e){return e!==null&&typeof e=="object"&&mN in e}function vN(e){return!!(e&&e.useExisting)}function yN(e){return!!(e&&e.useFactory)}function Wr(e){return typeof e=="function"}function kE(e){return!!e.useClass}var Ns=new I(""),ml={},CE={},Th;function Ms(){return Th===void 0&&(Th=new Ss),Th}var de=class{},zr=class extends de{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,xh(t,s=>this.processProvider(s)),this.records.set(Qh,uo(void 0,this)),i.has("environment")&&this.records.set(de,uo(void 0,this));let o=this.records.get(Ns);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Jh,dt,{self:!0}))}retrieve(t,n){let r=Hr(n)||0;try{return this.get(t,Br,r)}catch(i){if(zi(i))return i;throw i}}destroy(){bs(this),this._destroyed=!0;let t=k(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),k(t)}}onDestroy(t){return bs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){bs(this);let n=sn(this),r=ut(void 0),i;try{return t()}finally{sn(n),ut(r)}}get(t,n=Br,r){if(bs(this),t.hasOwnProperty(IE))return t[IE](this);let i=Hr(r),o,s=sn(this),a=ut(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=wN(t)&&As(t);u&&this.injectableDefInScope(u)?l=uo(Oh(t),ml):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?Ms():this.parent;return n=i&8&&n===Br?null:n,c.get(t,n)}catch(c){let l=lN(c);throw l===-200||l===-201?new b(l,null):c}finally{ut(a),sn(s)}}resolveInjectorInitializers(){let t=k(null),n=sn(this),r=ut(void 0),i;try{let o=this.get(Vt,dt,{self:!0});for(let s of o)s()}finally{sn(n),ut(r),k(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Vn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Pe(t);let n=Wr(t)?t:Pe(t&&t.provide),r=EN(t);if(!Wr(t)&&t.multi===!0){let i=this.records.get(n);i||(i=uo(void 0,ml,!0),i.factory=()=>Mh(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=k(null);try{if(n.value===CE)throw Yh(Vn(t));return n.value===ml&&(n.value=CE,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&CN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{k(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Pe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Oh(e){let t=As(e),n=t!==null?t.factory:$r(e);if(n!==null)return n;if(e instanceof I)throw new b(204,!1);if(e instanceof Function)return _N(e);throw new b(204,!1)}function _N(e){if(e.length>0)throw new b(204,!1);let n=sN(e);return n!==null?()=>n.factory(e):()=>new e}function EN(e){if(xE(e))return uo(void 0,e.useValue);{let t=np(e);return uo(t,ml)}}function np(e,t,n){let r;if(Wr(e)){let i=Pe(e);return $r(i)||Oh(i)}else if(xE(e))r=()=>Pe(e.useValue);else if(yN(e))r=()=>e.useFactory(...Mh(e.deps||[]));else if(vN(e))r=(i,o)=>M(Pe(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Pe(e&&(e.useClass||e.provide));if(IN(e))r=()=>new i(...Mh(e.deps));else return $r(i)||Oh(i)}return r}function bs(e){if(e.destroyed)throw new b(205,!1)}function uo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function IN(e){return!!e.deps}function CN(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function wN(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function xh(e,t){for(let n of e)Array.isArray(n)?xh(n,t):n&&Hh(n)?xh(n.\u0275providers,t):t(n)}function ve(e,t){let n;e instanceof zr?(bs(e),n=e):n=new Nh(e);let r,i=sn(n),o=ut(void 0);try{return t()}finally{sn(i),ut(o)}}function PE(){return SE()!==void 0||Pc()!=null}var He=0,R=1,P=2,we=3,Dt=4,Tt=5,tt=6,po=7,ye=8,jt=9,cn=10,ne=11,go=12,rp=13,Yr=14,$e=15,Kr=16,Zr=17,Qr=18,Os=19,ip=20,Ln=21,Sl=22,xs=23,pt=24,Jr=25,se=26,FE=1,Ut=6,ln=7,ks=8,Ps=9,Oe=10;function gt(e){return Array.isArray(e)&&typeof e[FE]=="object"}function mt(e){return Array.isArray(e)&&e[FE]===!0}function op(e){return(e.flags&4)!==0}function Bn(e){return e.componentOffset>-1}function Al(e){return(e.flags&1)===1}function un(e){return!!e.template}function Xr(e){return(e[P]&512)!==0}function ur(e){return(e[P]&256)===256}var LE="svg",VE="math";function vt(e){for(;Array.isArray(e);)e=e[He];return e}function sp(e,t){return vt(t[e])}function St(e,t){return vt(t[e.index])}function ei(e,t){return e.data[t]}function At(e,t){let n=t[e];return gt(n)?n:n[He]}function Rl(e){return(e[P]&128)===128}function jE(e){return mt(e[we])}function dr(e,t){return t==null?null:e[t]}function ap(e){e[Zr]=0}function cp(e){e[P]&1024||(e[P]|=1024,Rl(e)&&mo(e))}function UE(e,t){for(;e>0;)t=t[Yr],e--;return t}function Fs(e){return!!(e[P]&9216||e[pt]?.dirty)}function Nl(e){e[cn].changeDetectionScheduler?.notify(8),e[P]&64&&(e[P]|=1024),Fs(e)&&mo(e)}function mo(e){e[cn].changeDetectionScheduler?.notify(0);let t=cr(e);for(;t!==null&&!(t[P]&8192||(t[P]|=8192,!Rl(t)));)t=cr(t)}function lp(e,t){if(ur(e))throw new b(911,!1);e[Ln]===null&&(e[Ln]=[]),e[Ln].push(t)}function BE(e,t){if(e[Ln]===null)return;let n=e[Ln].indexOf(t);n!==-1&&e[Ln].splice(n,1)}function cr(e){let t=e[we];return mt(t)?t[we]:t}function HE(e){return e[po]??=[]}function $E(e){return e.cleanup??=[]}var B={lFrame:sI(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ls=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(Ls||{}),bN=0,kh=!1;function WE(){return B.lFrame.elementDepthCount}function zE(){B.lFrame.elementDepthCount++}function GE(){B.lFrame.elementDepthCount--}function qE(){return B.bindingsEnabled}function up(){return B.skipHydrationRootTNode!==null}function YE(e){return B.skipHydrationRootTNode===e}function KE(e){B.skipHydrationRootTNode=e}function ZE(){B.skipHydrationRootTNode=null}function q(){return B.lFrame.lView}function We(){return B.lFrame.tView}function Rt(e){return B.lFrame.contextLView=e,e[ye]}function Nt(e){return B.lFrame.contextLView=null,e}function ze(){let e=dp();for(;e!==null&&e.type===64;)e=e.parent;return e}function dp(){return B.lFrame.currentTNode}function QE(){let e=B.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function vo(e,t){let n=B.lFrame;n.currentTNode=e,n.isParent=t}function fp(){return B.lFrame.isParent}function JE(){B.lFrame.isParent=!1}function hp(e){Uh("Must never be called in production mode"),bN=e}function pp(){return kh}function gp(e){let t=kh;return kh=e,t}function Ml(){let e=B.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function XE(){return B.lFrame.bindingIndex}function eI(e){return B.lFrame.bindingIndex=e}function ti(){return B.lFrame.bindingIndex++}function mp(e){let t=B.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function tI(){return B.lFrame.inI18n}function nI(e,t){let n=B.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ol(t)}function rI(){return B.lFrame.currentDirectiveIndex}function Ol(e){B.lFrame.currentDirectiveIndex=e}function iI(e){let t=B.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function vp(e){B.lFrame.currentQueryIndex=e}function DN(e){let t=e[R];return t.type===2?t.declTNode:t.type===1?e[Tt]:null}function yp(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=DN(o),i===null||(o=o[Yr],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=B.lFrame=oI();return r.currentTNode=t,r.lView=e,!0}function xl(e){let t=oI(),n=e[R];B.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function oI(){let e=B.lFrame,t=e===null?null:e.child;return t===null?sI(e):t}function sI(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function aI(){let e=B.lFrame;return B.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var _p=aI;function kl(){let e=aI();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function cI(e){return(B.lFrame.contextLView=UE(e,B.lFrame.contextLView))[ye]}function Hn(){return B.lFrame.selectedIndex}function fr(e){B.lFrame.selectedIndex=e}function Pl(){let e=B.lFrame;return ei(e.tView,e.selectedIndex)}function Ep(){return B.lFrame.currentNamespace}var lI=!0;function Fl(){return lI}function $n(e){lI=e}function Ph(e,t=null,n=null,r){let i=Ip(e,t,n,r);return i.resolveInjectorInitializers(),i}function Ip(e,t=null,n=null,r,i=new Set){let o=[n||dt,ME(e)];return r=r||(typeof e=="object"?void 0:Vn(e)),new zr(o,t||Ms(),r||null,i)}var fe=class e{static THROW_IF_NOT_FOUND=Br;static NULL=new Ss;static create(t,n){if(Array.isArray(t))return Ph({name:""},n,t,"");{let r=t.name??"";return Ph({name:r},t.parent,t.providers,r)}}static \u0275prov=D({token:e,providedIn:"any",factory:()=>M(Qh)});static __NG_ELEMENT_ID__=-1},_e=new I(""),Bt=(()=>{class e{static __NG_ELEMENT_ID__=TN;static __NG_ENV_ID__=n=>n}return e})(),Fh=class extends Bt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return ur(this._lView)}onDestroy(t){let n=this._lView;return lp(n,t),()=>BE(n,t)}};function TN(){return new Fh(q())}var Ft=class{_console=console;handleError(t){this._console.error("ERROR",t)}},yt=new I("",{providedIn:"root",factory:()=>{let e=g(de),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Ft),t.handleError(n))}}}),uI={provide:Vt,useValue:()=>void g(Ft),multi:!0};function Cp(e){return typeof e=="function"&&e[Ve]!==void 0}function _t(e,t){let[n,r,i]=sh(e,t?.equal),o=n,s=o[Ve];return o.set=r,o.update=i,o.asReadonly=dI.bind(o),o}function dI(){let e=this[Ve];if(e.readonlyFn===void 0){let t=()=>this();t[Ve]=e,e.readonlyFn=t}return e.readonlyFn}function wp(e){return Cp(e)&&typeof e.set=="function"}var jn=class{},Vs=new I("",{providedIn:"root",factory:()=>!1});var bp=new I(""),Dp=new I("");var Ll=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=SN}return e})();function SN(){return new Ll(q(),ze())}var Ht=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ke(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new V(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),hr=(()=>{class e{internalPendingTasks=g(Ht);scheduler=g(jn);errorHandler=g(yt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})();function js(...e){}var Tp=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new Lh})}return e})(),Lh=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var Vl={JSACTION:"jsaction"};function To(e){return{toString:e}.toString()}var jl="__parameters__";function FN(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function LN(e,t,n){return To(()=>{let r=FN(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(jl)?c[jl]:Object.defineProperty(c,jl,{value:[]})[jl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var hn=AE(LN("Optional"),8);function VN(e){return typeof e=="function"}var ql=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function XI(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Gn=(()=>{let e=()=>eC;return e.ngInherit=!0,e})();function eC(e){return e.type.prototype.ngOnChanges&&(e.setInput=UN),jN}function jN(){let e=nC(this),t=e?.current;if(t){let n=e.previous;if(n===lr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function UN(e,t,n,r,i){let o=this.declaredInputs[r],s=nC(e)||BN(e,{previous:lr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new ql(l&&l.currentValue,n,c===lr),XI(e,t,i,n)}var tC="__ngSimpleChanges__";function nC(e){return e[tC]||null}function BN(e,t){return e[tC]=t}var fI=[];var Z=function(e,t=null,n){for(let r=0;r<fI.length;r++){let i=fI[r];i(e,t,n)}};function HN(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=eC(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function $N(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Hl(e,t,n){rC(e,t,3,n)}function $l(e,t,n,r){(e[P]&3)===n&&rC(e,t,n,r)}function Sp(e,t){let n=e[P];(n&3)===t&&(n&=16383,n+=1,e[P]=n)}function rC(e,t,n,r){let i=r!==void 0?e[Zr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Zr]+=65536),(a<o||o==-1)&&(WN(e,n,t,c),e[Zr]=(e[Zr]&4294901760)+c+2),c++}function hI(e,t){Z(4,e,t);let n=k(null);try{t.call(e)}finally{k(n),Z(5,e,t)}}function WN(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[P]>>14<e[Zr]>>16&&(e[P]&3)===t&&(e[P]+=16384,hI(a,o)):hI(a,o)}var _o=-1,ii=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function zN(e){return(e.flags&8)!==0}function GN(e){return(e.flags&16)!==0}function qN(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];YN(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function iC(e){return e===3||e===4||e===6}function YN(e){return e.charCodeAt(0)===64}function Hs(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?pI(e,n,i,null,t[++r]):pI(e,n,i,null,null))}}return e}function pI(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function oC(e){return e!==_o}function Yl(e){return e&32767}function KN(e){return e>>16}function Kl(e,t){let n=KN(e),r=t;for(;n>0;)r=r[Yr],n--;return r}var Bp=!0;function gI(e){let t=Bp;return Bp=e,t}var ZN=256,sC=ZN-1,aC=5,QN=0,dn={};function JN(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Gr)&&(r=n[Gr]),r==null&&(r=n[Gr]=QN++);let i=r&sC,o=1<<i;t.data[e+(i>>aC)]|=o}function Zl(e,t){let n=cC(e,t);if(n!==-1)return n;let r=t[R];r.firstCreatePass&&(e.injectorIndex=t.length,Ap(r.data,e),Ap(t,null),Ap(r.blueprint,null));let i=fg(e,t),o=e.injectorIndex;if(oC(i)){let s=Yl(i),a=Kl(i,t),c=a[R].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Ap(e,t){e.push(0,0,0,0,0,0,0,0,t)}function cC(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function fg(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=hC(i),r===null)return _o;if(n++,i=i[Yr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return _o}function Hp(e,t,n){JN(e,t,n)}function XN(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(iC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function lC(e,t,n){if(n&8||e!==void 0)return e;Cl(t,"NodeInjector")}function uC(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[jt],o=ut(void 0);try{return i?i.get(t,r,n&8):Kh(t,r,n&8)}finally{ut(o)}}return lC(r,t,n)}function dC(e,t,n,r=0,i){if(e!==null){if(t[P]&2048&&!(r&2)){let s=iM(e,t,n,r,dn);if(s!==dn)return s}let o=fC(e,t,n,r,dn);if(o!==dn)return o}return uC(t,n,r,i)}function fC(e,t,n,r,i){let o=nM(n);if(typeof o=="function"){if(!yp(t,e,r))return r&1?lC(i,n,r):uC(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Cl(n);else return s}finally{_p()}}else if(typeof o=="number"){let s=null,a=cC(e,t),c=_o,l=r&1?t[$e][Tt]:null;for((a===-1||r&4)&&(c=a===-1?fg(e,t):t[a+8],c===_o||!vI(r,!1)?a=-1:(s=t[R],a=Yl(c),t=Kl(c,t)));a!==-1;){let u=t[R];if(mI(o,a,u.data)){let d=eM(a,t,n,s,r,l);if(d!==dn)return d}c=t[a+8],c!==_o&&vI(r,t[R].data[a+8]===l)&&mI(o,a,t)?(s=u,a=Yl(c),t=Kl(c,t)):a=-1}}return i}function eM(e,t,n,r,i,o){let s=t[R],a=s.data[e+8],c=r==null?Bn(a)&&Bp:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=tM(a,s,n,c,l);return u!==null?Ql(t,s,u,a,i):dn}function tM(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&un(h)&&h.type===n)return c}return null}function Ql(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof ii){let a=o;if(a.resolving){let h=yl(s[n]);throw Yh(h)}let c=gI(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?ut(a.injectImpl):null,f=yp(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&HN(n,s[n],t)}finally{d!==null&&ut(d),gI(c),a.resolving=!1,_p()}}return o}function nM(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Gr)?e[Gr]:void 0;return typeof t=="number"?t>=0?t&sC:rM:t}function mI(e,t,n){let r=1<<e;return!!(n[t+(e>>aC)]&r)}function vI(e,t){return!(e&2)&&!(e&1&&t)}var ri=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return dC(this._tNode,this._lView,t,Hr(r),n)}};function rM(){return new ri(ze(),q())}function Wt(e){return To(()=>{let t=e.prototype.constructor,n=t[Ts]||$p(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Ts]||$p(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $p(e){return jh(e)?()=>{let t=$p(Pe(e));return t&&t()}:$r(e)}function iM(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[P]&2048&&!Xr(s);){let a=fC(o,s,n,r|2,dn);if(a!==dn)return a;let c=o.parent;if(!c){let l=s[ip];if(l){let u=l.get(n,dn,r);if(u!==dn)return u}c=hC(s),s=s[Yr]}o=c}return i}function hC(e){let t=e[R],n=t.type;return n===2?t.declTNode:n===1?e[Tt]:null}function Ys(e){return XN(ze(),e)}function oM(){return hg(ze(),q())}function hg(e,t){return new Mt(St(e,t))}var Mt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=oM}return e})();var pC="ngSkipHydration",sM="ngskiphydration";function gC(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===sM)return!0}return!1}function mC(e){return e.hasAttribute(pC)}function Jl(e){return(e.flags&128)===128}function vC(e){if(Jl(e))return!0;let t=e.parent;for(;t;){if(Jl(e)||gC(t))return!0;t=t.parent}return!1}var pg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(pg||{}),yC=new Map,aM=0;function cM(){return aM++}function lM(e){yC.set(e[Os],e)}function Wp(e){yC.delete(e[Os])}var yI="__ngContext__";function Co(e,t){gt(t)?(e[yI]=t[Os],lM(t)):e[yI]=t}function _C(e){return IC(e[go])}function EC(e){return IC(e[Dt])}function IC(e){for(;e!==null&&!mt(e);)e=e[Dt];return e}var zp;function gg(e){zp=e}function Ks(){if(zp!==void 0)return zp;if(typeof document<"u")return document;throw new b(210,!1)}var pn=new I("",{providedIn:"root",factory:()=>uM}),uM="ng",gu=new I(""),nt=new I("",{providedIn:"platform",factory:()=>"unknown"});var mu=new I("",{providedIn:"root",factory:()=>Ks().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function dM(){let e=new li;return e.store=CC(Ks(),g(pn)),e}var li=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:dM});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function CC(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var wC="h",bC="b",fM="f",hM="n",DC="e",TC="t",vu="c",mg="x",$s="r",SC="i",AC="n",vg="d";var RC="di",NC="s",MC="p";var Zs=new I(""),OC=!1,yg=new I("",{providedIn:"root",factory:()=>OC});var _g=new I(""),xC=!1,kC=new I(""),Eg=new I("",{providedIn:"root",factory:()=>new Map});var Qs="ngb";var PC=(e,t,n)=>{let r=e,i=r.__jsaction_fns??new Map,o=i.get(t)??[];o.push(n),i.set(t,o),r.__jsaction_fns=i},FC=(e,t)=>{let n=e,r=n.getAttribute(Qs)??"",i=t.get(r)??new Set;i.has(n)||i.add(n),t.set(r,i)};var LC=e=>{e.removeAttribute(Vl.JSACTION),e.removeAttribute(Qs),e.__jsaction_fns=void 0},VC=new I("",{providedIn:"root",factory:()=>({})});function Ig(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var Gp=new Map;function jC(e,t){return Gp.set(e,t),()=>Gp.delete(e)}var _I=!1,UC=(e,t,n,r)=>{};function pM(e,t,n,r){UC(e,t,n,r)}function BC(){_I||(UC=(e,t,n,r)=>{let i=e[jt].get(pn);Gp.get(i)?.(t,n,r)},_I=!0)}var yu=new I("");function _u(e){return(e.flags&32)===32}var gM="__nghData__",Cg=gM,mM="__nghDeferData__",HC=mM;var Wl="ngh",$C="nghm",WC=()=>null;function vM(e,t,n=!1){let r=e.getAttribute(Wl);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=t.get(li,null,{optional:!0});u!==null&&(c=u.get(Cg,[])[Number(r)])}let l={data:c,firstChild:e.firstChild??null};return n&&(l.firstChild=e,Eu(l,0,e.nextSibling)),a?e.setAttribute(Wl,a):e.removeAttribute(Wl),l}function zC(){WC=vM}function GC(e,t,n=!1){return WC(e,t,n)}function qC(e){let t=e._lView;return t[R].type===2?null:(Xr(t)&&(t=t[se]),t)}function yM(e){return e.textContent?.replace(/\s/gm,"")}function _M(e){let t=Ks(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=yM(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function Eu(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function qp(e,t){return e.segmentHeads?.[t]??null}function YC(e){return e.get(kC,!1,{optional:!0})}function EM(e,t){let n=e.data,r=n[DC]?.[t]??null;return r===null&&n[vu]?.[t]&&(r=wg(e,t)),r}function KC(e,t){return e.data[vu]?.[t]??null}function wg(e,t){let n=KC(e,t)??[],r=0;for(let i of n)r+=i[$s]*(i[mg]??1);return r}function IM(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[vg];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function ZC(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[vg];e.disconnectedNodes=n?new Set(n):null}return!!IM(e)?.has(t)}function Iu(e,t){let n=e[tt];return n!==null&&!up()&&!_u(t)&&!ZC(n,t.index-se)}function CM(e,t){let n=t.get(yu),i=t.get(li).get(HC,{}),o=!1,s=e,a=null,c=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}c.unshift(s),s=i[s][MC]}return{parentBlockPromise:a,hydrationQueue:c}}function Rp(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===$C}function EI(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function QC(e){for(let r of e.body.childNodes)if(Rp(r))return;let t=EI(e.body.previousSibling);if(Rp(t))return;let n=EI(e.head.lastChild);if(!Rp(n))throw new b(-507,!1)}function JC(e,t){let n=e.contentQueries;if(n!==null){let r=k(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];vp(o),a.contentQueries(2,t[s],s)}}}finally{k(r)}}}function Yp(e,t,n){vp(0);let r=k(null);try{t(e,n)}finally{k(r)}}function XC(e,t,n){if(op(t)){let r=k(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{k(r)}}}var Wn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Wn||{});var Ul;function wM(){if(Ul===void 0&&(Ul=null,fo.trustedTypes))try{Ul=fo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ul}function II(e){return wM()?.createScriptURL(e)||e}var Xl=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${El})`}};function So(e){return e instanceof Xl?e.changingThisBreaksApplicationSecurity:e}function Cu(e,t){let n=ew(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${El})`)}return n===t}function ew(e){return e instanceof Xl&&e.getTypeName()||null}var bM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bg(e){return e=String(e),e.match(bM)?e:"unsafe:"+e}var Js=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Js||{});function pr(e){let t=nw();return t?t.sanitize(Js.URL,e)||"":Cu(e,"URL")?So(e):bg(qr(e))}function tw(e){let t=nw();if(t)return II(t.sanitize(Js.RESOURCE_URL,e)||"");if(Cu(e,"ResourceURL"))return II(So(e));throw new b(904,!1)}function DM(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?tw:pr}function Dg(e,t,n){return DM(t,n)(e)}function nw(){let e=q();return e&&e[cn].sanitizer}var TM=/^>|^->|<!--|-->|--!>|<!-$/g,SM=/(<|>)/g,AM="\u200B$1\u200B";function RM(e){return e.replace(TM,t=>t.replace(SM,AM))}function Tg(e){return e.ownerDocument}function rw(e){return e.ownerDocument.body}function iw(e){return e instanceof Function?e():e}function NM(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var ow="ng-template";function MM(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&NM(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Sg(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Sg(e){return e.type===4&&e.value!==ow}function OM(e,t,n){let r=e.type===4&&!n?ow:e.value;return t===r}function xM(e,t,n){let r=4,i=e.attrs,o=i!==null?FM(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!$t(r)&&!$t(c))return!1;if(s&&$t(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!OM(e,c,n)||c===""&&t.length===1){if($t(r))return!1;s=!0}}else if(r&8){if(i===null||!MM(e,i,c,n)){if($t(r))return!1;s=!0}}else{let l=t[++a],u=kM(c,i,Sg(e),n);if(u===-1){if($t(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if($t(r))return!1;s=!0}}}}return $t(r)||s}function $t(e){return(e&1)===0}function kM(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return LM(t,e)}function PM(e,t,n=!1){for(let r=0;r<t.length;r++)if(xM(e,t[r],n))return!0;return!1}function FM(e){for(let t=0;t<e.length;t++){let n=e[t];if(iC(n))return t}return e.length}function LM(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function CI(e,t){return e?":not("+t.trim()+")":t}function VM(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!$t(s)&&(t+=CI(o,i),i=""),r=s,o=o||!$t(r);n++}return i!==""&&(t+=CI(o,i)),t}function jM(e){return e.map(VM).join(",")}function UM(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!$t(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var It={};function sw(e,t){return e.createText(t)}function BM(e,t,n){e.setValue(t,n)}function aw(e,t){return e.createComment(RM(t))}function Ag(e,t,n){return e.createElement(t,n)}function eu(e,t,n,r,i){e.insertBefore(t,n,r,i)}function cw(e,t,n){e.appendChild(t,n)}function wI(e,t,n,r,i){r!==null?eu(e,t,n,r,i):cw(e,t,n)}function Rg(e,t,n){e.removeChild(null,t,n)}function lw(e){e.textContent=""}function HM(e,t,n){e.setAttribute(t,"style",n)}function $M(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function uw(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&qN(e,t,r),i!==null&&$M(e,t,i),o!==null&&HM(e,t,o)}function Ng(e,t,n,r,i,o,s,a,c,l,u){let d=se+r,f=d+i,h=WM(d,f),p=typeof l=="function"?l():l;return h[R]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function WM(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:It);return n}function zM(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Ng(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Mg(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[He]=i,d[P]=r|4|128|8|64|1024,(l!==null||e&&e[P]&2048)&&(d[P]|=2048),ap(d),d[we]=d[Yr]=e,d[ye]=n,d[cn]=s||e&&e[cn],d[ne]=a||e&&e[ne],d[jt]=c||e&&e[jt]||null,d[Tt]=o,d[Os]=cM(),d[tt]=u,d[ip]=l,d[$e]=t.type==2?e[$e]:d,d}function GM(e,t,n){let r=St(t,e),i=zM(n),o=e[cn].rendererFactory,s=Og(e,Mg(e,i,null,dw(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function dw(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function fw(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Og(e,t){return e[go]?e[rp][Dt]=t:e[go]=t,e[rp]=t,t}function S(e=1){hw(We(),q(),Hn()+e,!1)}function hw(e,t,n,r){if(!r)if((t[P]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Hl(t,o,n)}else{let o=e.preOrderHooks;o!==null&&$l(t,o,0,n)}fr(n)}var wu=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(wu||{});function Kp(e,t,n,r){let i=k(null);try{let[o,s,a]=e.inputs[n],c=null;(s&wu.SignalBased)!==0&&(c=t[o][Ve]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):XI(t,c,o,r)}finally{k(i)}}var zn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(zn||{}),qM;function xg(e,t){return qM(e,t)}function yo(e,t,n,r,i){if(r!=null){let o,s=!1;mt(r)?o=r:gt(r)&&(s=!0,r=r[He]);let a=vt(r);e===0&&n!==null?i==null?cw(t,n,a):eu(t,n,a,i||null,!0):e===1&&n!==null?eu(t,n,a,i||null,!0):e===2?Rg(t,a,s):e===3&&t.destroyNode(a),o!=null&&oO(t,e,o,n,i)}}function YM(e,t){pw(e,t),t[He]=null,t[Tt]=null}function KM(e,t,n,r,i,o){r[He]=i,r[Tt]=t,Du(e,r,n,1,i,o)}function pw(e,t){t[cn].changeDetectionScheduler?.notify(9),Du(e,t,t[ne],2,null,null)}function ZM(e){let t=e[go];if(!t)return Np(e[R],e);for(;t;){let n=null;if(gt(t))n=t[go];else{let r=t[Oe];r&&(n=r)}if(!n){for(;t&&!t[Dt]&&t!==e;)gt(t)&&Np(t[R],t),t=t[we];t===null&&(t=e),gt(t)&&Np(t[R],t),n=t&&t[Dt]}t=n}}function kg(e,t){let n=e[Ps],r=n.indexOf(t);n.splice(r,1)}function bu(e,t){if(ur(t))return;let n=t[ne];n.destroyNode&&Du(e,t,n,3,null,null),ZM(t)}function Np(e,t){if(ur(t))return;let n=k(null);try{t[P]&=-129,t[P]|=256,t[pt]&&ys(t[pt]),JM(e,t),QM(e,t),t[R].type===1&&t[ne].destroy();let r=t[Kr];if(r!==null&&mt(t[we])){r!==t[we]&&kg(r,t);let i=t[Qr];i!==null&&i.detachView(e)}Wp(t)}finally{k(n)}}function QM(e,t){let n=e.cleanup,r=t[po];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[po]=null);let i=t[Ln];if(i!==null){t[Ln]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[xs];if(o!==null){t[xs]=null;for(let s of o)s.destroy()}}function JM(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof ii)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Z(4,a,c);try{c.call(a)}finally{Z(5,a,c)}}else{Z(4,i,o);try{o.call(i)}finally{Z(5,i,o)}}}}}function XM(e,t,n){return eO(e,t.parent,n)}function eO(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[He];if(Bn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Wn.None||i===Wn.Emulated)return null}return St(r,n)}function tO(e,t,n){return rO(e,t,n)}function nO(e,t,n){return e.type&40?St(e,n):null}var rO=nO,bI;function Pg(e,t,n,r){let i=XM(e,r,t),o=t[ne],s=r.parent||t[Tt],a=tO(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)wI(o,i,n[c],a,!1);else wI(o,i,n,a,!1);bI!==void 0&&bI(o,r,t,n,i)}function Us(e,t){if(t!==null){let n=t.type;if(n&3)return St(t,e);if(n&4)return Zp(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Us(e,r);{let i=e[t.index];return mt(i)?Zp(-1,i):vt(i)}}else{if(n&128)return Us(e,t.next);if(n&32)return xg(t,e)()||vt(e[t.index]);{let r=gw(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=cr(e[$e]);return Us(i,r)}else return Us(e,t.next)}}}return null}function gw(e,t){if(t!==null){let r=e[$e][Tt],i=t.projection;return r.projection[i]}return null}function Zp(e,t){let n=Oe+e+1;if(n<t.length){let r=t[n],i=r[R].firstChild;if(i!==null)return Us(r,i)}return t[ln]}function Fg(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Co(vt(a),r),n.flags|=2),!_u(n))if(c&8)Fg(e,t,n.child,r,i,o,!1),yo(t,e,i,a,o);else if(c&32){let l=xg(n,r),u;for(;u=l();)yo(t,e,i,u,o);yo(t,e,i,a,o)}else c&16?iO(e,t,r,n,i,o):yo(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Du(e,t,n,r,i,o){Fg(n,r,e.firstChild,t,i,o,!1)}function iO(e,t,n,r,i,o){let s=n[$e],c=s[Tt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];yo(t,e,i,u,o)}else{let l=c,u=s[we];Jl(r)&&(l.flags|=128),Fg(e,t,l,u,i,o,!0)}}function oO(e,t,n,r,i){let o=n[ln],s=vt(n);o!==s&&yo(t,e,r,o,i);for(let a=Oe;a<n.length;a++){let c=n[a];Du(c[R],c,e,t,r,o)}}function sO(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:zn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zn.Important),e.setStyle(n,r,i,o))}}function mw(e,t,n,r,i){let o=Hn(),s=r&2;try{fr(-1),s&&t.length>se&&hw(e,t,se,!1),Z(s?2:0,i,n),n(r,i)}finally{fr(o),Z(s?3:1,i,n)}}function vw(e,t,n){hO(e,t,n),(n.flags&64)===64&&pO(e,t,n)}function yw(e,t,n=St){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function aO(e,t,n,r){let o=r.get(yg,OC)||n===Wn.ShadowDom,s=e.selectRootElement(t,o);return cO(s),s}function cO(e){_w(e)}var _w=()=>null;function lO(e){mC(e)?lw(e):_M(e)}function Ew(){_w=lO}function uO(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Iw(e,t,n,r,i,o){let s=t[R];if(Vg(e,s,t,n,r)){Bn(e)&&fO(t,e.index);return}e.type&3&&(n=uO(n)),dO(e,t,n,r,i,o)}function dO(e,t,n,r,i,o){if(e.type&3){let s=St(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function fO(e,t){let n=At(t,e);n[P]&16||(n[P]|=64)}function hO(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Bn(n)&&GM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Zl(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Ql(t,e,s,n);if(Co(c,t),o!==null&&_O(t,s-r,c,a,n,o),un(a)){let l=At(n.index,t);l[ye]=Ql(t,e,s,n)}}}function pO(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=rI();try{fr(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];Ol(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&gO(c,l)}}finally{fr(-1),Ol(s)}}function gO(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function mO(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];PM(t,o.selectors,!1)&&(r??=[],un(o)?r.unshift(o):r.push(o))}return r}function vO(e,t,n,r,i,o){let s=St(e,t);yO(t[ne],s,o,e.value,n,r,i)}function yO(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?qr(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function _O(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Kp(r,n,c,l)}}function EO(e,t,n,r,i){let o=se+n,s=t[R],a=i(s,t,e,r,n);t[o]=a,vo(e,!0);let c=e.type===2;return c?(uw(t[ne],a,e),(WE()===0||Al(e))&&Co(a,t),zE()):Co(a,t),Fl()&&(!c||!_u(e))&&Pg(s,t,a,e),e}function IO(e){let t=e;return fp()?JE():(t=t.parent,vo(t,!1)),t}function Lg(e,t){let n=e[jt];if(!n)return;n.get(yt,null)?.(t)}function Vg(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Kp(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];Kp(u,l,r,i),a=!0}return a}function CO(e,t){let n=At(t,e),r=n[R];wO(r,n);let i=n[He];i!==null&&n[tt]===null&&(n[tt]=GC(i,n[jt])),Z(18),jg(r,n,n[ye]),Z(19,n[ye])}function wO(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function jg(e,t,n){xl(t);try{let r=e.viewQuery;r!==null&&Yp(1,r,n);let i=e.template;i!==null&&mw(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Qr]?.finishViewCreation(e),e.staticContentQueries&&JC(e,t),e.staticViewQueries&&Yp(2,e.viewQuery,n);let o=e.components;o!==null&&bO(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[P]&=-5,kl()}}function bO(e,t){for(let n=0;n<t.length;n++)CO(e,t[n])}function Tu(e,t,n,r){let i=k(null);try{let o=t.tView,a=e[P]&4096?4096:16,c=Mg(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Kr]=l;let u=e[Qr];return u!==null&&(c[Qr]=u.createEmbeddedView(o)),jg(o,c,n),c}finally{k(i)}}function wo(e,t){return!t||t.firstChild===null||Jl(e)}var DI=!1,DO=new I("");function Ws(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(vt(o)),mt(o)&&Cw(o,r);let s=n.type;if(s&8)Ws(e,t,n.child,r);else if(s&32){let a=xg(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=gw(t,n);if(Array.isArray(a))r.push(...a);else{let c=cr(t[$e]);Ws(c[R],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Cw(e,t){for(let n=Oe;n<e.length;n++){let r=e[n],i=r[R].firstChild;i!==null&&Ws(r[R],r,i,t)}e[ln]!==e[He]&&t.push(e[ln])}function ww(e){if(e[Jr]!==null){for(let t of e[Jr])t.impl.addSequence(t);e[Jr].length=0}}var bw=[];function TO(e){return e[pt]??SO(e)}function SO(e){let t=bw.pop()??Object.create(RO);return t.lView=e,t}function AO(e){e.lView[pt]!==e&&(e.lView=null,bw.push(e))}var RO=x(v({},Pr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{mo(e.lView)},consumerOnSignalRead(){this.lView[pt]=this}});function NO(e){let t=e[pt]??Object.create(MO);return t.lView=e,t}var MO=x(v({},Pr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=cr(e.lView);for(;t&&!Dw(t[R]);)t=cr(t);t&&cp(t)},consumerOnSignalRead(){this.lView[pt]=this}});function Dw(e){return e.type!==2}function Tw(e){if(e[xs]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[xs])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[P]&8192)}}var OO=100;function Ug(e,t=0){let r=e[cn].rendererFactory,i=!1;i||r.begin?.();try{xO(e,t)}finally{i||r.end?.()}}function xO(e,t){let n=pp();try{gp(!0),Qp(e,t);let r=0;for(;Fs(e);){if(r===OO)throw new b(103,!1);r++,Qp(e,1)}}finally{gp(n)}}function Sw(e,t){hp(t?Ls.Exhaustive:Ls.OnlyDirtyViews);try{Ug(e)}finally{hp(Ls.Off)}}function kO(e,t,n,r){if(ur(t))return;let i=t[P],o=!1,s=!1;xl(t);let a=!0,c=null,l=null;o||(Dw(e)?(l=TO(t),c=Fr(l)):Bc()===null?(a=!1,l=NO(t),c=Fr(l)):t[pt]&&(ys(t[pt]),t[pt]=null));try{ap(t),eI(e.bindingStartIndex),n!==null&&mw(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&Hl(t,h,null)}else{let h=e.preOrderHooks;h!==null&&$l(t,h,0,null),Sp(t,0)}if(s||PO(t),Tw(t),Aw(t,0),e.contentQueries!==null&&JC(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&Hl(t,h)}else{let h=e.contentHooks;h!==null&&$l(t,h,1),Sp(t,1)}LO(e,t);let d=e.components;d!==null&&Nw(t,d,0);let f=e.viewQuery;if(f!==null&&Yp(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&Hl(t,h)}else{let h=e.viewHooks;h!==null&&$l(t,h,2),Sp(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Sl]){for(let h of t[Sl])h();t[Sl]=null}o||(ww(t),t[P]&=-73)}catch(u){throw o||mo(t),u}finally{l!==null&&(qi(l,c),a&&AO(l)),kl()}}function Aw(e,t){for(let n=_C(e);n!==null;n=EC(n))for(let r=Oe;r<n.length;r++){let i=n[r];Rw(i,t)}}function PO(e){for(let t=_C(e);t!==null;t=EC(t)){if(!(t[P]&2))continue;let n=t[Ps];for(let r=0;r<n.length;r++){let i=n[r];cp(i)}}}function FO(e,t,n){Z(18);let r=At(t,e);Rw(r,n),Z(19,r[ye])}function Rw(e,t){Rl(e)&&Qp(e,t)}function Qp(e,t){let r=e[R],i=e[P],o=e[pt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&vs(o)),s||=!1,o&&(o.dirty=!1),e[P]&=-9217,s)kO(r,e,r.template,e[ye]);else if(i&8192){let a=k(null);try{Tw(e),Aw(e,1);let c=r.components;c!==null&&Nw(e,c,1),ww(e)}finally{k(a)}}}function Nw(e,t,n){for(let r=0;r<t.length;r++)FO(e,t[r],n)}function LO(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)fr(~i);else{let o=i,s=n[++r],a=n[++r];nI(s,o);let c=t[o];Z(24,c),a(2,c),Z(25,c)}}}finally{fr(-1)}}function Su(e,t){let n=pp()?64:1088;for(e[cn].changeDetectionScheduler?.notify(t);e;){e[P]|=n;let r=cr(e);if(Xr(e)&&!r)return e;e=r}return null}function Mw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Ow(e,t){let n=Oe+t;if(n<e.length)return e[n]}function Xs(e,t,n,r=!0){let i=t[R];if(VO(i,t,e,n),r){let s=Zp(n,e),a=t[ne],c=a.parentNode(e[ln]);c!==null&&KM(i,e[Tt],a,t,c,s)}let o=t[tt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Bg(e,t){let n=zs(e,t);return n!==void 0&&bu(n[R],n),n}function zs(e,t){if(e.length<=Oe)return;let n=Oe+t,r=e[n];if(r){let i=r[Kr];i!==null&&i!==e&&kg(i,r),t>0&&(e[n-1][Dt]=r[Dt]);let o=Rs(e,Oe+t);YM(r[R],r);let s=o[Qr];s!==null&&s.detachView(o[R]),r[we]=null,r[Dt]=null,r[P]&=-129}return r}function VO(e,t,n,r){let i=Oe+r,o=n.length;r>0&&(n[i-1][Dt]=t),r<o-Oe?(t[Dt]=n[i],Zh(n,Oe+r,t)):(n.push(t),t[Dt]=null),t[we]=n;let s=t[Kr];s!==null&&n!==s&&xw(s,t);let a=t[Qr];a!==null&&a.insertView(e),Nl(t),t[P]|=128}function xw(e,t){let n=e[Ps],r=t[we];if(gt(r))e[P]|=2;else{let i=r[we][$e];t[$e]!==i&&(e[P]|=2)}n===null?e[Ps]=[t]:n.push(t)}var oi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[R];return Ws(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ye]}set context(t){this._lView[ye]=t}get destroyed(){return ur(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[we];if(mt(t)){let n=t[ks],r=n?n.indexOf(this):-1;r>-1&&(zs(t,r),Rs(n,r))}this._attachedToViewContainer=!1}bu(this._lView[R],this._lView)}onDestroy(t){lp(this._lView,t)}markForCheck(){Su(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){Nl(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,Ug(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[jt].get(DO,DI)}catch{this.exhaustive=DI}}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Xr(this._lView),n=this._lView[Kr];n!==null&&!t&&kg(n,this._lView),pw(this._lView[R],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=t;let n=Xr(this._lView),r=this._lView[Kr];r!==null&&!n&&xw(r,this._lView),Nl(this._lView)}};function Hg(e,t,n,r,i){let o=e.data[t];if(o===null)o=jO(e,t,n,r,i),tI()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=QE();o.injectorIndex=s===null?-1:s.injectorIndex}return vo(o,!0),o}function jO(e,t,n,r,i){let o=dp(),s=fp(),a=s?o:o&&o.parent,c=e.data[t]=BO(e,a,n,t,r,i);return UO(e,c,o,s),c}function UO(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function BO(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return up()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var HO=new RegExp(`^(\\d+)*(${bC}|${wC})*(.*)`);function $O(e){let t=e.match(HO),[n,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function WO(e){return!e.prev&&e.parent?.type===8}function Mp(e){return e.index-se}function zO(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function Au(e,t,n,r){let i=Mp(r),o=zO(e,i);if(o===void 0){let s=e.data[AC];if(s?.[i])o=qO(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(WO(r)){let l=Mp(r.parent);o=qp(e,l)}else{let l=St(c,n);if(a)o=l.firstChild;else{let u=Mp(c),d=qp(e,u);if(c.type===2&&d){let h=wg(e,u)+1;o=Ru(h,d)}else o=l.nextSibling}}}}return o}function Ru(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function GO(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case fM:n=n.firstChild;break;case hM:n=n.nextSibling;break}}return n}function qO(e,t){let[n,...r]=$O(e),i;if(n===wC)i=t[$e][He];else if(n===bC)i=rw(t[$e][He]);else{let o=Number(n);i=vt(t[o+se])}return GO(i,r)}var YO=!1;function kw(e){YO=e}function KO(e){let t=e[tt];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let i=e[ne];for(let o of r.values())ZO(i,n,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function ZO(e,t,n){for(let r of n.node.cases[n.case]){let i=t.get(r.index-se);i&&Rg(e,i,!1)}}function Nu(e){let t=e[Ut]??[],r=e[we][ne],i=[];for(let o of t)o.data[RC]!==void 0?i.push(o):Pw(o,r);e[Ut]=i}function QO(e){let{lContainer:t}=e,n=t[Ut];if(n===null)return;let i=t[we][ne];for(let o of n)Pw(o,i)}function Pw(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[$s];for(;n<i;){let o=r.nextSibling;Rg(t,r,!1),r=o,n++}}}function Mu(e){Nu(e);let t=e[He];gt(t)&&tu(t);for(let n=Oe;n<e.length;n++)tu(e[n])}function tu(e){KO(e);let t=e[R];for(let n=se;n<t.bindingStartIndex;n++)if(mt(e[n])){let r=e[n];Mu(r)}else gt(e[n])&&tu(e[n])}function $g(e){let t=e._views;for(let n of t){let r=qC(n);r!==null&&r[He]!==null&&(gt(r)?tu(r):Mu(r))}}function JO(e,t,n,r){e!==null&&(n.cleanup(t),Mu(e.lContainer),$g(r))}function XO(e,t){let n=[];for(let r of t)for(let i=0;i<(r[mg]??1);i++){let o={data:r,firstChild:null};r[$s]>0&&(o.firstChild=e,e=Ru(r[$s],e)),n.push(o)}return[e,n]}var Fw=()=>null,Lw=()=>null;function Vw(){Fw=ex,Lw=tx}function ex(e,t){return Uw(e,t)?e[Ut].shift():(Nu(e),null)}function nu(e,t){return Fw(e,t)}function tx(e,t,n){if(t.tView.ssrId===null)return null;let r=nu(e,t.tView.ssrId);return n[R].firstUpdatePass&&r===null&&nx(n,t),r}function jw(e,t,n){return Lw(e,t,n)}function nx(e,t){let n=t;for(;n;){if(TI(e,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=t.next;n&&(n.flags&512)===512;){if(TI(e,n))return;n=n.next}}function Uw(e,t){let n=e[Ut];return!t||n===null||n.length===0?!1:n[0].data[SC]===t}function TI(e,t){let n=t.tView?.ssrId;if(n==null)return!1;let r=e[t.index];return mt(r)&&Uw(r,n)?(Nu(r),!0):!1}var Bw=class{},Ou=class{},Jp=class{resolveComponentFactory(t){throw new b(917,!1)}},ea=class{static NULL=new Jp},si=class{},zt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>rx()}return e})();function rx(){let e=q(),t=ze(),n=At(t.index,e);return(gt(n)?n:e)[ne]}var Hw=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>null})}return e})();var zl={},Eo=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,zl,r);return i!==zl||n===zl?i:this.parentInjector.get(t,n,r)}};function SI(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Vh(i,a);else if(o==2){let c=a,l=t[++s];r=Vh(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function L(e,t=0){let n=q();if(n===null)return M(e,t);let r=ze();return dC(r,n,Pe(e),t)}function Wg(){let e="invalid";throw new Error(e)}function ix(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}ax(e,t,n,a,o,c,l)}o!==null&&r!==null&&ox(n,r,o)}function ox(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new b(-301,!1);r.push(t[i],o)}}function sx(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function ax(e,t,n,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&un(h)&&(c=!0,sx(e,n,f)),Hp(Zl(n,t),e,h.type)}hx(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=fw(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=Hs(n.mergedAttrs,h.hostAttrs),lx(e,n,t,d,h),fx(d,h,i),s!==null&&s.has(h)){let[y,w]=s.get(h);n.directiveToIndex.set(h.type,[d,y+n.directiveStart,w+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}cx(e,n,o)}function cx(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))AI(0,t,i,r),AI(1,t,i,r),NI(t,r,!1);else{let o=n.get(i);RI(0,t,o,r),RI(1,t,o,r),NI(t,r,!0)}}}function AI(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),$w(t,o)}}function RI(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),$w(t,s)}}function $w(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function NI(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Sg(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function lx(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=$r(i.type,!0)),s=new ii(o,un(i),L,null);e.blueprint[r]=s,n[r]=s,ux(e,t,r,fw(e,n,i.hostVars,It),i)}function ux(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;dx(s)!=a&&s.push(a),s.push(n,r,o)}}function dx(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function fx(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;un(t)&&(n[""]=e)}}function hx(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ww(e,t,n,r,i,o,s,a){let c=t[R],l=c.consts,u=dr(l,s),d=Hg(c,e,n,r,u);return o&&ix(c,t,d,dr(l,a),i),d.mergedAttrs=Hs(d.mergedAttrs,d.attrs),d.attrs!==null&&SI(d,d.attrs,!1),d.mergedAttrs!==null&&SI(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function zw(e,t){$N(e,t),op(t)&&e.queries.elementEnd(t)}function zg(e,t,n){return e[t]=n}function px(e,t){return e[t]}function fn(e,t,n){if(n===It)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Gw(e,t,n,r){let i=fn(e,t,n);return fn(e,t+1,r)||i}function Op(e,t,n){return function r(i){let o=Bn(e)?At(e.index,t):t;Su(o,5);let s=t[ye],a=MI(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=MI(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function MI(e,t,n,r){let i=k(null);try{return Z(6,t,n),n(r)!==!1}catch(o){return Lg(e,o),!1}finally{Z(7,t,n),k(i)}}function gx(e,t,n,r,i,o,s,a){let c=Al(e),l=!1,u=null;if(!r&&c&&(u=mx(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=St(e,n),f=r?r(d):d;pM(n,f,o,a);let h=i.listen(f,o,a),p=r?y=>r(vt(y[e.index])):e.index;qw(p,t,n,o,a,h,!1)}return l}function mx(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[po],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function qw(e,t,n,r,i,o,s){let a=t.firstCreatePass?$E(t):null,c=HE(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function OI(e,t,n,r,i,o){let s=t[n],a=t[R],l=a.data[n].outputs[r],d=s[l].subscribe(o);qw(e.index,a,t,i,o,d,!0)}var Xp=Symbol("BINDING");var ru=class extends ea{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=an(t);return new ai(n,this.ngModule)}};function vx(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&wu.SignalBased)!==0};return i&&(o.transform=i),o})}function yx(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function _x(e,t,n){let r=t instanceof de?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Eo(n,r):n}function Ex(e){let t=e.get(si,null);if(t===null)throw new b(407,!1);let n=e.get(Hw,null),r=e.get(jn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Ix(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Ag(t,n,n==="svg"?LE:n==="math"?VE:null)}var ai=class extends Ou{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=vx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=yx(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=jM(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){Z(22);let a=k(null);try{let c=this.componentDef,l=Cx(r,c,s,o),u=_x(c,i||this.ngModule,t),d=Ex(u),f=d.rendererFactory.createRenderer(null,c),h=r?aO(f,r,c.encapsulation,u):Ix(c,f),p=s?.some(xI)||o?.some(T=>typeof T!="function"&&T.bindings.some(xI)),y=Mg(null,l,null,512|dw(c),null,null,d,f,u,null,GC(h,u,!0));y[se]=h,xl(y);let w=null;try{let T=Ww(se,y,2,"#host",()=>l.directiveRegistry,!0,0);h&&(uw(f,h,T),Co(h,y)),vw(l,y,T),XC(l,T,y),zw(l,T),n!==void 0&&bx(T,this.ngContentSelectors,n),w=At(T.index,y),y[ye]=w[ye],jg(l,y,null)}catch(T){throw w!==null&&Wp(w),Wp(y),T}finally{Z(23),kl()}return new iu(this.componentType,y,!!p)}finally{k(a)}}};function Cx(e,t,n,r){let i=e?["ng-version","20.1.7"]:UM(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Xp].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let f of d.bindings){a+=f[Xp].requiredVars;let h=u+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,f=Dl(d);c.push(f)}return Ng(0,null,wx(o,s),1,a,c,null,null,null,[i],null)}function wx(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function xI(e){let t=e[Xp].kind;return t==="input"||t==="twoWay"}var iu=class extends Bw{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=ei(n[R],se),this.location=hg(this._tNode,n),this.instance=At(this._tNode.index,n)[ye],this.hostView=this.changeDetectorRef=new oi(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Vg(r,i[R],i,t,n);this.previousInputValues.set(t,n);let s=At(r.index,i);Su(s,1)}get injector(){return new ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function bx(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ta=(()=>{class e{static __NG_ELEMENT_ID__=Dx}return e})();function Dx(){let e=ze();return Sx(e,q())}var Tx=ta,Yw=class extends Tx{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return hg(this._hostTNode,this._hostLView)}get injector(){return new ri(this._hostTNode,this._hostLView)}get parentInjector(){let t=fg(this._hostTNode,this._hostLView);if(oC(t)){let n=Kl(t,this._hostLView),r=Yl(t),i=n[R].data[r+8];return new ri(i,n)}else return new ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=kI(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Oe}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=nu(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,wo(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!VN(t),l;if(c)l=n;else{let w=n||{};l=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef,s=w.directives,a=w.bindings}let u=c?t:new ai(an(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let T=(c?d:this.parentInjector).get(de,null);T&&(o=T)}let f=an(u.componentType??{}),h=nu(this._lContainer,f?.id??null),p=h?.firstChild??null,y=u.create(d,i,p,o,s,a);return this.insertImpl(y.hostView,l,wo(this._hostTNode,h)),y}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(jE(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[we],l=new Yw(c,c[Tt],c[we]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Xs(s,i,o,r),t.attachToViewContainerRef(),Zh(xp(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=kI(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=zs(this._lContainer,n);r&&(Rs(xp(this._lContainer),n),bu(r[R],r))}detach(t){let n=this._adjustIndex(t,-1),r=zs(this._lContainer,n);return r&&Rs(xp(this._lContainer),n)!=null?new oi(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function kI(e){return e[ks]}function xp(e){return e[ks]||(e[ks]=[])}function Sx(e,t){let n,r=t[e.index];return mt(r)?n=r:(n=Mw(r,t,null,e),t[e.index]=n,Og(t,n)),Kw(n,t,e,r),new Yw(n,e,t)}function Ax(e,t){let n=e[ne],r=n.createComment(""),i=St(t,e),o=n.parentNode(i);return eu(n,o,r,n.nextSibling(i),!1),r}var Kw=Zw,Gg=()=>!1;function Rx(e,t,n){return Gg(e,t,n)}function Zw(e,t,n,r){if(e[ln])return;let i;n.type&8?i=vt(r):i=Ax(t,n),e[ln]=i}function Nx(e,t,n){if(e[ln]&&e[Ut])return!0;let r=n[tt],i=t.index-se;if(!r||vC(t)||ZC(r,i))return!1;let s=qp(r,i),a=r.data[vu]?.[i],[c,l]=XO(s,a);return e[ln]=c,e[Ut]=l,!0}function Mx(e,t,n,r){Gg(e,n,t)||Zw(e,t,n,r)}function Qw(){Kw=Mx,Gg=Nx}var PI=new Set;function rt(e){PI.has(e)||(PI.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var bo=class{},xu=class{};var ou=class extends bo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ru(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Xh(t);this._bootstrapComponents=iw(o.bootstrap),this._r3Injector=Ip(t,n,[{provide:bo,useValue:this},{provide:ea,useValue:this.componentFactoryResolver},...r],Vn(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},su=class extends xu{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new ou(this.moduleType,t,[])}};var Gs=class extends bo{injector;componentFactoryResolver=new ru(this);instance=null;constructor(t){super();let n=new zr([...t.providers,{provide:bo,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],t.parent||Ms(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ui(e,t,n=null){return new Gs({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Ox=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Tl(!1,n.type),i=r.length>0?ui([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(M(de))})}return e})();function qn(e){return To(()=>{let t=Jw(e),n=x(v({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===pg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(Ox).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Wn.Emulated,styles:e.styles||dt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&rt("NgStandalone"),Xw(n);let r=e.dependencies;return n.directiveDefs=FI(r,xx),n.pipeDefs=FI(r,ep),n.id=Fx(n),n})}function xx(e){return an(e)||Dl(e)}function gn(e){return To(()=>({type:e.type,bootstrap:e.bootstrap||dt,declarations:e.declarations||dt,imports:e.imports||dt,exports:e.exports||dt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function kx(e,t){if(e==null)return lr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=wu.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function Px(e){if(e==null)return lr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ce(e){return To(()=>{let t=Jw(e);return Xw(t),t})}function Jw(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||lr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||dt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:kx(e.inputs,t),outputs:Px(e.outputs),debugInfo:null}}function Xw(e){e.features?.forEach(t=>t(e))}function FI(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function Fx(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Lx(e){return Object.getPrototypeOf(e.prototype).constructor}function it(e){let t=Lx(e.type),n=!0,r=[e];for(;t;){let i;if(un(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new b(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=kp(e.inputs),s.declaredInputs=kp(e.declaredInputs),s.outputs=kp(e.outputs);let a=i.hostBindings;a&&Hx(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Ux(e,c),l&&Bx(e,l),Vx(e,i),wE(e.outputs,i.outputs),un(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===it&&(n=!1)}}t=Object.getPrototypeOf(t)}jx(r)}function Vx(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function jx(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Hs(i.hostAttrs,n=Hs(n,i.hostAttrs))}}function kp(e){return e===lr?{}:e===dt?[]:e}function Ux(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function Bx(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function Hx(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function $x(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Hs(e.mergedAttrs,e.attrs);let u=e.tView=Ng(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),vo(e,!1);let c=eb(n,t,e,r);Fl()&&Pg(n,t,c,e),Co(c,t);let l=Mw(c,t,c,e);t[r+se]=l,Og(t,l),Rx(l,e,t)}function au(e,t,n,r,i,o,s,a,c,l,u){let d=n+se,f;if(t.firstCreatePass){if(f=Hg(t,d,4,s||null,a||null),l!=null){let h=dr(t.consts,l);f.localNames=[];for(let p=0;p<h.length;p+=2)f.localNames.push(h[p],-1)}}else f=t.data[d];return $x(f,e,t,n,r,i,o,c),l!=null&&yw(e,f,u),f}var eb=tb;function tb(e,t,n,r){return $n(!0),t[ne].createComment("")}function Wx(e,t,n,r){let i=!Iu(t,n);$n(i);let o=t[tt]?.data[TC]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return tb(e,t);let s=t[tt],a=Au(s,e,t,n);Eu(s,r,a);let c=wg(s,r);return Ru(c,a)}function nb(){eb=Wx}var Et=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(Et||{}),LI=0,zx=1,be=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(be||{});var Gx=0,na=1;var qx=4,Yx=5;var Kx=7,Io=8,Zx=9,qg=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(qg||{});function Gl(e,t){let n=Jx(e),r=t[n];if(r!==null){for(let i of r)i();t[n]=null}}function Qx(e){Gl(1,e),Gl(0,e),Gl(2,e)}function Jx(e){let t=qx;return e===1?t=Yx:e===2&&(t=Zx),t}var ku=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(ku||{}),di=new I(""),rb=!1,eg=class extends Ie{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,PE()&&(this.destroyRef=g(Bt,{optional:!0})??void 0,this.pendingTasks=g(Ht,{optional:!0})??void 0)}emit(t){let n=k(null);try{super.next(t)}finally{k(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof ue&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},De=eg;function ib(e){let t,n;function r(){e=js;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function VI(e){return queueMicrotask(()=>e()),()=>{e=js}}var Yg="isAngularZone",cu=Yg+"_ID",Xx=0,ee=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new De(!1);onMicrotaskEmpty=new De(!1);onStable=new De(!1);onError=new De(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=rb}=t;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,nk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Yg)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new b(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,ek,js,js);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},ek={};function Kg(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function tk(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){ib(()=>{e.callbackScheduled=!1,tg(e),e.isCheckStableRunning=!0,Kg(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),tg(e)}function nk(e){let t=()=>{tk(e)},n=Xx++;e._inner=e._inner.fork({name:"angular",properties:{[Yg]:!0,[cu]:n,[cu+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(rk(c))return r.invokeTask(o,s,a,c);try{return jI(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),UI(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return jI(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!ik(c)&&t(),UI(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,tg(e),Kg(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function tg(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function jI(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function UI(e){e._nesting--,Kg(e)}var lu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new De;onMicrotaskEmpty=new De;onStable=new De;onError=new De;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function rk(e){return ob(e,"__ignore_ng_zone__")}function ik(e){return ob(e,"__scheduler_tick__")}function ob(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Zg=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),sb=[0,1,2,3],ab=(()=>{class e{ngZone=g(ee);scheduler=g(jn);errorHandler=g(Ft,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(di,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Z(16),this.executing=!0;for(let r of sb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Z(17)}register(n){let{view:r}=n;r!==void 0?((r[Jr]??=[]).push(n),mo(r),r[P]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(ku.AFTER_NEXT_RENDER,n):n()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),uu=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Jr];t&&(this.view[Jr]=t.filter(n=>n!==this))}};function Ao(e,t){let n=t?.injector??g(fe);return rt("NgAfterNextRender"),sk(e,n,t,!0)}function ok(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function sk(e,t,n,r){let i=t.get(Zg);i.impl??=t.get(ab);let o=t.get(di,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(Bt):null,a=t.get(Ll,null,{optional:!0}),c=new uu(i.impl,ok(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}function cb(e){return e+1}function Ro(e,t){let n=e[R],r=cb(t.index);return e[r]}function ra(e,t){let n=cb(t.index);return e.data[n]}function ak(e,t,n){let r=t[R],i=ra(r,n);switch(e){case be.Complete:return i.primaryTmplIndex;case be.Loading:return i.loadingTmplIndex;case be.Error:return i.errorTmplIndex;case be.Placeholder:return i.placeholderTmplIndex;default:return null}}function BI(e,t){return t===be.Placeholder?e.placeholderBlockConfig?.[LI]??null:t===be.Loading?e.loadingBlockConfig?.[LI]??null:null}function ck(e){return e.loadingBlockConfig?.[zx]??null}function HI(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function lk(e,t){let n=t.primaryTmplIndex+se;return ei(e,n)}var uk=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?ui(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e})}return e})();var lb=new I("");function Pp(e,t,n){return e.get(uk).getOrCreateInjector(t,e,n,"")}function dk(e,t,n){if(e instanceof Eo){let i=e.injector,o=e.parentInjector,s=Pp(o,t,n);return new Eo(i,s)}let r=e.get(de);if(r!==e){let i=Pp(r,t,n);return new Eo(e,i)}return Pp(e,t,n)}function ni(e,t,n,r=!1){let i=n[we],o=i[R];if(ur(i))return;let s=Ro(i,t),a=s[na],c=s[Kx];if(!(c!==null&&e<c)&&$I(a,e)&&$I(s[Gx]??-1,e)){let l=ra(o,t),d=!r&&!0&&(ck(l)!==null||BI(l,be.Loading)!==null||BI(l,be.Placeholder))?pk:hk;try{d(e,s,n,t,i)}catch(f){Lg(i,f)}}}function fk(e,t){let n=e[Ut]?.findIndex(i=>i.data[NC]===t[na])??-1;return{dehydratedView:n>-1?e[Ut][n]:null,dehydratedViewIx:n}}function hk(e,t,n,r,i){Z(20);let o=ak(e,i,r);if(o!==null){t[na]=e;let s=i[R],a=o+se,c=ei(s,a),l=0;Bg(n,l);let u;if(e===be.Complete){let p=ra(s,r),y=p.providers;y&&y.length>0&&(u=dk(i[jt],p,y))}let{dehydratedView:d,dehydratedViewIx:f}=fk(n,t),h=Tu(i,c,null,{injector:u,dehydratedView:d});if(Xs(n,h,l,wo(c,d)),Su(h,2),f>-1&&n[Ut]?.splice(f,1),(e===be.Complete||e===be.Error)&&Array.isArray(t[Io])){for(let p of t[Io])p();t[Io]=null}}Z(21)}function $I(e,t){return e<t}function WI(e,t,n){e.loadingPromise.then(()=>{e.loadingState===Et.COMPLETE?ni(be.Complete,t,n):e.loadingState===Et.FAILED&&ni(be.Error,t,n)})}var pk=null;var Pu=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Qg=new I("");function fi(e){return!!e&&typeof e.then=="function"}function ub(e){return!!e&&typeof e.subscribe=="function"}var Jg=new I("");function Fu(e){return ht([{provide:Jg,multi:!0,useValue:e}])}var Xg=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=g(Jg,{optional:!0})??[];injector=g(fe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=ve(this.injector,i);if(fi(o))n.push(o);else if(ub(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yn=new I("");function db(){oh(()=>{let e="";throw new b(600,e)})}function fb(e){return e.isBoundToModule}var gk=10;var je=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(yt);afterRenderManager=g(Zg);zonelessEnabled=g(Vs);rootEffectScheduler=g(Tp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ie;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(Ht);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(G(n=>!n))}constructor(){g(di,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=g(de);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=fe.NULL){return this._injector.get(ee).run(()=>{Z(10);let s=n instanceof Ou;if(!this._injector.get(Xg).done){let p="";throw new b(405,p)}let c;s?c=n:c=this._injector.get(ea).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=fb(c)?void 0:this._injector.get(bo),u=r||c.selector,d=c.create(i,[],u,l),f=d.location.nativeElement,h=d.injector.get(Qg,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Bs(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),Z(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Z(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ku.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new b(101,!1);let n=k(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,k(n),this.afterTick.next(),Z(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(si,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<gk;)Z(14),this.synchronizeOnce(),Z(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Fs(i))continue;let o=r&&!this.zonelessEnabled?0:1;Ug(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Fs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Bs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Yn,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Bs(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function hb(e,t,n){let r=t[jt],i=t[R];if(e.loadingState!==Et.NOT_STARTED)return e.loadingPromise??Promise.resolve();let o=Ro(t,n),s=lk(i,e);e.loadingState=Et.IN_PROGRESS,Gl(1,o);let a=e.dependencyResolverFn,c=r.get(hr).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(l=>{let u=!1,d=[],f=[];for(let h of l)if(h.status==="fulfilled"){let p=h.value,y=an(p)||Dl(p);if(y)d.push(y);else{let w=ep(p);w&&f.push(w)}}else{u=!0;break}if(u){if(e.loadingState=Et.FAILED,e.errorTmplIndex===null){let h="",p=new b(-750,!1);Lg(t,p)}}else{e.loadingState=Et.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=HI(h.directiveRegistry,d);let p=d.map(w=>w.type),y=Tl(!1,...p);e.providers=y}f.length>0&&(h.pipeRegistry=HI(h.pipeRegistry,f))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,c()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=Et.COMPLETE,c()}),e.loadingPromise)}function mk(e,t){return t[jt].get(lb,null,{optional:!0})?.behavior!==qg.Manual}function vk(e,t,n){let r=t[R],i=t[n.index];if(!mk(e,t))return;let o=Ro(t,n),s=ra(r,n);switch(Qx(o),s.loadingState){case Et.NOT_STARTED:ni(be.Loading,n,i),hb(s,t,n),s.loadingState===Et.IN_PROGRESS&&WI(s,n,i);break;case Et.IN_PROGRESS:ni(be.Loading,n,i),WI(s,n,i);break;case Et.COMPLETE:ni(be.Complete,n,i);break;case Et.FAILED:ni(be.Error,n,i);break;default:}}function pb(e,t,n){return m(this,null,function*(){let r=e.get(yu);if(r.hydrating.has(t))return;let{parentBlockPromise:o,hydrationQueue:s}=CM(t,e);if(s.length===0)return;o!==null&&s.shift(),Ek(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield zI(e,s,n):r.awaitParentBlock(a,()=>m(null,null,function*(){return yield zI(e,s,n)}))})}function zI(e,t,n){return m(this,null,function*(){let r=e.get(yu),i=r.hydrating,o=e.get(Ht),s=o.add();for(let c=0;c<t.length;c++){let l=t[c],u=r.get(l);if(u!=null){if(yield Ck(u),yield Ik(e),yk(u)){QO(u),GI(t.slice(c),r);break}i.get(l).resolve()}else{_k(c,t,r),GI(t.slice(c),r);break}}let a=t[t.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(t),JO(r.get(a),t,r,e.get(je))})}function yk(e){return Ro(e.lView,e.tNode)[na]===be.Error}function _k(e,t,n){let r=e-1,i=r>-1?n.get(t[r]):null;i&&Mu(i.lContainer)}function GI(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function Ek(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}function Ik(e){return new Promise(t=>Ao(t,{injector:e}))}function Ck(e){return m(this,null,function*(){let{tNode:t,lView:n}=e,r=Ro(n,t);return new Promise(i=>{wk(r,i),vk(2,n,t)})})}function wk(e,t){Array.isArray(e[Io])||(e[Io]=[]),e[Io].push(t)}function Kn(e,t,n,r){let i=q(),o=ti();if(fn(i,o,t)){let s=We(),a=Pl();vO(a,i,e,t,n,r)}return Kn}var ng=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function Fp(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function bk(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=s&&o<=c;){let l=e.at(o),u=t[o],d=Fp(o,l,o,u,n);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let f=e.at(s),h=t[c],p=Fp(s,f,c,h,n);if(p!==0){p<0&&e.updateValue(s,h),s--,c--;continue}let y=n(o,l),w=n(s,f),T=n(o,u);if(Object.is(T,w)){let le=n(c,h);Object.is(le,y)?(e.swap(o,s),e.updateValue(s,h),c--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(r??=new du,i??=YI(e,o,s,n),rg(e,r,o,T))e.updateValue(o,u),o++,s++;else if(i.has(T))r.set(y,e.detach(o)),s--;else{let le=e.create(o,t[o]);e.attach(o,le),o++,s++}}for(;o<=c;)qI(e,r,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=e.at(o),d=l.value,f=Fp(o,u,o,d,n);if(f!==0)f<0&&e.updateValue(o,d),o++,l=c.next();else{r??=new du,i??=YI(e,o,s,n);let h=n(o,d);if(rg(e,r,o,h))e.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(h))e.attach(o,e.create(o,d)),o++,s++,l=c.next();else{let p=n(o,u);r.set(p,e.detach(o)),s--}}}for(;!l.done;)qI(e,r,n,e.length,l.value),l=c.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function rg(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function qI(e,t,n,r,i){if(rg(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function YI(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var du=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function Ge(e,t,n,r,i,o,s,a){rt("NgControlFlow");let c=q(),l=We(),u=dr(l.consts,o);return au(c,l,e,t,n,r,i,u,256,s,a),em}function em(e,t,n,r,i,o,s,a){rt("NgControlFlow");let c=q(),l=We(),u=dr(l.consts,o);return au(c,l,e,t,n,r,i,u,512,s,a),em}function qe(e,t){rt("NgControlFlow");let n=q(),r=ti(),i=n[r]!==It?n[r]:-1,o=i!==-1?fu(n,se+i):void 0,s=0;if(fn(n,r,e)){let a=k(null);try{if(o!==void 0&&Bg(o,s),e!==-1){let c=se+e,l=fu(n,c),u=ag(n[R],c),d=jw(l,u,n),f=Tu(n,u,t,{dehydratedView:d});Xs(l,f,s,wo(u,d))}}finally{k(a)}}else if(o!==void 0){let a=Ow(o,s);a!==void 0&&(a[ye]=t)}}var ig=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Oe}};function tm(e){return e}function hi(e,t){return t}var og=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Zn(e,t,n,r,i,o,s,a,c,l,u,d,f){rt("NgControlFlow");let h=q(),p=We(),y=c!==void 0,w=q(),T=a?s.bind(w[$e][ye]):s,le=new og(y,T);w[se+e]=le,au(h,p,e+1,t,n,r,i,dr(p.consts,o),256),y&&au(h,p,e+2,c,l,u,d,dr(p.consts,f),512)}var sg=class extends ng{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Oe}at(t){return this.getLView(t)[ye].$implicit}attach(t,n){let r=n[tt];this.needsIndexUpdate||=t!==this.length,Xs(this.lContainer,n,t,wo(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,Dk(this.lContainer,t)}create(t,n){let r=nu(this.lContainer,this.templateTNode.tView.ssrId),i=Tu(this.hostLView,this.templateTNode,new ig(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){bu(t[R],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[ye].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ye].$index=t}getLView(t){return Tk(this.lContainer,t)}};function Qn(e){let t=k(null),n=Hn();try{let r=q(),i=r[R],o=r[n],s=n+1,a=fu(r,s);if(o.liveCollection===void 0){let l=ag(i,s);o.liveCollection=new sg(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(bk(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=ti(),u=c.length===0;if(fn(r,l,u)){let d=n+2,f=fu(r,d);if(u){let h=ag(i,d),p=jw(f,h,r),y=Tu(r,h,void 0,{dehydratedView:p});Xs(f,y,0,wo(h,p))}else i.firstUpdatePass&&Nu(f),Bg(f,0)}}}finally{k(t)}}function fu(e,t){return e[t]}function Dk(e,t){return zs(e,t)}function Tk(e,t){return Ow(e,t)}function ag(e,t){return ei(e,t)}function he(e,t,n){let r=q(),i=ti();if(fn(r,i,t)){let o=We(),s=Pl();Iw(s,r,e,t,r[ne],n)}return he}function KI(e,t,n,r,i){Vg(t,e,n,i?"class":"style",r)}function E(e,t,n,r){let i=q(),o=i[R],s=e+se,a=o.firstCreatePass?Ww(s,i,2,t,mO,qE(),n,r):o.data[s];if(EO(a,i,e,t,gb),Al(a)){let c=i[R];vw(c,i,a),XC(c,a,i)}return r!=null&&yw(i,a),E}function C(){let e=We(),t=ze(),n=IO(t);return e.firstCreatePass&&zw(e,n),YE(n)&&ZE(),GE(),n.classesWithoutHost!=null&&zN(n)&&KI(e,n,q(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&GN(n)&&KI(e,n,q(),n.stylesWithoutHost,!1),C}function Se(e,t,n,r){return E(e,t,n,r),C(),Se}var gb=(e,t,n,r,i)=>($n(!0),Ag(t[ne],r,Ep()));function Sk(e,t,n,r,i){let o=!Iu(t,n);if($n(o),o)return Ag(t[ne],r,Ep());let s=t[tt],a=Au(s,e,t,n);return KC(s,i)&&Eu(s,i,a.nextSibling),s&&(gC(n)||mC(a))&&Bn(n)&&(KE(n),lw(a)),a}function mb(){gb=Sk}var Ak=(e,t,n,r,i)=>($n(!0),aw(t[ne],""));function Rk(e,t,n,r,i){let o,s=!Iu(t,n);if($n(s),s)return aw(t[ne],"");let a=t[tt],c=Au(a,e,t,n),l=EM(a,i);return Eu(a,i,c),o=Ru(l,c),o}function vb(){Ak=Rk}function Jn(){return q()}var ia="en-US";var Nk=ia;function yb(e){typeof e=="string"&&(Nk=e.toLowerCase().replace(/_/g,"-"))}function pe(e,t,n){let r=q(),i=We(),o=ze();return _b(i,r,r[ne],o,e,t,n),pe}function _b(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Op(r,t,o),gx(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],h=u[d+1];c??=Op(r,t,o),OI(r,t,f,h,i,c)}if(l&&l.length)for(let d of l)c??=Op(r,t,o),OI(r,t,d,i,i,c)}}function te(e=1){return cI(e)}function Bl(e,t){return e<<17|t<<2}function ci(e){return e>>17&32767}function Mk(e){return(e&2)==2}function Ok(e,t){return e&131071|t<<17}function cg(e){return e|2}function Do(e){return(e&131068)>>2}function Lp(e,t){return e&-131069|t<<2}function xk(e){return(e&1)===1}function lg(e){return e|1}function kk(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=ci(s),c=Do(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||ho(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=ci(e[a+1]);e[r+1]=Bl(f,a),f!==0&&(e[f+1]=Lp(e[f+1],r)),e[a+1]=Ok(e[a+1],r)}else e[r+1]=Bl(a,0),a!==0&&(e[a+1]=Lp(e[a+1],r)),a=r;else e[r+1]=Bl(c,0),a===0?a=r:e[c+1]=Lp(e[c+1],r),c=r;l&&(e[r+1]=cg(e[r+1])),ZI(e,u,r,!0),ZI(e,u,r,!1),Pk(t,u,e,r,o),s=Bl(a,c),o?t.classBindings=s:t.styleBindings=s}function Pk(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&ho(o,t)>=0&&(n[r+1]=lg(n[r+1]))}function ZI(e,t,n,r){let i=e[n+1],o=t===null,s=r?ci(i):Do(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];Fk(c,t)&&(a=!0,e[s+1]=r?lg(l):cg(l)),s=r?ci(l):Do(l)}a&&(e[n+1]=r?cg(i):lg(i))}function Fk(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?ho(e,t)>=0:!1}function oa(e,t,n){return Eb(e,t,n,!1),oa}function sa(e,t){return Eb(e,t,null,!0),sa}function Eb(e,t,n,r){let i=q(),o=We(),s=mp(2);if(o.firstUpdatePass&&Vk(o,e,s,r),t!==It&&fn(i,s,t)){let a=o.data[Hn()];$k(o,a,i,i[ne],e,i[s+1]=Wk(t,n),r,s)}}function Lk(e,t){return t>=e.expandoStartIndex}function Vk(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Hn()],s=Lk(e,n);zk(o,r)&&t===null&&!s&&(t=!1),t=jk(i,o,t,r),kk(i,o,t,n,s,r)}}function jk(e,t,n,r){let i=iI(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Vp(null,e,t,n,r),n=qs(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Vp(i,e,t,n,r),o===null){let c=Uk(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Vp(null,e,t,c[1],r),c=qs(c,t.attrs,r),Bk(e,t,r,c))}else o=Hk(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function Uk(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Do(r)!==0)return e[ci(r)]}function Bk(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[ci(i)]=r}function Hk(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=qs(r,s,n)}return qs(r,t.attrs,n)}function Vp(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=qs(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function qs(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),NE(e,s,n?!0:t[++o]))}return e===void 0?null:e}function $k(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=xk(l)?QI(c,t,n,i,Do(l),s):void 0;if(!hu(u)){hu(o)||Mk(l)&&(o=QI(c,null,n,i,a,s));let d=sp(Hn(),n);sO(r,s,d,i,o)}}function QI(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===It&&(f=d?dt:void 0);let h=d?bl(f,r):u===r?f:void 0;if(l&&!hu(h)&&(h=bl(c,r)),hu(h)&&(a=h,s))return a;let p=e[i+1];i=s?ci(p):Do(p)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=bl(c,r))}return a}function hu(e){return e!==void 0}function Wk(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Vn(So(e)))),e}function zk(e,t){return(e.flags&(t?8:16))!==0}function A(e,t=""){let n=q(),r=We(),i=e+se,o=r.firstCreatePass?Hg(r,i,1,t,null):r.data[i],s=Ib(r,n,o,t,e);n[i]=s,Fl()&&Pg(r,n,s,o),vo(o,!1)}var Ib=(e,t,n,r,i)=>($n(!0),sw(t[ne],r));function Gk(e,t,n,r,i){let o=!Iu(t,n);if($n(o),o)return sw(t[ne],r);let s=t[tt];return Au(s,e,t,n)}function Cb(){Ib=Gk}function qk(e,t,n,r=""){return fn(e,ti(),n)?t+qr(n)+r:It}function Yk(e,t,n,r,i,o=""){let s=XE(),a=Gw(e,s,n,i);return mp(2),a?t+qr(n)+r+qr(i)+o:It}function Ye(e){return Fe("",e),Ye}function Fe(e,t,n){let r=q(),i=qk(r,e,t,n);return i!==It&&wb(r,Hn(),i),Fe}function Lu(e,t,n,r,i){let o=q(),s=Yk(o,e,t,n,r,i);return s!==It&&wb(o,Hn(),s),Lu}function wb(e,t,n){let r=sp(t,e);BM(e[ne],r,n)}function No(e,t,n){wp(t)&&(t=t());let r=q(),i=ti();if(fn(r,i,t)){let o=We(),s=Pl();Iw(s,r,e,t,r[ne],n)}return No}function aa(e,t){let n=wp(e);return n&&e.set(t),n}function Mo(e,t){let n=q(),r=We(),i=ze();return _b(r,n,n[ne],i,e,t),Mo}function Kk(e,t,n){let r=We();if(r.firstCreatePass){let i=un(e);ug(n,r.data,r.blueprint,i,!0),ug(t,r.data,r.blueprint,i,!1)}}function ug(e,t,n,r,i){if(e=Pe(e),Array.isArray(e))for(let o=0;o<e.length;o++)ug(e[o],t,n,r,i);else{let o=We(),s=q(),a=ze(),c=Wr(e)?e:Pe(e.provide),l=np(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Wr(e)||!e.multi){let h=new ii(l,i,L,null),p=Up(c,t,i?u:u+f,d);p===-1?(Hp(Zl(a,s),o,c),jp(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Up(c,t,u+f,d),p=Up(c,t,u,u+f),y=h>=0&&n[h],w=p>=0&&n[p];if(i&&!w||!i&&!y){Hp(Zl(a,s),o,c);let T=Jk(i?Qk:Zk,n.length,i,r,l,e);!i&&w&&(n[p].providerFactory=T),jp(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=bb(n[i?p:h],l,!i&&r);jp(o,e,h>-1?h:p,T)}!i&&r&&w&&n[p].componentProviders++}}}function jp(e,t,n,r){let i=Wr(t),o=kE(t);if(i||o){let c=(o?Pe(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function bb(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Up(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Zk(e,t,n,r,i){return dg(this.multi,[])}function Qk(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ql(r,r[R],this.providerFactory.index,i);s=c.slice(0,a),dg(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],dg(o,s);return s}function dg(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function Jk(e,t,n,r,i,o){let s=new ii(e,n,L,null);return s.multi=[],s.index=t,s.componentProviders=0,bb(s,i,r&&!n),s}function mn(e,t=[]){return n=>{n.providersResolver=(r,i)=>Kk(r,i?i(e):e,t)}}function gr(e,t,n){let r=Ml()+e,i=q();return i[r]===It?zg(i,r,n?t.call(n):t()):px(i,r)}function nm(e,t,n,r){return Xk(q(),Ml(),e,t,n,r)}function ca(e,t,n,r,i){return eP(q(),Ml(),e,t,n,r,i)}function Db(e,t){let n=e[t];return n===It?void 0:n}function Xk(e,t,n,r,i,o){let s=t+n;return fn(e,s,i)?zg(e,s+1,o?r.call(o,i):r(i)):Db(e,s+1)}function eP(e,t,n,r,i,o,s){let a=t+n;return Gw(e,a,i,o)?zg(e,a+2,s?r.call(s,i,o):r(i,o)):Db(e,a+2)}var pu=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},rm=(()=>{class e{compileModuleSync(n){return new su(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Xh(n),o=iw(i.declarations).reduce((s,a)=>{let c=an(a);return c&&s.push(new ai(c)),s},[]);return new pu(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var tP=(()=>{class e{zone=g(ee);changeDetectionScheduler=g(jn);applicationRef=g(je);applicationErrorHandler=g(yt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Tb({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ee(x(v({},Sb()),{scheduleInRootZone:n})),[{provide:ee,useFactory:e},{provide:Vt,multi:!0,useFactory:()=>{let r=g(tP,{optional:!0});return()=>r.initialize()}},{provide:Vt,multi:!0,useFactory:()=>{let r=g(nP);return()=>{r.initialize()}}},t===!0?{provide:bp,useValue:!0}:[],{provide:Dp,useValue:n??rb},{provide:yt,useFactory:()=>{let r=g(ee),i=g(de),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Ft),o.handleError(s))})}}}]}function Sb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var nP=(()=>{class e{subscription=new ue;initialized=!1;zone=g(ee);pendingTasks=g(Ht);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ab=(()=>{class e{applicationErrorHandler=g(yt);appRef=g(je);taskService=g(Ht);ngZone=g(ee);zonelessEnabled=g(Vs);tracing=g(di,{optional:!0});disableScheduling=g(bp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(cu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(Dp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?VI:ib;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(cu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,VI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rP(){return typeof $localize<"u"&&$localize.locale||ia}var im=new I("",{providedIn:"root",factory:()=>g(im,{optional:!0,skipSelf:!0})||rP()});function Gt(e){return EE(e)}function pi(e,t){return Wc(e,t?.equal)}var Rb=class{[Ve];constructor(t){this[Ve]=t}destroy(){this[Ve].destroy()}};var lm={JSACTION:"__jsaction",OWNER:"__owner"},xb={};function iP(e){return e[lm.JSACTION]}function Nb(e,t){e[lm.JSACTION]=t}function oP(e){return xb[e]}function sP(e,t){xb[e]=t}var O={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},aP=[O.MOUSEENTER,O.MOUSELEAVE,"pointerenter","pointerleave"],D5=[O.CLICK,O.DBLCLICK,O.FOCUSIN,O.FOCUSOUT,O.KEYDOWN,O.KEYUP,O.KEYPRESS,O.MOUSEOVER,O.MOUSEOUT,O.SUBMIT,O.TOUCHSTART,O.TOUCHEND,O.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],cP=[O.FOCUS,O.BLUR,O.ERROR,O.LOAD,O.TOGGLE],um=e=>cP.indexOf(e)>=0;function lP(e){return e===O.MOUSEENTER?O.MOUSEOVER:e===O.MOUSELEAVE?O.MOUSEOUT:e===O.POINTERENTER?O.POINTEROVER:e===O.POINTERLEAVE?O.POINTEROUT:e}function uP(e,t,n,r){let i=!1;um(t)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return e.addEventListener(t,n,o),{eventType:t,handler:n,capture:i,passive:r}}function dP(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function fP(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var Mb=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function hP(e){return e.which===2||e.which==null&&e.button===4}function pP(e){return Mb&&e.metaKey||!Mb&&e.ctrlKey||hP(e)||e.shiftKey}function gP(e,t,n){let r=e.relatedTarget;return(e.type===O.MOUSEOVER&&t===O.MOUSEENTER||e.type===O.MOUSEOUT&&t===O.MOUSELEAVE||e.type===O.POINTEROVER&&t===O.POINTERENTER||e.type===O.POINTEROUT&&t===O.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function mP(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let i=r,o=e[i];typeof o!="function"&&(n[i]=o)}return e.type===O.MOUSEOVER?n.type=O.MOUSEENTER:e.type===O.MOUSEOUT?n.type=O.MOUSELEAVE:e.type===O.POINTEROVER?n.type=O.POINTERENTER:n.type=O.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var vP=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Bu=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){vP&&(this.element.style.cursor="pointer"),this.handlerInfos.push(uP(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)dP(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},yP={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function mr(e){return e.eventType}function dm(e,t){e.eventType=t}function ju(e){return e.event}function kb(e,t){e.event=t}function Pb(e){return e.targetElement}function Fb(e,t){e.targetElement=t}function Lb(e){return e.eic}function _P(e,t){e.eic=t}function EP(e){return e.timeStamp}function IP(e,t){e.timeStamp=t}function Uu(e){return e.eia}function Vb(e,t,n){e.eia=[t,n]}function om(e){e.eia=void 0}function Vu(e){return e[1]}function CP(e){return e.eirp}function jb(e,t){e.eirp=t}function Ub(e){return e.eir}function Bb(e,t){e.eir=t}function Hb(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function wP(e,t,n,r,i,o,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var sm=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return mr(this.eventInfo)}setEventType(t){dm(this.eventInfo,t)}getEvent(){return ju(this.eventInfo)}setEvent(t){kb(this.eventInfo,t)}getTargetElement(){return Pb(this.eventInfo)}setTargetElement(t){Fb(this.eventInfo,t)}getContainer(){return Lb(this.eventInfo)}setContainer(t){_P(this.eventInfo,t)}getTimestamp(){return EP(this.eventInfo)}setTimestamp(t){IP(this.eventInfo,t)}getAction(){let t=Uu(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){om(this.eventInfo);return}Vb(this.eventInfo,t.name,t.element)}getIsReplay(){return CP(this.eventInfo)}setIsReplay(t){jb(this.eventInfo,t)}getResolved(){return Ub(this.eventInfo)}setResolved(t){Bb(this.eventInfo,t)}clone(){return new e(Hb(this.eventInfo))}},bP={},DP=/\s*;\s*/,TP=O.CLICK,am=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&mr(t)===O.CLICK&&pP(ju(t))?dm(t,O.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){Ub(t)||(this.populateAction(t,Pb(t)),Bb(t,!0))}resolveParentAction(t){let n=Uu(t),r=n&&Vu(n);om(t);let i=r&&this.getParentNode(r);i&&this.populateAction(t,i)}populateAction(t,n){let r=n;for(;r&&r!==Lb(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!Uu(t));)r=this.getParentNode(r);let i=Uu(t);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(mr(t)===O.MOUSEENTER||mr(t)===O.MOUSELEAVE||mr(t)===O.POINTERENTER||mr(t)===O.POINTERLEAVE)))if(gP(ju(t),mr(t),Vu(i))){let o=mP(ju(t),Vu(i));kb(t,o),Fb(t,Vu(i))}else om(t)}getParentNode(t){let n=t[lm.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),i=r[mr(n)];i!==void 0&&Vb(n,i,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=iP(t);if(!n){let r=t.getAttribute(Vl.JSACTION);if(!r)n=bP,Nb(t,n);else{if(n=oP(r),!n){n={};let i=r.split(DP);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(yP.EVENT_ACTION_SEPARATOR),c=a!==-1,l=c?s.substr(0,a).trim():TP,u=c?s.substr(a+1).trim():s;n[l]=u}sP(r,n)}Nb(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},$b=function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e}($b||{}),cm=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new sm(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&SP(r.element,n)&&fP(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function SP(e,t){return e.tagName==="A"&&(t.getEventType()===O.CLICK||t.getEventType()===O.CLICKMOD)}var Wb=Symbol.for("propagationStopped"),fm={REPLAY:101};var AP="`preventDefault` called during event replay.";var RP="`composedPath` called during event replay.",Hu=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new am({clickModSupport:n}),this.dispatcher=new cm(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&OP(t),NP(t);t.getAction();){if(xP(t),um(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),MP(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function NP(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[Wb]=!0,n()};gi(t,"stopPropagation",r),gi(t,"stopImmediatePropagation",r)}function MP(e){return!!e.getEvent()[Wb]}function OP(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);gi(t,"target",n),gi(t,"eventPhase",fm.REPLAY),gi(t,"preventDefault",()=>{throw r(),new Error(AP+"")}),gi(t,"composedPath",()=>{throw new Error(RP+"")})}function xP(e){let t=e.getEvent(),n=e.getAction()?.element;n&&gi(t,"currentTarget",n,{configurable:!0})}function gi(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function zb(e,t){e.ecrd(n=>{t.dispatch(n)},$b.I_AM_THE_JSACTION_FRAMEWORK)}function kP(e){return e?.q??[]}function PP(e){e&&(Ob(e.c,e.et,e.h),Ob(e.c,e.etc,e.h,!0))}function Ob(e,t,n,r){for(let i=0;i<t.length;i++)e.removeEventListener(t[i],n,r)}var FP=!1,Gb=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=FP;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=wP(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){jb(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&aP.indexOf(n)>=0)return;let o=(a,c,l)=>{this.handleEvent(a,c,l)};this.eventHandlers[n]=o;let s=lP(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(n,c,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),PP(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=Hb(i);dm(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return e})();function qb(e,t=window){return kP(t._ejsas?.[e])}function hm(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var Xb=Symbol("InputSignalNode#UNSET"),s1=x(v({},zc),{transformFn:void 0,applyValueToInputSignal(e,t){Ki(e,t)}});function eD(e,t){let n=Object.create(s1);n.value=e,n.transformFn=t?.transform;function r(){if(Gi(n),n.value===Xb){let i=null;throw new b(-950,i)}return n.value}return r[Ve]=n,r}var Gu=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Ys(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},a1=new I("");a1.__NG_ELEMENT_ID__=e=>{let t=ze();if(t===null)throw new b(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new b(204,!1)};function Yb(e,t){return eD(e,t)}function c1(e){return eD(Xb,e)}var tD=(Yb.required=c1,Yb);var vr=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},nD=new vr("20.1.7");var pm=new I(""),l1=new I("");function la(e){return!e.moduleRef}function u1(e){let t=la(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ee);return n.run(()=>{la(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(yt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),la(e)){let o=()=>t.destroy(),s=e.platformInjector.get(pm);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(pm);s.add(o),e.moduleRef.onDestroy(()=>{Bs(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return f1(r,n,()=>{let o=t.get(Ht),s=o.add(),a=t.get(Xg);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(im,ia);if(yb(c||ia),!t.get(l1,!0))return la(e)?t.get(je):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(la(e)){let u=t.get(je);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return d1?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var d1;function f1(e,t,n){try{let r=n();return fi(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Wu=null;function h1(e=[],t){return fe.create({name:t,providers:[{provide:Ns,useValue:"platform"},{provide:pm,useValue:new Set([()=>Wu=null])},...e]})}function p1(e=[]){if(Wu)return Wu;let t=h1(e);return Wu=t,db(),g1(t),t}function g1(e){let t=e.get(gu,null);ve(e,()=>{t?.forEach(n=>n())})}function mm(){return!1}var yr=(()=>{class e{static __NG_ELEMENT_ID__=m1}return e})();function m1(e){return v1(ze(),q(),(e&16)===16)}function v1(e,t,n){if(Bn(e)&&!n){let r=At(e.index,t);return new oi(r,r)}else if(e.type&175){let r=t[$e];return new oi(r,t)}return null}function rD(e){Z(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=p1(r),o=[Tb({}),{provide:jn,useExisting:Ab},uI,...n||[]],s=new Gs({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return u1({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Z(9)}}var $u=new WeakSet,Kb="",zu=[];function Zb(e){return e.get(_g,xC)}function iD(){let e=[{provide:_g,useFactory:()=>{let t=!0;{let n=g(pn);t=!!window._ejsas?.[n]}return t&&rt("NgEventReplay"),t}}];return e.push({provide:Vt,useValue:()=>{let t=g(je),{injector:n}=t;if(!$u.has(t)){let r=g(Eg);if(Zb(n)){BC();let i=n.get(pn),o=jC(i,(s,a,c)=>{s.nodeType===Node.ELEMENT_NODE&&(PC(s,a,c),FC(s,r))});t.onDestroy(o)}}},multi:!0},{provide:Yn,useFactory:()=>{let t=g(je),{injector:n}=t;return()=>{if(!Zb(n)||$u.has(t))return;$u.add(t);let r=n.get(pn);t.onDestroy(()=>{$u.delete(t),hm(r)}),t.whenStable().then(()=>{if(t.destroyed)return;let i=n.get(VC);y1(i,n);let o=n.get(Eg);o.get(Kb)?.forEach(LC),o.delete(Kb);let s=i.instance;YC(n)?t.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),e}var y1=(e,t)=>{let n=t.get(pn),r=window._ejsas[n],i=e.instance=new Gb(new Bu(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=qb(n);i.replayEarlyEventInfos(o),hm(n);let s=new Hu(a=>{_1(t,a,a.currentTarget)});zb(i,s)};function _1(e,t,n){let r=(n&&n.getAttribute(Qs))??"";/d\d+/.test(r)?E1(r,e,t,n):t.eventPhase===fm.REPLAY&&Ig(t,n)}function E1(e,t,n,r){zu.push({event:n,currentTarget:r}),pb(t,e,I1)}function I1(e){let t=[...zu],n=new Set(e);zu=[];for(let{event:r,currentTarget:i}of t){let o=i.getAttribute(Qs);n.has(o)?Ig(r,i):zu.push({event:r,currentTarget:i})}}var Qb=!1;function C1(){Qb||(Qb=!0,zC(),mb(),Cb(),vb(),nb(),Qw(),Vw(),Ew())}function w1(e){return e.whenStable()}function oD(){let e=[{provide:Zs,useFactory:()=>{let t=!0;return t=!!g(li,{optional:!0})?.get(Cg,null),t&&rt("NgHydration"),t}},{provide:Vt,useValue:()=>{kw(!1),g(Zs)&&(QC(Ks()),C1())},multi:!0}];return e.push({provide:yg,useFactory:()=>g(Zs)},{provide:Yn,useFactory:()=>{if(g(Zs)){let t=g(je);return()=>{w1(t).then(()=>{t.destroyed||$g(t)})}}return()=>{}},multi:!0}),ht(e)}function mi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function sD(e){let t=an(e);if(!t)return null;let n=new ai(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var lD=null;function Ot(){return lD}function vm(e){lD??=e}var ua=class{},da=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(uD),providedIn:"platform"})}return e})(),ym=new I(""),uD=(()=>{class e extends da{_location;_history;_doc=g(_e);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ot().getBaseHref(this._doc)}onPopState(n){let r=Ot().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ot().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function qu(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function aD(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function qt(e){return e&&e[0]!=="?"?`?${e}`:e}var Yt=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(Ku),providedIn:"root"})}return e})(),Yu=new I(""),Ku=(()=>{class e extends Yt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return qu(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+qt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(M(da),M(Yu,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_r=(()=>{class e{_subject=new Ie;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=T1(aD(cD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+qt(r))}normalize(n){return e.stripTrailingSlash(D1(this._basePath,cD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=qt;static joinWithSlash=qu;static stripTrailingSlash=aD;static \u0275fac=function(r){return new(r||e)(M(Yt))};static \u0275prov=D({token:e,factory:()=>b1(),providedIn:"root"})}return e})();function b1(){return new _r(M(Yt))}function D1(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function cD(e){return e.replace(/\/index.html$/,"")}function T1(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Em=(()=>{class e extends Yt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=qu(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(M(da),M(Yu,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();var _m=/\s+/,dD=[],fa=(()=>{class e{_ngEl;_renderer;initialClasses=dD;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(_m):dD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(_m):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(_m).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(L(Mt),L(zt))};static \u0275dir=ce({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Zu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=gn({type:e});static \u0275inj=Lt({})}return e})();function Im(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var ha=class{};var wm="browser";function vi(e){return e===wm}var fD=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new Cm(g(_e),window)})}return e})(),Cm=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(x(v({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=A1(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Un(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(x(v({},n),{left:i-s[0],top:o-s[1]}))}};function A1(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Ju=new I(""),Am=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(M(Ju),M(ee))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),pa=class{_doc;constructor(t){this._doc=t}manager},bm="ng-app-id";function pD(e){for(let t of e)t.remove()}function gD(e,t){let n=t.createElement("style");return n.textContent=e,n}function R1(e,t,n,r){let i=e.head?.querySelectorAll(`style[${bm}="${t}"],link[${bm}="${t}"]`);if(i)for(let o of i)o.removeAttribute(bm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Tm(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Rm=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,R1(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,gD);r?.forEach(i=>this.addUsage(i,this.external,Tm))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(pD(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])pD(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,gD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Tm(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(M(_e),M(pn),M(mu,8),M(nt))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Dm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Nm=/%COMP%/g;var vD="%COMP%",N1=`_nghost-${vD}`,M1=`_ngcontent-${vD}`,O1=!0,x1=new I("",{providedIn:"root",factory:()=>O1});function k1(e){return M1.replace(Nm,e)}function P1(e){return N1.replace(Nm,e)}function yD(e,t){return t.map(n=>n.replace(Nm,e))}var Mm=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new ga(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Qu?i.applyToHost(n):i instanceof ma&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case Wn.Emulated:o=new Qu(c,l,r,this.appId,u,s,a,d,f);break;case Wn.ShadowDom:return new Sm(c,l,n,r,s,a,this.nonce,d,f);default:o=new ma(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(M(Am),M(Rm),M(pn),M(x1),M(_e),M(nt),M(ee),M(mu),M(di,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),ga=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Dm[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(mD(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(mD(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Dm[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Dm[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(zn.DashCase|zn.Important)?t.style.setProperty(n,r,i&zn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&zn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Ot().getGlobalEventTarget(this.doc,t),!t))throw new b(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function mD(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Sm=class extends ga{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=yD(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Tm(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ma=class extends ga{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?yD(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Qu=class extends ma{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,l,u),this.contentAttr=k1(u),this.hostAttr=P1(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Xu=class e extends ua{supportsDOMEvents=!0;static makeCurrent(){vm(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=F1();return n==null?null:L1(n)}resetBaseElement(){va=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Im(document.cookie,t)}},va=null;function F1(){return va=va||document.head.querySelector("base"),va?va.getAttribute("href"):null}function L1(e){return new URL(e,document.baseURI).pathname}var V1=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),ED=(()=>{class e extends pa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(M(_e))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),_D=["alt","control","meta","shift"],j1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},U1={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ID=(()=>{class e extends pa{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ot().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_D.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=j1[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),_D.forEach(s=>{if(s!==i){let a=U1[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(M(_e))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function Om(e,t){let n=v({rootComponent:e},B1(t));return rD(n)}function B1(e){return{appProviders:[...G1,...e?.providers??[]],platformProviders:z1}}function H1(){Xu.makeCurrent()}function $1(){return new Ft}function W1(){return gg(document),document}var z1=[{provide:nt,useValue:wm},{provide:gu,useValue:H1,multi:!0},{provide:_e,useFactory:W1}];var G1=[{provide:Ns,useValue:"root"},{provide:Ft,useFactory:$1},{provide:Ju,useClass:ED,multi:!0,deps:[_e]},{provide:Ju,useClass:ID,multi:!0,deps:[_e]},Mm,Rm,Am,{provide:si,useExisting:Mm},{provide:ha,useClass:V1},[]];var ya=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var q1="X-Request-URL",Y1="text/plain",K1="application/json",AJ=`${K1}, ${Y1}, */*`;var km=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(km||{}),xm=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new ya,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var ed=class e extends xm{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=km.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var CD=new I("");var RJ=RegExp(`^${q1}:`,"m");var Z1=new I(""),Q1="b",J1="h",X1="s",eF="st",tF="u",nF="rt",Pm=new I(""),rF=["GET","HEAD"];function iF(e,t){let h=g(Pm),{isCacheActive:n}=h,r=$_(h,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!rF.includes(o)||!r.includeRequestsWithAuthHeaders&&oF(e)||r.filter?.(e)===!1)return t(e);let s=g(li);if(g(Z1,{optional:!0}))throw new b(2803,!1);let c=e.url,l=sF(e,c),u=s.get(l,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[Q1]:p,[nF]:y,[J1]:w,[X1]:T,[eF]:le,[tF]:Ne}=u,on=p;switch(y){case"arraybuffer":on=new TextEncoder().encode(p).buffer;break;case"blob":on=new Blob([p]);break}let xc=new ya(w);return N(new ed({body:on,headers:xc,status:T,statusText:le,url:Ne}))}return t(e)}function oF(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function wD(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function sF(e,t){let{params:n,method:r,responseType:i}=e,o=wD(n),s=e.serializeBody();s instanceof URLSearchParams?s=wD(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),c=aF(a);return c}function aF(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function bD(e){return[{provide:Pm,useFactory:()=>(rt("NgHttpTransferCache"),v({isCacheActive:!0},e))},{provide:CD,useValue:iF,multi:!0},{provide:Yn,multi:!0,useFactory:()=>{let t=g(je),n=g(Pm);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var DD=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(M(_e))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var _a=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e}(_a||{});function TD(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function SD(){return TD(_a.NoHttpTransferCache)}function AD(){return TD(_a.EventReplay,iD())}function RD(...e){let t=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);let r=n.has(_a.HttpTransferCacheOptions);return ht([[],oD(),n.has(_a.NoHttpTransferCache)||r?[]:bD({}),t])}var j="primary",Oa=Symbol("RouteTitle"),Um=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ei(e){return new Um(e)}function LD(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function lF(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!vn(e[n],t[n]))return!1;return!0}function vn(e,t){let n=e?Bm(e):void 0,r=t?Bm(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!VD(e[i],t[i]))return!1;return!0}function Bm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function VD(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function jD(e){return e.length>0?e[e.length-1]:null}function Xn(e){return Ih(e)?e:fi(e)?ae(Promise.resolve(e)):N(e)}var uF={exact:BD,subset:HD},UD={exact:dF,subset:fF,ignored:()=>!0};function ND(e,t,n){return uF[n.paths](e.root,t.root,n.matrixParams)&&UD[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function dF(e,t){return vn(e,t)}function BD(e,t,n){if(!yi(e.segments,t.segments)||!rd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!BD(e.children[r],t.children[r],n))return!1;return!0}function fF(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>VD(e[n],t[n]))}function HD(e,t,n){return $D(e,t,t.segments,n)}function $D(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!yi(i,n)||t.hasChildren()||!rd(i,n,r))}else if(e.segments.length===n.length){if(!yi(e.segments,n)||!rd(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!HD(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!yi(e.segments,i)||!rd(e.segments,i,r)||!e.children[j]?!1:$D(e.children[j],t,o,r)}}function rd(e,t,n){return t.every((r,i)=>UD[n](e[i].parameters,r.parameters))}var _n=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Q([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){return gF.serialize(this)}},Q=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return id(this)}},Er=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ei(this.parameters),this._parameterMap}toString(){return zD(this)}};function hF(e,t){return yi(e,t)&&e.every((n,r)=>vn(n.parameters,t[r].parameters))}function yi(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function pF(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===j&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==j&&(n=n.concat(t(i,r)))}),n}var Ii=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new Ir,providedIn:"root"})}return e})(),Ir=class{parse(t){let n=new $m(t);return new _n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Ea(t.root,!0)}`,r=yF(t.queryParams),i=typeof t.fragment=="string"?`#${mF(t.fragment)}`:"";return`${n}${r}${i}`}},gF=new Ir;function id(e){return e.segments.map(t=>zD(t)).join("/")}function Ea(e,t){if(!e.hasChildren())return id(e);if(t){let n=e.children[j]?Ea(e.children[j],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==j&&r.push(`${i}:${Ea(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=pF(e,(r,i)=>i===j?[Ea(e.children[j],!1)]:[`${i}:${Ea(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[j]!=null?`${id(e)}/${n[0]}`:`${id(e)}/(${n.join("//")})`}}function WD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function td(e){return WD(e).replace(/%3B/gi,";")}function mF(e){return encodeURI(e)}function Hm(e){return WD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function od(e){return decodeURIComponent(e)}function MD(e){return od(e.replace(/\+/g,"%20"))}function zD(e){return`${Hm(e.path)}${vF(e.parameters)}`}function vF(e){return Object.entries(e).map(([t,n])=>`;${Hm(t)}=${Hm(n)}`).join("")}function yF(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${td(n)}=${td(i)}`).join("&"):`${td(n)}=${td(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var _F=/^[^\/()?;#]+/;function Fm(e){let t=e.match(_F);return t?t[0]:""}var EF=/^[^\/()?;=#]+/;function IF(e){let t=e.match(EF);return t?t[0]:""}var CF=/^[^=?&#]+/;function wF(e){let t=e.match(CF);return t?t[0]:""}var bF=/^[^&#]+/;function DF(e){let t=e.match(bF);return t?t[0]:""}var $m=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[j]=new Q(t,n)),r}parseSegment(){let t=Fm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(t),new Er(od(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=IF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Fm(this.remaining);i&&(r=i,this.capture(r))}t[od(n)]=od(r)}parseQueryParam(t){let n=wF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=DF(this.remaining);s&&(r=s,this.capture(r))}let i=MD(n),o=MD(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Fm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=j);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[j]:new Q([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new b(4011,!1)}};function GD(e){return e.segments.length>0?new Q([],{[j]:e}):e}function qD(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=qD(i);if(r===j&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Q(e.segments,t);return TF(n)}function TF(e){if(e.numberOfChildren===1&&e.children[j]){let t=e.children[j];return new Q(e.segments.concat(t.segments),t.children)}return e}function Cr(e){return e instanceof _n}function YD(e,t,n=null,r=null){let i=KD(e);return ZD(i,t,n,r)}function KD(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Q(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=GD(r);return t??i}function ZD(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Lm(i,i,i,n,r);let o=SF(t);if(o.toRoot())return Lm(i,i,new Q([],{}),n,r);let s=AF(o,i,e),a=s.processChildren?Ca(s.segmentGroup,s.index,o.commands):JD(s.segmentGroup,s.index,o.commands);return Lm(i,s.segmentGroup,a,n,r)}function sd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ba(e){return typeof e=="object"&&e!=null&&e.outlets}function Lm(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=QD(e,t,n);let a=GD(qD(s));return new _n(a,o,i)}function QD(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=QD(o,t,n)}),new Q(e.segments,r)}var ad=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&sd(r[0]))throw new b(4003,!1);let i=r.find(ba);if(i&&i!==jD(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function SF(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ad(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ad(n,t,r)}var ko=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function AF(e,t,n){if(e.isAbsolute)return new ko(t,!0,0);if(!n)return new ko(t,!1,NaN);if(n.parent===null)return new ko(n,!0,0);let r=sd(e.commands[0])?0:1,i=n.segments.length-1+r;return RF(n,i,e.numberOfDoubleDots)}function RF(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new ko(r,!1,i-o)}function NF(e){return ba(e[0])?e[0].outlets:{[j]:e}}function JD(e,t,n){if(e??=new Q([],{}),e.segments.length===0&&e.hasChildren())return Ca(e,t,n);let r=MF(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Q(e.segments.slice(0,r.pathIndex),{});return o.children[j]=new Q(e.segments.slice(r.pathIndex),e.children),Ca(o,0,i)}else return r.match&&i.length===0?new Q(e.segments,{}):r.match&&!e.hasChildren()?Wm(e,t,n):r.match?Ca(e,0,i):Wm(e,t,n)}function Ca(e,t,n){if(n.length===0)return new Q(e.segments,{});{let r=NF(n),i={};if(Object.keys(r).some(o=>o!==j)&&e.children[j]&&e.numberOfChildren===1&&e.children[j].segments.length===0){let o=Ca(e.children[j],t,n);return new Q(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=JD(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Q(e.segments,i)}}function MF(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(ba(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!xD(c,l,s))return o;r+=2}else{if(!xD(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Wm(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(ba(o)){let c=OF(o.outlets);return new Q(r,c)}if(i===0&&sd(n[0])){let c=e.segments[t];r.push(new Er(c.path,OD(n[0]))),i++;continue}let s=ba(o)?o.outlets[j]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&sd(a)?(r.push(new Er(s,OD(a))),i+=2):(r.push(new Er(s,{})),i++)}return new Q(r,{})}function OF(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Wm(new Q([],{}),0,r))}),t}function OD(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function xD(e,t,n){return e==n.path&&vn(t,n.parameters)}var Po="imperative",Ae=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ae||{}),wt=class{id;url;constructor(t,n){this.id=t,this.url=n}},wr=class extends wt{type=Ae.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xt=class extends wt{urlAfterRedirects;type=Ae.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ke=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Ke||{}),Lo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Lo||{}),yn=class extends wt{reason;code;type=Ae.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},En=class extends wt{reason;code;type=Ae.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Vo=class extends wt{error;target;type=Ae.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Da=class extends wt{urlAfterRedirects;state;type=Ae.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cd=class extends wt{urlAfterRedirects;state;type=Ae.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ld=class extends wt{urlAfterRedirects;state;shouldActivate;type=Ae.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ud=class extends wt{urlAfterRedirects;state;type=Ae.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dd=class extends wt{urlAfterRedirects;state;type=Ae.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fd=class{route;type=Ae.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hd=class{route;type=Ae.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pd=class{snapshot;type=Ae.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gd=class{snapshot;type=Ae.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},md=class{snapshot;type=Ae.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vd=class{snapshot;type=Ae.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jo=class{routerEvent;position;anchor;type=Ae.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ta=class{},Uo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function xF(e){return!(e instanceof Ta)&&!(e instanceof Uo)}function kF(e,t){return e.providers&&!e._injector&&(e._injector=ui(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Kt(e){return e.outlet||j}function PF(e,t){let n=e.filter(r=>Kt(r)===t);return n.push(...e.filter(r=>Kt(r)!==t)),n}function $o(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var yd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $o(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ci(this.rootInjector)}},Ci=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new yd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(M(de))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_d=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=zm(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=zm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Gm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Gm(t,this._root).map(n=>n.value)}};function zm(e,t){if(e===t.value)return t;for(let n of t.children){let r=zm(e,n);if(r)return r}return null}function Gm(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Gm(e,n);if(r.length)return r.unshift(t),r}return[]}var Ct=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function xo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Sa=class extends _d{snapshot;constructor(t,n){super(t),this.snapshot=n,ev(this,t)}toString(){return this.snapshot.toString()}};function XD(e){let t=FF(e),n=new ke([new Er("",{})]),r=new ke({}),i=new ke({}),o=new ke({}),s=new ke(""),a=new In(n,r,o,s,i,j,e,t.root);return a.snapshot=t.root,new Sa(new Ct(a,[]),t)}function FF(e){let t={},n={},r={},i="",o=new _i([],t,r,i,n,j,e,null,{});return new Aa("",new Ct(o,[]))}var In=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(G(l=>l[Oa]))??N(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(t=>Ei(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(t=>Ei(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ed(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:v(v({},t.params),e.params),data:v(v({},t.data),e.data),resolve:v(v(v(v({},e.data),t.data),i?.data),e._resolvedData)}:r={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},i&&tT(i)&&(r.resolve[Oa]=i.title),r}var _i=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Oa]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ei(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Aa=class extends _d{url;constructor(t,n){super(n),this.url=t,ev(this,n)}toString(){return eT(this._root)}};function ev(e,t){t.value._routerState=e,t.children.forEach(n=>ev(e,n))}function eT(e){let t=e.children.length>0?` { ${e.children.map(eT).join(", ")} } `:"";return`${e.value}${t}`}function Vm(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,vn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),vn(t.params,n.params)||e.paramsSubject.next(n.params),lF(t.url,n.url)||e.urlSubject.next(n.url),vn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function qm(e,t){let n=vn(e.params,t.params)&&hF(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||qm(e.parent,t.parent))}function tT(e){return typeof e.title=="string"||e.title===null}var nT=new I(""),xa=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=j;activateEvents=new De;deactivateEvents=new De;attachEvents=new De;detachEvents=new De;routerOutletData=tD(void 0);parentContexts=g(Ci);location=g(ta);changeDetector=g(yr);inputBinder=g(ka,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Ym(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Gn]})}return e})(),Ym=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===In?this.route:t===Ci?this.childContexts:t===nT?this.outletData:this.parent.get(t,n)}},ka=new I(""),tv=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Is([r.queryParams,r.params,r.data]).pipe(Be(([o,s,a],c)=>(a=v(v(v({},o),s),a),c===0?N(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=sD(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),nv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=qn({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Se(0,"router-outlet")},dependencies:[xa],encapsulation:2})}return e})();function rv(e){let t=e.children&&e.children.map(rv),n=t?x(v({},e),{children:t}):v({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=nv),n}function LF(e,t,n){let r=Ra(e,t._root,n?n._root:void 0);return new Sa(r,t)}function Ra(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=VF(e,t,n);return new Ct(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ra(e,a)),s}}let r=jF(t.value),i=t.children.map(o=>Ra(e,o));return new Ct(r,i)}}function VF(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ra(e,r,i);return Ra(e,r)})}function jF(e){return new In(new ke(e.url),new ke(e.params),new ke(e.queryParams),new ke(e.fragment),new ke(e.data),e.outlet,e.component,e)}var Bo=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},rT="ngNavigationCancelingError";function Id(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Cr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=iT(!1,Ke.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function iT(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[rT]=!0,n.cancellationCode=t,n}function UF(e){return oT(e)&&Cr(e.url)}function oT(e){return!!e&&e[rT]}var BF=(e,t,n,r)=>G(i=>(new Km(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Km=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Vm(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=xo(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=xo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=xo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=xo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new vd(o.value.snapshot))}),t.children.length&&this.forwardEvent(new gd(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Vm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Vm(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Cd=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Fo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function HF(e,t,n){let r=e._root,i=t?t._root:null;return Ia(r,i,n,[r.value])}function $F(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Wo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Bh(e)?e:t.get(e):r}function Ia(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=xo(t);return e.children.forEach(s=>{WF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wa(a,n.getContext(s),i)),i}function WF(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=zF(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Cd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ia(e,t,a?a.children:null,r,i):Ia(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fo(a.outlet.component,s))}else s&&wa(t,a,i),i.canActivateChecks.push(new Cd(r)),o.component?Ia(e,null,a?a.children:null,r,i):Ia(e,null,n,r,i);return i}function zF(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!yi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!yi(e.url,t.url)||!vn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qm(e,t)||!vn(e.queryParams,t.queryParams);case"paramsChange":default:return!qm(e,t)}}function wa(e,t,n){let r=xo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?wa(s,t.children.getContext(o),n):wa(s,null,n):wa(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Fo(t.outlet.component,i)):n.canDeactivateChecks.push(new Fo(null,i)):n.canDeactivateChecks.push(new Fo(null,i))}function Pa(e){return typeof e=="function"}function GF(e){return typeof e=="boolean"}function qF(e){return e&&Pa(e.canLoad)}function YF(e){return e&&Pa(e.canActivate)}function KF(e){return e&&Pa(e.canActivateChild)}function ZF(e){return e&&Pa(e.canDeactivate)}function QF(e){return e&&Pa(e.canMatch)}function sT(e){return e instanceof xn||e?.name==="EmptyError"}var nd=Symbol("INITIAL_VALUE");function Ho(){return Be(e=>Is(e.map(t=>t.pipe(Pn(1),Dh(nd)))).pipe(G(t=>{for(let n of t)if(n!==!0){if(n===nd)return nd;if(n===!1||JF(n))return n}return!0}),et(t=>t!==nd),Pn(1)))}function JF(e){return Cr(e)||e instanceof Bo}function XF(e,t){return me(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?N(x(v({},n),{guardsResult:!0})):eL(s,r,i,e).pipe(me(a=>a&&GF(a)?tL(r,o,e,t):N(a)),G(a=>x(v({},n),{guardsResult:a})))})}function eL(e,t,n,r){return ae(e).pipe(me(i=>sL(i.component,i.route,n,t,r)),Fn(i=>i!==!0,!0))}function tL(e,t,n,r){return ae(t).pipe(sr(i=>co(rL(i.route.parent,r),nL(i.route,r),oL(e,i.path,n),iL(e,i.route,n))),Fn(i=>i!==!0,!0))}function nL(e,t){return e!==null&&t&&t(new md(e)),N(!0)}function rL(e,t){return e!==null&&t&&t(new pd(e)),N(!0)}function iL(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(o=>Cs(()=>{let s=$o(t)??n,a=Wo(o,s),c=YF(a)?a.canActivate(t,e):ve(s,()=>a(t,e));return Xn(c).pipe(Fn())}));return N(i).pipe(Ho())}function oL(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>$F(s)).filter(s=>s!==null).map(s=>Cs(()=>{let a=s.guards.map(c=>{let l=$o(s.node)??n,u=Wo(c,l),d=KF(u)?u.canActivateChild(r,e):ve(l,()=>u(r,e));return Xn(d).pipe(Fn())});return N(a).pipe(Ho())}));return N(o).pipe(Ho())}function sL(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return N(!0);let s=o.map(a=>{let c=$o(t)??i,l=Wo(a,c),u=ZF(l)?l.canDeactivate(e,t,n,r):ve(c,()=>l(e,t,n,r));return Xn(u).pipe(Fn())});return N(s).pipe(Ho())}function aL(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return N(!0);let o=i.map(s=>{let a=Wo(s,e),c=qF(a)?a.canLoad(t,n):ve(e,()=>a(t,n));return Xn(c)});return N(o).pipe(Ho(),aT(r))}function aT(e){return hh(Me(t=>{if(typeof t!="boolean")throw Id(e,t)}),G(t=>t===!0))}function cL(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return N(!0);let o=i.map(s=>{let a=Wo(s,e),c=QF(a)?a.canMatch(t,n):ve(e,()=>a(t,n));return Xn(c)});return N(o).pipe(Ho(),aT(r))}var Na=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ma=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Oo(e){return so(new Na(e))}function lL(e){return so(new b(4e3,!1))}function uL(e){return so(iT(!1,Ke.GuardRejected))}var Zm=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[j])return lL(`${t.redirectTo}`);i=i.children[j]}}applyRedirectCommands(t,n,r,i,o){return dL(n,i,o).pipe(G(s=>{if(s instanceof _n)throw new Ma(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Ma(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new _n(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new Q(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function dL(e,t,n){if(typeof e=="string")return N(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return Xn(ve(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var Qm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fL(e,t,n,r,i){let o=cT(e,t,n);return o.matched?(r=kF(t,r),cL(r,t,n,i).pipe(G(s=>s===!0?o:v({},Qm)))):N(o)}function cT(e,t,n){if(t.path==="**")return hL(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?v({},Qm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||LD)(n,e,t);if(!i)return v({},Qm);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function hL(e){return{matched:!0,parameters:e.length>0?jD(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function kD(e,t,n,r){return n.length>0&&mL(e,n,r)?{segmentGroup:new Q(t,gL(r,new Q(n,e.children))),slicedSegments:[]}:n.length===0&&vL(e,n,r)?{segmentGroup:new Q(e.segments,pL(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Q(e.segments,e.children),slicedSegments:n}}function pL(e,t,n,r){let i={};for(let o of n)if(bd(e,t,o)&&!r[Kt(o)]){let s=new Q([],{});i[Kt(o)]=s}return v(v({},r),i)}function gL(e,t){let n={};n[j]=t;for(let r of e)if(r.path===""&&Kt(r)!==j){let i=new Q([],{});n[Kt(r)]=i}return n}function mL(e,t,n){return n.some(r=>bd(e,t,r)&&Kt(r)!==j)}function vL(e,t,n){return n.some(r=>bd(e,t,r))}function bd(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function yL(e,t,n){return t.length===0&&!e.children[n]}var Jm=class{};function _L(e,t,n,r,i,o,s="emptyOnly"){return new Xm(e,t,n,r,i,s,o).recognize()}var EL=31,Xm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Zm(this.urlSerializer,this.urlTree)}noMatchError(t){return new b(4002,`'${t.segmentGroup}'`)}recognize(){let t=kD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(G(({children:n,rootSnapshot:r})=>{let i=new Ct(r,n),o=new Aa("",i),s=YD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new _i([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),j,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,j,n).pipe(G(r=>({children:r,rootSnapshot:n})),kn(r=>{if(r instanceof Ma)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Na?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(G(s=>s instanceof Ct?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ae(o).pipe(sr(s=>{let a=r.children[s],c=PF(n,s);return this.processSegmentGroup(t,c,a,s,i)}),bh((s,a)=>(s.push(...a),s)),ar(null),wh(),me(s=>{if(s===null)return Oo(r);let a=lT(s);return IL(a),N(a)}))}processSegment(t,n,r,i,o,s,a){return ae(n).pipe(sr(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(kn(l=>{if(l instanceof Na)return N(null);throw l}))),Fn(c=>!!c),kn(c=>{if(sT(c))return yL(r,i,o)?N(new Jm):Oo(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return Kt(r)!==s&&(s===j||!bd(i,o,r))?Oo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):Oo(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=cT(n,i,o);if(!c)return Oo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>EL&&(this.allowRedirects=!1));let h=new _i(o,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,PD(i),Kt(i),i.component??i._loadedComponent??null,i,FD(i)),p=Ed(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(p.params),h.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t).pipe(Be(w=>this.applyRedirects.lineralizeSegments(i,w)),me(w=>this.processSegment(t,r,n,w.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=fL(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Be(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Be(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new _i(f,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,PD(r),Kt(r),r.component??r._loadedComponent??null,r,FD(r)),y=Ed(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let{segmentGroup:w,slicedSegments:T}=kD(n,f,h,l);if(T.length===0&&w.hasChildren())return this.processChildren(u,l,w,p).pipe(G(Ne=>new Ct(p,Ne)));if(l.length===0&&T.length===0)return N(new Ct(p,[]));let le=Kt(r)===o;return this.processSegment(u,l,w,T,le?j:o,!0,p).pipe(G(Ne=>new Ct(p,Ne instanceof Ct?[Ne]:[])))}))):Oo(n)))}getChildConfig(t,n,r){return n.children?N({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):aL(t,n,r,this.urlSerializer).pipe(me(i=>i?this.configLoader.loadChildren(t,n).pipe(Me(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):uL(n))):N({routes:[],injector:t})}};function IL(e){e.sort((t,n)=>t.value.outlet===j?-1:n.value.outlet===j?1:t.value.outlet.localeCompare(n.value.outlet))}function CL(e){let t=e.value.routeConfig;return t&&t.path===""}function lT(e){let t=[],n=new Set;for(let r of e){if(!CL(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=lT(r.children);t.push(new Ct(r.value,i))}return t.filter(r=>!n.has(r))}function PD(e){return e.data||{}}function FD(e){return e.resolve||{}}function wL(e,t,n,r,i,o){return me(s=>_L(e,t,n,r,s.extractedUrl,i,o).pipe(G(({state:a,tree:c})=>x(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function bL(e,t){return me(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of uT(c))s.add(l);let a=0;return ae(s).pipe(sr(c=>o.has(c)?DL(c,r,e,t):(c.data=Ed(c,c.parent,e).resolve,N(void 0))),Me(()=>a++),lo(1),me(c=>a===s.size?N(n):Je))})}function uT(e){let t=e.children.map(n=>uT(n)).flat();return[e,...t]}function DL(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!tT(i)&&(o[Oa]=i.title),Cs(()=>(e.data=Ed(e,e.parent,n).resolve,TL(o,e,t,r).pipe(G(s=>(e._resolvedData=s,e.data=v(v({},e.data),s),null)))))}function TL(e,t,n,r){let i=Bm(e);if(i.length===0)return N({});let o={};return ae(i).pipe(me(s=>SL(e[s],t,n,r).pipe(Fn(),Me(a=>{if(a instanceof Bo)throw Id(new Ir,a);o[s]=a}))),lo(1),G(()=>o),kn(s=>sT(s)?Je:so(s)))}function SL(e,t,n,r){let i=$o(t)??r,o=Wo(e,i),s=o.resolve?o.resolve(t,n):ve(i,()=>o(t,n));return Xn(s)}function jm(e){return Be(t=>{let n=e(t);return n?ae(n).pipe(G(()=>t)):N(t)})}var iv=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===j);return r}getResolvedTitleForRoute(n){return n.data[Oa]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(dT),providedIn:"root"})}return e})(),dT=(()=>{class e extends iv{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(M(DD))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),br=new I("",{providedIn:"root",factory:()=>({})}),wi=new I(""),Dd=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(rm);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Xn(ve(n,()=>r.loadComponent())).pipe(G(hT),Be(pT),Me(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ws(()=>{this.componentLoaders.delete(r)})),o=new no(i,()=>new Ie).pipe(to());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=fT(r,this.compiler,n,this.onLoadEndListener).pipe(ws(()=>{this.childrenLoaders.delete(r)})),s=new no(o,()=>new Ie).pipe(to());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fT(e,t,n,r){return Xn(ve(n,()=>e.loadChildren())).pipe(G(hT),Be(pT),me(i=>i instanceof xu||Array.isArray(i)?N(i):ae(t.compileModuleAsync(i))),G(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(wi,[],{optional:!0,self:!0}).flat()),{routes:s.map(rv),injector:o}}))}function AL(e){return e&&typeof e=="object"&&"default"in e}function hT(e){return AL(e)?e.default:e}function pT(e){return N(e)}var Td=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(RL),providedIn:"root"})}return e})(),RL=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ov=new I(""),sv=new I("");function gT(e,t,n){let r=e.get(sv),i=e.get(_e);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),NL(e)));a.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&ve(e,()=>c({transition:a,from:t,to:n})),s}function NL(e){return new Promise(t=>{Ao({read:()=>setTimeout(t)},{injector:e})})}var av=new I(""),Sd=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ie;transitionAbortWithErrorSubject=new Ie;configLoader=g(Dd);environmentInjector=g(de);destroyRef=g(Bt);urlSerializer=g(Ii);rootContexts=g(Ci);location=g(_r);inputBindingEnabled=g(ka,{optional:!0})!==null;titleStrategy=g(iv);options=g(br,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(Td);createViewTransition=g(ov,{optional:!0});navigationErrorHandler=g(av,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>N(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new fd(i)),r=i=>this.events.next(new hd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(x(v({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new ke(null),this.transitions.pipe(et(r=>r!==null),Be(r=>{let i=!1;return N(r).pipe(Be(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ke.SupersededByNewNavigation),Je;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?x(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new En(o.id,this.urlSerializer.serialize(o.rawUrl),c,Lo.IgnoredSameUrlNavigation)),o.resolve(!1),Je}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return N(o).pipe(Be(c=>(this.events.next(new wr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Je:Promise.resolve(c))),wL(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Me(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=x(v({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new Da(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:f}=o,h=new wr(c,this.urlSerializer.serialize(l),u,d);this.events.next(h);let p=XD(this.rootComponentType).snapshot;return this.currentTransition=r=x(v({},o),{targetSnapshot:p,urlAfterRedirects:l,extras:x(v({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,N(r)}else{let c="";return this.events.next(new En(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Lo.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Je}}),Me(o=>{let s=new cd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),G(o=>(this.currentTransition=r=x(v({},o),{guards:HF(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),XF(this.environmentInjector,o=>this.events.next(o)),Me(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Id(this.urlSerializer,o.guardsResult);let s=new ld(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),et(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ke.GuardRejected),!1)),jm(o=>{if(o.guards.canActivateChecks.length!==0)return N(o).pipe(Me(s=>{let a=new ud(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Be(s=>{let a=!1;return N(s).pipe(bL(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ke.NoDataFromResolver)}}))}),Me(s=>{let a=new dd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),jm(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let l=$o(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Me(u=>{a.component=u}),G(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Is(s(o.targetSnapshot.root)).pipe(ar(null),Pn(1))}),jm(()=>this.afterPreactivation()),Be(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ae(a).pipe(G(()=>r)):N(r)}),G(o=>{let s=LF(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=x(v({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Me(()=>{this.events.next(new Ta)}),BF(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Pn(1),gl(new V(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(et(()=>!i&&!r.targetRouterState),Me(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ke.Aborted)}))),Me({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),gl(this.transitionAbortWithErrorSubject.pipe(Me(o=>{throw o}))),ws(()=>{i||this.cancelNavigationTransition(r,"",Ke.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),kn(o=>{if(this.destroyed)return r.resolve(!1),Je;if(i=!0,oT(o))this.events.next(new yn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),UF(o)?this.events.next(new Uo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Vo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=ve(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Bo){let{message:c,cancellationCode:l}=Id(this.urlSerializer,a);this.events.next(new yn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Uo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Je}))}))}cancelNavigationTransition(n,r,i){let o=new yn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ML(e){return e!==Po}var mT=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(OL),providedIn:"root"})}return e})(),wd=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},OL=(()=>{class e extends wd{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vT=(()=>{class e{urlSerializer=g(Ii);options=g(br,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(_r);urlHandlingStrategy=g(Td);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new _n;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof _n?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=XD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(xL),providedIn:"root"})}return e})(),xL=(()=>{class e extends vT{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof wr?this.updateStateMemento():n instanceof En?this.commitTransition(r):n instanceof Da?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ta?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof yn&&n.code!==Ke.SupersededByNewNavigation&&n.code!==Ke.Redirect?this.restoreHistory(r):n instanceof Vo?this.restoreHistory(r,!0):n instanceof xt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=v(v({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=v(v({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ad(e,t){e.events.pipe(et(n=>n instanceof xt||n instanceof yn||n instanceof Vo||n instanceof En),G(n=>n instanceof xt||n instanceof En?0:(n instanceof yn?n.code===Ke.Redirect||n.code===Ke.SupersededByNewNavigation:!1)?2:1),et(n=>n!==2),Pn(1)).subscribe(()=>{t()})}var kL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Cn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(Pu);stateManager=g(vT);options=g(br,{optional:!0})||{};pendingTasks=g(Ht);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(Sd);urlSerializer=g(Ii);location=g(_r);urlHandlingStrategy=g(Td);injector=g(de);_events=new Ie;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(mT);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(wi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(ka,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ue;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yn&&r.code!==Ke.Redirect&&r.code!==Ke.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof xt)this.navigated=!0;else if(r instanceof Uo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=v({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ML(i.source)},s);this.scheduleNavigation(a,Po,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}xF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Po,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=v({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(yt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(rv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=KD(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return ZD(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Cr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Po,null,r)}navigate(n,r={skipLocationChange:!1}){return FL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=v({},kL):r===!1?i=v({},PL):i=r,Cr(n))return ND(this.currentUrlTree,n,i);let o=this.parseUrl(n);return ND(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return Ad(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FL(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new b(4008,!1)}var zo=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=_t(null);get href(){return Gt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ie;applicationErrorHandler=g(yt);options=g(br,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(g(new Gu("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof xt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Cr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Cr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(L(Cn),L(In),Ys("tabindex"),L(zt),L(Mt),L(Yt))};static \u0275dir=ce({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&pe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Kn("href",i.reactiveHref(),Dg)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",mi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",mi],replaceUrl:[2,"replaceUrl","replaceUrl",mi],routerLink:"routerLink"},features:[Gn]})}return e})();var Fa=class{};var yT=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(et(n=>n instanceof xt),sr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ui(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ae(i).pipe(ao())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=N(null);let o=i.pipe(me(s=>s===null?N(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return ae([o,s]).pipe(ao())}else return o})}static \u0275fac=function(r){return new(r||e)(M(Cn),M(de),M(Fa),M(Dd))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_T=new I(""),LL=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Po;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof wr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof xt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof En&&n.code===Lo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof jo&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>m(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new jo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Wg()};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function lv(e,...t){return ht([{provide:wi,multi:!0,useValue:e},[],{provide:In,useFactory:ET,deps:[Cn]},{provide:Yn,multi:!0,useFactory:IT},t.map(n=>n.\u0275providers)])}function ET(e){return e.routerState.root}function La(e,t){return{\u0275kind:e,\u0275providers:t}}function IT(){let e=g(fe);return t=>{let n=e.get(je);if(t!==n.components[0])return;let r=e.get(Cn),i=e.get(CT);e.get(uv)===1&&r.initialNavigation(),e.get(DT,null,{optional:!0})?.setUpPreloading(),e.get(_T,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var CT=new I("",{factory:()=>new Ie}),uv=new I("",{providedIn:"root",factory:()=>1});function wT(){let e=[{provide:uv,useValue:0},Fu(()=>{let t=g(fe);return t.get(ym,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(Cn),o=t.get(CT);Ad(i,()=>{r(!0)}),t.get(Sd).afterPreactivation=()=>(r(!0),o.closed?N(void 0):o),i.initialNavigation()}))})];return La(2,e)}function bT(){let e=[Fu(()=>{g(Cn).setUpLocationChangeListener()}),{provide:uv,useValue:2}];return La(3,e)}var DT=new I("");function TT(e){return La(0,[{provide:DT,useExisting:yT},{provide:Fa,useExisting:e}])}function ST(){return La(8,[tv,{provide:ka,useExisting:tv}])}function AT(e){rt("NgRouterViewTransitions");let t=[{provide:ov,useValue:gT},{provide:sv,useValue:v({skipNextTransition:!!e?.skipInitialTransition},e)}];return La(9,t)}var RT=[_r,{provide:Ii,useClass:Ir},Cn,Ci,{provide:In,useFactory:ET,deps:[Cn]},Dd,[]],Va=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[RT,[],{provide:wi,multi:!0,useValue:n},[],r?.errorHandler?{provide:av,useValue:r.errorHandler}:[],{provide:br,useValue:r||{}},r?.useHash?jL():UL(),VL(),r?.preloadingStrategy?TT(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?BL(r):[],r?.bindToComponentInputs?ST().\u0275providers:[],r?.enableViewTransitions?AT().\u0275providers:[],HL()]}}static forChild(n){return{ngModule:e,providers:[{provide:wi,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=gn({type:e});static \u0275inj=Lt({})}return e})();function VL(){return{provide:_T,useFactory:()=>{let e=g(fD),t=g(ee),n=g(br),r=g(Sd),i=g(Ii);return n.scrollOffset&&e.setOffset(n.scrollOffset),new LL(i,r,e,t,n)}}}function jL(){return{provide:Yt,useClass:Em}}function UL(){return{provide:Yt,useClass:Ku}}function BL(e){return[e.initialNavigation==="disabled"?bT().\u0275providers:[],e.initialNavigation==="enabledBlocking"?wT().\u0275providers:[]]}var cv=new I("");function HL(){return[{provide:cv,useFactory:IT},{provide:Yn,multi:!0,useExisting:cv}]}var Rd=class e{title=_t("cabbingo");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=qn({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&(E(0,"main"),Se(1,"router-outlet"),C())},dependencies:[xa],encapsulation:2})};var UT=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(L(zt),L(Mt))};static \u0275dir=ce({type:e})}return e})(),Ld=(()=>{class e extends UT{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,features:[it]})}return e})(),za=new I("");var $L={provide:za,useExisting:ft(()=>Vd),multi:!0};function WL(){let e=Ot()?Ot().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var zL=new I(""),Vd=(()=>{class e extends UT{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!WL())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(L(zt),L(Mt),L(zL,8))};static \u0275dir=ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&pe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[mn([$L]),it]})}return e})();var jd=new I(""),BT=new I("");function GL(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function qL(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function MT(e){return null}function HT(e){return e!=null}function $T(e){return fi(e)?ae(e):e}function WT(e){let t={};return e.forEach(n=>{t=n!=null?v(v({},t),n):t}),Object.keys(t).length===0?null:t}function zT(e,t){return t.map(n=>n(e))}function YL(e){return!e.validate}function GT(e){return e.map(t=>YL(t)?t:n=>t.validate(n))}function KL(e){if(!e)return null;let t=e.filter(HT);return t.length==0?null:function(n){return WT(zT(n,t))}}function pv(e){return e!=null?KL(GT(e)):null}function ZL(e){if(!e)return null;let t=e.filter(HT);return t.length==0?null:function(n){let r=zT(n,t).map($T);return Ch(r).pipe(G(WT))}}function gv(e){return e!=null?ZL(GT(e)):null}function OT(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function QL(e){return e._rawValidators}function JL(e){return e._rawAsyncValidators}function dv(e){return e?Array.isArray(e)?e:[e]:[]}function Md(e,t){return Array.isArray(e)?e.includes(t):e===t}function xT(e,t){let n=dv(t);return dv(e).forEach(i=>{Md(n,i)||n.push(i)}),n}function kT(e,t){return dv(t).filter(n=>!Md(e,n))}var Od=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=pv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Yo=class extends Od{name;get formDirective(){return null}get path(){return null}},Wa=class extends Od{_parent=null;name=null;valueAccessor=null},xd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},XL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},dee=x(v({},XL),{"[class.ng-submitted]":"isSubmitted"}),qT=(()=>{class e extends xd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(L(Wa,2))};static \u0275dir=ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&sa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[it]})}return e})(),YT=(()=>{class e extends xd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(L(Yo,10))};static \u0275dir=ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&sa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[it]})}return e})();var ja="VALID",Nd="INVALID",Go="PENDING",Ua="DISABLED",Dr=class{},kd=class extends Dr{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ha=class extends Dr{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},$a=class extends Dr{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},qo=class extends Dr{status;source;constructor(t,n){super(),this.status=t,this.source=n}},fv=class extends Dr{source;constructor(t){super(),this.source=t}},hv=class extends Dr{source;constructor(t){super(),this.source=t}};function KT(e){return(Ud(e)?e.validators:e)||null}function eV(e){return Array.isArray(e)?pv(e):e||null}function ZT(e,t){return(Ud(t)?t.asyncValidators:e)||null}function tV(e){return Array.isArray(e)?gv(e):e||null}function Ud(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function nV(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function rV(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var Pd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Gt(this.statusReactive)}set status(t){Gt(()=>this.statusReactive.set(t))}_status=pi(()=>this.statusReactive());statusReactive=_t(void 0);get valid(){return this.status===ja}get invalid(){return this.status===Nd}get pending(){return this.status==Go}get disabled(){return this.status===Ua}get enabled(){return this.status!==Ua}errors;get pristine(){return Gt(this.pristineReactive)}set pristine(t){Gt(()=>this.pristineReactive.set(t))}_pristine=pi(()=>this.pristineReactive());pristineReactive=_t(!0);get dirty(){return!this.pristine}get touched(){return Gt(this.touchedReactive)}set touched(t){Gt(()=>this.touchedReactive.set(t))}_touched=pi(()=>this.touchedReactive());touchedReactive=_t(!1);get untouched(){return!this.touched}_events=new Ie;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(xT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(xT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(kT(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(kT(t,this._rawAsyncValidators))}hasValidator(t){return Md(this._rawValidators,t)}hasAsyncValidator(t){return Md(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(x(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new $a(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new $a(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(x(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ha(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ha(!0,r))}markAsPending(t={}){this.status=Go;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new qo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(x(v({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ua,this.errors=null,this._forEachChild(i=>{i.disable(x(v({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new kd(this.value,r)),this._events.next(new qo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(x(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ja,this._forEachChild(r=>{r.enable(x(v({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(x(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ja||this.status===Go)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new kd(this.value,n)),this._events.next(new qo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(x(v({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ua:ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Go,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=$T(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new qo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?Ua:this.errors?Nd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Go)?Go:this._anyControlsHaveStatus(Nd)?Nd:ja}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Ha(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new $a(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ud(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=eV(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=tV(this._rawAsyncValidators)}},Fd=class extends Pd{constructor(t,n,r){super(KT(n),ZT(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){rV(this,!0,t),Object.keys(t).forEach(r=>{nV(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var mv=new I("",{providedIn:"root",factory:()=>vv}),vv="always";function iV(e,t){return[...t.path,e]}function QT(e,t,n=vv){JT(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),sV(e,t),cV(e,t),aV(e,t),oV(e,t)}function PT(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function oV(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function JT(e,t){let n=QL(e);t.validator!==null?e.setValidators(OT(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=JL(e);t.asyncValidator!==null?e.setAsyncValidators(OT(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();PT(t._rawValidators,i),PT(t._rawAsyncValidators,i)}function sV(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&XT(e,t)})}function aV(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&XT(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function XT(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function cV(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function lV(e,t){e==null,JT(e,t)}function uV(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function dV(e){return Object.getPrototypeOf(e.constructor)===Ld}function fV(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hV(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Vd?n=o:dV(o)?r=o:i=o}),i||r||n||null}var pV={provide:Yo,useExisting:ft(()=>yv)},Ba=Promise.resolve(),yv=(()=>{class e extends Yo{callSetDisabledState;get submitted(){return Gt(this.submittedReactive)}_submitted=pi(()=>this.submittedReactive());submittedReactive=_t(!1);_directives=new Set;form;ngSubmit=new De;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Fd({},pv(n),gv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ba.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),QT(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ba.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ba.then(()=>{let r=this._findContainer(n.path),i=new Fd({});lV(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ba.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ba.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),fV(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new fv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new hv(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(L(jd,10),L(BT,10),L(mv,8))};static \u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&pe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mn([pV]),it]})}return e})();function FT(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function LT(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var gV=class extends Pd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(KT(n),ZT(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ud(n)&&(n.nonNullable||n.initialValueIsDefault)&&(LT(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){FT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){FT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){LT(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var mV={provide:Wa,useExisting:ft(()=>_v)},VT=Promise.resolve(),_v=(()=>{class e extends Wa{_changeDetectorRef;callSetDisabledState;control=new gV;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new De;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=hV(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),uV(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){QT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){VT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&mi(r);VT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?iV(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(L(Yo,9),L(jd,10),L(BT,10),L(za,10),L(yr,8),L(mv,8))};static \u0275dir=ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[mn([mV]),it,Gn]})}return e})();var eS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),vV={provide:za,useExisting:ft(()=>Ev),multi:!0},Ev=(()=>{class e extends Ld{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&pe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[mn([vV]),it]})}return e})();var yV={provide:za,useExisting:ft(()=>Bd),multi:!0};function tS(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function _V(e){return e.split(":")[0]}var Bd=(()=>{class e extends Ld{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=g(je).injector;destroyRef=g(Bt);cdr=g(yr);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Ao({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=tS(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=_V(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&pe("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[mn([yV]),it]})}return e})(),nS=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(tS(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(L(Mt),L(zt),L(Bd,9))};static \u0275dir=ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),EV={provide:za,useExisting:ft(()=>rS),multi:!0};function jT(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function IV(e){return e.split(":")[0]}var rS=(()=>{class e extends Ld{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=IV(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&pe("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[mn([EV]),it]})}return e})(),iS=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(jT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(jT(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(L(Mt),L(zt),L(rS,9))};static \u0275dir=ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function oS(e){return typeof e=="number"?e:parseFloat(e)}var sS=(()=>{class e{_validator=MT;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):MT,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,features:[Gn]})}return e})(),CV={provide:jd,useExisting:ft(()=>Iv),multi:!0},Iv=(()=>{class e extends sS{max;inputName="max";normalizeInput=n=>oS(n);createValidator=n=>qL(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Kn("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[mn([CV]),it]})}return e})(),wV={provide:jd,useExisting:ft(()=>Cv),multi:!0},Cv=(()=>{class e extends sS{min;inputName="min";normalizeInput=n=>oS(n);createValidator=n=>GL(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Kn("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[mn([wV]),it]})}return e})();var bV=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=gn({type:e});static \u0275inj=Lt({})}return e})();var aS=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:mv,useValue:n.callSetDisabledState??vv}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=gn({type:e});static \u0275inj=Lt({imports:[bV]})}return e})();var bi=class{mockTiles1=[{id:1,title:"Draconic Visage",src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Foldschool.runescape.wiki%2Fimages%2Fthumb%2FDraconic_visage_detail.png%2F640px-Draconic_visage_detail.png%3F6edab&f=1&nofb=1&ipt=9aa9374a957e7a5a937b233244e3cfde042354fa7459254f457e7188786b5690",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)"]},{id:2,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:3,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:4,title:"Any megarare",src:"https://oldschool.runescape.wiki/images/thumb/Twisted_bow_detail.png/150px-Twisted_bow_detail.png?7aa10",bossSrc:"./assets/raids.png",alt:"Twisted Bow",description:"Obtain any megarare drop from any raid",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:5,title:"5 Venator Shards",src:"./assets/venator_shards.png",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:6,title:"Ultor Vestige",src:"https://oldschool.runescape.wiki/images/thumb/Ultor_vestige_detail.png/130px-Ultor_vestige_detail.png?99817",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Vardorvis.png/200px-Vardorvis.png?48af8",alt:"Ultor Vestige",description:"Obtain an Ultor Vestige from Vardorvis",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:7,title:"Draconic Visage",src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Foldschool.runescape.wiki%2Fimages%2Fthumb%2FDraconic_visage_detail.png%2F640px-Draconic_visage_detail.png%3F6edab&f=1&nofb=1&ipt=9aa9374a957e7a5a937b233244e3cfde042354fa7459254f457e7188786b5690",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:8,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:9,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:10,title:"3 Blood shards",src:"./assets/blood_shards.png",bossSrc:"./assets/raids.png",alt:"Blood Shard",description:"Obtain 3 Blood Shards from vyres",itemsRequired:3,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:11,title:"5 Venator Shards",src:"https://oldschool.runescape.wiki/images/thumb/Venator_shard_detail.png/130px-Venator_shard_detail.png?3ad3e",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:12,title:"Moons of perilus",src:"./assets/moons_set.png",bossSrc:"./assets/moons_bosses.png",alt:"Moons of perilus",description:"Obtain a Moons of perilus from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]}];mockTiles2=[{id:1,title:"Draconic Visage",src:"https://oldschool.runescape.wiki/images/thumb/Draconic_visage_detail.png/130px-Draconic_visage_detail.png?6edab",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:2,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:3,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:4,title:"Any megarare",src:"https://oldschool.runescape.wiki/images/thumb/Twisted_bow_detail.png/150px-Twisted_bow_detail.png?7aa10",bossSrc:"./assets/raids.png",alt:"Twisted Bow",description:"Obtain any megarare drop from any raid",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:5,title:"5 Venator Shards",src:"https://oldschool.runescape.wiki/images/thumb/Venator_shard_detail.png/130px-Venator_shard_detail.png?3ad3e",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:5,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:6,title:"Ultor Vestige",src:"https://oldschool.runescape.wiki/images/thumb/Ultor_vestige_detail.png/130px-Ultor_vestige_detail.png?99817",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Vardorvis.png/200px-Vardorvis.png?48af8",alt:"Ultor Vestige",description:"Obtain an Ultor Vestige from Vardorvis",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]}];board=[this.mockTiles1,this.mockTiles2]};var Tr={production:!0,firebaseConfig:{apiKey:"AIzaSyB2e36wu47-6DOc2_rAuHfiFTq9vm6GBD0",authDomain:"cabbingo-db.firebaseapp.com",databaseURL:"https://cabbingo-db-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cabbingo-db",storageBucket:"cabbingo-db.firebasestorage.app",messagingSenderId:"684304316440",appId:"1:684304316440:web:0660b0d72a68752cadeb6d"}};var cS=()=>{};var bv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var _=function(e,t){if(!e)throw Di(t)},Di=function(e){return new Error("Firebase Database ("+bv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var dS=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},TV=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Qo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(dS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):TV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Dv;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Dv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Sv=function(e){let t=dS(e);return Qo.encodeByteArray(t,!0)},qa=function(e){return Sv(e).replace(/\./g,"")},Ko=function(e){try{return Qo.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function fS(e){return hS(void 0,e)}function hS(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!SV(n)||(e[n]=hS(e[n],t[n]));return e}function SV(e){return e!=="__proto__"}function pS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var AV=()=>pS().__FIREBASE_DEFAULTS__,RV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},NV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Ko(e[1]);return t&&JSON.parse(t)},Av=()=>{try{return cS()||AV()||RV()||NV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gS=e=>{var t,n;return(n=(t=Av())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},mS=e=>{let t=gS(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Rv=()=>{var e;return(e=Av())===null||e===void 0?void 0:e.config},vS=e=>{var t;return(t=Av())===null||t===void 0?void 0:t[`_${e}`]};var Zt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function Ti(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function Nv(e){return m(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}function yS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[qa(JSON.stringify(n)),qa(JSON.stringify(s)),""].join(".")}var Ga={};function MV(){let e={prod:[],emulator:[]};for(let t of Object.keys(Ga))Ga[t]?e.emulator.push(t):e.prod.push(t);return e}function OV(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var lS=!1;function Mv(e,t){if(typeof window>"u"||typeof document>"u"||!Ti(window.location.host)||Ga[e]===t||Ga[e]||lS)return;Ga[e]=t;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=MV().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{lS=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=OV(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),T=n("preprendIcon"),le=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let Ne=f.element;a(Ne),u(w,y);let on=l();c(le,T),Ne.append(le,p,w,on),document.body.appendChild(Ne)}o?(p.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ya(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function _S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ES(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function $d(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bn(){return bv.NODE_CLIENT===!0||bv.NODE_ADMIN===!0}function Wd(){try{return typeof indexedDB=="object"}catch{return!1}}function IS(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var xV="FirebaseError",wn=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=xV,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qt.prototype.create)}},Qt=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?kV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new wn(i,a,r)}};function kV(e,t){return e.replace(PV,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var PV=/\{\$([^}]+)}/g;function Zo(e){return JSON.parse(e)}function Te(e){return JSON.stringify(e)}var CS=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=Zo(Ko(o[0])||""),n=Zo(Ko(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var wS=function(e){let t=CS(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},bS=function(e){let t=CS(e).claims;return typeof t=="object"&&t.admin===!0};function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Si(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function zd(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ka(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ai(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(uS(o)&&uS(s)){if(!Ai(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function uS(e){return e!==null&&typeof e=="object"}function Za(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}var Hd=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function DS(e,t){let n=new Tv(e,t);return n.subscribe.bind(n)}var Tv=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FV(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=wv),i.error===void 0&&(i.error=wv),i.complete===void 0&&(i.complete=wv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function FV(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function wv(){}function Gd(e,t){return`${e} failed: ${t} argument `}var TS=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,_(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Qa=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var yee=4*60*60*1e3;function bt(e){return e&&e._delegate?e._delegate:e}var Ze=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Ri="[DEFAULT]";var qd=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new Zt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VV(t))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Ri){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return m(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Ri){return this.instances.has(t)}getOptions(t=Ri){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LV(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ri){return this.component?this.component.multipleInstances?t:Ri:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LV(e){return e===Ri?void 0:e}function VV(e){return e.instantiationMode==="EAGER"}var Ja=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new qd(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var jV=[],re=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(re||{}),UV={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},BV=re.INFO,HV={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},$V=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=HV[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Tn=class{constructor(t){this.name=t,this._logLevel=BV,this._logHandler=$V,this._userLogHandler=null,jV.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}};var WV=(e,t)=>t.some(n=>e instanceof n),SS,AS;function zV(){return SS||(SS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GV(){return AS||(AS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var RS=new WeakMap,xv=new WeakMap,NS=new WeakMap,Ov=new WeakMap,Pv=new WeakMap;function qV(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Sn(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&RS.set(n,e)}).catch(()=>{}),Pv.set(t,e),t}function YV(e){if(xv.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});xv.set(e,t)}var kv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return xv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||NS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function MS(e){kv=e(kv)}function KV(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(Yd(this),t,...n);return NS.set(r,t.sort?t.sort():[t]),Sn(r)}:GV().includes(e)?function(...t){return e.apply(Yd(this),t),Sn(RS.get(this))}:function(...t){return Sn(e.apply(Yd(this),t))}}function ZV(e){return typeof e=="function"?KV(e):(e instanceof IDBTransaction&&YV(e),WV(e,zV())?new Proxy(e,kv):e)}function Sn(e){if(e instanceof IDBRequest)return qV(e);if(Ov.has(e))return Ov.get(e);let t=ZV(e);return t!==e&&(Ov.set(e,t),Pv.set(t,e)),t}var Yd=e=>Pv.get(e);function xS(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=Sn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Sn(s.result),c.oldVersion,c.newVersion,Sn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var QV=["get","getKey","getAll","getAllKeys","count"],JV=["put","add","delete","clear"],Fv=new Map;function OS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Fv.get(t))return Fv.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=JV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QV.includes(n)))return;let o=function(s,...a){return m(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Fv.set(t,o),o}MS(e=>x(v({},e),{get:(t,n,r)=>OS(t,n)||e.get(t,n,r),has:(t,n)=>!!OS(t,n)||e.has(t,n)}));var Vv=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function XV(e){let t=e.getComponent();return t?.type==="VERSION"}var jv="@firebase/app",kS="0.13.2";var er=new Tn("@firebase/app"),ej="@firebase/app-compat",tj="@firebase/analytics-compat",nj="@firebase/analytics",rj="@firebase/app-check-compat",ij="@firebase/app-check",oj="@firebase/auth",sj="@firebase/auth-compat",aj="@firebase/database",cj="@firebase/data-connect",lj="@firebase/database-compat",uj="@firebase/functions",dj="@firebase/functions-compat",fj="@firebase/installations",hj="@firebase/installations-compat",pj="@firebase/messaging",gj="@firebase/messaging-compat",mj="@firebase/performance",vj="@firebase/performance-compat",yj="@firebase/remote-config",_j="@firebase/remote-config-compat",Ej="@firebase/storage",Ij="@firebase/storage-compat",Cj="@firebase/firestore",wj="@firebase/ai",bj="@firebase/firestore-compat",Dj="firebase",Tj="11.10.0";var Uv="[DEFAULT]",Sj={[jv]:"fire-core",[ej]:"fire-core-compat",[nj]:"fire-analytics",[tj]:"fire-analytics-compat",[ij]:"fire-app-check",[rj]:"fire-app-check-compat",[oj]:"fire-auth",[sj]:"fire-auth-compat",[aj]:"fire-rtdb",[cj]:"fire-data-connect",[lj]:"fire-rtdb-compat",[uj]:"fire-fn",[dj]:"fire-fn-compat",[fj]:"fire-iid",[hj]:"fire-iid-compat",[pj]:"fire-fcm",[gj]:"fire-fcm-compat",[mj]:"fire-perf",[vj]:"fire-perf-compat",[yj]:"fire-rc",[_j]:"fire-rc-compat",[Ej]:"fire-gcs",[Ij]:"fire-gcs-compat",[Cj]:"fire-fst",[bj]:"fire-fst-compat",[wj]:"fire-vertex","fire-js":"fire-js",[Dj]:"fire-js-all"};var Xa=new Map,Aj=new Map,Bv=new Map;function PS(e,t){try{e.container.addComponent(t)}catch(n){er.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Xt(e){let t=e.name;if(Bv.has(t))return er.debug(`There were multiple attempts to register component ${t}.`),!1;Bv.set(t,e);for(let n of Xa.values())PS(n,e);for(let n of Aj.values())PS(n,e);return!0}function Kd(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function tr(e){return e==null?!1:e.settings!==void 0}var Rj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new Qt("app","Firebase",Rj);var Hv=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ze("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}};var Jo=Tj;function zv(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:Uv,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Sr.create("bad-app-name",{appName:String(i)});if(n||(n=Rv()),!n)throw Sr.create("no-options");let o=Xa.get(i);if(o){if(Ai(n,o.options)&&Ai(r,o.config))return o;throw Sr.create("duplicate-app",{appName:i})}let s=new Ja(i);for(let c of Bv.values())s.addComponent(c);let a=new Hv(n,r,s);return Xa.set(i,a),a}function Xo(e=Uv){let t=Xa.get(e);if(!t&&e===Uv&&Rv())return zv();if(!t)throw Sr.create("no-app",{appName:e});return t}function Zd(){return Array.from(Xa.values())}function Ee(e,t,n){var r;let i=(r=Sj[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),er.warn(a.join(" "));return}Xt(new Ze(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var Nj="firebase-heartbeat-database",Mj=1,ec="firebase-heartbeat-store",Lv=null;function jS(){return Lv||(Lv=xS(Nj,Mj,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ec)}catch(n){console.warn(n)}}}}).catch(e=>{throw Sr.create("idb-open",{originalErrorMessage:e.message})})),Lv}function Oj(e){return m(this,null,function*(){try{let n=(yield jS()).transaction(ec),r=yield n.objectStore(ec).get(US(e));return yield n.done,r}catch(t){if(t instanceof wn)er.warn(t.message);else{let n=Sr.create("idb-get",{originalErrorMessage:t?.message});er.warn(n.message)}}})}function FS(e,t){return m(this,null,function*(){try{let r=(yield jS()).transaction(ec,"readwrite");yield r.objectStore(ec).put(t,US(e)),yield r.done}catch(n){if(n instanceof wn)er.warn(n.message);else{let r=Sr.create("idb-set",{originalErrorMessage:n?.message});er.warn(r.message)}}})}function US(e){return`${e.name}!${e.options.appId}`}var xj=1024,kj=30,$v=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Wv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=LS();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>kj){let s=Fj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){er.warn(r)}})}getHeartbeatsHeader(){return m(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=LS(),{heartbeatsToSend:r,unsentEntries:i}=Pj(this._heartbeatsCache.heartbeats),o=qa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return er.warn(n),""}})}};function LS(){return new Date().toISOString().substring(0,10)}function Pj(e,t=xj){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),VS(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),VS(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Wv=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Wd()?IS().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Oj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return FS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return FS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function VS(e){return qa(JSON.stringify({version:2,heartbeats:e})).length}function Fj(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Lj(e){Xt(new Ze("platform-logger",t=>new Vv(t),"PRIVATE")),Xt(new Ze("heartbeat",t=>new $v(t),"PRIVATE")),Ee(jv,kS,e),Ee(jv,kS,"esm2017"),Ee("fire-js","")}Lj("");var Vj="firebase",jj="11.10.0";Ee(Vj,jj,"app");function BS(e){e===void 0&&(e=g(fe));let t=e.get(hr);return n=>new V(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Mi=new vr("ANGULARFIRE2_VERSION");function Jd(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var ts=(e,t)=>{let n=t?[t]:Zd(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},es=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(es||{}),HS=mm()&&typeof Zone<"u"?es.WARN:es.SILENT;var Qd=class{zone;delegate;constructor(t,n=_h){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Oi=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=g(ee);this.outsideAngular=n.runOutsideAngular(()=>new Qd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Qd(typeof Zone>"u"?void 0:Zone.current,yh))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$S=!1;function Uj(e,t){!$S&&(HS>es.SILENT||mm())&&($S=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),HS>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function Bj(e){let t=g(ee,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function Ni(e){let t=g(ee,{optional:!0});return t?t.run(()=>e()):e()}var Hj=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),ve(n,()=>Ni(()=>e.apply(void 0,r)))),An=(e,t,n)=>(n||=t?es.WARN:es.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=g(Oi),s=g(hr),a=g(de)}catch{return Uj(e,n),e.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(t&&(r||=Ni(()=>s.add())),i[l]=Hj(i[l],r,a));let c=Bj(()=>e.apply(this,i));return t?c instanceof V?c.pipe(or(o.outsideAngular),ir(o.insideAngular),BS(a)):c instanceof Promise?Ni(()=>{let l=s.add();return new Promise((u,d)=>{c.then(f=>ve(a,()=>Ni(()=>u(f))),f=>ve(a,()=>Ni(()=>d(f)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Ni(()=>c):c instanceof V?c.pipe(or(o.outsideAngular),ir(o.insideAngular)):Ni(()=>c)});var xi=class{constructor(t){return t}},tc=class{constructor(){return Zd()}};function $j(e){return e&&e.length===1?e[0]:new xi(Xo())}var Gv=new I("angularfire2._apps"),Wj={provide:xi,useFactory:$j,deps:[[new hn,Gv]]},zj={provide:tc,deps:[[new hn,Gv]]};function Gj(e){return(t,n)=>{let r=n.get(nt);Ee("angularfire",Mi.full,"core"),Ee("angularfire",Mi.full,"app"),Ee("angular",nD.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new xi(i)}}function WS(e,...t){return ht([Wj,zj,{provide:Gv,useFactory:Gj(e),multi:!0,deps:[ee,fe,Oi,...t]}])}var zS=An(zv,!0);var qj=new Map,Yj={activated:!1,tokenObservers:[]},Kj={initialized:!1,enabled:!1};function en(e){return qj.get(e)||Object.assign({},Yj)}function KS(){return Kj}var Zj="https://content-firebaseappcheck.googleapis.com/v1";var Qj="exchangeDebugToken",GS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Ite=24*60*60*1e3;var Kv=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return m(this,null,function*(){this.stop();try{this.pending=new Zt,this.pending.promise.catch(n=>{}),yield Jj(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Zt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Jj(e){return new Promise(t=>{setTimeout(t,e)})}var Xj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ar=new Qt("appCheck","AppCheck",Xj);function ZS(e){if(!en(e).activated)throw Ar.create("use-before-activation",{appName:e.name})}function QS(r,i){return m(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(h){throw Ar.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw Ar.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw Ar.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ar.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function JS(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Zj}/projects/${n}/apps/${r}:${Qj}?key=${i}`,body:{debug_token:t}}}var eU="firebase-app-check-database",tU=1,Zv="firebase-app-check-store";var Xd=null;function nU(){return Xd||(Xd=new Promise((e,t)=>{try{let n=indexedDB.open(eU,tU);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Ar.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Zv,{keyPath:"compositeKey"})}}}catch(n){t(Ar.create("storage-open",{originalErrorMessage:n?.message}))}}),Xd)}function rU(e,t){return iU(oU(e),t)}function iU(e,t){return m(this,null,function*(){let r=(yield nU()).transaction(Zv,"readwrite"),o=r.objectStore(Zv).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Ar.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function oU(e){return`${e.options.appId}-${e.name}`}var nc=new Tn("@firebase/app-check");function qv(e,t){return Wd()?rU(e,t).catch(n=>{nc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function XS(){return KS().enabled}function e0(){return m(this,null,function*(){let e=KS();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var sU={error:"UNKNOWN_ERROR"};function aU(e){return Qo.encodeString(JSON.stringify(e),!1)}function Qv(e,t=!1,n=!1){return m(this,null,function*(){let r=e.app;ZS(r);let i=en(r),o=i.token,s;if(o&&!rc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(rc(l)?o=l:yield qv(r,void 0))}if(!t&&o&&rc(o))return{token:o.token};let a=!1;if(XS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=QS(JS(r,yield e0()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield qv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?nc.warn(l.message):n&&nc.error(l),Yv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield en(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?nc.warn(l.message):n&&nc.error(l),s=l}let c;return o?s?rc(o)?c={token:o.token,internalError:s}:c=Yv(s):(c={token:o.token},i.token=o,yield qv(r,o)):c=Yv(s),a&&dU(r,c),c})}function cU(e){return m(this,null,function*(){let t=e.app;ZS(t);let{provider:n}=en(t);if(XS()){let r=yield e0(),{token:i}=yield QS(JS(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function lU(e,t,n,r){let{app:i}=e,o=en(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&rc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),qS(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>qS(e))}function t0(e,t){let n=en(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function qS(e){let{app:t}=e,n=en(t),r=n.tokenRefresher;r||(r=uU(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function uU(e){let{app:t}=e;return new Kv(()=>m(null,null,function*(){let n=en(t),r;if(n.token?r=yield Qv(e,!0):r=yield Qv(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=en(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},GS.RETRIAL_MIN_WAIT,GS.RETRIAL_MAX_WAIT)}function dU(e,t){let n=en(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function rc(e){return e.expireTimeMillis-Date.now()>0}function Yv(e){return{token:aU(sU),error:e}}var Jv=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=en(this.app);for(let n of t)t0(this.app,n.next);return Promise.resolve()}};function fU(e,t){return new Jv(e,t)}function hU(e){return{getToken:t=>Qv(e,t),getLimitedUseToken:()=>cU(e),addTokenListener:t=>lU(e,"INTERNAL",t),removeTokenListener:t=>t0(e.app,t)}}var pU="@firebase/app-check",gU="0.10.1";var mU="app-check",YS="app-check-internal";function vU(){Xt(new Ze(mU,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return fU(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(YS).initialize()})),Xt(new Ze(YS,e=>{let t=e.getProvider("app-check").getImmediate();return hU(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ee(pU,gU)}vU();var yU="app-check";var ef=class{constructor(){return ts(yU)}};var _U=["localhost","0.0.0.0","127.0.0.1"],kte=typeof window<"u"&&_U.includes(window.location.hostname);function l0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var u0=l0,d0=new Qt("auth","Firebase",l0());var of=new Tn("@firebase/auth");function EU(e,...t){of.logLevel<=re.WARN&&of.warn(`Auth (${Jo}): ${e}`,...t)}function nf(e,...t){of.logLevel<=re.ERROR&&of.error(`Auth (${Jo}): ${e}`,...t)}function n0(e,...t){throw uy(e,...t)}function ly(e,...t){return uy(e,...t)}function f0(e,t,n){let r=Object.assign(Object.assign({},u0()),{[t]:n});return new Qt("auth","Firebase",r).create(t,{appName:e.name})}function rf(e){return f0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uy(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return d0.create(e,...t)}function J(e,t,...n){if(!e)throw uy(t,...n)}function ic(e){let t="INTERNAL ASSERTION FAILED: "+e;throw nf(t),new Error(t)}function sf(e,t){e||ic(t)}function IU(){return r0()==="http:"||r0()==="https:"}function r0(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function CU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IU()||ES()||"connection"in navigator)?navigator.onLine:!0}function wU(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Fi=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,sf(n>t,"Short delay should be less than long delay!"),this.isMobile=Ya()||$d()}get(){return CU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function bU(e,t){sf(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var af=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ic("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ic("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ic("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var DU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var TU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SU=new Fi(3e4,6e4);function h0(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ff(o,s,a,c){return m(this,arguments,function*(e,t,n,r,i={}){return p0(e,i,()=>m(null,null,function*(){let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});let d=Za(Object.assign({key:e.config.apiKey},u)).slice(1),f=yield e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:f},l);return _S()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Ti(e.emulatorConfig.host)&&(h.credentials="include"),af.fetch()(yield g0(e,e.config.apiHost,n,d),h)}))})}function p0(e,t,n){return m(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},DU),t);try{let i=new ty(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw tf(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw tf(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw tf(e,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw f0(e,u,l);n0(e,u)}}catch(i){if(i instanceof wn)throw i;n0(e,"network-request-failed",{message:String(i)})}})}function g0(e,t,n,r){return m(this,null,function*(){let i=`${t}${n}?${r}`,o=e,s=o.config.emulator?bU(e.config,i):`${e.config.apiScheme}://${i}`;return TU.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var ty=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ly(this.auth,"network-request-failed")),SU.get())})}};function tf(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ly(e,t,r);return i.customData._tokenResponse=n,i}function AU(e,t){return m(this,null,function*(){return ff(e,"POST","/v1/accounts:delete",t)})}function cf(e,t){return m(this,null,function*(){return ff(e,"POST","/v1/accounts:lookup",t)})}function oc(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function dy(e,t=!1){return m(this,null,function*(){let n=bt(e),r=yield n.getIdToken(t),i=m0(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:oc(Xv(i.auth_time)),issuedAtTime:oc(Xv(i.iat)),expirationTime:oc(Xv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Xv(e){return Number(e)*1e3}function m0(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ko(n);return i?JSON.parse(i):(nf("Failed to decode base64 JWT payload"),null)}catch(i){return nf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function i0(e){let t=m0(e);return J(t,"internal-error"),J(typeof t.exp<"u","internal-error"),J(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function ny(e,t,n=!1){return m(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof wn&&RU(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function RU({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var ry=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ac=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function lf(e){return m(this,null,function*(){var t;let n=e.auth,r=yield e.getIdToken(),i=yield ny(e,cf(n,{idToken:r}));J(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?v0(o.providerUserInfo):[],a=NU(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ac(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function fy(e){return m(this,null,function*(){let t=bt(e);yield lf(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function NU(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function v0(e){return e.map(t=>{var{providerId:n}=t,r=Eh(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function MU(e,t){return m(this,null,function*(){let n=yield p0(e,{},()=>m(null,null,function*(){let r=Za({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=yield g0(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return e.emulatorConfig&&Ti(e.emulatorConfig.host)&&(c.credentials="include"),af.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function OU(e,t){return m(this,null,function*(){return ff(e,"POST","/v2/accounts:revokeToken",h0(e,t))})}var sc=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){J(t.idToken,"internal-error"),J(typeof t.idToken<"u","internal-error"),J(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):i0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){J(t.length!==0,"internal-error");let n=i0(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return m(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield MU(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(J(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return ic("not implemented")}};function Rr(e,t){J(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var ki=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=Eh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ry(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ac(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return m(this,null,function*(){let n=yield ny(this,this.stsTokenManager.getToken(this.auth,t));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return dy(this,t)}reload(){return fy(this)}_assign(t){this!==t&&(J(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return m(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield lf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(tr(this.auth.app))return Promise.reject(rf(this.auth));let t=yield this.getIdToken();return yield ny(this,AU(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(l=n.createdAt)!==null&&l!==void 0?l:void 0,le=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:Ne,emailVerified:on,isAnonymous:xc,providerData:Jf,stsTokenManager:j_}=n;J(Ne&&j_,t,"internal-error");let bR=sc.fromJSON(this.name,j_);J(typeof Ne=="string",t,"internal-error"),Rr(d,t.name),Rr(f,t.name),J(typeof on=="boolean",t,"internal-error"),J(typeof xc=="boolean",t,"internal-error"),Rr(h,t.name),Rr(p,t.name),Rr(y,t.name),Rr(w,t.name),Rr(T,t.name),Rr(le,t.name);let Xf=new e({uid:Ne,auth:t,email:f,emailVerified:on,displayName:d,isAnonymous:xc,photoURL:p,phoneNumber:h,tenantId:y,stsTokenManager:bR,createdAt:T,lastLoginAt:le});return Jf&&Array.isArray(Jf)&&(Xf.providerData=Jf.map(DR=>Object.assign({},DR))),w&&(Xf._redirectEventId=w),Xf}static _fromIdTokenResponse(t,n,r=!1){return m(this,null,function*(){let i=new sc;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield lf(o),o})}static _fromGetAccountInfoResponse(t,n,r){return m(this,null,function*(){let i=n.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?v0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new sc;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ac(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var o0=new Map;function Pi(e){sf(e instanceof Function,"Expected a class definition");let t=o0.get(e);return t?(sf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,o0.set(e,t),t)}var xU=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),iy=xU;function ey(e,t,n){return`firebase:${e}:${t}:${n}`}var uf=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ey(this.userKey,i.apiKey,o),this.fullPersistenceKey=ey("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return m(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=yield cf(this.auth,{idToken:t}).catch(()=>{});return n?ki._fromGetAccountInfoResponse(this.auth,n,t):null}return ki._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return m(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new e(Pi(iy),t,r);let i=(yield Promise.all(n.map(l=>m(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Pi(iy),s=ey(r,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield cf(t,{idToken:u}).catch(()=>{});if(!f)break;d=yield ki._fromGetAccountInfoResponse(t,f,u)}else d=ki._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>m(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,r))})}};function s0(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(LU(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kU(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jU(t))return"Blackberry";if(UU(t))return"Webos";if(PU(t))return"Safari";if((t.includes("chrome/")||FU(t))&&!t.includes("edge/"))return"Chrome";if(VU(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function kU(e=Jt()){return/firefox\//i.test(e)}function PU(e=Jt()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FU(e=Jt()){return/crios\//i.test(e)}function LU(e=Jt()){return/iemobile/i.test(e)}function VU(e=Jt()){return/android/i.test(e)}function jU(e=Jt()){return/blackberry/i.test(e)}function UU(e=Jt()){return/webos/i.test(e)}function y0(e,t=[]){let n;switch(e){case"Browser":n=s0(Jt());break;case"Worker":n=`${s0(Jt())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${r}`}var oy=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return m(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function BU(n){return m(this,arguments,function*(e,t={}){return ff(e,"GET","/v2/passwordPolicy",h0(e,t))})}var HU=6,sy=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:HU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var ay=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new df(this),this.idTokenSubscription=new df(this),this.beforeStateQueue=new oy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield uf.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return m(this,null,function*(){try{let n=yield cf(this,{idToken:t}),r=yield ki._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return m(this,null,function*(){var n;if(tr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return m(this,null,function*(){try{yield lf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=wU()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return m(this,null,function*(){if(tr(this.app))return Promise.reject(rf(this));let n=t?bt(t):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return m(this,null,function*(){if(!this._deleted)return t&&J(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return tr(this.app)?Promise.reject(rf(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return tr(this.app)?Promise.reject(rf(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(Pi(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let t=yield BU(this),n=new sy(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Qt("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield OU(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&Pi(t)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield uf.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return m(this,null,function*(){if(t===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return m(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var t;if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&EU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function $U(e){return bt(e)}var df=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=DS(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var WU={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zU(e){WU=e}function GU(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function qU(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Pi);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}var Gte=GU("rcb"),qte=new Fi(3e4,6e4);var Yte=new Fi(2e3,1e4);var Kte=10*60*1e3;var Zte=new Fi(3e4,6e4);var Qte=new Fi(5e3,15e3);var Jte=encodeURIComponent("fac");var a0="@firebase/auth",c0="1.10.8";var cy=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function YU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KU(e){Xt(new Ze("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y0(e)},l=new ay(r,i,o,c);return qU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Xt(new Ze("auth-internal",t=>{let n=$U(t.getProvider("auth").getImmediate());return(r=>new cy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ee(a0,c0,YU(e)),Ee(a0,c0,"esm2017")}var ZU=5*60,Xte=vS("authIdTokenMaxAge")||ZU;function QU(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}zU({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=ly("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",QU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KU("Browser");var KB="auth";var hf=class{constructor(){return ts(KB)}};var _0="@firebase/database",E0="1.0.20";var h_="";function ZB(e){h_=e}var Ey=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Te(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Zo(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var Iy=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Dn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var J0=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ey(t)}}catch{}return new Iy},Vi=J0("localStorage"),Cy=J0("sessionStorage");var is=new Tn("@firebase/database"),QB=function(){let e=1;return function(){return e++}}(),X0=function(e){let t=TS(e),n=new Hd;n.update(t);let r=n.digest();return Qo.encodeByteArray(r)},Tc=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Tc.apply(null,r):typeof r=="object"?t+=Te(r):t+=r,t+=" "}return t},Ui=null,I0=!0,JB=function(e,t){_(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(is.logLevel=re.VERBOSE,Ui=is.log.bind(is),t&&Cy.set("logging_enabled",!0)):typeof e=="function"?Ui=e:(Ui=null,Cy.remove("logging_enabled"))},Ue=function(...e){if(I0===!0&&(I0=!1,Ui===null&&Cy.get("logging_enabled")===!0&&JB(!0)),Ui){let t=Tc.apply(null,e);Ui(t)}},Sc=function(e){return function(...t){Ue(e,...t)}},wy=function(...e){let t="FIREBASE INTERNAL ERROR: "+Tc(...e);is.error(t)},nr=function(...e){let t=`FIREBASE FATAL ERROR: ${Tc(...e)}`;throw is.error(t),new Error(t)},st=function(...e){let t="FIREBASE WARNING: "+Tc(...e);is.warn(t)},XB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&st("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},eA=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},e2=function(e){if(bn()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ss="[MIN_NAME]",Bi="[MAX_NAME]",hs=function(e,t){if(e===t)return 0;if(e===ss||t===Bi)return-1;if(t===ss||e===Bi)return 1;{let n=C0(e),r=C0(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},t2=function(e,t){return e===t?0:e<t?-1:1},cc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Te(t))},p_=function(e){if(typeof e!="object"||e===null)return Te(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Te(t[r]),n+=":",n+=p_(e[t[r]]);return n+="}",n},tA=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function at(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var nA=function(e){_(!eA(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},n2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},r2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function i2(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var o2=new RegExp("^-?(0*)\\d{1,10}$"),s2=-2147483648,a2=2147483647,C0=function(e){if(o2.test(e)){let t=Number(e);if(t>=s2&&t<=a2)return t}return null},ps=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw st("Exception was thrown by user callback.",n),t},Math.floor(0))}},c2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hc=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var by=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,tr(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){st(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Dy=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',st(t)}},pc=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),gf="5",rA="v",iA="s",oA="r",sA="f",aA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cA="ls",lA="p",Ty="ac",uA="websocket",dA="long_polling";var mf=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Vi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function l2(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function fA(e,t,n){_(typeof t=="string","typeof type must == string"),_(typeof n=="object","typeof params must == object");let r;if(t===uA)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===dA)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);l2(e)&&(n.ns=e.namespace);let i=[];return at(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Sy=class{constructor(){this.counters_={}}incrementCounter(t,n=1){Dn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return fS(this.counters_)}};var hy={},py={};function g_(e){let t=e.toString();return hy[t]||(hy[t]=new Sy),hy[t]}function u2(e,t){let n=e.toString();return py[n]||(py[n]=t()),py[n]}var Ay=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ps(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var w0="start",d2="close",f2="pLPCommand",h2="pRTLPCB",hA="id",pA="pw",gA="ser",p2="cb",g2="seg",m2="ts",v2="d",y2="dframe",mA=1870,vA=30,_2=mA-vA,E2=25e3,I2=3e4,Ry=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sc(t),this.stats_=g_(n),this.urlFn=c=>(this.appCheckToken&&(c[Ty]=this.appCheckToken),fA(n,dA,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ay(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(I2)),e2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ny((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===w0)this.id=a,this.password=c;else if(s===d2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[w0]="t",r[gA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[p2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[rA]=gf,this.transportSessionId&&(r[iA]=this.transportSessionId),this.lastSessionId&&(r[cA]=this.lastSessionId),this.applicationId&&(r[lA]=this.applicationId),this.appCheckToken&&(r[Ty]=this.appCheckToken),typeof location<"u"&&location.hostname&&aA.test(location.hostname)&&(r[oA]=sA);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return bn()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!n2()&&!r2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=Te(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Sv(n),i=tA(r,_2);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(bn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[y2]="t",r[hA]=t,r[pA]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=Te(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Ny=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,bn())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=QB(),window[f2+this.uniqueCallbackIdentifier]=t,window[h2+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ue("frame writing exception"),a.stack&&Ue(a.stack),Ue(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ue("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[hA]=this.myID,t[pA]=this.myPW,t[gA]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+vA+r.length<=mA;){let s=this.pendingSegs.shift();r=r+"&"+g2+i+"="+s.seg+"&"+m2+i+"="+s.ts+"&"+v2+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(E2)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){bn()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ue("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var C2=16384,w2=45e3,vf=null;typeof MozWebSocket<"u"?vf=MozWebSocket:typeof WebSocket<"u"&&(vf=WebSocket);var lc=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sc(this.connId),this.stats_=g_(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[rA]=gf,!bn()&&typeof location<"u"&&location.hostname&&aA.test(location.hostname)&&(a[oA]=sA),r&&(a[iA]=r),i&&(a[cA]=i),o&&(a[Ty]=o),s&&(a[lA]=s),fA(n,uA,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vi.set("previous_websocket_failure",!0);try{let i;if(bn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${gf}/${h_}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new vf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&vf!==null&&!e.forceDisallow_}static previouslyFailed(){return Vi.isInMemoryStorage||Vi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Zo(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Te(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=tA(r,C2);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(w2))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),b2=(()=>{class e{static get ALL_TRANSPORTS(){return[Ry,lc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=lc&&lc.isAvailable(),i=r&&!lc.previouslyFailed();if(n.webSocketOnly&&(r||st("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[lc];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),D2=6e4,T2=5e3,S2=10*1024,A2=100*1024,gy="t",b0="d",R2="s",D0="r",N2="e",T0="o",S0="a",A0="n",R0="p",M2="h",My=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sc("c:"+this.id+":"),this.transportManager_=new b2(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=hc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>A2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>S2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(gy in t){let n=t[gy];n===S0?this.upgradeIfSecondaryHealthy_():n===D0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===T0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=cc("t",t),r=cc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:R0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:S0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:A0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=cc("t",t),r=cc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=cc(gy,t);if(b0 in t){let r=t[b0];if(n===M2){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===A0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===R2?this.onConnectionShutdown_(r):n===D0?this.onReset_(r):n===N2?wy("Server Error: "+r):n===T0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wy("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),gf!==r&&st("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),hc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(D2))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(T2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:R0,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var yf=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var _f=class{constructor(t){this.allowedEvents_=t,this.listeners_={},_(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){_(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var Ef=class e extends _f{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ya()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return _(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var N0=32,M0=768,ie=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function K(){return new ie("")}function H(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Or(e){return e.pieces_.length-e.pieceNum_}function oe(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ie(e.pieces_,t)}function yA(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function O2(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function _A(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function EA(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ie(t,0)}function Re(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ie)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ie(n,0)}function W(e){return e.pieceNum_>=e.pieces_.length}function Qe(e,t){let n=H(e),r=H(t);if(n===null)return t;if(n===r)return Qe(oe(e),oe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function m_(e,t){if(Or(e)!==Or(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function nn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Or(e)>Or(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Oy=class{constructor(t,n){this.errorPrefix_=n,this.parts_=_A(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qa(this.parts_[r]);IA(this)}};function x2(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Qa(t),IA(e)}function k2(e){let t=e.parts_.pop();e.byteLength_-=Qa(t),e.parts_.length>0&&(e.byteLength_-=1)}function IA(e){if(e.byteLength_>M0)throw new Error(e.errorPrefix_+"has a key path longer than "+M0+" bytes ("+e.byteLength_+").");if(e.parts_.length>N0)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+N0+") or object contains a cycle "+Li(e))}function Li(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var xy=class e extends _f{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return _(t==="visible","Unknown event type: "+t),[this.visible_]}};var uc=1e3,P2=60*5*1e3,O0=30*1e3,F2=1.3,L2=3e4,V2="server_kill",x0=3,v_=(()=>{class e extends yf{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=Sc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uc,this.maxReconnectDelay_=P2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!bn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xy.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ef.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Te(s)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Zt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Dn(n,"w")){let i=Si(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();st(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||bS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=O0)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=wS(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Te(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):wy("Unrecognized action received from server: "+Te(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>L2&&(this.reconnectDelay_=uc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*F2)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){_(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new My(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{st(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(V2)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&st(f),l())}}})}interrupt(n){Ue("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ue("Resuming connection for reason: "+n),delete this.interruptReasons_[n],zd(this.interruptReasons_)&&(this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>p_(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ie(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ue("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=x0&&(this.reconnectDelay_=O0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ue("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=x0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";bn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+h_.replace(/\./g,"-")]=1,Ya()?n["framework.cordova"]=1:$d()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Ef.getInstance().currentlyOnline();return zd(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),$=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var as=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new $(ss,t),i=new $(ss,n);return this.compare(r,i)!==0}minPost(){return $.MIN}};var pf,If=class extends as{static get __EMPTY_NODE(){return pf}static set __EMPTY_NODE(t){pf=t}compare(t,n){return hs(t.name,n.name)}isDefinedOn(t){throw Di("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return $.MIN}maxPost(){return new $(Bi,pf)}makePost(t,n){return _(typeof t=="string","KeyIndex indexValue must always be a string."),new $(t,pf)}toString(){return".key"}},os=new If;var rs=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},tn=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??kt.EMPTY_NODE,this.right=s??kt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return kt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return kt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),ky=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new tn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},kt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,tn.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,tn.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new rs(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new rs(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new rs(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new rs(this.root_,null,this.comparator_,!0,t)}};kt.EMPTY_NODE=new ky;function j2(e,t){return hs(e.name,t.name)}function y_(e,t){return hs(e,t)}var Py;function U2(e){Py=e}var CA=function(e){return typeof e=="number"?"number:"+nA(e):"string:"+e},wA=function(e){if(e.isLeafNode()){let t=e.val();_(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Dn(t,".sv"),"Priority must be a string or number.")}else _(e===Py||e.isEmpty(),"priority of unexpected type.");_(e===Py||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var k0,cs=(()=>{class e{static set __childrenNodeConstructor(n){k0=n}static get __childrenNodeConstructor(){return k0}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wA(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return W(n)?this:H(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=H(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(_(i!==".priority"||Or(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(oe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+CA(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=nA(this.value_):n+=this.value_,this.lazyHash_=X0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(_(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return _(o>=0,"Unknown leaf type: "+r),_(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),bA,DA;function B2(e){bA=e}function H2(e){DA=e}var Fy=class extends as{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?hs(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return $.MIN}maxPost(){return new $(Bi,new cs("[PRIORITY-POST]",DA))}makePost(t,n){let r=bA(t);return new $(n,new cs("[PRIORITY-POST]",r))}toString(){return".priority"}},ge=new Fy;var $2=Math.log(2),Ly=class{constructor(t){let n=o=>parseInt(Math.log(o)/$2,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},Cf=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new tn(f,d.node,tn.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),y=i(h+1,l);return d=e[h],f=n?n(d):d,new tn(f,d.node,tn.BLACK,p,y)}},o=function(c){let l=null,u=null,d=e.length,f=function(p,y){let w=d-p,T=d;d-=p;let le=i(w+1,T),Ne=e[w],on=n?n(Ne):Ne;h(new tn(on,Ne.node,y,null,le))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let y=c.nextBitIsOne(),w=Math.pow(2,c.count-(p+1));y?f(w,tn.BLACK):(f(w,tn.BLACK),f(w,tn.RED))}return u},s=new Ly(e.length),a=o(s);return new kt(r||t,a)};var my,ns={},ls=class e{static get Default(){return _(ns&&ge,"ChildrenNode.ts has not been loaded"),my=my||new e({".priority":ns},{".priority":ge}),my}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=Si(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof kt?n:null}hasIndex(t){return Dn(this.indexSet_,t.toString())}addIndex(t,n){_(t!==os,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator($.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Cf(r,t.getCompare()):a=ns;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=Ka(this.indexes_,(i,o)=>{let s=Si(this.indexSet_,o);if(_(s,"Missing index implementation for "+o),i===ns)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator($.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),Cf(a,s.getCompare())}else return ns;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new $(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=Ka(this.indexes_,i=>{if(i===ns)return i;{let o=n.get(t.name);return o?i.remove(new $(t.name,o)):i}});return new e(r,this.indexSet_)}};var dc,U=(()=>{class e{static get EMPTY_NODE(){return dc||(dc=new e(new kt(y_),null,ls.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&wA(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||dc}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?dc:r}}getChild(n){let r=H(n);return r===null?this:this.getImmediateChild(r).getChild(oe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(_(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new $(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?dc:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=H(n);if(i===null)return r;{_(H(n)!==".priority"||Or(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(oe(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(ge,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+CA(this.getPriority().val())+":"),this.forEachChild(ge,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":X0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new $(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new $(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new $(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,$.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,$.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ac?-1:0}withIndex(n){if(n===os||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===os||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ge),o=r.getIterator(ge),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===os?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Vy=class extends U{constructor(){super(new kt(y_),U.EMPTY_NODE,ls.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return U.EMPTY_NODE}isEmpty(){return!1}},Ac=new Vy;Object.defineProperties($,{MIN:{value:new $(ss,U.EMPTY_NODE)},MAX:{value:new $(Bi,Ac)}});If.__EMPTY_NODE=U.EMPTY_NODE;cs.__childrenNodeConstructor=U;U2(Ac);H2(Ac);var W2=!0;function xe(e,t=null){if(e===null)return U.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),_(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new cs(n,xe(t))}if(!(e instanceof Array)&&W2){let n=[],r=!1;if(at(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=xe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new $(s,c)))}}),n.length===0)return U.EMPTY_NODE;let o=Cf(n,j2,s=>s.name,y_);if(r){let s=Cf(n,ge.getCompare());return new U(o,xe(t),new ls({".priority":s},{".priority":ge}))}else return new U(o,xe(t),ls.Default)}else{let n=U.EMPTY_NODE;return at(e,(r,i)=>{if(Dn(e,r)&&r.substring(0,1)!=="."){let o=xe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(xe(t))}}B2(xe);var jy=class extends as{constructor(t){super(),this.indexPath_=t,_(!W(t)&&H(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?hs(t.name,n.name):o}makePost(t,n){let r=xe(t),i=U.EMPTY_NODE.updateChild(this.indexPath_,r);return new $(n,i)}maxPost(){let t=U.EMPTY_NODE.updateChild(this.indexPath_,Ac);return new $(Bi,t)}toString(){return _A(this.indexPath_,0).join("/")}};var Uy=class extends as{compare(t,n){let r=t.node.compareTo(n.node);return r===0?hs(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(t,n){let r=xe(t);return new $(n,r)}toString(){return".value"}},z2=new Uy;function TA(e){return{type:"value",snapshotNode:e}}function us(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function yc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function _c(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function G2(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Ec=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){_(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(yc(n,a)):_(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(us(n,r)):s.trackChildChange(_c(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ge,(i,o)=>{n.hasChild(i)||r.trackChildChange(yc(i,o))}),n.isLeafNode()||n.forEachChild(ge,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(_c(i,o,s))}else r.trackChildChange(us(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?U.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var wf=class e{constructor(t){this.indexedFilter_=new Ec(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new $(n,r))||(r=U.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=U.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(U.EMPTY_NODE);let o=this;return n.forEachChild(ge,(s,a)=>{o.matches(new $(s,a))||(i=i.updateImmediateChild(s,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var By=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new wf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new $(n,r))||(r=U.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=U.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(U.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;_(a.numChildren()===this.limit_,"");let c=new $(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(_c(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(yc(n,d));let y=a.updateImmediateChild(n,U.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(us(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?t:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(yc(l.name,l.node)),o.trackChildChange(us(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,U.EMPTY_NODE)):t}};var Hy=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ss}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ge}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function q2(e){return e.loadsAllData()?new Ec(e.getIndex()):e.hasLimit()?new By(e):new wf(e)}function P0(e){let t={};if(e.isDefault())return t;let n;if(e.index_===ge?n="$priority":e.index_===z2?n="$value":e.index_===os?n="$key":(_(e.index_ instanceof jy,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Te(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=Te(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Te(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Te(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Te(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function F0(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ge&&(t.i=e.index_.toString()),t}var $y=class e extends yf{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(_(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Sc("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=P0(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Si(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=P0(t._queryParams),r=t._path.toString(),i=new Zt;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Za(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Zo(a.responseText)}catch{st("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&st("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Wy=class{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function bf(){return{value:null,children:new Map}}function SA(e,t,n){if(W(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=H(t);e.children.has(r)||e.children.set(r,bf());let i=e.children.get(r);t=oe(t),SA(i,t,n)}}function zy(e,t,n){e.value!==null?n(t,e.value):Y2(e,(r,i)=>{let o=new ie(t.toString()+"/"+r);zy(i,o,n)})}function Y2(e,t){e.children.forEach((n,r)=>{t(r,n)})}var Gy=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&at(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var L0=10*1e3,K2=30*1e3,Z2=5*60*1e3,qy=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Gy(t);let r=L0+(K2-L0)*Math.random();hc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;at(t,(i,o)=>{o>0&&Dn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),hc(this.reportStats_.bind(this),Math.floor(Math.random()*2*Z2))}};var Rn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Rn||{});function AA(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function __(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function E_(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Yy=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Rn.ACK_USER_WRITE,this.source=AA()}operationForChild(t){if(W(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ie(t));return new e(K(),n,this.revert)}}else return _(H(this.path)===t,"operationForChild called for unrelated child."),new e(oe(this.path),this.affectedTree,this.revert)}};var Df=class e{constructor(t,n){this.source=t,this.path=n,this.type=Rn.LISTEN_COMPLETE}operationForChild(t){return W(this.path)?new e(this.source,K()):new e(this.source,oe(this.path))}};var ds=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Rn.OVERWRITE}operationForChild(t){return W(this.path)?new e(this.source,K(),this.snap.getImmediateChild(t)):new e(this.source,oe(this.path),this.snap)}};var Tf=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Rn.MERGE}operationForChild(t){if(W(this.path)){let n=this.children.subtree(new ie(t));return n.isEmpty()?null:n.value?new ds(this.source,K(),n.value):new e(this.source,K(),n)}else return _(H(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Nn=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(W(t))return this.isFullyInitialized()&&!this.filtered_;let n=H(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Ky=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function Q2(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(G2(s.childName,s.snapshotNode))}),fc(e,i,"child_removed",t,r,n),fc(e,i,"child_added",t,r,n),fc(e,i,"child_moved",o,r,n),fc(e,i,"child_changed",t,r,n),fc(e,i,"value",t,r,n),i}function fc(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>X2(e,a,c)),s.forEach(a=>{let c=J2(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function J2(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function X2(e,t,n){if(t.childName==null||n.childName==null)throw Di("Should only compare child_ events.");let r=new $(t.childName,t.snapshotNode),i=new $(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function Uf(e,t){return{eventCache:e,serverCache:t}}function gc(e,t,n,r){return Uf(new Nn(t,n,r),e.serverCache)}function RA(e,t,n,r){return Uf(e.eventCache,new Nn(t,n,r))}function Sf(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Hi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var vy,eH=()=>(vy||(vy=new kt(t2)),vy),ct=class e{static fromObject(t){let n=new e(null);return at(t,(r,i)=>{n=n.set(new ie(r),i)}),n}constructor(t,n=eH()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(W(t))return null;{let r=H(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(oe(t),n);return o!=null?{path:Re(new ie(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(W(t))return this;{let n=H(t),r=this.children.get(n);return r!==null?r.subtree(oe(t)):new e(null)}}set(t,n){if(W(t))return new e(n,this.children);{let r=H(t),o=(this.children.get(r)||new e(null)).set(oe(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(W(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=H(t),r=this.children.get(n);if(r){let i=r.remove(oe(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(W(t))return this.value;{let n=H(t),r=this.children.get(n);return r?r.get(oe(t)):null}}setTree(t,n){if(W(t))return n;{let r=H(t),o=(this.children.get(r)||new e(null)).setTree(oe(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(K(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Re(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,K(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(W(t))return null;{let o=H(t),s=this.children.get(o);return s?s.findOnPath_(oe(t),Re(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,K(),n)}foreachOnPath_(t,n,r){if(W(t))return this;{this.value&&r(n,this.value);let i=H(t),o=this.children.get(i);return o?o.foreachOnPath_(oe(t),Re(n,i),r):new e(null)}}foreach(t){this.foreach_(K(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Re(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var rn=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new ct(null))}};function mc(e,t,n){if(W(t))return new rn(new ct(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=Qe(i,t);return o=o.updateChild(s,n),new rn(e.writeTree_.set(i,o))}else{let i=new ct(n),o=e.writeTree_.setTree(t,i);return new rn(o)}}}function V0(e,t,n){let r=e;return at(n,(i,o)=>{r=mc(r,Re(t,i),o)}),r}function j0(e,t){if(W(t))return rn.empty();{let n=e.writeTree_.setTree(t,new ct(null));return new rn(n)}}function Zy(e,t){return $i(e,t)!=null}function $i(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Qe(n.path,t)):null}function U0(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ge,(r,i)=>{t.push(new $(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new $(r,i.value))}),t}function Nr(e,t){if(W(t))return e;{let n=$i(e,t);return n!=null?new rn(new ct(n)):new rn(e.writeTree_.subtree(t))}}function Qy(e){return e.writeTree_.isEmpty()}function fs(e,t){return NA(K(),e.writeTree_,t)}function NA(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(_(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=NA(Re(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Re(e,".priority"),r)),n}}function Bf(e,t){return kA(t,e)}function tH(e,t,n,r,i){_(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=mc(e.visibleWrites,t,n)),e.lastWriteId=r}function nH(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function rH(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);_(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&iH(a,r.path)?i=!1:nn(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return oH(e),!0;if(r.snap)e.visibleWrites=j0(e.visibleWrites,r.path);else{let a=r.children;at(a,c=>{e.visibleWrites=j0(e.visibleWrites,Re(r.path,c))})}return!0}else return!1}function iH(e,t){if(e.snap)return nn(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&nn(Re(e.path,n),t))return!0;return!1}function oH(e){e.visibleWrites=MA(e.allWrites,sH,K()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function sH(e){return e.visible}function MA(e,t,n){let r=rn.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)nn(n,s)?(a=Qe(n,s),r=mc(r,a,o.snap)):nn(s,n)&&(a=Qe(s,n),r=mc(r,K(),o.snap.getChild(a)));else if(o.children){if(nn(n,s))a=Qe(n,s),r=V0(r,a,o.children);else if(nn(s,n))if(a=Qe(s,n),W(a))r=V0(r,K(),o.children);else{let c=Si(o.children,H(a));if(c){let l=c.getChild(oe(a));r=mc(r,K(),l)}}}else throw Di("WriteRecord should have .snap or .children")}}return r}function OA(e,t,n,r,i){if(!r&&!i){let o=$i(e.visibleWrites,t);if(o!=null)return o;{let s=Nr(e.visibleWrites,t);if(Qy(s))return n;if(n==null&&!Zy(s,K()))return null;{let a=n||U.EMPTY_NODE;return fs(s,a)}}}else{let o=Nr(e.visibleWrites,t);if(!i&&Qy(o))return n;if(!i&&n==null&&!Zy(o,K()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(nn(l.path,t)||nn(t,l.path))},a=MA(e.allWrites,s,t),c=n||U.EMPTY_NODE;return fs(a,c)}}}function aH(e,t,n){let r=U.EMPTY_NODE,i=$i(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ge,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Nr(e.visibleWrites,t);return n.forEachChild(ge,(s,a)=>{let c=fs(Nr(o,new ie(s)),a);r=r.updateImmediateChild(s,c)}),U0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Nr(e.visibleWrites,t);return U0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function cH(e,t,n,r,i){_(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Re(t,n);if(Zy(e.visibleWrites,o))return null;{let s=Nr(e.visibleWrites,o);return Qy(s)?i.getChild(n):fs(s,i.getChild(n))}}function lH(e,t,n,r){let i=Re(t,n),o=$i(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Nr(e.visibleWrites,i);return fs(s,r.getNode().getImmediateChild(n))}else return null}function uH(e,t){return $i(e.visibleWrites,t)}function dH(e,t,n,r,i,o,s){let a,c=Nr(e.visibleWrites,t),l=$i(c,K());if(l!=null)a=l;else if(n!=null)a=fs(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function fH(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function Af(e,t,n,r){return OA(e.writeTree,e.treePath,t,n,r)}function I_(e,t){return aH(e.writeTree,e.treePath,t)}function B0(e,t,n,r){return cH(e.writeTree,e.treePath,t,n,r)}function Rf(e,t){return uH(e.writeTree,Re(e.treePath,t))}function hH(e,t,n,r,i,o){return dH(e.writeTree,e.treePath,t,n,r,i,o)}function C_(e,t,n){return lH(e.writeTree,e.treePath,t,n)}function xA(e,t){return kA(Re(e.treePath,t),e.writeTree)}function kA(e,t){return{treePath:e,writeTree:t}}var Jy=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;_(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,_c(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,yc(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,us(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,_c(r,t.snapshotNode,i.oldSnap));else throw Di("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Xy=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},PA=new Xy,Ic=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new Nn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return C_(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hi(this.viewCache_),o=hH(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function pH(e){return{filter:e}}function gH(e,t){_(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),_(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function mH(e,t,n,r,i){let o=new Jy,s,a;if(n.type===Rn.OVERWRITE){let l=n;l.source.fromUser?s=e_(e,t,l.path,l.snap,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!W(l.path),s=Nf(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Rn.MERGE){let l=n;l.source.fromUser?s=yH(e,t,l.path,l.children,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=t_(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Rn.ACK_USER_WRITE){let l=n;l.revert?s=IH(e,t,l.path,r,i,o):s=_H(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===Rn.LISTEN_COMPLETE)s=EH(e,t,n.path,r,o);else throw Di("Unknown operation type: "+n.type);let c=o.getChanges();return vH(t,s,c),{viewCache:s,changes:c}}function vH(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Sf(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(TA(Sf(t)))}}function FA(e,t,n,r,i,o){let s=t.eventCache;if(Rf(r,n)!=null)return t;{let a,c;if(W(n))if(_(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=Hi(t),u=l instanceof U?l:U.EMPTY_NODE,d=I_(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=Af(r,Hi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=H(n);if(l===".priority"){_(Or(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=B0(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=oe(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let f=B0(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=C_(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return gc(t,a,s.isFullyInitialized()||W(n),e.filter.filtersNodes())}}function Nf(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(W(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=H(n);if(!c.isCompleteForPath(n)&&Or(n)>1)return t;let p=oe(n),w=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),w):l=u.updateChild(c.getNode(),h,w,p,PA,null)}let d=RA(t,l,c.isFullyInitialized()||W(n),u.filtersNodes()),f=new Ic(i,d,o);return FA(e,d,n,i,f,a)}function e_(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new Ic(i,t,o);if(W(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=gc(t,l,!0,e.filter.filtersNodes());else{let d=H(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=gc(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=oe(n),h=a.getNode().getImmediateChild(d),p;if(W(f))p=r;else{let y=u.getCompleteChild(d);y!=null?yA(f)===".priority"&&y.getChild(EA(f)).isEmpty()?p=y:p=y.updateChild(f,r):p=U.EMPTY_NODE}if(h.equals(p))c=t;else{let y=e.filter.updateChild(a.getNode(),d,p,f,u,s);c=gc(t,y,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function H0(e,t){return e.eventCache.isCompleteForChild(t)}function yH(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=Re(n,c);H0(t,H(u))&&(a=e_(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Re(n,c);H0(t,H(u))||(a=e_(e,a,u,l,i,o,s))}),a}function $0(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function t_(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;W(n)?l=r:l=new ct(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=$0(e,h,f);c=Nf(e,c,new ie(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),y=$0(e,p,f);c=Nf(e,c,new ie(d),y,i,o,s,a)}}),c}function _H(e,t,n,r,i,o,s){if(Rf(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(W(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Nf(e,t,n,c.getNode().getChild(n),i,o,a,s);if(W(n)){let l=new ct(null);return c.getNode().forEachChild(os,(u,d)=>{l=l.set(new ie(u),d)}),t_(e,t,n,l,i,o,a,s)}else return t}else{let l=new ct(null);return r.foreach((u,d)=>{let f=Re(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),t_(e,t,n,l,i,o,a,s)}}function EH(e,t,n,r,i){let o=t.serverCache,s=RA(t,o.getNode(),o.isFullyInitialized()||W(n),o.isFiltered());return FA(e,s,n,r,PA,i)}function IH(e,t,n,r,i,o){let s;if(Rf(r,n)!=null)return t;{let a=new Ic(r,t,i),c=t.eventCache.getNode(),l;if(W(n)||H(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Af(r,Hi(t));else{let d=t.serverCache.getNode();_(d instanceof U,"serverChildren would be complete if leaf node"),u=I_(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=H(n),d=C_(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,oe(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,U.EMPTY_NODE,oe(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Af(r,Hi(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||Rf(r,K())!=null,gc(t,l,s,e.filter.filtersNodes())}}var n_=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Ec(r.getIndex()),o=q2(r);this.processor_=pH(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(U.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(U.EMPTY_NODE,a.getNode(),null),u=new Nn(c,s.isFullyInitialized(),i.filtersNodes()),d=new Nn(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Uf(d,u),this.eventGenerator_=new Ky(this.query_)}get query(){return this.query_}};function CH(e){return e.viewCache_.serverCache.getNode()}function wH(e){return Sf(e.viewCache_)}function bH(e,t){let n=Hi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!W(t)&&!n.getImmediateChild(H(t)).isEmpty())?n.getChild(t):null}function W0(e){return e.eventRegistrations_.length===0}function DH(e,t){e.eventRegistrations_.push(t)}function z0(e,t,n){let r=[];if(n){_(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function G0(e,t,n,r){t.type===Rn.MERGE&&t.source.queryId!==null&&(_(Hi(e.viewCache_),"We should always have a full cache before handling merges"),_(Sf(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=mH(e.processor_,i,t,n,r);return gH(e.processor_,o.viewCache),_(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,LA(e,o.changes,o.viewCache.eventCache.getNode(),null)}function TH(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ge,(o,s)=>{r.push(us(o,s))}),n.isFullyInitialized()&&r.push(TA(n.getNode())),LA(e,r,n.getNode(),t)}function LA(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return Q2(e.eventGenerator_,t,n,i)}var Mf,Of=class{constructor(){this.views=new Map}};function SH(e){_(!Mf,"__referenceConstructor has already been defined"),Mf=e}function AH(){return _(Mf,"Reference.ts has not been loaded"),Mf}function RH(e){return e.views.size===0}function w_(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return _(o!=null,"SyncTree gave us an op for an invalid query."),G0(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(G0(s,t,n,r));return o}}function VA(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=Af(n,i?r:null),c=!1;a?c=!0:r instanceof U?(a=I_(n,r),c=!1):(a=U.EMPTY_NODE,c=!1);let l=Uf(new Nn(a,c,!1),new Nn(r,i,!1));return new n_(t,l)}return s}function NH(e,t,n,r,i,o){let s=VA(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),DH(s,n),TH(s,n)}function MH(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=xr(e);if(i==="default")for(let[c,l]of e.views.entries())s=s.concat(z0(l,n,r)),W0(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(i);c&&(s=s.concat(z0(c,n,r)),W0(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!xr(e)&&o.push(new(AH())(t._repo,t._path)),{removed:o,events:s}}function jA(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Mr(e,t){let n=null;for(let r of e.views.values())n=n||bH(r,t);return n}function UA(e,t){if(t._queryParams.loadsAllData())return Hf(e);{let r=t._queryIdentifier;return e.views.get(r)}}function BA(e,t){return UA(e,t)!=null}function xr(e){return Hf(e)!=null}function Hf(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var xf;function OH(e){_(!xf,"__referenceConstructor has already been defined"),xf=e}function xH(){return _(xf,"Reference.ts has not been loaded"),xf}var kH=1,kf=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ct(null),this.pendingWriteTree_=fH(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function HA(e,t,n,r,i){return tH(e.pendingWriteTree_,t,n,r,i),i?Nc(e,new ds(AA(),t,n)):[]}function ji(e,t,n=!1){let r=nH(e.pendingWriteTree_,t);if(rH(e.pendingWriteTree_,t)){let o=new ct(null);return r.snap!=null?o=o.set(K(),!0):at(r.children,s=>{o=o.set(new ie(s),!0)}),Nc(e,new Yy(r.path,o,n))}else return[]}function Rc(e,t,n){return Nc(e,new ds(__(),t,n))}function PH(e,t,n){let r=ct.fromObject(n);return Nc(e,new Tf(__(),t,r))}function FH(e,t){return Nc(e,new Df(__(),t))}function LH(e,t,n){let r=D_(e,n);if(r){let i=T_(r),o=i.path,s=i.queryId,a=Qe(o,t),c=new Df(E_(s),a);return S_(e,o,c)}else return[]}function Pf(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||BA(s,t))){let c=MH(s,t,n,r);RH(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>xr(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=UH(f);for(let p=0;p<h.length;++p){let y=h[p],w=y.query,T=GA(e,y);e.listenProvider_.startListening(vc(w),Cc(e,w),T.hashFn,T.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(vc(t),null):l.forEach(f=>{let h=e.queryToTagMap.get($f(f));e.listenProvider_.stopListening(vc(f),h)}))}BH(e,l)}return a}function $A(e,t,n,r){let i=D_(e,r);if(i!=null){let o=T_(i),s=o.path,a=o.queryId,c=Qe(s,t),l=new ds(E_(a),c,n);return S_(e,s,l)}else return[]}function VH(e,t,n,r){let i=D_(e,r);if(i){let o=T_(i),s=o.path,a=o.queryId,c=Qe(s,t),l=ct.fromObject(n),u=new Tf(E_(a),c,l);return S_(e,s,u)}else return[]}function r_(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Qe(f,i);o=o||Mr(h,p),s=s||xr(h)});let a=e.syncPointTree_.get(i);a?(s=s||xr(a),o=o||Mr(a,K())):(a=new Of,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=U.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let y=Mr(p,K());y&&(o=o.updateImmediateChild(h,y))}));let l=BA(a,t);if(!l&&!t._queryParams.loadsAllData()){let f=$f(t);_(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=HH();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=Bf(e.pendingWriteTree_,i),d=NH(a,t,n,u,o,c);if(!l&&!s&&!r){let f=UA(a,t);d=d.concat($H(e,t,f))}return d}function b_(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=Qe(s,t),l=Mr(a,c);if(l)return l});return OA(i,t,o,n,!0)}function jH(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=Qe(l,n);r=r||Mr(u,d)});let i=e.syncPointTree_.get(n);i?r=r||Mr(i,K()):(i=new Of,e.syncPointTree_=e.syncPointTree_.set(n,i));let o=r!=null,s=o?new Nn(r,!0,!1):null,a=Bf(e.pendingWriteTree_,t._path),c=VA(i,t,a,o?s.getNode():U.EMPTY_NODE,o);return wH(c)}function Nc(e,t){return WA(t,e.syncPointTree_,null,Bf(e.pendingWriteTree_,K()))}function WA(e,t,n,r){if(W(e.path))return zA(e,t,n,r);{let i=t.get(K());n==null&&i!=null&&(n=Mr(i,K()));let o=[],s=H(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=xA(r,s);o=o.concat(WA(a,c,l,u))}return i&&(o=o.concat(w_(i,e,r,n))),o}}function zA(e,t,n,r){let i=t.get(K());n==null&&i!=null&&(n=Mr(i,K()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=xA(r,s),u=e.operationForChild(s);u&&(o=o.concat(zA(u,a,c,l)))}),i&&(o=o.concat(w_(i,e,r,n))),o}function GA(e,t){let n=t.query,r=Cc(e,n);return{hashFn:()=>(CH(t)||U.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?LH(e,n._path,r):FH(e,n._path);{let o=i2(i,n);return Pf(e,n,null,o)}}}}function Cc(e,t){let n=$f(t);return e.queryToTagMap.get(n)}function $f(e){return e._path.toString()+"$"+e._queryIdentifier}function D_(e,t){return e.tagToQueryMap.get(t)}function T_(e){let t=e.indexOf("$");return _(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ie(e.substr(0,t))}}function S_(e,t,n){let r=e.syncPointTree_.get(t);_(r,"Missing sync point for query tag that we're tracking");let i=Bf(e.pendingWriteTree_,t);return w_(r,n,i,null)}function UH(e){return e.fold((t,n,r)=>{if(n&&xr(n))return[Hf(n)];{let i=[];return n&&(i=jA(n)),at(r,(o,s)=>{i=i.concat(s)}),i}})}function vc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(xH())(e._repo,e._path):e}function BH(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=$f(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function HH(){return kH++}function $H(e,t,n){let r=t._path,i=Cc(e,t),o=GA(e,n),s=e.listenProvider_.startListening(vc(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)_(!xr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!W(l)&&u&&xr(u))return[Hf(u).query];{let f=[];return u&&(f=f.concat(jA(u).map(h=>h.query))),at(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(vc(u),Cc(e,u))}}return s}var i_=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},o_=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=Re(this.path_,t);return new e(this.syncTree_,n)}node(){return b_(this.syncTree_,this.path_)}},WH=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},q0=function(e,t,n){if(!e||typeof e!="object")return e;if(_(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return zH(e[".sv"],t,n);if(typeof e[".sv"]=="object")return GH(e[".sv"],t);_(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},zH=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:_(!1,"Unexpected server value: "+e)}},GH=function(e,t,n){e.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&_(!1,"Unexpected increment value: "+r);let i=t.node();if(_(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},qH=function(e,t,n,r){return A_(t,new o_(n,e),r)},qA=function(e,t,n){return A_(e,new i_(t),n)};function A_(e,t,n){let r=e.getPriority().val(),i=q0(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=q0(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new cs(a,xe(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new cs(i))),s.forEachChild(ge,(a,c)=>{let l=A_(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var wc=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function R_(e,t){let n=t instanceof ie?t:new ie(t),r=e,i=H(n);for(;i!==null;){let o=Si(r.node.children,i)||{children:{},childCount:0};r=new wc(i,r,o),n=oe(n),i=H(n)}return r}function gs(e){return e.node.value}function YA(e,t){e.node.value=t,s_(e)}function KA(e){return e.node.childCount>0}function YH(e){return gs(e)===void 0&&!KA(e)}function Wf(e,t){at(e.node.children,(n,r)=>{t(new wc(n,e,r))})}function ZA(e,t,n,r){n&&!r&&t(e),Wf(e,i=>{ZA(i,t,!0,r)}),n&&r&&t(e)}function KH(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Mc(e){return new ie(e.parent===null?e.name:Mc(e.parent)+"/"+e.name)}function s_(e){e.parent!==null&&ZH(e.parent,e.name,e)}function ZH(e,t,n){let r=YH(n),i=Dn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,s_(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,s_(e))}var QH=/[\[\].#$\/\u0000-\u001F\u007F]/,JH=/[\[\].#$\u0000-\u001F\u007F]/,yy=10*1024*1024,QA=function(e){return typeof e=="string"&&e.length!==0&&!QH.test(e)},JA=function(e){return typeof e=="string"&&e.length!==0&&!JH.test(e)},XH=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),JA(e)};var e$=function(e,t,n,r){r&&t===void 0||N_(Gd(e,"value"),t,n)},N_=function(e,t,n){let r=n instanceof ie?new Oy(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Li(r));if(typeof t=="function")throw new Error(e+"contains a function "+Li(r)+" with contents = "+t.toString());if(eA(t))throw new Error(e+"contains "+t.toString()+" "+Li(r));if(typeof t=="string"&&t.length>yy/3&&Qa(t)>yy)throw new Error(e+"contains a string greater than "+yy+" utf8 bytes "+Li(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(at(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!QA(s)))throw new Error(e+" contains an invalid key ("+s+") "+Li(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);x2(r,s),N_(e,a,r),k2(r)}),i&&o)throw new Error(e+' contains ".value" child '+Li(r)+" in addition to actual children.")}};var XA=function(e,t,n,r){if(!(r&&n===void 0)&&!JA(n))throw new Error(Gd(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},t$=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),XA(e,t,n,r)},n$=function(e,t){if(H(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},r$=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!QA(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!XH(n))throw new Error(Gd(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var a_=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function M_(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!m_(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function eR(e,t,n){M_(e,n),tR(e,r=>m_(r,t))}function Mn(e,t,n){M_(e,n),tR(e,r=>nn(r,t)||nn(t,r))}function tR(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(i$(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function i$(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();Ui&&Ue("event: "+n.toString()),ps(r)}}}var o$="repo_interrupt",s$=25,c_=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new a_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bf(),this.transactionQueueTree_=new wc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function a$(e,t,n){if(e.stats_=g_(e.repoInfo_),e.forceRestClient_||c2())e.server_=new $y(e.repoInfo_,(r,i,o,s)=>{Y0(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>K0(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Te(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new v_(e.repoInfo_,t,(r,i,o,s)=>{Y0(e,r,i,o,s)},r=>{K0(e,r)},r=>{l$(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=u2(e.repoInfo_,()=>new qy(e.stats_,e.server_)),e.infoData_=new Wy,e.infoSyncTree_=new kf({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=Rc(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),x_(e,"connected",!1),e.serverSyncTree_=new kf({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Mn(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function c$(e){let n=e.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function O_(e){return WH({timestamp:c$(e)})}function Y0(e,t,n,r,i){e.dataUpdateCount++;let o=new ie(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=Ka(n,l=>xe(l));s=VH(e.serverSyncTree_,o,c,i)}else{let c=xe(n);s=$A(e.serverSyncTree_,o,c,i)}else if(r){let c=Ka(n,l=>xe(l));s=PH(e.serverSyncTree_,o,c)}else{let c=xe(n);s=Rc(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Gf(e,o)),Mn(e.eventQueue_,a,s)}function K0(e,t){x_(e,"connected",t),t===!1&&f$(e)}function l$(e,t){at(t,(n,r)=>{x_(e,n,r)})}function x_(e,t,n){let r=new ie("/.info/"+t),i=xe(n);e.infoData_.updateSnapshot(r,i);let o=Rc(e.infoSyncTree_,r,i);Mn(e.eventQueue_,r,o)}function nR(e){return e.nextWriteId_++}function u$(e,t,n){let r=jH(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{let o=xe(i).withIndex(t._queryParams.getIndex());r_(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=Rc(e.serverSyncTree_,t._path,o);else{let a=Cc(e.serverSyncTree_,t);s=$A(e.serverSyncTree_,t._path,o,a)}return Mn(e.eventQueue_,t._path,s),Pf(e.serverSyncTree_,t,n,null,!0),o},i=>(zf(e,"get for query "+Te(t)+" failed: "+i),Promise.reject(new Error(i))))}function d$(e,t,n,r,i){zf(e,"set",{path:t.toString(),value:n,priority:r});let o=O_(e),s=xe(n,r),a=b_(e.serverSyncTree_,t),c=qA(s,a,o),l=nR(e),u=HA(e.serverSyncTree_,t,c,l,!0);M_(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||st("set at "+t+" failed: "+f);let y=ji(e.serverSyncTree_,l,!p);Mn(e.eventQueue_,t,y),g$(e,i,f,h)});let d=aR(e,t);Gf(e,d),Mn(e.eventQueue_,d,[])}function f$(e){zf(e,"onDisconnectEvents");let t=O_(e),n=bf();zy(e.onDisconnect_,K(),(i,o)=>{let s=qH(i,o,e.serverSyncTree_,t);SA(n,i,s)});let r=[];zy(n,K(),(i,o)=>{r=r.concat(Rc(e.serverSyncTree_,i,o));let s=aR(e,i);Gf(e,s)}),e.onDisconnect_=bf(),Mn(e.eventQueue_,K(),r)}function h$(e,t,n){let r;H(t._path)===".info"?r=r_(e.infoSyncTree_,t,n):r=r_(e.serverSyncTree_,t,n),eR(e.eventQueue_,t._path,r)}function Z0(e,t,n){let r;H(t._path)===".info"?r=Pf(e.infoSyncTree_,t,n):r=Pf(e.serverSyncTree_,t,n),eR(e.eventQueue_,t._path,r)}function p$(e){e.persistentConnection_&&e.persistentConnection_.interrupt(o$)}function zf(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ue(n,...t)}function g$(e,t,n,r){t&&ps(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function rR(e,t,n){return b_(e.serverSyncTree_,t,n)||U.EMPTY_NODE}function k_(e,t=e.transactionQueueTree_){if(t||qf(e,t),gs(t)){let n=oR(e,t);_(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&m$(e,Mc(t),n)}else KA(t)&&Wf(t,n=>{k_(e,n)})}function m$(e,t,n){let r=n.map(l=>l.currentWriteId),i=rR(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Qe(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{zf(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ji(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();qf(e,R_(e.transactionQueueTree_,t)),k_(e,e.transactionQueueTree_),Mn(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)ps(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{st("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Gf(e,t)}},s)}function Gf(e,t){let n=iR(e,t),r=Mc(n),i=oR(e,n);return v$(e,i,r),r}function v$(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=Qe(n,c.path),u=!1,d;if(_(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(ji(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=s$)u=!0,d="maxretry",i=i.concat(ji(e.serverSyncTree_,c.currentWriteId,!0));else{let f=rR(e,c.path,s);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){N_("transaction failed: Data returned ",h,c.path);let p=xe(h);typeof h=="object"&&h!=null&&Dn(h,".priority")||(p=p.updatePriority(f.getPriority()));let w=c.currentWriteId,T=O_(e),le=qA(p,f,T);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=le,c.currentWriteId=nR(e),s.splice(s.indexOf(w),1),i=i.concat(HA(e.serverSyncTree_,c.path,le,c.currentWriteId,c.applyLocally)),i=i.concat(ji(e.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(ji(e.serverSyncTree_,c.currentWriteId,!0))}Mn(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}qf(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)ps(r[a]);k_(e,e.transactionQueueTree_)}function iR(e,t){let n,r=e.transactionQueueTree_;for(n=H(t);n!==null&&gs(r)===void 0;)r=R_(r,n),t=oe(t),n=H(t);return r}function oR(e,t){let n=[];return sR(e,t,n),n.sort((r,i)=>r.order-i.order),n}function sR(e,t,n){let r=gs(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Wf(t,i=>{sR(e,i,n)})}function qf(e,t){let n=gs(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,YA(t,n.length>0?n:void 0)}Wf(t,r=>{qf(e,r)})}function aR(e,t){let n=Mc(iR(e,t)),r=R_(e.transactionQueueTree_,t);return KH(r,i=>{_y(e,i)}),_y(e,r),ZA(r,i=>{_y(e,i)}),n}function _y(e,t){let n=gs(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(_(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(_(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ji(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?YA(t,void 0):n.length=o+1,Mn(e.eventQueue_,Mc(t),i);for(let s=0;s<r.length;s++)ps(r[s])}}function y$(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function _$(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):st(`Invalid query segment '${n}' in query '${e}'`)}return t}var Q0=function(e,t){let n=E$(e),r=n.namespace;n.domain==="firebase.com"&&nr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&nr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||XB();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new mf(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ie(n.pathString)}},E$=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=y$(e.substring(u,d)));let f=_$(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Ff=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Te(this.snapshot.exportVal())}},Lf=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Vf=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return _(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var l_=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return W(this._path)?null:yA(this._path)}get ref(){return new On(this._repo,this._path)}get _queryIdentifier(){let t=F0(this._queryParams),n=p_(t);return n==="{}"?"default":n}get _queryObject(){return F0(this._queryParams)}isEqual(t){if(t=bt(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=m_(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+O2(this._path)}};var On=class e extends l_{constructor(t,n){super(t,n,new Hy,!1)}get parent(){let t=EA(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},bc=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new ie(t),r=Dc(this.ref,t);return new e(this._node.getChild(n),r,ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,Dc(this.ref,r),ge)))}hasChild(t){let n=new ie(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function cR(e,t){return e=bt(e),e._checkNotDeleted("ref"),t!==void 0?Dc(e._root,t):e._root}function Dc(e,t){return e=bt(e),H(e._path)===null?t$("child","path",t,!1):XA("child","path",t,!1),new On(e._repo,Re(e._path,t))}function lR(e,t){e=bt(e),n$("set",e._path),e$("set",t,e._path,!1);let n=new Zt;return d$(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function uR(e){e=bt(e);let t=new Vf(()=>{}),n=new jf(t);return u$(e._repo,e,n).then(r=>new bc(r,new On(e._repo,e._path),e._queryParams.getIndex()))}var jf=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new Ff("value",this,new bc(t.snapshotNode,new On(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Lf(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},u_=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Lf(this,t,n):null}createEvent(t,n){_(t.childName!=null,"Child events should have a childName.");let r=Dc(new On(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Ff(t.type,this,new bc(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function I$(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{Z0(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new Vf(n,o||void 0),a=t==="value"?new jf(s):new u_(t,s);return h$(e._repo,e,a),()=>Z0(e._repo,e,a)}function dR(e,t,n,r){return I$(e,"value",t,n,r)}SH(On);OH(On);var C$="FIREBASE_DATABASE_EMULATOR_HOST",d_={},w$=!1;function b$(e,t,n,r){let i=t.lastIndexOf(":"),o=t.substring(0,i),s=Ti(o);e.repoInfo_=new mf(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function D$(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||nr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=Q0(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[C$]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=Q0(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new pc(pc.OWNER):new Dy(e.name,e.options,t);r$("Invalid Firebase Database URL",s),W(s.path)||nr("Database URL must point to the root of a Firebase Database (not including a child path).");let d=S$(a,e,u,new by(e,n));return new f_(d,e)}function T$(e,t){let n=d_[t];(!n||n[e.key]!==e)&&nr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),p$(e),delete n[e.key]}function S$(e,t,n,r){let i=d_[t.name];i||(i={},d_[t.name]=i);let o=i[e.toURLString()];return o&&nr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new c_(e,w$,n,r),i[e.toURLString()]=o,o}var f_=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(a$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new On(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(T$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&nr("Cannot call "+t+" on a deleted database.")}};function fR(e=Xo(),t){let n=Kd(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=mS("database");r&&hR(n,...r)}return n}function hR(e,t,n,r={}){e=bt(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Ai(r,o.repoInfo_.emulatorOptions))return;nr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&nr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new pc(pc.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:yS(r.mockUserToken,e.app.options.projectId);s=new pc(a)}Ti(t)&&(Nv(t),Mv("Database",!0)),b$(o,i,r,s)}function A$(e){ZB(Jo),Xt(new Ze("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return D$(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Ee(_0,E0,e),Ee(_0,E0,"esm2017")}v_.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};v_.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};A$();var Wi=class{constructor(t){return t}},pR="database",P_=class{constructor(){return ts(pR)}};var F_=new I("angularfire2.database-instances");function R$(e,t){let n=Jd(pR,e,t);return n&&new Wi(n)}function N$(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new Wi(r)}}var M$={provide:P_,deps:[[new hn,F_]]},O$={provide:Wi,useFactory:R$,deps:[[new hn,F_],xi]};function gR(e,...t){return Ee("angularfire",Mi.full,"rtdb"),ht([O$,M$,{provide:F_,useFactory:N$(e),multi:!0,deps:[ee,fe,Oi,tc,[new hn,hf],[new hn,ef],...t]}])}var L_=An(uR,!0),mR=An(fR,!0);var vR=An(dR,!0);var Oc=An(cR,!0,2);var yR=An(lR,!0,2);var kr=class e{constructor(t,n){this.database=t;this.platformId=n}getTiles(){return vi(this.platformId)?new V(t=>{let n=Oc(this.database,"Boards"),r=vR(n,i=>{let o=i.val();if(o){let s=[];for(let a in o){let c=[];for(let l in o[a])if(o[a].hasOwnProperty(l)){let u=o[a][l];c.push(u)}s.push(c)}t.next(s)}else t.next([])},i=>{t.error(i)});return()=>{r()}}):N([])}updateTile(t,n,r){let i=Oc(this.database,`Boards/Team ${t+1}/${r}`);return yR(i,n)}getTeamCredentials(t){let n=Oc(this.database,`LoginCredentials/Team ${t+1}`);return L_(n)}getTeamNames(){return m(this,null,function*(){if(!vi(this.platformId))return[];let t=[],n=1;for(;;){let r=Oc(this.database,`LoginCredentials/Team ${n}/name`),i=yield L_(r);if(!i.exists())break;let o=i.val();t.push(typeof o=="string"?o:String(o)),n++}return t})}static \u0275fac=function(n){return new(n||e)(M(Wi),M(nt))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var Yf=(n=>(n[n.Team1=0]="Team1",n[n.Team2=1]="Team2",n))(Yf||{});var Kf=class e{constructor(t){this.databaseService=t}session={team:-1,authenticated:!1};validPassword(t,n){return m(this,null,function*(){if(Tr.production===!0&&n!==-1)try{let r=yield this.databaseService.getTeamCredentials(n),i=r.val()?JSON.stringify(r.val().password):"";return n===0&&i===JSON.stringify(t)?(this.loginForTeam(0),!0):n===1&&i===JSON.stringify(t)?(this.loginForTeam(1),!0):!1}catch{return!1}else return Tr.production===!1?(this.loginForTeam(n),!0):!1})}loginForTeam(t){t===0?this.session={team:0,authenticated:!0}:t===1&&(this.session={team:1,authenticated:!0})}logout(){this.session={team:-1,authenticated:!1}}static \u0275fac=function(n){return new(n||e)(M(kr))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var P$=()=>({standalone:!0}),F$=e=>({"is-invalid":e}),_R=()=>[""];function L$(e,t){e&1&&(E(0,"label",10),A(1,"Team 1 Password:"),C())}function V$(e,t){e&1&&(E(0,"label",10),A(1,"Team 2 Password:"),C())}function j$(e,t){if(e&1){let n=Jn();E(0,"input",12),Mo("ngModelChange",function(i){Rt(n);let o=te(2);return aa(o.password,i)||(o.password=i),Nt(i)}),C()}if(e&2){let n=te(2);he("ngClass",nm(2,F$,n.errorMessage!=="")),No("ngModel",n.password)}}function U$(e,t){if(e&1){let n=Jn();E(0,"form",4)(1,"div",5)(2,"label",6),A(3,"Choose your team"),C(),E(4,"select",7),Mo("ngModelChange",function(i){Rt(n);let o=te();return aa(o.selectedTeam,i)||(o.selectedTeam=i),Nt(i)}),pe("change",function(){Rt(n);let i=te();return Nt(i.onTeamSelect(i.selectedTeam))}),E(5,"option",8),A(6,"Select Team"),C(),E(7,"option",9),A(8),C(),E(9,"option",9),A(10),C()()(),Se(11,"br"),E(12,"div",5),Ge(13,L$,2,0,"label",10),Ge(14,V$,2,0,"label",10),Ge(15,j$,1,4,"input",11),C()()}if(e&2){let n=te();S(4),No("ngModel",n.selectedTeam),he("ngModelOptions",gr(10,P$)),S(),he("value",-1),S(2),he("value",0),S(),Ye(n.teamNames[0]),S(),he("value",1),S(),Ye(n.teamNames[1]),S(3),qe(n.selectedTeam===0?13:-1),S(),qe(n.selectedTeam===1?14:-1),S(),qe(n.selectedTeam!==-1?15:-1)}}function B$(e,t){e&1&&(E(0,"tr")(1,"td",20),A(2,"No tiles available"),C()())}function H$(e,t){if(e&1){let n=Jn();E(0,"tr")(1,"td"),A(2),C(),E(3,"td")(4,"div"),Se(5,"img",21),C()(),E(6,"td")(7,"div"),Se(8,"img",21),C()(),E(9,"td"),A(10),C(),E(11,"td"),A(12),C(),E(13,"td"),A(14),C(),E(15,"td")(16,"input",22),Mo("ngModelChange",function(i){let o=Rt(n).$implicit;return aa(o.itemsObtained,i)||(o.itemsObtained=i),Nt(i)}),C()(),E(17,"td")(18,"button",23),pe("click",function(){let i=Rt(n).$implicit,o=te(4);return Nt(o.saveTile(i,i.id-1))}),A(19,"Save"),C()()()}if(e&2){let n=t.$implicit;S(2),Fe(" ",n.title," "),S(3),he("src",n.src,pr),S(3),he("src",n.bossSrc,pr),S(2),Ye(n.points),S(2),Ye(n.description),S(2),Ye(n.itemsRequired),S(2),No("ngModel",n.itemsObtained),he("max",n.itemsRequired)}}function $$(e,t){if(e&1&&Zn(0,H$,20,8,"tr",null,hi),e&2){let n=t.$implicit;Qn(n)}}function W$(e,t){if(e&1&&Zn(0,$$,2,0,null,null,hi),e&2){let n=te(2);Qn(n.board)}}function z$(e,t){if(e&1){let n=Jn();E(0,"div")(1,"div",13)(2,"h2"),A(3),C(),E(4,"p"),A(5,"This is where you can edit your board!"),C(),E(6,"div",14)(7,"button",15),A(8,"Return to board"),C(),E(9,"button",16),pe("click",function(){Rt(n);let i=te();return Nt(i.logout())}),A(10,"Log out"),C()()(),E(11,"div",17)(12,"table",18)(13,"thead")(14,"tr",19)(15,"th"),A(16,"Tile title"),C(),E(17,"th"),A(18,"Image"),C(),E(19,"th"),A(20,"Boss image"),C(),E(21,"th"),A(22,"Points"),C(),E(23,"th"),A(24,"Description"),C(),E(25,"th"),A(26,"Required"),C(),E(27,"th"),A(28,"Obtained"),C(),E(29,"th"),A(30,"Actions"),C()()(),E(31,"tbody"),Ge(32,B$,3,0,"tr")(33,W$,2,0),C()()()()}if(e&2){let n=te();S(3),Fe("Welcome ",n.teamNames[n.sessionService.session.team],"!"),S(4),he("routerLink",gr(3,_R)),S(25),qe(n.board.length===0?32:33)}}function G$(e,t){if(e&1&&(E(0,"div",24),A(1),C()),e&2){let n=te(2);S(),Ye(n.errorMessage)}}function q$(e,t){e&1&&Se(0,"br")}function Y$(e,t){if(e&1){let n=Jn();Ge(0,G$,2,1,"div",24)(1,q$,1,0,"br"),E(2,"div",25)(3,"button",16),pe("click",function(){Rt(n);let i=te();return Nt(i.login())}),A(4,"Log in"),C(),E(5,"button",15),A(6,"Return to board"),C()()}if(e&2){let n=te();qe(n.errorMessage.length>0?0:1),S(5),he("routerLink",gr(2,_R))}}var Zf=class e{constructor(t,n,r){this.databaseService=t;this.platformId=n;this.sessionService=r}selectedTeam=-1;boardSize=6;password="";board=[[]];teamNames=["Team 1","Team 2"];errorMessage="";ngOnInit(){this.databaseService.getTeamNames().then(t=>{this.teamNames[0]=t[0]||"Team 1",this.teamNames[1]=t[1]||"Team 2"}),this.sessionService.session.authenticated&&(this.selectedTeam=this.sessionService.session.team,this.loadTilesFromFirebase())}onTeamSelect(t){this.selectedTeam=parseInt(t),this.loadTilesFromFirebase()}loadTilesFromFirebase(){this.databaseService.getTiles().subscribe({next:t=>{t&&t.length>0&&this.generateBoard(t[this.selectedTeam])},error:t=>{}})}saveTile(t,n){this.databaseService.updateTile(this.selectedTeam,t,n).catch(r=>{})}generateBoard(t){this.board=[];let n=0;for(let r=0;r<this.boardSize;r++){this.board[r]=[];for(let i=0;i<this.boardSize;i++){if(n>=t.length)return;this.board[r][i]=x(v({},t[n]),{id:r*this.boardSize+i+1}),n++}}}login(){return m(this,null,function*(){if(yield this.sessionService.validPassword(this.password,this.selectedTeam))if(Tr.production===!1){let n=new bi;this.board=n.board,this.generateBoard(this.board[this.selectedTeam])}else vi(this.platformId)&&this.loadTilesFromFirebase();else this.errorMessage="Incorrect password. Please try again."})}logout(){this.sessionService.logout(),this.selectedTeam=-1,this.board=[[]],this.password="",this.errorMessage=""}handleKeyboardEvent(t){t.key==="Enter"&&this.login()}static \u0275fac=function(n){return new(n||e)(L(kr),L(nt),L(Kf))};static \u0275cmp=qn({type:e,selectors:[["app-cabbingo-edit-board"]],hostBindings:function(n,r){n&1&&pe("keydown",function(o){return r.handleKeyboardEvent(o)},Tg)},decls:9,vars:2,consts:[[1,"page-wrap"],[1,"banner"],[1,"d-flex","justify-content-center"],[1,"osrs-border-thick","px-5","py-4","mb-5","d-flex","flex-column","justify-content-between",2,"height","auto"],[2,"width","500px"],[1,"col-12"],["for","teamSelect",1,"form-label"],["id","teamSelect",1,"form-control",3,"ngModelChange","change","ngModel","ngModelOptions"],["disabled","","selected","",3,"value"],[3,"value"],["for","password"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",3,"ngClass","ngModel"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",3,"ngModelChange","ngClass","ngModel"],[1,"d-flex","flex-row","justify-content-between"],[1,"d-flex","flex-row","gap-4"],[1,"btn","custom-btn",3,"routerLink"],["type","submit",1,"btn","custom-btn",3,"click"],[1,"mt-2","overflow-auto",2,"max-height","600px"],[1,"table","osrs-table","table-bordered"],[1,"sticky-top",2,"top","-1px","box-shadow","black 0px 1px 0px 0px"],["colspan","8"],[1,"tile-image",3,"src"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel","max"],[1,"btn","custom-btn","col-12",3,"click"],[1,"text-danger","mt-2"],[1,"d-flex","justify-content-between"]],template:function(n,r){n&1&&(E(0,"div",0),Se(1,"div",1),E(2,"div",2)(3,"div",3)(4,"div",2),Ge(5,U$,16,11,"form",4)(6,z$,34,4,"div"),C(),E(7,"div"),Ge(8,Y$,7,3),C()()()()),n&2&&(S(5),qe(r.sessionService.session.authenticated?6:5),S(3),qe(r.sessionService.session.authenticated?-1:8))},dependencies:[Zu,fa,aS,eS,nS,iS,Vd,Ev,Bd,qT,YT,Cv,Iv,_v,yv,Va,zo],encapsulation:2})};var K$=()=>["/edit-board"],Z$=()=>[],ER=(e,t)=>({"rules-btn-selected":e,"rules-btn":t}),Q$=(e,t)=>({"tile-selected":e,"tile-completed":t}),J$=(e,t)=>t.id;function X$(e,t){if(e&1&&(E(0,"div",22),A(1),Se(2,"i",24),C()),e&2){let n=te().$index;S(),Fe("Column ",n+1," ")}}function e3(e,t){if(e&1&&(E(0,"div",23),A(1),C()),e&2){let n=te().$index;S(),Fe("Column ",n+1)}}function t3(e,t){if(e&1&&Ge(0,X$,3,1,"div",22)(1,e3,2,1,"div",23),e&2){let n=t.$index,r=te();qe(r.getTotalPoints()>0&&r.calculateColumnBonuses(n)>0?0:1)}}function n3(e,t){if(e&1&&(E(0,"div",25),A(1),Se(2,"i",24),C()),e&2){let n=te().$index;S(),Fe("Row ",n+1," ")}}function r3(e,t){if(e&1&&(E(0,"div",26),A(1),C()),e&2){let n=te().$index;S(),Fe("Row ",n+1)}}function i3(e,t){if(e&1){let n=Jn();E(0,"button",28),pe("click",function(){let i=Rt(n).$implicit,o=te(2);return Nt(o.onTileClick(i))}),E(1,"div")(2,"div",29)(3,"div",30),Se(4,"div",31),C()(),Se(5,"img",32),E(6,"p",33),A(7),C()()()}if(e&2){let n=t.$implicit,r=te(2);he("ngClass",ca(8,Q$,n===r.selectedTile,n.itemsObtained>=n.itemsRequired)),S(3),oa("width",n.itemsObtained/n.itemsRequired*100,"%"),Kn("aria-valuenow",n.itemsObtained)("aria-valuemax",n.itemsRequired),S(2),he("src",n.src,pr)("alt",n.alt),S(2),Ye(n.title)}}function o3(e,t){if(e&1&&(E(0,"div",11),Ge(1,n3,3,1,"div",25)(2,r3,2,1,"div",26),Zn(3,i3,8,11,"button",27,J$),C()),e&2){let n=t.$implicit,r=t.$index,i=te();S(),qe(i.getTotalPoints()>0&&i.calculateRowBonuses(r)>0?1:2),S(2),Qn(n)}}function s3(e,t){if(e&1&&(E(0,"div"),A(1),C(),E(2,"div"),Se(3,"img",34),C(),E(4,"div",35)(5,"div",36),A(6," Points: "),E(7,"p",37),A(8),C()(),E(9,"div"),A(10),C()()),e&2){let n=te();S(),Ye(n.selectedTile.description),S(2),he("src",n.selectedTile.bossSrc,pr)("alt",n.selectedTile.alt||""),S(5),Fe(" ",n.selectedTile.points," "),S(),oa("color",n.selectedTile.itemsObtained>=n.selectedTile.itemsRequired?"rgb(8, 255, 8)":null),S(),Lu(" ",n.selectedTile.itemsObtained," / ",n.selectedTile.itemsRequired," Obtained ")}}function a3(e,t){e&1&&(E(0,"p"),A(1,"Click on a tile!"),C())}function c3(e,t){if(e&1&&A(0),e&2){let n=te().$implicit;Fe(" ",n," ")}}function l3(e,t){if(e&1&&(E(0,"strong",38),A(1),C()),e&2){let n=te().$implicit;S(),Ye(n.replace("-",""))}}function u3(e,t){if(e&1&&(E(0,"strong",39),A(1),C()),e&2){let n=te().$implicit;S(),Ye(n.replace("+",""))}}function d3(e,t){if(e&1&&(E(0,"strong",40),A(1),C()),e&2){let n=te().$implicit;S(),Ye(n)}}function f3(e,t){if(e&1&&(Ge(0,c3,1,1)(1,l3,2,1,"strong",38)(2,u3,2,1,"strong",39)(3,d3,2,1,"strong",40),Se(4,"br")),e&2){let n=t.$implicit;qe(n.includes("Excluded")||n.includes("Allowed")?0:n.includes("-")?1:n.includes("+")?2:3)}}function h3(e,t){if(e&1&&Zn(0,f3,5,1,null,null,hi),e&2){let n=te();Qn(n.selectedTile==null?null:n.selectedTile.rules)}}function p3(e,t){if(e&1&&(E(0,"ul",19)(1,"li"),A(2,"Multiple accounts are allowed, but only one can be logged in at once."),C(),E(3,"li"),A(4,"The EXP tile will only be counted for ONE account. If you are playing with multiple. "),C(),E(5,"li"),A(6),C(),E(7,"li"),A(8,"Tiles can be completed in any order."),C(),E(9,"li",39),A(10,"Good luck and have fun!"),C()()),e&2){let n=te();S(6),Fe("Complete a full row or column to earn a ",n.rowBonus," point bonus!")}}var Qf=class e{constructor(t,n){this.databaseService=t;this.platformId=n}teamEnum=Yf;currentTeam=0;selectedTile=void 0;board=[];boardSize=6;columnBonus=5;rowBonus=5;bingoRulesOpened=!0;teamNames=["Team 1","Team 2"];ngOnInit(){if(Tr.production===!1){let t=new bi;this.board=t.board,this.generateBoard(this.board[this.currentTeam])}else vi(this.platformId)&&(this.databaseService.getTeamNames().then(t=>{this.teamNames[0]=t[0]||"Team 1",this.teamNames[1]=t[1]||"Team 2"}),this.loadTilesFromFirebase())}loadTilesFromFirebase(){this.databaseService.getTiles().subscribe({next:t=>{t&&t.length>0&&(this.generateBoard(t[this.currentTeam]),this.selectedTile&&(this.selectedTile=this.board[this.currentTeam][this.selectedTile?.id-1]))},error:t=>{console.error("Error loading tiles:",t)}})}generateBoard(t){this.board=[];let n=0;for(let r=0;r<this.boardSize;r++){this.board[r]=[];for(let i=0;i<this.boardSize;i++){if(n>=t.length)return;this.board[r][i]=x(v({},t[n]),{id:r*this.boardSize+i+1}),n++}}}onTileClick(t){this.selectedTile=t,this.bingoRulesOpened=!1}switchTeam(t){if(this.currentTeam!==t)if(this.currentTeam=t,this.selectedTile=void 0,this.bingoRulesOpened=!0,Tr.production===!1){let n=new bi;this.board=n.board,this.generateBoard(this.board[this.currentTeam])}else this.loadTilesFromFirebase()}getTotalPoints(){let t=0;for(let n=0;n<this.board.length;n++){let r=this.board[n],i=!0;for(let o of r)o.itemsObtained>=o.itemsRequired?t+=o.points||0:i=!1;i&&(t+=5)}return t+=this.calculateColumnBonuses(),t}calculateColumnBonuses(t){let n=0,r=t!==void 0?[t]:Array.from({length:this.boardSize},(i,o)=>o);for(let i of r){let o=!0;for(let s=0;s<this.board.length;s++){let a=this.board[s][i];if(!a||a.itemsObtained<a.itemsRequired){o=!1;break}}o&&(n+=this.columnBonus)}return n}calculateRowBonuses(t){let n=0,r=t!==void 0?[t]:Array.from({length:this.board.length},(i,o)=>o);for(let i of r){let o=!0;for(let s of this.board[i])if(!s||s.itemsObtained<s.itemsRequired){o=!1;break}o&&(n+=this.rowBonus)}return n}static \u0275fac=function(n){return new(n||e)(L(kr),L(nt))};static \u0275cmp=qn({type:e,selectors:[["app-cabbingo-board"]],decls:39,vars:18,consts:[[1,"page-wrap"],[1,"w-100"],[1,"d-flex","justify-content-center","align-items-center","w-100","banner"],[1,"btn","button","login-btn",3,"routerLink"],[1,"osrs-border-thick","px-4","py-2"],[1,"row","teams","mb-2"],[1,"button","btn","col-md-5",3,"click","ngClass"],[1,"gap-2","d-flex","justify-content-center"],[1,"tiles","osrs-border","column","col-auto"],[1,"d-flex","align-items-center","gap-2"],[1,"d-flex","align-items-center","mx-2","me-0","row-tile"],[1,"d-flex","justify-content-left","px-2","py-1","gap-2"],[1,"infoArea","d-flex","justify-content-between","col-auto"],[1,"infobox","osrs-border","d-flex","flex-column","justify-content-between","align-items-center",2,"min-height","300px"],[1,"d-flex","flex-column","infobox","osrs-border-brighter","justify-content-center","align-items-center"],[1,"d-flex","d-row","justify-content-center","gap-2","py-1","m-0"],[1,"btn","row-tile",2,"width","115px","height","40px",3,"click","ngClass"],[2,"color","#FF9933","width","auto"],[1,"rulesbox","custom-scrollbar","overflow-y-scroll","osrs-border-darker"],[1,"px-2"],[1,"mt-2"],[1,"btn","button","disabled","float-bottom"],[1,"d-flex","justify-content-center","gap-2","column-tile","text-success"],[1,"d-flex","justify-content-center","gap-2","column-tile"],[1,"bi","bi-check-circle-fill"],[1,"d-flex","align-items-center","row-tile","text-success"],[1,"d-flex","align-items-center","row-tile"],[1,"btn","tile","d-flex","flex-column",3,"ngClass"],[1,"btn","tile","d-flex","flex-column",3,"click","ngClass"],[1,"progress",2,"height","5px"],["role","progressbar","aria-valuemin","0",1,"progress-bar","bg-success"],[2,"width","110px"],[1,"tile-image","p-1",3,"src","alt"],[1,"tile-text"],[1,"bossImage",3,"src","alt"],[1,"d-flex","flex-column","align-items-center"],[1,"d-flex","flex-row","pt-3"],[1,"mx-2",2,"color","rgb(8, 255, 8)"],[2,"color","#E40303"],[2,"color","#0CD90D"],[2,"color","#FF9933"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),A(4," Log in as captain "),C()()(),E(5,"div",4)(6,"div",5)(7,"button",6),pe("click",function(){return r.switchTeam(r.teamEnum.Team1)}),A(8),C(),E(9,"button",6),pe("click",function(){return r.switchTeam(r.teamEnum.Team2)}),A(10),C()(),E(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10),A(15,"."),C(),Zn(16,t3,2,1,null,null,tm),C(),Zn(18,o3,5,1,"div",11,hi),C(),E(20,"div",12)(21,"div")(22,"div",13),Ge(23,s3,11,8)(24,a3,2,0,"p"),C(),E(25,"div",14)(26,"div",15)(27,"button",16),pe("click",function(){return r.bingoRulesOpened=!0}),E(28,"p",17),A(29,"Bingo Rulez"),C()(),E(30,"button",16),pe("click",function(){return r.bingoRulesOpened=!1}),E(31,"p",17),A(32,"Tile Rulez"),C()()(),E(33,"div",18),Ge(34,h3,2,0)(35,p3,11,1,"ul",19),C()()(),E(36,"div",20)(37,"button",21),A(38),C()()()()()()),n&2&&(S(3),he("routerLink",gr(10,K$)),S(4),he("ngClass",r.currentTeam===r.teamEnum.Team1?"btn selected-team":""),S(),Fe(" ",r.teamNames[0]," "),S(),he("ngClass",r.currentTeam===r.teamEnum.Team2?"btn selected-team":""),S(),Fe(" ",r.teamNames[1]," "),S(6),Qn(gr(11,Z$).constructor(r.boardSize)),S(2),Qn(r.board),S(5),qe(r.selectedTile?23:24),S(4),he("ngClass",ca(12,ER,r.bingoRulesOpened,!r.bingoRulesOpened)),S(3),he("ngClass",ca(15,ER,!r.bingoRulesOpened,r.bingoRulesOpened)),S(4),qe(r.bingoRulesOpened?35:34),S(4),Fe(" Total points: ",r.getTotalPoints()," "))},dependencies:[fa,Va,zo],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar-button:single-button{background-color:#404040;display:block;background-size:10px;background-repeat:no-repeat}@font-face{font-family:Runescape;src:url("./media/RuneScape-Plain-12-T6CWJQYQ.otf") format("opentype")}@font-face{font-family:Runescape-Bold;font-weight:700;src:url("./media/RuneScape-Bold-12-YYN5KYKT.otf") format("opentype")}@font-face{font-family:Runescape-Quill;src:url("./media/RuneScape-Quill-2XBT7J23.otf") format("opentype")}.osrs-border[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#393228;background:url("./media/tiles-backdrop-Y5VRY7K2.png") repeat top center;background-size:700px}.osrs-border-brighter[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#3e3529;background-size:700px}.osrs-border-darker[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#332b21;background-size:700px}.osrs-border-thick[_ngcontent-%COMP%]{border:3px solid rgb(66,67,65);outline:6px solid rgb(14,14,12);background-color:#393228;background:url("./media/tiles-backdrop-Y5VRY7K2.png") repeat top center;background-size:700px;width:fit-content}.page-wrap[_ngcontent-%COMP%] > .osrs-border-thick[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%}.page-wrap[_ngcontent-%COMP%]{background:url("./media/bg2_upscaled-E25LY5MM.jpg") repeat-y center top;overflow:auto;background-size:100%;min-width:90vw;min-width:90dvw;min-height:100vh;min-height:100dvh}main[_ngcontent-%COMP%]{width:100%;min-height:100%}body[_ngcontent-%COMP%]{background:#000;color:#fff;font-family:Runescape-Bold;text-shadow:black 2px 2px 2px;font-size:16px;margin:0}.banner[_ngcontent-%COMP%]{background:url("./media/Logo-W5ERYSIZ.png") no-repeat center;background-size:contain;display:block;position:relative;height:180px;text-align:center}.button[_ngcontent-%COMP%]{background:url("./media/button-UB2HKL6L.png") no-repeat top center;position:relative;width:243px;height:54px;font-family:Runescape-Bold;font-size:27px;align-content:center;text-align:center}.teams[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-evenly}.board[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;margin-top:30px;max-height:auto;height:650px}.bossImage[_ngcontent-%COMP%]{height:125px;filter:drop-shadow(5px 6px 6px #000000)}.tile-image[_ngcontent-%COMP%]{height:55px;object-fit:contain;filter:drop-shadow(3px 4px 2px #000000);z-index:0}.tile-text[_ngcontent-%COMP%]{color:#f93;font-size:16px;height:16px;max-width:120px;white-space:wrap;word-break:break-word;z-index:1;line-height:normal;text-shadow:black 2px 2px 2px}.tile[_ngcontent-%COMP%]{width:125px;height:105px;flex-wrap:nowrap;justify-content:space-between;border:1px solid rgb(46,43,35);outline:1px solid rgb(86,75,61);background-color:#483e33}.tile[_ngcontent-%COMP%]:focus-visible, .tile[_ngcontent-%COMP%]:active, .tile[_ngcontent-%COMP%]:hover{background-color:#645546;color:gold!important}.rules-btn[_ngcontent-%COMP%], .row-tile[_ngcontent-%COMP%], .column-tile[_ngcontent-%COMP%]{background-color:#483e33;text-align:center;border-radius:4px;height:auto;width:125px;border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12)}.rules-btn[_ngcontent-%COMP%], .row-tile[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;width:45px}.tile[_ngcontent-%COMP%]:hover{filter:drop-shadow(0px 0px .5mm gold)}.tile-selected[_ngcontent-%COMP%]{border:gold 2px solid}.tile-completed[_ngcontent-%COMP%]{background:#364732}.tile-completed[_ngcontent-%COMP%]:hover{background:#475e42}.rules-btn-selected[_ngcontent-%COMP%]{border:gold 2px solid}.rules-btn[_ngcontent-%COMP%]:focus-visible, .rules-btn[_ngcontent-%COMP%]:active, .rules-btn[_ngcontent-%COMP%]:hover{background-color:#645546;color:gold!important}.tiles[_ngcontent-%COMP%]{top:5px;width:auto;padding-top:10px;padding-bottom:10px;position:relative;align-items:center;align-content:center;flex-direction:column;justify-content:space-evenly}.infoArea[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:center;display:flex}.rulesbox[_ngcontent-%COMP%], .infobox[_ngcontent-%COMP%]{width:250px;min-height:240px;text-align:center;margin-top:5px;padding-left:8px;padding-right:8px}.rulesbox[_ngcontent-%COMP%]{text-align:left;height:300px;padding-left:8px;padding-right:8px}.btn[_ngcontent-%COMP%]{--bs-btn-color: var(white) !important;color:#fff!important;text-shadow:black 2px 2px 2px}.btn[_ngcontent-%COMP%]:hover{color:gold!important}.selected-team[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 1mm gold)}.progress[_ngcontent-%COMP%]{--bs-progress-bg: rgb(57, 50, 40);background-color:var(--bs-progress-bg)}.osrs-table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{--bs-table-color: #fff;--bs-table-bg: #212529;--bs-table-border-color: #4d5154;--bs-table-striped-bg: #2c3034;--bs-table-striped-color: #fff;--bs-table-active-bg: #373b3e;--bs-table-active-color: #fff;--bs-table-hover-bg: #323539;--bs-table-hover-color: #fff;border:1px solid rgb(14,14,12);--bs-table-bg: rgb(57, 50, 40);background-color:var(--bs-table-bg)}.custom-btn[_ngcontent-%COMP%]{background-color:#483e33;text-align:center;border-radius:4px;height:auto;min-width:40px;border:2px solid rgb(14,14,12)}.custom-btn[_ngcontent-%COMP%]:focus-visible, .custom-btn[_ngcontent-%COMP%]:active, .custom-btn[_ngcontent-%COMP%]:hover{border:2px solid rgb(14,14,12);background-color:#645546;color:gold!important}.custom-scrollbar[_ngcontent-%COMP%]{height:300px;overflow-y:scroll;scrollbar-width:thin;scrollbar-color:rgb(114,98,72) #27221B;scroll-behavior:smooth}.login-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;z-index:1050}@media (max-width: 420px){.login-btn[_ngcontent-%COMP%]{transform:scale(.85);transform-origin:top right;right:6px;top:6px}}']})};var IR=[{path:"edit-board",component:Zf},{path:"",component:Qf},{path:"**",redirectTo:"",pathMatch:"full"}];var CR={production:!0,firebaseConfig:{apiKey:"AIzaSyB2e36wu47-6DOc2_rAuHfiFTq9vm6GBD0",authDomain:"cabbingo-db.firebaseapp.com",databaseURL:"https://cabbingo-db-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cabbingo-db",storageBucket:"cabbingo-db.firebasestorage.app",messagingSenderId:"684304316440",appId:"1:684304316440:web:0660b0d72a68752cadeb6d"}};var wR={providers:[lv(IR),RD(AD(),SD()),WS(()=>zS(CR.firebaseConfig)),gR(()=>mR())]};Om(Rd,wR).catch(e=>console.error("Bootstrap error:",e));
