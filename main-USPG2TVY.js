var IS=Object.defineProperty,wS=Object.defineProperties;var CS=Object.getOwnPropertyDescriptors;var ra=Object.getOwnPropertySymbols;var Av=Object.prototype.hasOwnProperty,Nv=Object.prototype.propertyIsEnumerable;var Rv=(e,t,n)=>t in e?IS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||={})Av.call(t,n)&&Rv(e,n,t[n]);if(ra)for(var n of ra(t))Nv.call(t,n)&&Rv(e,n,t[n]);return e},q=(e,t)=>wS(e,CS(t));var Mv=(e,t)=>{var n={};for(var r in e)Av.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ra)for(var r of ra(e))t.indexOf(r)<0&&Nv.call(e,r)&&(n[r]=e[r]);return n};var m=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var Qu;function ia(){return Qu}function Nt(e){let t=Qu;return Qu=e,t}var Ov=Symbol("NotFound");function Br(e){return e===Ov||e?.name==="\u0275NotFound"}function Pv(e,t){return Object.is(e,t)}var Te=null,oa=!1,Xu=1,DS=null,Gt=Symbol("SIGNAL");function P(e){let t=Te;return Te=e,t}function sa(){return Te}var aa={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ca(e){if(oa)throw new Error("");if(Te===null)return;Te.consumerOnSignalRead(e);let t=Te.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Te.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Te.producers,n!==void 0&&n.producer===e)){Te.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Te&&(!r||bS(i,Te)))return;let o=Hr(Te),s={producer:e,consumer:Te,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Te.producersTail=s,t!==void 0?t.nextProducer=s:Te.producers=s,o&&Lv(e,s)}function kv(){Xu++}function xv(e){if(!(Hr(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Xu)){if(!e.producerMustRecompute(e)&&!ua(e)){Ju(e);return}e.producerRecomputeValue(e),Ju(e)}}function ed(e){if(e.consumers===void 0)return;let t=oa;oa=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||TS(r)}}finally{oa=t}}function td(){return Te?.consumerAllowSignalWrites!==!1}function TS(e){e.dirty=!0,ed(e),e.consumerMarkedDirty?.(e)}function Ju(e){e.dirty=!1,e.lastCleanEpoch=Xu}function la(e){return e&&(e.producersTail=void 0,e.recomputing=!0),P(e)}function nd(e,t){if(P(t),!e)return;e.recomputing=!1;let n=e.producersTail,r=n!==void 0?n.nextProducer:e.producers;if(r!==void 0){if(Hr(e))do r=rd(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function ua(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(xv(n),r!==n.version))return!0}return!1}function da(e){if(Hr(e)){let t=e.producers;for(;t!==void 0;)t=rd(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Lv(e,t){let n=e.consumersTail,r=Hr(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)Lv(i.producer,i)}function rd(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!Hr(t)){let o=t.producers;for(;o!==void 0;)o=rd(o)}return n}function Hr(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Fv(e){DS?.(e)}function bS(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function SS(){throw new Error}var jv=SS;function Uv(e){jv(e)}function id(e){jv=e}var RS=null;function od(e,t){let n=Object.create(fa);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Vv(n);return r[Gt]=n,Fv(n),[r,s=>oo(n,s),s=>Bv(n,s)]}function Vv(e){return ca(e),e.value}function oo(e,t){td()||Uv(e),e.equal(e.value,t)||(e.value=t,AS(e))}function Bv(e,t){td()||Uv(e),oo(e,t(e.value))}var fa=q(_({},aa),{equal:Pv,value:void 0,kind:"signal"});function AS(e){e.version++,kv(),ed(e),RS?.(e)}function N(e){return typeof e=="function"}function $r(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ha=$r(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Bn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ne=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(N(r))try{r()}catch(o){t=o instanceof ha?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Hv(o)}catch(s){t=t??[],s instanceof ha?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ha(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Hv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Bn(n,t)}remove(t){let{_finalizers:n}=this;n&&Bn(n,t),t instanceof e&&t._removeParent(this)}};ne.EMPTY=(()=>{let e=new ne;return e.closed=!0,e})();var sd=ne.EMPTY;function pa(e){return e instanceof ne||e&&"closed"in e&&N(e.remove)&&N(e.add)&&N(e.unsubscribe)}function Hv(e){N(e)?e():e.unsubscribe()}var ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wr={setTimeout(e,t,...n){let{delegate:r}=Wr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Wr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ga(e){Wr.setTimeout(()=>{let{onUnhandledError:t}=ut;if(t)t(e);else throw e})}function so(){}var $v=ad("C",void 0,void 0);function Wv(e){return ad("E",void 0,e)}function zv(e){return ad("N",e,void 0)}function ad(e,t,n){return{kind:e,value:t,error:n}}var Hn=null;function zr(e){if(ut.useDeprecatedSynchronousErrorHandling){let t=!Hn;if(t&&(Hn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Hn;if(Hn=null,n)throw r}}else e()}function Gv(e){ut.useDeprecatedSynchronousErrorHandling&&Hn&&(Hn.errorThrown=!0,Hn.error=e)}var $n=class extends ne{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,pa(t)&&t.add(this)):this.destination=OS}static create(t,n,r){return new Gr(t,n,r)}next(t){this.isStopped?ld(zv(t),this):this._next(t)}error(t){this.isStopped?ld(Wv(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ld($v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},NS=Function.prototype.bind;function cd(e,t){return NS.call(e,t)}var ud=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ma(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ma(r)}else ma(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ma(n)}}},Gr=class extends $n{constructor(t,n,r){super();let i;if(N(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ut.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&cd(t.next,o),error:t.error&&cd(t.error,o),complete:t.complete&&cd(t.complete,o)}):i=t}this.destination=new ud(i)}};function ma(e){ut.useDeprecatedSynchronousErrorHandling?Gv(e):ga(e)}function MS(e){throw e}function ld(e,t){let{onStoppedNotification:n}=ut;n&&Wr.setTimeout(()=>n(e,t))}var OS={closed:!0,next:so,error:MS,complete:so};var qr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function He(e){return e}function dd(...e){return fd(e)}function fd(e){return e.length===0?He:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var k=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=kS(n)?n:new Gr(n,r,i);return zr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=qv(r),new r((i,o)=>{let s=new Gr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qr](){return this}pipe(...n){return fd(n)(this)}toPromise(n){return n=qv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function qv(e){var t;return(t=e??ut.Promise)!==null&&t!==void 0?t:Promise}function PS(e){return e&&N(e.next)&&N(e.error)&&N(e.complete)}function kS(e){return e&&e instanceof $n||PS(e)&&pa(e)}function hd(e){return N(e?.lift)}function U(e){return t=>{if(hd(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function V(e,t,n,r,i){return new pd(e,t,n,r,i)}var pd=class extends $n{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Kr(){return U((e,t)=>{let n=null;e._refCount++;let r=V(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Yr=class extends k{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,hd(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ne;let n=this.getSubject();t.add(this.source.subscribe(V(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ne.EMPTY)}return t}refCount(){return Kr()(this)}};var Kv=$r(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=(()=>{class e extends k{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new va(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Kv}next(n){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?sd:(this.currentObservers=null,o.push(n),new ne(()=>{this.currentObservers=null,Bn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new k;return n.source=this,n}}return e.create=(t,n)=>new va(t,n),e})(),va=class extends we{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:sd}};var Ce=class extends we{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var gd={now(){return(gd.delegate||Date).now()},delegate:void 0};var ya=class extends ne{constructor(t,n){super()}schedule(t,n=0){return this}};var ao={setInterval(e,t,...n){let{delegate:r}=ao;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=ao;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Zr=class extends ya{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return ao.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ao.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Bn(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Qr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Qr.now=gd.now;var Jr=class extends Qr{constructor(t,n=Qr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var md=new Jr(Zr);var _a=class extends Zr{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var Ea=class extends Jr{};var vd=new Ea(_a);var Oe=new k(e=>e.complete());function Yv(e){return e&&N(e.schedule)}function Zv(e){return e[e.length-1]}function Qv(e){return N(Zv(e))?e.pop():void 0}function mn(e){return Yv(Zv(e))?e.pop():void 0}function yd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Xv(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function Jv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wn(e){return this instanceof Wn?(this.v=e,this):new Wn(e)}function ey(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(v){return new Promise(function(E,b){o.push([h,v,E,b])>1||c(h,v)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(v){f(o[0][3],v)}}function l(h){h.value instanceof Wn?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function ty(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Jv=="function"?Jv(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ia=e=>e&&typeof e.length=="number"&&typeof e!="function";function wa(e){return N(e?.then)}function Ca(e){return N(e[qr])}function Da(e){return Symbol.asyncIterator&&N(e?.[Symbol.asyncIterator])}function Ta(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ba=xS();function Sa(e){return N(e?.[ba])}function Ra(e){return ey(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Wn(n.read());if(i)return yield Wn(void 0);yield yield Wn(r)}}finally{n.releaseLock()}})}function Aa(e){return N(e?.getReader)}function ye(e){if(e instanceof k)return e;if(e!=null){if(Ca(e))return LS(e);if(Ia(e))return FS(e);if(wa(e))return jS(e);if(Da(e))return ny(e);if(Sa(e))return US(e);if(Aa(e))return VS(e)}throw Ta(e)}function LS(e){return new k(t=>{let n=e[qr]();if(N(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function FS(e){return new k(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function jS(e){return new k(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ga)})}function US(e){return new k(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function ny(e){return new k(t=>{BS(e,t).catch(n=>t.error(n))})}function VS(e){return ny(Ra(e))}function BS(e,t){var n,r,i,o;return Xv(this,void 0,void 0,function*(){try{for(n=ty(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Pe(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function vn(e,t=0){return U((n,r)=>{n.subscribe(V(r,i=>Pe(r,e,()=>r.next(i),t),()=>Pe(r,e,()=>r.complete(),t),i=>Pe(r,e,()=>r.error(i),t)))})}function yn(e,t=0){return U((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function ry(e,t){return ye(e).pipe(yn(t),vn(t))}function iy(e,t){return ye(e).pipe(yn(t),vn(t))}function oy(e,t){return new k(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function sy(e,t){return new k(n=>{let r;return Pe(n,t,()=>{r=e[ba](),Pe(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>N(r?.return)&&r.return()})}function Na(e,t){if(!e)throw new Error("Iterable cannot be null");return new k(n=>{Pe(n,t,()=>{let r=e[Symbol.asyncIterator]();Pe(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ay(e,t){return Na(Ra(e),t)}function cy(e,t){if(e!=null){if(Ca(e))return ry(e,t);if(Ia(e))return oy(e,t);if(wa(e))return iy(e,t);if(Da(e))return Na(e,t);if(Sa(e))return sy(e,t);if(Aa(e))return ay(e,t)}throw Ta(e)}function ae(e,t){return t?cy(e,t):ye(e)}function S(...e){let t=mn(e);return ae(e,t)}function Xr(e,t){let n=N(e)?e:()=>e,r=i=>i.error(n());return new k(t?i=>t.schedule(r,0,i):r)}function _d(e){return!!e&&(e instanceof k||N(e.lift)&&N(e.subscribe))}var qt=$r(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function B(e,t){return U((n,r)=>{let i=0;n.subscribe(V(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:HS}=Array;function $S(e,t){return HS(t)?e(...t):e(t)}function ly(e){return B(t=>$S(e,t))}var{isArray:WS}=Array,{getPrototypeOf:zS,prototype:GS,keys:qS}=Object;function uy(e){if(e.length===1){let t=e[0];if(WS(t))return{args:t,keys:null};if(KS(t)){let n=qS(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function KS(e){return e&&typeof e=="object"&&zS(e)===GS}function dy(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Ma(...e){let t=mn(e),n=Qv(e),{args:r,keys:i}=uy(e);if(r.length===0)return ae([],t);let o=new k(YS(r,t,i?s=>dy(i,s):He));return n?o.pipe(ly(n)):o}function YS(e,t,n=He){return r=>{fy(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)fy(t,()=>{let l=ae(e[c],t),u=!1;l.subscribe(V(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function fy(e,t,n){e?Pe(n,e,t):t()}function hy(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=v=>l<r?p(v):c.push(v),p=v=>{o&&t.next(v),l++;let E=!1;ye(n(v,u++)).subscribe(V(t,b=>{i?.(b),o?h(b):t.next(b)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){let b=c.shift();s?Pe(t,s,()=>p(b)):p(b)}f()}catch(b){t.error(b)}}))};return e.subscribe(V(t,h,()=>{d=!0,f()})),()=>{a?.()}}function fe(e,t,n=1/0){return N(t)?fe((r,i)=>B((o,s)=>t(r,o,i,s))(ye(e(r,i))),n):(typeof t=="number"&&(n=t),U((r,i)=>hy(r,i,e,n)))}function py(e=1/0){return fe(He,e)}function gy(){return py(1)}function ei(...e){return gy()(ae(e,mn(e)))}function co(e){return new k(t=>{ye(e()).subscribe(t)})}function Je(e,t){return U((n,r)=>{let i=0;n.subscribe(V(r,o=>e.call(t,o,i++)&&r.next(o)))})}function _n(e){return U((t,n)=>{let r=null,i=!1,o;r=t.subscribe(V(n,void 0,void 0,s=>{o=ye(e(s,_n(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function my(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(V(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function ti(e,t){return N(t)?fe(e,t,1):fe(e,1)}function En(e){return U((t,n)=>{let r=!1;t.subscribe(V(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Kt(e){return e<=0?()=>Oe:U((t,n)=>{let r=0;t.subscribe(V(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Oa(e=ZS){return U((t,n)=>{let r=!1;t.subscribe(V(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function ZS(){return new qt}function lo(e){return U((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Yt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Je((i,o)=>e(i,o,r)):He,Kt(1),n?En(t):Oa(()=>new qt))}function ni(e){return e<=0?()=>Oe:U((t,n)=>{let r=[];t.subscribe(V(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ed(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Je((i,o)=>e(i,o,r)):He,ni(1),n?En(t):Oa(()=>new qt))}function Id(e,t){return U(my(e,t,arguments.length>=2,!0))}function wd(...e){let t=mn(e);return U((n,r)=>{(t?ei(e,n,t):ei(e,n)).subscribe(r)})}function ke(e,t){return U((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(V(r,c=>{i?.unsubscribe();let l=0,u=o++;ye(e(c,u)).subscribe(i=V(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Pa(e){return U((t,n)=>{ye(e).subscribe(V(n,()=>n.complete(),so)),!n.closed&&t.subscribe(n)})}function _e(e,t,n){let r=N(e)||t||n?{next:e,error:t,complete:n}:e;return r?U((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(V(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):He}var Ua="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",w=class extends Error{code;constructor(t,n){super(Yn(t,n)),this.code=t}};function JS(e){return`NG0${Math.abs(e)}`}function Yn(e,t){return`${JS(e)}${t?": "+t:""}`}function z(e){for(let t in e)if(e[t]===z)return t;throw Error("")}function Qt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Qt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function xd(e,t){return e?t?`${e} ${t}`:e:t||""}var XS=z({__forward_ref__:z});function Va(e){return e.__forward_ref__=Va,e.toString=function(){return Qt(this())},e}function xe(e){return Ld(e)?e():e}function Ld(e){return typeof e=="function"&&e.hasOwnProperty(XS)&&e.__forward_ref__===Va}function _y(e,t){e==null&&Fd(t,e,null,"!=")}function Fd(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function C(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function go(e){return eR(e,Ba)}function jd(e){return go(e)!==null}function eR(e,t){return e.hasOwnProperty(t)&&e[t]||null}function tR(e){let t=e?.[Ba]??null;return t||null}function Dd(e){return e&&e.hasOwnProperty(xa)?e[xa]:null}var Ba=z({\u0275prov:z}),xa=z({\u0275inj:z}),I=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=C({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ud(e){return e&&!!e.\u0275providers}var Vd=z({\u0275cmp:z}),Bd=z({\u0275dir:z}),Hd=z({\u0275pipe:z}),$d=z({\u0275mod:z}),ho=z({\u0275fac:z}),Zn=z({__NG_ELEMENT_ID__:z}),vy=z({__NG_ENV_ID__:z});function Qn(e){return typeof e=="string"?e:e==null?"":String(e)}function La(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Qn(e)}var Wd=z({ngErrorCode:z}),Ey=z({ngErrorMessage:z}),fo=z({ngTokenPath:z});function zd(e,t){return Iy("",-200,t)}function Ha(e,t){throw new w(-201,!1)}function nR(e,t){e[fo]??=[];let n=e[fo],r;typeof t=="object"&&"multi"in t&&t?.multi===!0?(_y(t.provide,"Token with multi: true should have a provide property"),r=La(t.provide)):r=La(t),n[0]!==r&&e[fo].unshift(r)}function rR(e,t){let n=e[fo],r=e[Wd],i=e[Ey]||e.message;return e.message=oR(i,r,n,t),e}function Iy(e,t,n){let r=new w(t,e);return r[Wd]=t,r[Ey]=e,n&&(r[fo]=n),r}function iR(e){return e[Wd]}function oR(e,t,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Yn(t,`${e}${o}${i}`)}var Td;function wy(){return Td}function $e(e){let t=Td;return Td=e,t}function Gd(e,t,n){let r=go(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Ha(e,"Injector")}var sR={},zn=sR,bd="__NG_DI_FLAG__",Sd=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Gn(n)||0;try{return this.injector.get(t,r&8?null:zn,r)}catch(i){if(Br(i))return i;throw i}}};function aR(e,t=0){let n=ia();if(n===void 0)throw new w(-203,!1);if(n===null)return Gd(e,void 0,t);{let r=cR(t),i=n.retrieve(e,r);if(Br(i)){if(r.optional)return null;throw i}return i}}function R(e,t=0){return(wy()||aR)(xe(e),t)}function g(e,t){return R(e,Gn(t))}function Gn(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function cR(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Rd(e){let t=[];for(let n=0;n<e.length;n++){let r=xe(e[n]);if(Array.isArray(r)){if(r.length===0)throw new w(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=lR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(R(i,o))}else t.push(R(r))}return t}function Cy(e,t){return e[bd]=t,e.prototype[bd]=t,e}function lR(e){return e[bd]}function qn(e,t){let n=e.hasOwnProperty(ho);return n?e[ho]:null}function $a(e,t){e.forEach(n=>Array.isArray(n)?$a(n,t):t(n))}function qd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function mo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Dy(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function Ty(e,t,n){let r=ii(e,t);return r>=0?e[r|1]=n:(r=~r,Dy(e,r,t,n)),r}function Wa(e,t){let n=ii(e,t);if(n>=0)return e[n|1]}function ii(e,t){return uR(e,t,1)}function uR(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Jn={},In=[],ft=new I(""),Kd=new I("",-1),Yd=new I(""),po=class{get(t,n=zn){if(n===zn){let i=Iy("",-201);throw i.name="\u0275NotFound",i}return n}};function Zd(e){return e[$d]||null}function Xt(e){return e[Vd]||null}function za(e){return e[Bd]||null}function Qd(e){return e[Hd]||null}function Xe(e){return{\u0275providers:e}}function by(...e){return{\u0275providers:Ga(!0,e),\u0275fromNgModule:!0}}function Ga(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return $a(t,s=>{let a=s;Fa(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Sy(i,o),n}function Sy(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Jd(i,o=>{t(o,r)})}}function Fa(e,t,n,r){if(e=xe(e),!e)return!1;let i=null,o=Dd(e),s=!o&&Xt(e);if(!o&&!s){let c=e.ngModule;if(o=Dd(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Fa(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{$a(o.imports,u=>{Fa(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Sy(l,t)}if(!a){let l=qn(i)||(()=>new i);t({provide:i,useFactory:l,deps:In},i),t({provide:Yd,useValue:i,multi:!0},i),t({provide:ft,useValue:()=>R(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Jd(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Jd(e,t){for(let n of e)Ud(n)&&(n=n.\u0275providers),Array.isArray(n)?Jd(n,t):t(n)}var dR=z({provide:String,useValue:z});function Ry(e){return e!==null&&typeof e=="object"&&dR in e}function fR(e){return!!(e&&e.useExisting)}function hR(e){return!!(e&&e.useFactory)}function ja(e){return typeof e=="function"}var vo=new I(""),ka={},yy={},Cd;function yo(){return Cd===void 0&&(Cd=new po),Cd}var ce=class{},Kn=class extends ce{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Nd(t,s=>this.processProvider(s)),this.records.set(Kd,ri(void 0,this)),i.has("environment")&&this.records.set(ce,ri(void 0,this));let o=this.records.get(vo);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Yd,In,{self:!0}))}retrieve(t,n){let r=Gn(n)||0;try{return this.get(t,zn,r)}catch(i){if(Br(i))return i;throw i}}destroy(){uo(this),this._destroyed=!0;let t=P(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),P(t)}}onDestroy(t){return uo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){uo(this);let n=Nt(this),r=$e(void 0),i;try{return t()}finally{Nt(n),$e(r)}}get(t,n=zn,r){if(uo(this),t.hasOwnProperty(vy))return t[vy](this);let i=Gn(r),o,s=Nt(this),a=$e(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=yR(t)&&go(t);u&&this.injectableDefInScope(u)?l=ri(Ad(t),ka):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?yo():this.parent;return n=i&8&&n===zn?null:n,c.get(t,n)}catch(c){let l=iR(c);throw l===-200||l===-201?new w(l,null):c}finally{$e(a),Nt(s)}}resolveInjectorInitializers(){let t=P(null),n=Nt(this),r=$e(void 0),i;try{let o=this.get(ft,In,{self:!0});for(let s of o)s()}finally{Nt(n),$e(r),P(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Qt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=xe(t);let n=ja(t)?t:xe(t&&t.provide),r=gR(t);if(!ja(t)&&t.multi===!0){let i=this.records.get(n);i||(i=ri(void 0,ka,!0),i.factory=()=>Rd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=P(null);try{if(n.value===yy)throw zd(Qt(t));return n.value===ka&&(n.value=yy,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&vR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{P(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=xe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ad(e){let t=go(e),n=t!==null?t.factory:qn(e);if(n!==null)return n;if(e instanceof I)throw new w(204,!1);if(e instanceof Function)return pR(e);throw new w(204,!1)}function pR(e){if(e.length>0)throw new w(204,!1);let n=tR(e);return n!==null?()=>n.factory(e):()=>new e}function gR(e){if(Ry(e))return ri(void 0,e.useValue);{let t=Ay(e);return ri(t,ka)}}function Ay(e,t,n){let r;if(ja(e)){let i=xe(e);return qn(i)||Ad(i)}else if(Ry(e))r=()=>xe(e.useValue);else if(hR(e))r=()=>e.useFactory(...Rd(e.deps||[]));else if(fR(e))r=(i,o)=>R(xe(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=xe(e&&(e.useClass||e.provide));if(mR(e))r=()=>new i(...Rd(e.deps));else return qn(i)||Ad(i)}return r}function uo(e){if(e.destroyed)throw new w(205,!1)}function ri(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function mR(e){return!!e.deps}function vR(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function yR(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Nd(e,t){for(let n of e)Array.isArray(n)?Nd(n,t):n&&Ud(n)?Nd(n.\u0275providers,t):t(n)}function ue(e,t){let n;e instanceof Kn?(uo(e),n=e):n=new Sd(e);let r,i=Nt(n),o=$e(void 0);try{return t()}finally{Nt(i),$e(o)}}function Ny(){return wy()!==void 0||ia()!=null}var Re=0,D=1,A=2,le=3,et=4,tt=5,Le=6,oi=7,ie=8,ht=9,Mt=10,J=11,si=12,Xd=13,Xn=14,Ae=15,er=16,tr=17,nr=18,_o=19,ef=20,Zt=21,qa=22,Eo=23,We=24,rr=25,ee=26,My=1,pt=6,Ot=7,Io=8,wo=9,Ee=10;function ze(e){return Array.isArray(e)&&typeof e[My]=="object"}function Ge(e){return Array.isArray(e)&&e[My]===!0}function tf(e){return(e.flags&4)!==0}function en(e){return e.componentOffset>-1}function Ka(e){return(e.flags&1)===1}function ir(e){return!!e.template}function or(e){return(e[A]&512)!==0}function Cn(e){return(e[A]&256)===256}var Oy="svg",Py="math";function qe(e){for(;Array.isArray(e);)e=e[Re];return e}function nf(e,t){return qe(t[e])}function nt(e,t){return qe(t[e.index])}function sr(e,t){return e.data[t]}function rt(e,t){let n=t[e];return ze(n)?n:n[Re]}function Ya(e){return(e[A]&128)===128}function ky(e){return Ge(e[le])}function Dn(e,t){return t==null?null:e[t]}function rf(e){e[tr]=0}function of(e){e[A]&1024||(e[A]|=1024,Ya(e)&&ai(e))}function xy(e,t){for(;e>0;)t=t[Xn],e--;return t}function Co(e){return!!(e[A]&9216||e[We]?.dirty)}function Za(e){e[Mt].changeDetectionScheduler?.notify(8),e[A]&64&&(e[A]|=1024),Co(e)&&ai(e)}function ai(e){e[Mt].changeDetectionScheduler?.notify(0);let t=wn(e);for(;t!==null&&!(t[A]&8192||(t[A]|=8192,!Ya(t)));)t=wn(t)}function sf(e,t){if(Cn(e))throw new w(911,!1);e[Zt]===null&&(e[Zt]=[]),e[Zt].push(t)}function Ly(e,t){if(e[Zt]===null)return;let n=e[Zt].indexOf(t);n!==-1&&e[Zt].splice(n,1)}function wn(e){let t=e[le];return Ge(t)?t[le]:t}function Fy(e){return e[oi]??=[]}function jy(e){return e.cleanup??=[]}var x={lFrame:t_(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Do=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(Do||{}),_R=0,Md=!1;function Uy(){return x.lFrame.elementDepthCount}function Vy(){x.lFrame.elementDepthCount++}function By(){x.lFrame.elementDepthCount--}function Hy(){return x.bindingsEnabled}function af(){return x.skipHydrationRootTNode!==null}function $y(e){return x.skipHydrationRootTNode===e}function Wy(e){x.skipHydrationRootTNode=e}function zy(){x.skipHydrationRootTNode=null}function K(){return x.lFrame.lView}function gt(){return x.lFrame.tView}function Qa(e){return x.lFrame.contextLView=e,e[ie]}function Ja(e){return x.lFrame.contextLView=null,e}function it(){let e=cf();for(;e!==null&&e.type===64;)e=e.parent;return e}function cf(){return x.lFrame.currentTNode}function Gy(){let e=x.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function ci(e,t){let n=x.lFrame;n.currentTNode=e,n.isParent=t}function lf(){return x.lFrame.isParent}function qy(){x.lFrame.isParent=!1}function uf(e){Fd("Must never be called in production mode"),_R=e}function df(){return Md}function ff(e){let t=Md;return Md=e,t}function Ky(){return x.lFrame.bindingIndex}function Yy(e){return x.lFrame.bindingIndex=e}function li(){return x.lFrame.bindingIndex++}function hf(e){let t=x.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Zy(){return x.lFrame.inI18n}function Qy(e,t){let n=x.lFrame;n.bindingIndex=n.bindingRootIndex=e,Xa(t)}function Jy(){return x.lFrame.currentDirectiveIndex}function Xa(e){x.lFrame.currentDirectiveIndex=e}function Xy(e){let t=x.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function pf(e){x.lFrame.currentQueryIndex=e}function ER(e){let t=e[D];return t.type===2?t.declTNode:t.type===1?e[tt]:null}function gf(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=ER(o),i===null||(o=o[Xn],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=x.lFrame=e_();return r.currentTNode=t,r.lView=e,!0}function ec(e){let t=e_(),n=e[D];x.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function e_(){let e=x.lFrame,t=e===null?null:e.child;return t===null?t_(e):t}function t_(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function n_(){let e=x.lFrame;return x.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var mf=n_;function tc(){let e=n_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function r_(e){return(x.lFrame.contextLView=xy(e,x.lFrame.contextLView))[ie]}function tn(){return x.lFrame.selectedIndex}function Tn(e){x.lFrame.selectedIndex=e}function vf(){let e=x.lFrame;return sr(e.tView,e.selectedIndex)}function yf(){return x.lFrame.currentNamespace}var i_=!0;function nc(){return i_}function nn(e){i_=e}function Od(e,t=null,n=null,r){let i=_f(e,t,n,r);return i.resolveInjectorInitializers(),i}function _f(e,t=null,n=null,r,i=new Set){let o=[n||In,by(e)];return r=r||(typeof e=="object"?void 0:Qt(e)),new Kn(o,t||yo(),r||null,i)}var he=class e{static THROW_IF_NOT_FOUND=zn;static NULL=new po;static create(t,n){if(Array.isArray(t))return Od({name:""},n,t,"");{let r=t.name??"";return Od({name:r},t.parent,t.providers,r)}}static \u0275prov=C({token:e,providedIn:"any",factory:()=>R(Kd)});static __NG_ELEMENT_ID__=-1},Ie=new I(""),rn=(()=>{class e{static __NG_ELEMENT_ID__=IR;static __NG_ENV_ID__=n=>n}return e})(),Pd=class extends rn{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Cn(this._lView)}onDestroy(t){let n=this._lView;return sf(n,t),()=>Ly(n,t)}};function IR(){return new Pd(K())}var dt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},ot=new I("",{providedIn:"root",factory:()=>{let e=g(ce),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(dt),t.handleError(n))}}}),o_={provide:ft,useValue:()=>void g(dt),multi:!0};function ar(e,t){let[n,r,i]=od(e,t?.equal),o=n,s=o[Gt];return o.set=r,o.update=i,o.asReadonly=s_.bind(o),o}function s_(){let e=this[Gt];if(e.readonlyFn===void 0){let t=()=>this();t[Gt]=e,e.readonlyFn=t}return e.readonlyFn}var Jt=class{},To=new I("",{providedIn:"root",factory:()=>!1});var Ef=new I(""),If=new I("");var rc=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=wR}return e})();function wR(){return new rc(K(),it())}var mt=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ce(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new k(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})(),bn=(()=>{class e{internalPendingTasks=g(mt);scheduler=g(Jt);errorHandler=g(ot);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})();function bo(...e){}var wf=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:()=>new kd})}return e})(),kd=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var ic={JSACTION:"jsaction"};function xo(e){return{toString:e}.toString()}var oc="__parameters__";function OR(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function PR(e,t,n){return xo(()=>{let r=OR(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(oc)?c[oc]:Object.defineProperty(c,oc,{value:[]})[oc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var kt=Cy(PR("Optional"),8);function kR(e){return typeof e=="function"}var fc=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function q_(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Pc=(()=>{let e=()=>K_;return e.ngInherit=!0,e})();function K_(e){return e.type.prototype.ngOnChanges&&(e.setInput=LR),xR}function xR(){let e=Z_(this),t=e?.current;if(t){let n=e.previous;if(n===Jn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function LR(e,t,n,r,i){let o=this.declaredInputs[r],s=Z_(e)||FR(e,{previous:Jn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new fc(l&&l.currentValue,n,c===Jn),q_(e,t,i,n)}var Y_="__ngSimpleChanges__";function Z_(e){return e[Y_]||null}function FR(e,t){return e[Y_]=t}var a_=[];var H=function(e,t=null,n){for(let r=0;r<a_.length;r++){let i=a_[r];i(e,t,n)}};function jR(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=K_(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function UR(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function ac(e,t,n){Q_(e,t,3,n)}function cc(e,t,n,r){(e[A]&3)===n&&Q_(e,t,n,r)}function Cf(e,t){let n=e[A];(n&3)===t&&(n&=16383,n+=1,e[A]=n)}function Q_(e,t,n,r){let i=r!==void 0?e[tr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[tr]+=65536),(a<o||o==-1)&&(VR(e,n,t,c),e[tr]=(e[tr]&4294901760)+c+2),c++}function c_(e,t){H(4,e,t);let n=P(null);try{t.call(e)}finally{P(n),H(5,e,t)}}function VR(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[A]>>14<e[tr]>>16&&(e[A]&3)===t&&(e[A]+=16384,c_(a,o)):c_(a,o)}var di=-1,Ao=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function BR(e){return(e.flags&8)!==0}function HR(e){return(e.flags&16)!==0}function $R(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];zR(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function WR(e){return e===3||e===4||e===6}function zR(e){return e.charCodeAt(0)===64}function ih(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?l_(e,n,i,null,t[++r]):l_(e,n,i,null,null))}}return e}function l_(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function J_(e){return e!==di}function hc(e){return e&32767}function GR(e){return e>>16}function pc(e,t){let n=GR(e),r=t;for(;n>0;)r=r[Xn],n--;return r}var kf=!0;function u_(e){let t=kf;return kf=e,t}var qR=256,X_=qR-1,eE=5,KR=0,Pt={};function YR(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zn)&&(r=n[Zn]),r==null&&(r=n[Zn]=KR++);let i=r&X_,o=1<<i;t.data[e+(i>>eE)]|=o}function tE(e,t){let n=nE(e,t);if(n!==-1)return n;let r=t[D];r.firstCreatePass&&(e.injectorIndex=t.length,Df(r.data,e),Df(t,null),Df(r.blueprint,null));let i=oh(e,t),o=e.injectorIndex;if(J_(i)){let s=hc(i),a=pc(i,t),c=a[D].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Df(e,t){e.push(0,0,0,0,0,0,0,0,t)}function nE(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function oh(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=aE(i),r===null)return di;if(n++,i=i[Xn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return di}function ZR(e,t,n){YR(e,t,n)}function rE(e,t,n){if(n&8||e!==void 0)return e;Ha(t,"NodeInjector")}function iE(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[ht],o=$e(void 0);try{return i?i.get(t,r,n&8):Gd(t,r,n&8)}finally{$e(o)}}return rE(r,t,n)}function oE(e,t,n,r=0,i){if(e!==null){if(t[A]&2048&&!(r&2)){let s=tA(e,t,n,r,Pt);if(s!==Pt)return s}let o=sE(e,t,n,r,Pt);if(o!==Pt)return o}return iE(t,n,r,i)}function sE(e,t,n,r,i){let o=XR(n);if(typeof o=="function"){if(!gf(t,e,r))return r&1?rE(i,n,r):iE(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ha(n);else return s}finally{mf()}}else if(typeof o=="number"){let s=null,a=nE(e,t),c=di,l=r&1?t[Ae][tt]:null;for((a===-1||r&4)&&(c=a===-1?oh(e,t):t[a+8],c===di||!f_(r,!1)?a=-1:(s=t[D],a=hc(c),t=pc(c,t)));a!==-1;){let u=t[D];if(d_(o,a,u.data)){let d=QR(a,t,n,s,r,l);if(d!==Pt)return d}c=t[a+8],c!==di&&f_(r,t[D].data[a+8]===l)&&d_(o,a,t)?(s=u,a=hc(c),t=pc(c,t)):a=-1}}return i}function QR(e,t,n,r,i,o){let s=t[D],a=s.data[e+8],c=r==null?en(a)&&kf:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=JR(a,s,n,c,l);return u!==null?xf(t,s,u,a,i):Pt}function JR(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&ir(h)&&h.type===n)return c}return null}function xf(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Ao){let a=o;if(a.resolving){let h=La(s[n]);throw zd(h)}let c=u_(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?$e(a.injectImpl):null,f=gf(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&jR(n,s[n],t)}finally{d!==null&&$e(d),u_(c),a.resolving=!1,mf()}}return o}function XR(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Zn)?e[Zn]:void 0;return typeof t=="number"?t>=0?t&X_:eA:t}function d_(e,t,n){let r=1<<e;return!!(n[t+(e>>eE)]&r)}function f_(e,t){return!(e&2)&&!(e&1&&t)}var lr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return oE(this._tNode,this._lView,t,Gn(r),n)}};function eA(){return new lr(it(),K())}function kc(e){return xo(()=>{let t=e.prototype.constructor,n=t[ho]||Lf(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[ho]||Lf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Lf(e){return Ld(e)?()=>{let t=Lf(xe(e));return t&&t()}:qn(e)}function tA(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[A]&2048&&!or(s);){let a=sE(o,s,n,r|2,Pt);if(a!==Pt)return a;let c=o.parent;if(!c){let l=s[ef];if(l){let u=l.get(n,Pt,r);if(u!==Pt)return u}c=aE(s),s=s[Xn]}o=c}return i}function aE(e){let t=e[D],n=t.type;return n===2?t.declTNode:n===1?e[tt]:null}function nA(){return sh(it(),K())}function sh(e,t){return new xc(nt(e,t))}var xc=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=nA}return e})();var cE="ngSkipHydration",rA="ngskiphydration";function lE(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===rA)return!0}return!1}function uE(e){return e.hasAttribute(cE)}function gc(e){return(e.flags&128)===128}function dE(e){if(gc(e))return!0;let t=e.parent;for(;t;){if(gc(e)||lE(t))return!0;t=t.parent}return!1}var ah=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ah||{}),fE=new Map,iA=0;function oA(){return iA++}function sA(e){fE.set(e[_o],e)}function Ff(e){fE.delete(e[_o])}var h_="__ngContext__";function pi(e,t){ze(t)?(e[h_]=t[_o],sA(t)):e[h_]=t}function hE(e){return gE(e[si])}function pE(e){return gE(e[et])}function gE(e){for(;e!==null&&!Ge(e);)e=e[et];return e}var jf;function ch(e){jf=e}function Lo(){if(jf!==void 0)return jf;if(typeof document<"u")return document;throw new w(210,!1)}var xt=new I("",{providedIn:"root",factory:()=>aA}),aA="ng",Lc=new I(""),st=new I("",{providedIn:"platform",factory:()=>"unknown"});var Fc=new I("",{providedIn:"root",factory:()=>Lo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function cA(){let e=new hr;return e.store=mE(Lo(),g(xt)),e}var hr=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:cA});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function mE(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var vE="h",yE="b",lA="f",uA="n",_E="e",EE="t",jc="c",lh="x",No="r",IE="i",wE="n",uh="d";var CE="di",DE="s",TE="p";var Fo=new I(""),bE=!1,dh=new I("",{providedIn:"root",factory:()=>bE});var fh=new I(""),SE=!1,RE=new I(""),hh=new I("",{providedIn:"root",factory:()=>new Map});var jo="ngb";var AE=(e,t,n)=>{let r=e,i=r.__jsaction_fns??new Map,o=i.get(t)??[];o.push(n),i.set(t,o),r.__jsaction_fns=i},NE=(e,t)=>{let n=e,r=n.getAttribute(jo)??"",i=t.get(r)??new Set;i.has(n)||i.add(n),t.set(r,i)};var ME=e=>{e.removeAttribute(ic.JSACTION),e.removeAttribute(jo),e.__jsaction_fns=void 0},OE=new I("",{providedIn:"root",factory:()=>({})});function ph(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var Uf=new Map;function PE(e,t){return Uf.set(e,t),()=>Uf.delete(e)}var p_=!1,kE=(e,t,n,r)=>{};function dA(e,t,n,r){kE(e,t,n,r)}function xE(){p_||(kE=(e,t,n,r)=>{let i=e[ht].get(xt);Uf.get(i)?.(t,n,r)},p_=!0)}var Uc=new I("");function Vc(e){return(e.flags&32)===32}var fA="__nghData__",gh=fA,hA="__nghDeferData__",LE=hA;var lc="ngh",FE="nghm",jE=()=>null;function pA(e,t,n=!1){let r=e.getAttribute(lc);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=t.get(hr,null,{optional:!0});u!==null&&(c=u.get(gh,[])[Number(r)])}let l={data:c,firstChild:e.firstChild??null};return n&&(l.firstChild=e,Bc(l,0,e.nextSibling)),a?e.setAttribute(lc,a):e.removeAttribute(lc),l}function UE(){jE=pA}function VE(e,t,n=!1){return jE(e,t,n)}function BE(e){let t=e._lView;return t[D].type===2?null:(or(t)&&(t=t[ee]),t)}function gA(e){return e.textContent?.replace(/\s/gm,"")}function mA(e){let t=Lo(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=gA(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function Bc(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Vf(e,t){return e.segmentHeads?.[t]??null}function HE(e){return e.get(RE,!1,{optional:!0})}function vA(e,t){let n=e.data,r=n[_E]?.[t]??null;return r===null&&n[jc]?.[t]&&(r=mh(e,t)),r}function $E(e,t){return e.data[jc]?.[t]??null}function mh(e,t){let n=$E(e,t)??[],r=0;for(let i of n)r+=i[No]*(i[lh]??1);return r}function yA(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[uh];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function WE(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[uh];e.disconnectedNodes=n?new Set(n):null}return!!yA(e)?.has(t)}function Hc(e,t){let n=e[Le];return n!==null&&!af()&&!Vc(t)&&!WE(n,t.index-ee)}function _A(e,t){let n=t.get(Uc),i=t.get(hr).get(LE,{}),o=!1,s=e,a=null,c=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}c.unshift(s),s=i[s][TE]}return{parentBlockPromise:a,hydrationQueue:c}}function Tf(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===FE}function g_(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function zE(e){for(let r of e.body.childNodes)if(Tf(r))return;let t=g_(e.body.previousSibling);if(Tf(t))return;let n=g_(e.head.lastChild);if(!Tf(n))throw new w(-507,!1)}function GE(e,t){let n=e.contentQueries;if(n!==null){let r=P(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];pf(o),a.contentQueries(2,t[s],s)}}}finally{P(r)}}}function Bf(e,t,n){pf(0);let r=P(null);try{t(e,n)}finally{P(r)}}function qE(e,t,n){if(tf(t)){let r=P(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{P(r)}}}var on=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(on||{});var mc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ua})`}};function $c(e){return e instanceof mc?e.changingThisBreaksApplicationSecurity:e}function vh(e,t){let n=KE(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ua})`)}return n===t}function KE(e){return e instanceof mc&&e.getTypeName()||null}var EA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yh(e){return e=String(e),e.match(EA)?e:"unsafe:"+e}var Wc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Wc||{});function zc(e){let t=IA();return t?t.sanitize(Wc.URL,e)||"":vh(e,"URL")?$c(e):yh(Qn(e))}function IA(){let e=K();return e&&e[Mt].sanitizer}var wA=/^>|^->|<!--|-->|--!>|<!-$/g,CA=/(<|>)/g,DA="\u200B$1\u200B";function TA(e){return e.replace(wA,t=>t.replace(CA,DA))}function YE(e){return e.ownerDocument.body}function ZE(e){return e instanceof Function?e():e}function bA(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var QE="ng-template";function SA(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&bA(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(_h(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function _h(e){return e.type===4&&e.value!==QE}function RA(e,t,n){let r=e.type===4&&!n?QE:e.value;return t===r}function AA(e,t,n){let r=4,i=e.attrs,o=i!==null?OA(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!vt(r)&&!vt(c))return!1;if(s&&vt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!RA(e,c,n)||c===""&&t.length===1){if(vt(r))return!1;s=!0}}else if(r&8){if(i===null||!SA(e,i,c,n)){if(vt(r))return!1;s=!0}}else{let l=t[++a],u=NA(c,i,_h(e),n);if(u===-1){if(vt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(vt(r))return!1;s=!0}}}}return vt(r)||s}function vt(e){return(e&1)===0}function NA(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return PA(t,e)}function MA(e,t,n=!1){for(let r=0;r<t.length;r++)if(AA(e,t[r],n))return!0;return!1}function OA(e){for(let t=0;t<e.length;t++){let n=e[t];if(WR(n))return t}return e.length}function PA(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function m_(e,t){return e?":not("+t.trim()+")":t}function kA(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!vt(s)&&(t+=m_(o,i),i=""),r=s,o=o||!vt(r);n++}return i!==""&&(t+=m_(o,i)),t}function xA(e){return e.map(kA).join(",")}function LA(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!vt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var yt={};function JE(e,t){return e.createText(t)}function FA(e,t,n){e.setValue(t,n)}function XE(e,t){return e.createComment(TA(t))}function Eh(e,t,n){return e.createElement(t,n)}function vc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function eI(e,t,n){e.appendChild(t,n)}function v_(e,t,n,r,i){r!==null?vc(e,t,n,r,i):eI(e,t,n)}function Ih(e,t,n){e.removeChild(null,t,n)}function tI(e){e.textContent=""}function jA(e,t,n){e.setAttribute(t,"style",n)}function UA(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function nI(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&$R(e,t,r),i!==null&&UA(e,t,i),o!==null&&jA(e,t,o)}function wh(e,t,n,r,i,o,s,a,c,l,u){let d=ee+r,f=d+i,h=VA(d,f),p=typeof l=="function"?l():l;return h[D]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function VA(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:yt);return n}function BA(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=wh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ch(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[Re]=i,d[A]=r|4|128|8|64|1024,(l!==null||e&&e[A]&2048)&&(d[A]|=2048),rf(d),d[le]=d[Xn]=e,d[ie]=n,d[Mt]=s||e&&e[Mt],d[J]=a||e&&e[J],d[ht]=c||e&&e[ht]||null,d[tt]=o,d[_o]=oA(),d[Le]=u,d[ef]=l,d[Ae]=t.type==2?e[Ae]:d,d}function HA(e,t,n){let r=nt(t,e),i=BA(n),o=e[Mt].rendererFactory,s=Dh(e,Ch(e,i,null,rI(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function rI(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function iI(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Dh(e,t){return e[si]?e[Xd][et]=t:e[si]=t,e[Xd]=t,t}function Ye(e=1){oI(gt(),K(),tn()+e,!1)}function oI(e,t,n,r){if(!r)if((t[A]&3)===3){let o=e.preOrderCheckHooks;o!==null&&ac(t,o,n)}else{let o=e.preOrderHooks;o!==null&&cc(t,o,0,n)}Tn(n)}var Gc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Gc||{});function Hf(e,t,n,r){let i=P(null);try{let[o,s,a]=e.inputs[n],c=null;(s&Gc.SignalBased)!==0&&(c=t[o][Gt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):q_(t,c,o,r)}finally{P(i)}}var sn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(sn||{}),$A;function Th(e,t){return $A(e,t)}function ui(e,t,n,r,i){if(r!=null){let o,s=!1;Ge(r)?o=r:ze(r)&&(s=!0,r=r[Re]);let a=qe(r);e===0&&n!==null?i==null?eI(t,n,a):vc(t,n,a,i||null,!0):e===1&&n!==null?vc(t,n,a,i||null,!0):e===2?Ih(t,a,s):e===3&&t.destroyNode(a),o!=null&&tN(t,e,o,n,i)}}function WA(e,t){sI(e,t),t[Re]=null,t[tt]=null}function zA(e,t,n,r,i,o){r[Re]=i,r[tt]=t,Kc(e,r,n,1,i,o)}function sI(e,t){t[Mt].changeDetectionScheduler?.notify(9),Kc(e,t,t[J],2,null,null)}function GA(e){let t=e[si];if(!t)return bf(e[D],e);for(;t;){let n=null;if(ze(t))n=t[si];else{let r=t[Ee];r&&(n=r)}if(!n){for(;t&&!t[et]&&t!==e;)ze(t)&&bf(t[D],t),t=t[le];t===null&&(t=e),ze(t)&&bf(t[D],t),n=t&&t[et]}t=n}}function bh(e,t){let n=e[wo],r=n.indexOf(t);n.splice(r,1)}function qc(e,t){if(Cn(t))return;let n=t[J];n.destroyNode&&Kc(e,t,n,3,null,null),GA(t)}function bf(e,t){if(Cn(t))return;let n=P(null);try{t[A]&=-129,t[A]|=256,t[We]&&da(t[We]),KA(e,t),qA(e,t),t[D].type===1&&t[J].destroy();let r=t[er];if(r!==null&&Ge(t[le])){r!==t[le]&&bh(r,t);let i=t[nr];i!==null&&i.detachView(e)}Ff(t)}finally{P(n)}}function qA(e,t){let n=e.cleanup,r=t[oi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[oi]=null);let i=t[Zt];if(i!==null){t[Zt]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Eo];if(o!==null){t[Eo]=null;for(let s of o)s.destroy()}}function KA(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Ao)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];H(4,a,c);try{c.call(a)}finally{H(5,a,c)}}else{H(4,i,o);try{o.call(i)}finally{H(5,i,o)}}}}}function YA(e,t,n){return ZA(e,t.parent,n)}function ZA(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Re];if(en(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===on.None||i===on.Emulated)return null}return nt(r,n)}function QA(e,t,n){return XA(e,t,n)}function JA(e,t,n){return e.type&40?nt(e,n):null}var XA=JA,y_;function Sh(e,t,n,r){let i=YA(e,r,t),o=t[J],s=r.parent||t[tt],a=QA(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)v_(o,i,n[c],a,!1);else v_(o,i,n,a,!1);y_!==void 0&&y_(o,r,t,n,i)}function So(e,t){if(t!==null){let n=t.type;if(n&3)return nt(t,e);if(n&4)return $f(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return So(e,r);{let i=e[t.index];return Ge(i)?$f(-1,i):qe(i)}}else{if(n&128)return So(e,t.next);if(n&32)return Th(t,e)()||qe(e[t.index]);{let r=aI(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=wn(e[Ae]);return So(i,r)}else return So(e,t.next)}}}return null}function aI(e,t){if(t!==null){let r=e[Ae][tt],i=t.projection;return r.projection[i]}return null}function $f(e,t){let n=Ee+e+1;if(n<t.length){let r=t[n],i=r[D].firstChild;if(i!==null)return So(r,i)}return t[Ot]}function Rh(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&pi(qe(a),r),n.flags|=2),!Vc(n))if(c&8)Rh(e,t,n.child,r,i,o,!1),ui(t,e,i,a,o);else if(c&32){let l=Th(n,r),u;for(;u=l();)ui(t,e,i,u,o);ui(t,e,i,a,o)}else c&16?eN(e,t,r,n,i,o):ui(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Kc(e,t,n,r,i,o){Rh(n,r,e.firstChild,t,i,o,!1)}function eN(e,t,n,r,i,o){let s=n[Ae],c=s[tt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];ui(t,e,i,u,o)}else{let l=c,u=s[le];gc(r)&&(l.flags|=128),Rh(e,t,l,u,i,o,!0)}}function tN(e,t,n,r,i){let o=n[Ot],s=qe(n);o!==s&&ui(t,e,r,o,i);for(let a=Ee;a<n.length;a++){let c=n[a];Kc(c[D],c,e,t,r,o)}}function nN(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:sn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=sn.Important),e.setStyle(n,r,i,o))}}function cI(e,t,n,r,i){let o=tn(),s=r&2;try{Tn(-1),s&&t.length>ee&&oI(e,t,ee,!1),H(s?2:0,i,n),n(r,i)}finally{Tn(o),H(s?3:1,i,n)}}function lI(e,t,n){uN(e,t,n),(n.flags&64)===64&&dN(e,t,n)}function uI(e,t,n=nt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function rN(e,t,n,r){let o=r.get(dh,bE)||n===on.ShadowDom,s=e.selectRootElement(t,o);return iN(s),s}function iN(e){dI(e)}var dI=()=>null;function oN(e){uE(e)?tI(e):mA(e)}function fI(){dI=oN}function sN(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function aN(e,t,n,r,i,o){let s=t[D];if(Nh(e,s,t,n,r)){en(e)&&lN(t,e.index);return}e.type&3&&(n=sN(n)),cN(e,t,n,r,i,o)}function cN(e,t,n,r,i,o){if(e.type&3){let s=nt(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function lN(e,t){let n=rt(t,e);n[A]&16||(n[A]|=64)}function uN(e,t,n){let r=n.directiveStart,i=n.directiveEnd;en(n)&&HA(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||tE(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=xf(t,e,s,n);if(pi(c,t),o!==null&&mN(t,s-r,c,a,n,o),ir(a)){let l=rt(n.index,t);l[ie]=xf(t,e,s,n)}}}function dN(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Jy();try{Tn(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];Xa(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&fN(c,l)}}finally{Tn(-1),Xa(s)}}function fN(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function hN(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];MA(t,o.selectors,!1)&&(r??=[],ir(o)?r.unshift(o):r.push(o))}return r}function pN(e,t,n,r,i,o){let s=nt(e,t);gN(t[J],s,o,e.value,n,r,i)}function gN(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Qn(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function mN(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Hf(r,n,c,l)}}function vN(e,t,n,r,i){let o=ee+n,s=t[D],a=i(s,t,e,r,n);t[o]=a,ci(e,!0);let c=e.type===2;return c?(nI(t[J],a,e),(Uy()===0||Ka(e))&&pi(a,t),Vy()):pi(a,t),nc()&&(!c||!Vc(e))&&Sh(s,t,a,e),e}function yN(e){let t=e;return lf()?qy():(t=t.parent,ci(t,!1)),t}function Ah(e,t){let n=e[ht];if(!n)return;n.get(ot,null)?.(t)}function Nh(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Hf(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];Hf(u,l,r,i),a=!0}return a}function _N(e,t){let n=rt(t,e),r=n[D];EN(r,n);let i=n[Re];i!==null&&n[Le]===null&&(n[Le]=VE(i,n[ht])),H(18),Mh(r,n,n[ie]),H(19,n[ie])}function EN(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Mh(e,t,n){ec(t);try{let r=e.viewQuery;r!==null&&Bf(1,r,n);let i=e.template;i!==null&&cI(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[nr]?.finishViewCreation(e),e.staticContentQueries&&GE(e,t),e.staticViewQueries&&Bf(2,e.viewQuery,n);let o=e.components;o!==null&&IN(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[A]&=-5,tc()}}function IN(e,t){for(let n=0;n<t.length;n++)_N(e,t[n])}function Yc(e,t,n,r){let i=P(null);try{let o=t.tView,a=e[A]&4096?4096:16,c=Ch(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[er]=l;let u=e[nr];return u!==null&&(c[nr]=u.createEmbeddedView(o)),Mh(o,c,n),c}finally{P(i)}}function gi(e,t){return!t||t.firstChild===null||gc(e)}var __=!1,wN=new I("");function Mo(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(qe(o)),Ge(o)&&hI(o,r);let s=n.type;if(s&8)Mo(e,t,n.child,r);else if(s&32){let a=Th(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=aI(t,n);if(Array.isArray(a))r.push(...a);else{let c=wn(t[Ae]);Mo(c[D],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function hI(e,t){for(let n=Ee;n<e.length;n++){let r=e[n],i=r[D].firstChild;i!==null&&Mo(r[D],r,i,t)}e[Ot]!==e[Re]&&t.push(e[Ot])}function pI(e){if(e[rr]!==null){for(let t of e[rr])t.impl.addSequence(t);e[rr].length=0}}var gI=[];function CN(e){return e[We]??DN(e)}function DN(e){let t=gI.pop()??Object.create(bN);return t.lView=e,t}function TN(e){e.lView[We]!==e&&(e.lView=null,gI.push(e))}var bN=q(_({},aa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ai(e.lView)},consumerOnSignalRead(){this.lView[We]=this}});function SN(e){let t=e[We]??Object.create(RN);return t.lView=e,t}var RN=q(_({},aa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=wn(e.lView);for(;t&&!mI(t[D]);)t=wn(t);t&&of(t)},consumerOnSignalRead(){this.lView[We]=this}});function mI(e){return e.type!==2}function vI(e){if(e[Eo]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Eo])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[A]&8192)}}var AN=100;function Oh(e,t=0){let r=e[Mt].rendererFactory,i=!1;i||r.begin?.();try{NN(e,t)}finally{i||r.end?.()}}function NN(e,t){let n=df();try{ff(!0),Wf(e,t);let r=0;for(;Co(e);){if(r===AN)throw new w(103,!1);r++,Wf(e,1)}}finally{ff(n)}}function yI(e,t){uf(t?Do.Exhaustive:Do.OnlyDirtyViews);try{Oh(e)}finally{uf(Do.Off)}}function MN(e,t,n,r){if(Cn(t))return;let i=t[A],o=!1,s=!1;ec(t);let a=!0,c=null,l=null;o||(mI(e)?(l=CN(t),c=la(l)):sa()===null?(a=!1,l=SN(t),c=la(l)):t[We]&&(da(t[We]),t[We]=null));try{rf(t),Yy(e.bindingStartIndex),n!==null&&cI(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&ac(t,h,null)}else{let h=e.preOrderHooks;h!==null&&cc(t,h,0,null),Cf(t,0)}if(s||ON(t),vI(t),_I(t,0),e.contentQueries!==null&&GE(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&ac(t,h)}else{let h=e.contentHooks;h!==null&&cc(t,h,1),Cf(t,1)}kN(e,t);let d=e.components;d!==null&&II(t,d,0);let f=e.viewQuery;if(f!==null&&Bf(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&ac(t,h)}else{let h=e.viewHooks;h!==null&&cc(t,h,2),Cf(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[qa]){for(let h of t[qa])h();t[qa]=null}o||(pI(t),t[A]&=-73)}catch(u){throw o||ai(t),u}finally{l!==null&&(nd(l,c),a&&TN(l)),tc()}}function _I(e,t){for(let n=hE(e);n!==null;n=pE(n))for(let r=Ee;r<n.length;r++){let i=n[r];EI(i,t)}}function ON(e){for(let t=hE(e);t!==null;t=pE(t)){if(!(t[A]&2))continue;let n=t[wo];for(let r=0;r<n.length;r++){let i=n[r];of(i)}}}function PN(e,t,n){H(18);let r=rt(t,e);EI(r,n),H(19,r[ie])}function EI(e,t){Ya(e)&&Wf(e,t)}function Wf(e,t){let r=e[D],i=e[A],o=e[We],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&ua(o)),s||=!1,o&&(o.dirty=!1),e[A]&=-9217,s)MN(r,e,r.template,e[ie]);else if(i&8192){let a=P(null);try{vI(e),_I(e,1);let c=r.components;c!==null&&II(e,c,1),pI(e)}finally{P(a)}}}function II(e,t,n){for(let r=0;r<t.length;r++)PN(e,t[r],n)}function kN(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Tn(~i);else{let o=i,s=n[++r],a=n[++r];Qy(s,o);let c=t[o];H(24,c),a(2,c),H(25,c)}}}finally{Tn(-1)}}function Zc(e,t){let n=df()?64:1088;for(e[Mt].changeDetectionScheduler?.notify(t);e;){e[A]|=n;let r=wn(e);if(or(e)&&!r)return e;e=r}return null}function wI(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function CI(e,t){let n=Ee+t;if(n<e.length)return e[n]}function Uo(e,t,n,r=!0){let i=t[D];if(xN(i,t,e,n),r){let s=$f(n,e),a=t[J],c=a.parentNode(e[Ot]);c!==null&&zA(i,e[tt],a,t,c,s)}let o=t[Le];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ph(e,t){let n=Oo(e,t);return n!==void 0&&qc(n[D],n),n}function Oo(e,t){if(e.length<=Ee)return;let n=Ee+t,r=e[n];if(r){let i=r[er];i!==null&&i!==e&&bh(i,r),t>0&&(e[n-1][et]=r[et]);let o=mo(e,Ee+t);WA(r[D],r);let s=o[nr];s!==null&&s.detachView(o[D]),r[le]=null,r[et]=null,r[A]&=-129}return r}function xN(e,t,n,r){let i=Ee+r,o=n.length;r>0&&(n[i-1][et]=t),r<o-Ee?(t[et]=n[i],qd(n,Ee+r,t)):(n.push(t),t[et]=null),t[le]=n;let s=t[er];s!==null&&n!==s&&DI(s,t);let a=t[nr];a!==null&&a.insertView(e),Za(t),t[A]|=128}function DI(e,t){let n=e[wo],r=t[le];if(ze(r))e[A]|=2;else{let i=r[le][Ae];t[Ae]!==i&&(e[A]|=2)}n===null?e[wo]=[t]:n.push(t)}var ur=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[D];return Mo(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ie]}set context(t){this._lView[ie]=t}get destroyed(){return Cn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[le];if(Ge(t)){let n=t[Io],r=n?n.indexOf(this):-1;r>-1&&(Oo(t,r),mo(n,r))}this._attachedToViewContainer=!1}qc(this._lView[D],this._lView)}onDestroy(t){sf(this._lView,t)}markForCheck(){Zc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[A]&=-129}reattach(){Za(this._lView),this._lView[A]|=128}detectChanges(){this._lView[A]|=1024,Oh(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[ht].get(wN,__)}catch{this.exhaustive=__}}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=or(this._lView),n=this._lView[er];n!==null&&!t&&bh(n,this._lView),sI(this._lView[D],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=t;let n=or(this._lView),r=this._lView[er];r!==null&&!n&&DI(r,this._lView),Za(this._lView)}};function kh(e,t,n,r,i){let o=e.data[t];if(o===null)o=LN(e,t,n,r,i),Zy()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Gy();o.injectorIndex=s===null?-1:s.injectorIndex}return ci(o,!0),o}function LN(e,t,n,r,i){let o=cf(),s=lf(),a=s?o:o&&o.parent,c=e.data[t]=jN(e,a,n,t,r,i);return FN(e,c,o,s),c}function FN(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function jN(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return af()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var UN=new RegExp(`^(\\d+)*(${yE}|${vE})*(.*)`);function VN(e){let t=e.match(UN),[n,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function BN(e){return!e.prev&&e.parent?.type===8}function Sf(e){return e.index-ee}function HN(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function Qc(e,t,n,r){let i=Sf(r),o=HN(e,i);if(o===void 0){let s=e.data[wE];if(s?.[i])o=WN(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(BN(r)){let l=Sf(r.parent);o=Vf(e,l)}else{let l=nt(c,n);if(a)o=l.firstChild;else{let u=Sf(c),d=Vf(e,u);if(c.type===2&&d){let h=mh(e,u)+1;o=Jc(h,d)}else o=l.nextSibling}}}}return o}function Jc(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function $N(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case lA:n=n.firstChild;break;case uA:n=n.nextSibling;break}}return n}function WN(e,t){let[n,...r]=VN(e),i;if(n===vE)i=t[Ae][Re];else if(n===yE)i=YE(t[Ae][Re]);else{let o=Number(n);i=qe(t[o+ee])}return $N(i,r)}var zN=!1;function TI(e){zN=e}function GN(e){let t=e[Le];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let i=e[J];for(let o of r.values())qN(i,n,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function qN(e,t,n){for(let r of n.node.cases[n.case]){let i=t.get(r.index-ee);i&&Ih(e,i,!1)}}function Xc(e){let t=e[pt]??[],r=e[le][J],i=[];for(let o of t)o.data[CE]!==void 0?i.push(o):bI(o,r);e[pt]=i}function KN(e){let{lContainer:t}=e,n=t[pt];if(n===null)return;let i=t[le][J];for(let o of n)bI(o,i)}function bI(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[No];for(;n<i;){let o=r.nextSibling;Ih(t,r,!1),r=o,n++}}}function el(e){Xc(e);let t=e[Re];ze(t)&&yc(t);for(let n=Ee;n<e.length;n++)yc(e[n])}function yc(e){GN(e);let t=e[D];for(let n=ee;n<t.bindingStartIndex;n++)if(Ge(e[n])){let r=e[n];el(r)}else ze(e[n])&&yc(e[n])}function xh(e){let t=e._views;for(let n of t){let r=BE(n);r!==null&&r[Re]!==null&&(ze(r)?yc(r):el(r))}}function YN(e,t,n,r){e!==null&&(n.cleanup(t),el(e.lContainer),xh(r))}function ZN(e,t){let n=[];for(let r of t)for(let i=0;i<(r[lh]??1);i++){let o={data:r,firstChild:null};r[No]>0&&(o.firstChild=e,e=Jc(r[No],e)),n.push(o)}return[e,n]}var SI=()=>null,RI=()=>null;function AI(){SI=QN,RI=JN}function QN(e,t){return MI(e,t)?e[pt].shift():(Xc(e),null)}function _c(e,t){return SI(e,t)}function JN(e,t,n){if(t.tView.ssrId===null)return null;let r=_c(e,t.tView.ssrId);return n[D].firstUpdatePass&&r===null&&XN(n,t),r}function NI(e,t,n){return RI(e,t,n)}function XN(e,t){let n=t;for(;n;){if(E_(e,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=t.next;n&&(n.flags&512)===512;){if(E_(e,n))return;n=n.next}}function MI(e,t){let n=e[pt];return!t||n===null||n.length===0?!1:n[0].data[IE]===t}function E_(e,t){let n=t.tView?.ssrId;if(n==null)return!1;let r=e[t.index];return Ge(r)&&MI(r,n)?(Xc(r),!0):!1}var OI=class{},tl=class{},zf=class{resolveComponentFactory(t){throw new w(917,!1)}},Vo=class{static NULL=new zf},dr=class{},Lh=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>e0()}return e})();function e0(){let e=K(),t=it(),n=rt(t.index,e);return(ze(n)?n:e)[J]}var PI=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:()=>null})}return e})();var uc={},fi=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,uc,r);return i!==uc||n===uc?i:this.parentInjector.get(t,n,r)}};function I_(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=xd(i,a);else if(o==2){let c=a,l=t[++s];r=xd(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Rn(e,t=0){let n=K();if(n===null)return R(e,t);let r=it();return oE(r,n,xe(e),t)}function t0(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}i0(e,t,n,a,o,c,l)}o!==null&&r!==null&&n0(n,r,o)}function n0(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new w(-301,!1);r.push(t[i],o)}}function r0(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function i0(e,t,n,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&ir(h)&&(c=!0,r0(e,n,f)),ZR(tE(n,t),e,h.type)}u0(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=iI(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=ih(n.mergedAttrs,h.hostAttrs),s0(e,n,t,d,h),l0(d,h,i),s!==null&&s.has(h)){let[v,E]=s.get(h);n.directiveToIndex.set(h.type,[d,v+n.directiveStart,E+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}o0(e,n,o)}function o0(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))w_(0,t,i,r),w_(1,t,i,r),D_(t,r,!1);else{let o=n.get(i);C_(0,t,o,r),C_(1,t,o,r),D_(t,r,!0)}}}function w_(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),kI(t,o)}}function C_(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),kI(t,s)}}function kI(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function D_(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||_h(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function s0(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=qn(i.type,!0)),s=new Ao(o,ir(i),Rn,null);e.blueprint[r]=s,n[r]=s,a0(e,t,r,iI(e,n,i.hostVars,yt),i)}function a0(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;c0(s)!=a&&s.push(a),s.push(n,r,o)}}function c0(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function l0(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ir(t)&&(n[""]=e)}}function u0(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function xI(e,t,n,r,i,o,s,a){let c=t[D],l=c.consts,u=Dn(l,s),d=kh(c,e,n,r,u);return o&&t0(c,t,d,Dn(l,a),i),d.mergedAttrs=ih(d.mergedAttrs,d.attrs),d.attrs!==null&&I_(d,d.attrs,!1),d.mergedAttrs!==null&&I_(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function LI(e,t){UR(e,t),tf(t)&&e.queries.elementEnd(t)}function Sn(e,t,n){if(n===yt)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function d0(e,t,n,r){let i=Sn(e,t,n);return Sn(e,t+1,r)||i}function Rf(e,t,n){return function r(i){let o=en(e)?rt(e.index,t):t;Zc(o,5);let s=t[ie],a=T_(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=T_(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function T_(e,t,n,r){let i=P(null);try{return H(6,t,n),n(r)!==!1}catch(o){return Ah(e,o),!1}finally{H(7,t,n),P(i)}}function f0(e,t,n,r,i,o,s,a){let c=Ka(e),l=!1,u=null;if(!r&&c&&(u=h0(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=nt(e,n),f=r?r(d):d;dA(n,f,o,a);let h=i.listen(f,o,a),p=r?v=>r(qe(v[e.index])):e.index;FI(p,t,n,o,a,h,!1)}return l}function h0(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[oi],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function FI(e,t,n,r,i,o,s){let a=t.firstCreatePass?jy(t):null,c=Fy(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function b_(e,t,n,r,i,o){let s=t[n],a=t[D],l=a.data[n].outputs[r],d=s[l].subscribe(o);FI(e.index,a,t,i,o,d,!0)}var Gf=Symbol("BINDING");var Ec=class extends Vo{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Xt(t);return new mi(n,this.ngModule)}};function p0(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Gc.SignalBased)!==0};return i&&(o.transform=i),o})}function g0(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function m0(e,t,n){let r=t instanceof ce?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new fi(n,r):n}function v0(e){let t=e.get(dr,null);if(t===null)throw new w(407,!1);let n=e.get(PI,null),r=e.get(Jt,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function y0(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Eh(t,n,n==="svg"?Oy:n==="math"?Py:null)}var mi=class extends tl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=p0(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=g0(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=xA(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){H(22);let a=P(null);try{let c=this.componentDef,l=_0(r,c,s,o),u=m0(c,i||this.ngModule,t),d=v0(u),f=d.rendererFactory.createRenderer(null,c),h=r?rN(f,r,c.encapsulation,u):y0(c,f),p=s?.some(S_)||o?.some(b=>typeof b!="function"&&b.bindings.some(S_)),v=Ch(null,l,null,512|rI(c),null,null,d,f,u,null,VE(h,u,!0));v[ee]=h,ec(v);let E=null;try{let b=xI(ee,v,2,"#host",()=>l.directiveRegistry,!0,0);h&&(nI(f,h,b),pi(h,v)),lI(l,v,b),qE(l,b,v),LI(l,b),n!==void 0&&I0(b,this.ngContentSelectors,n),E=rt(b.index,v),v[ie]=E[ie],Mh(l,v,null)}catch(b){throw E!==null&&Ff(E),Ff(v),b}finally{H(23),tc()}return new Ic(this.componentType,v,!!p)}finally{P(a)}}};function _0(e,t,n,r){let i=e?["ng-version","20.1.7"]:LA(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Gf].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let f of d.bindings){a+=f[Gf].requiredVars;let h=u+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,f=za(d);c.push(f)}return wh(0,null,E0(o,s),1,a,c,null,null,null,[i],null)}function E0(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function S_(e){let t=e[Gf].kind;return t==="input"||t==="twoWay"}var Ic=class extends OI{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=sr(n[D],ee),this.location=sh(this._tNode,n),this.instance=rt(this._tNode.index,n)[ie],this.hostView=this.changeDetectorRef=new ur(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Nh(r,i[D],i,t,n);this.previousInputValues.set(t,n);let s=rt(r.index,i);Zc(s,1)}get injector(){return new lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function I0(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Bo=(()=>{class e{static __NG_ELEMENT_ID__=w0}return e})();function w0(){let e=it();return D0(e,K())}var C0=Bo,jI=class extends C0{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return sh(this._hostTNode,this._hostLView)}get injector(){return new lr(this._hostTNode,this._hostLView)}get parentInjector(){let t=oh(this._hostTNode,this._hostLView);if(J_(t)){let n=pc(t,this._hostLView),r=hc(t),i=n[D].data[r+8];return new lr(i,n)}else return new lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=R_(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Ee}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=_c(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,gi(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!kR(t),l;if(c)l=n;else{let E=n||{};l=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef,s=E.directives,a=E.bindings}let u=c?t:new mi(Xt(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let b=(c?d:this.parentInjector).get(ce,null);b&&(o=b)}let f=Xt(u.componentType??{}),h=_c(this._lContainer,f?.id??null),p=h?.firstChild??null,v=u.create(d,i,p,o,s,a);return this.insertImpl(v.hostView,l,gi(this._hostTNode,h)),v}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(ky(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[le],l=new jI(c,c[tt],c[le]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Uo(s,i,o,r),t.attachToViewContainerRef(),qd(Af(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=R_(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Oo(this._lContainer,n);r&&(mo(Af(this._lContainer),n),qc(r[D],r))}detach(t){let n=this._adjustIndex(t,-1),r=Oo(this._lContainer,n);return r&&mo(Af(this._lContainer),n)!=null?new ur(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function R_(e){return e[Io]}function Af(e){return e[Io]||(e[Io]=[])}function D0(e,t){let n,r=t[e.index];return Ge(r)?n=r:(n=wI(r,t,null,e),t[e.index]=n,Dh(t,n)),UI(n,t,e,r),new jI(n,e,t)}function T0(e,t){let n=e[J],r=n.createComment(""),i=nt(t,e),o=n.parentNode(i);return vc(n,o,r,n.nextSibling(i),!1),r}var UI=VI,Fh=()=>!1;function b0(e,t,n){return Fh(e,t,n)}function VI(e,t,n,r){if(e[Ot])return;let i;n.type&8?i=qe(r):i=T0(t,n),e[Ot]=i}function S0(e,t,n){if(e[Ot]&&e[pt])return!0;let r=n[Le],i=t.index-ee;if(!r||dE(t)||WE(r,i))return!1;let s=Vf(r,i),a=r.data[jc]?.[i],[c,l]=ZN(s,a);return e[Ot]=c,e[pt]=l,!0}function R0(e,t,n,r){Fh(e,n,t)||VI(e,t,n,r)}function BI(){UI=R0,Fh=S0}var A_=new Set;function at(e){A_.has(e)||(A_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var vi=class{},nl=class{};var wc=class extends vi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ec(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Zd(t);this._bootstrapComponents=ZE(o.bootstrap),this._r3Injector=_f(t,n,[{provide:vi,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver},...r],Qt(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Cc=class extends nl{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new wc(this.moduleType,t,[])}};var Po=class extends vi{injector;componentFactoryResolver=new Ec(this);instance=null;constructor(t){super();let n=new Kn([...t.providers,{provide:vi,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver}],t.parent||yo(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function _i(e,t,n=null){return new Po({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var A0=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ga(!1,n.type),i=r.length>0?_i([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=C({token:e,providedIn:"environment",factory:()=>new e(R(ce))})}return e})();function pr(e){return xo(()=>{let t=HI(e),n=q(_({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ah.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(A0).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||on.Emulated,styles:e.styles||In,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&at("NgStandalone"),$I(n);let r=e.dependencies;return n.directiveDefs=N_(r,N0),n.pipeDefs=N_(r,Qd),n.id=P0(n),n})}function N0(e){return Xt(e)||za(e)}function M0(e,t){if(e==null)return Jn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Gc.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function O0(e){if(e==null)return Jn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ho(e){return xo(()=>{let t=HI(e);return $I(t),t})}function HI(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Jn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||In,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:M0(e.inputs,t),outputs:O0(e.outputs),debugInfo:null}}function $I(e){e.features?.forEach(t=>t(e))}function N_(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function P0(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function k0(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=ih(e.mergedAttrs,e.attrs);let u=e.tView=wh(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),ci(e,!1);let c=WI(n,t,e,r);nc()&&Sh(n,t,c,e),pi(c,t);let l=wI(c,t,c,e);t[r+ee]=l,Dh(t,l),b0(l,e,t)}function Dc(e,t,n,r,i,o,s,a,c,l,u){let d=n+ee,f;if(t.firstCreatePass){if(f=kh(t,d,4,s||null,a||null),l!=null){let h=Dn(t.consts,l);f.localNames=[];for(let p=0;p<h.length;p+=2)f.localNames.push(h[p],-1)}}else f=t.data[d];return k0(f,e,t,n,r,i,o,c),l!=null&&uI(e,f,u),f}var WI=zI;function zI(e,t,n,r){return nn(!0),t[J].createComment("")}function x0(e,t,n,r){let i=!Hc(t,n);nn(i);let o=t[Le]?.data[EE]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return zI(e,t);let s=t[Le],a=Qc(s,e,t,n);Bc(s,r,a);let c=mh(s,r);return Jc(c,a)}function GI(){WI=x0}var Ke=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(Ke||{}),M_=0,L0=1,de=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(de||{});var F0=0,$o=1;var j0=4,U0=5;var V0=7,hi=8,B0=9,jh=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(jh||{});function dc(e,t){let n=$0(e),r=t[n];if(r!==null){for(let i of r)i();t[n]=null}}function H0(e){dc(1,e),dc(0,e),dc(2,e)}function $0(e){let t=j0;return e===1?t=U0:e===2&&(t=B0),t}var rl=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(rl||{}),gr=new I(""),qI=!1,qf=class extends we{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Ny()&&(this.destroyRef=g(rn,{optional:!0})??void 0,this.pendingTasks=g(mt,{optional:!0})??void 0)}emit(t){let n=P(null);try{super.next(t)}finally{P(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof ne&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ne=qf;function KI(e){let t,n;function r(){e=bo;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function O_(e){return queueMicrotask(()=>e()),()=>{e=bo}}var Uh="isAngularZone",Tc=Uh+"_ID",W0=0,Y=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ne(!1);onMicrotaskEmpty=new Ne(!1);onStable=new Ne(!1);onError=new Ne(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=qI}=t;if(typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,q0(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Uh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new w(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,z0,bo,bo);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},z0={};function Vh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function G0(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){KI(()=>{e.callbackScheduled=!1,Kf(e),e.isCheckStableRunning=!0,Vh(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Kf(e)}function q0(e){let t=()=>{G0(e)},n=W0++;e._inner=e._inner.fork({name:"angular",properties:{[Uh]:!0,[Tc]:n,[Tc+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(K0(c))return r.invokeTask(o,s,a,c);try{return P_(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),k_(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return P_(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Y0(c)&&t(),k_(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Kf(e),Vh(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Kf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function P_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function k_(e){e._nesting--,Vh(e)}var bc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ne;onMicrotaskEmpty=new Ne;onStable=new Ne;onError=new Ne;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function K0(e){return YI(e,"__ignore_ng_zone__")}function Y0(e){return YI(e,"__scheduler_tick__")}function YI(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Bh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})(),ZI=[0,1,2,3],QI=(()=>{class e{ngZone=g(Y);scheduler=g(Jt);errorHandler=g(dt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(gr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&H(16),this.executing=!0;for(let r of ZI)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&H(17)}register(n){let{view:r}=n;r!==void 0?((r[rr]??=[]).push(n),ai(r),r[A]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(rl.AFTER_NEXT_RENDER,n):n()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})(),Sc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[rr];t&&(this.view[rr]=t.filter(n=>n!==this))}};function Hh(e,t){let n=t?.injector??g(he);return at("NgAfterNextRender"),Q0(e,n,t,!0)}function Z0(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function Q0(e,t,n,r){let i=t.get(Bh);i.impl??=t.get(QI);let o=t.get(gr,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(rn):null,a=t.get(rc,null,{optional:!0}),c=new Sc(i.impl,Z0(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}function JI(e){return e+1}function Ei(e,t){let n=e[D],r=JI(t.index);return e[r]}function Wo(e,t){let n=JI(t.index);return e.data[n]}function J0(e,t,n){let r=t[D],i=Wo(r,n);switch(e){case de.Complete:return i.primaryTmplIndex;case de.Loading:return i.loadingTmplIndex;case de.Error:return i.errorTmplIndex;case de.Placeholder:return i.placeholderTmplIndex;default:return null}}function x_(e,t){return t===de.Placeholder?e.placeholderBlockConfig?.[M_]??null:t===de.Loading?e.loadingBlockConfig?.[M_]??null:null}function X0(e){return e.loadingBlockConfig?.[L0]??null}function L_(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function eM(e,t){let n=t.primaryTmplIndex+ee;return sr(e,n)}var tM=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?_i(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=C({token:e,providedIn:"environment",factory:()=>new e})}return e})();var XI=new I("");function Nf(e,t,n){return e.get(tM).getOrCreateInjector(t,e,n,"")}function nM(e,t,n){if(e instanceof fi){let i=e.injector,o=e.parentInjector,s=Nf(o,t,n);return new fi(i,s)}let r=e.get(ce);if(r!==e){let i=Nf(r,t,n);return new fi(e,i)}return Nf(e,t,n)}function cr(e,t,n,r=!1){let i=n[le],o=i[D];if(Cn(i))return;let s=Ei(i,t),a=s[$o],c=s[V0];if(!(c!==null&&e<c)&&F_(a,e)&&F_(s[F0]??-1,e)){let l=Wo(o,t),d=!r&&!0&&(X0(l)!==null||x_(l,de.Loading)!==null||x_(l,de.Placeholder))?oM:iM;try{d(e,s,n,t,i)}catch(f){Ah(i,f)}}}function rM(e,t){let n=e[pt]?.findIndex(i=>i.data[DE]===t[$o])??-1;return{dehydratedView:n>-1?e[pt][n]:null,dehydratedViewIx:n}}function iM(e,t,n,r,i){H(20);let o=J0(e,i,r);if(o!==null){t[$o]=e;let s=i[D],a=o+ee,c=sr(s,a),l=0;Ph(n,l);let u;if(e===de.Complete){let p=Wo(s,r),v=p.providers;v&&v.length>0&&(u=nM(i[ht],p,v))}let{dehydratedView:d,dehydratedViewIx:f}=rM(n,t),h=Yc(i,c,null,{injector:u,dehydratedView:d});if(Uo(n,h,l,gi(c,d)),Zc(h,2),f>-1&&n[pt]?.splice(f,1),(e===de.Complete||e===de.Error)&&Array.isArray(t[hi])){for(let p of t[hi])p();t[hi]=null}}H(21)}function F_(e,t){return e<t}function j_(e,t,n){e.loadingPromise.then(()=>{e.loadingState===Ke.COMPLETE?cr(de.Complete,t,n):e.loadingState===Ke.FAILED&&cr(de.Error,t,n)})}var oM=null;var il=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var $h=new I("");function zo(e){return!!e&&typeof e.then=="function"}function ew(e){return!!e&&typeof e.subscribe=="function"}var tw=new I("");var Wh=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=g(tw,{optional:!0})??[];injector=g(he);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=ue(this.injector,i);if(zo(o))n.push(o);else if(ew(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),An=new I("");function nw(){id(()=>{let e="";throw new w(600,e)})}function rw(e){return e.isBoundToModule}var sM=10;var Fe=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(ot);afterRenderManager=g(Bh);zonelessEnabled=g(To);rootEffectScheduler=g(wf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new we;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(mt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(B(n=>!n))}constructor(){g(gr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=g(ce);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=he.NULL){return this._injector.get(Y).run(()=>{H(10);let s=n instanceof tl;if(!this._injector.get(Wh).done){let p="";throw new w(405,p)}let c;s?c=n:c=this._injector.get(Vo).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=rw(c)?void 0:this._injector.get(vi),u=r||c.selector,d=c.create(i,[],u,l),f=d.location.nativeElement,h=d.injector.get($h,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Ro(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),H(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){H(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(rl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new w(101,!1);let n=P(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,P(n),this.afterTick.next(),H(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(dr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<sM;)H(14),this.synchronizeOnce(),H(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Co(i))continue;let o=r&&!this.zonelessEnabled?0:1;Oh(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Co(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ro(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(An,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ro(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ro(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function iw(e,t,n){let r=t[ht],i=t[D];if(e.loadingState!==Ke.NOT_STARTED)return e.loadingPromise??Promise.resolve();let o=Ei(t,n),s=eM(i,e);e.loadingState=Ke.IN_PROGRESS,dc(1,o);let a=e.dependencyResolverFn,c=r.get(bn).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(l=>{let u=!1,d=[],f=[];for(let h of l)if(h.status==="fulfilled"){let p=h.value,v=Xt(p)||za(p);if(v)d.push(v);else{let E=Qd(p);E&&f.push(E)}}else{u=!0;break}if(u){if(e.loadingState=Ke.FAILED,e.errorTmplIndex===null){let h="",p=new w(-750,!1);Ah(t,p)}}else{e.loadingState=Ke.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=L_(h.directiveRegistry,d);let p=d.map(E=>E.type),v=Ga(!1,...p);e.providers=v}f.length>0&&(h.pipeRegistry=L_(h.pipeRegistry,f))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,c()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=Ke.COMPLETE,c()}),e.loadingPromise)}function aM(e,t){return t[ht].get(XI,null,{optional:!0})?.behavior!==jh.Manual}function cM(e,t,n){let r=t[D],i=t[n.index];if(!aM(e,t))return;let o=Ei(t,n),s=Wo(r,n);switch(H0(o),s.loadingState){case Ke.NOT_STARTED:cr(de.Loading,n,i),iw(s,t,n),s.loadingState===Ke.IN_PROGRESS&&j_(s,n,i);break;case Ke.IN_PROGRESS:cr(de.Loading,n,i),j_(s,n,i);break;case Ke.COMPLETE:cr(de.Complete,n,i);break;case Ke.FAILED:cr(de.Error,n,i);break;default:}}function ow(e,t,n){return m(this,null,function*(){let r=e.get(Uc);if(r.hydrating.has(t))return;let{parentBlockPromise:o,hydrationQueue:s}=_A(t,e);if(s.length===0)return;o!==null&&s.shift(),dM(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield U_(e,s,n):r.awaitParentBlock(a,()=>m(null,null,function*(){return yield U_(e,s,n)}))})}function U_(e,t,n){return m(this,null,function*(){let r=e.get(Uc),i=r.hydrating,o=e.get(mt),s=o.add();for(let c=0;c<t.length;c++){let l=t[c],u=r.get(l);if(u!=null){if(yield hM(u),yield fM(e),lM(u)){KN(u),V_(t.slice(c),r);break}i.get(l).resolve()}else{uM(c,t,r),V_(t.slice(c),r);break}}let a=t[t.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(t),YN(r.get(a),t,r,e.get(Fe))})}function lM(e){return Ei(e.lView,e.tNode)[$o]===de.Error}function uM(e,t,n){let r=e-1,i=r>-1?n.get(t[r]):null;i&&el(i.lContainer)}function V_(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function dM(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}function fM(e){return new Promise(t=>Hh(t,{injector:e}))}function hM(e){return m(this,null,function*(){let{tNode:t,lView:n}=e,r=Ei(n,t);return new Promise(i=>{pM(r,i),cM(2,n,t)})})}function pM(e,t){Array.isArray(e[hi])||(e[hi]=[]),e[hi].push(t)}function ol(e,t,n,r){let i=K(),o=li();if(Sn(i,o,t)){let s=gt(),a=vf();pN(a,i,e,t,n,r)}return ol}var Yf=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function Mf(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function gM(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=s&&o<=c;){let l=e.at(o),u=t[o],d=Mf(o,l,o,u,n);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let f=e.at(s),h=t[c],p=Mf(s,f,c,h,n);if(p!==0){p<0&&e.updateValue(s,h),s--,c--;continue}let v=n(o,l),E=n(s,f),b=n(o,u);if(Object.is(b,E)){let te=n(c,h);Object.is(te,v)?(e.swap(o,s),e.updateValue(s,h),c--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(r??=new Rc,i??=H_(e,o,s,n),Zf(e,r,o,b))e.updateValue(o,u),o++,s++;else if(i.has(b))r.set(v,e.detach(o)),s--;else{let te=e.create(o,t[o]);e.attach(o,te),o++,s++}}for(;o<=c;)B_(e,r,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=e.at(o),d=l.value,f=Mf(o,u,o,d,n);if(f!==0)f<0&&e.updateValue(o,d),o++,l=c.next();else{r??=new Rc,i??=H_(e,o,s,n);let h=n(o,d);if(Zf(e,r,o,h))e.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(h))e.attach(o,e.create(o,d)),o++,s++,l=c.next();else{let p=n(o,u);r.set(p,e.detach(o)),s--}}}for(;!l.done;)B_(e,r,n,e.length,l.value),l=c.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function Zf(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function B_(e,t,n,r,i){if(Zf(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function H_(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var Rc=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function zh(e,t,n,r,i,o,s,a){at("NgControlFlow");let c=K(),l=gt(),u=Dn(l.consts,o);return Dc(c,l,e,t,n,r,i,u,256,s,a),Gh}function Gh(e,t,n,r,i,o,s,a){at("NgControlFlow");let c=K(),l=gt(),u=Dn(l.consts,o);return Dc(c,l,e,t,n,r,i,u,512,s,a),Gh}function qh(e,t){at("NgControlFlow");let n=K(),r=li(),i=n[r]!==yt?n[r]:-1,o=i!==-1?Ac(n,ee+i):void 0,s=0;if(Sn(n,r,e)){let a=P(null);try{if(o!==void 0&&Ph(o,s),e!==-1){let c=ee+e,l=Ac(n,c),u=eh(n[D],c),d=NI(l,u,n),f=Yc(n,u,t,{dehydratedView:d});Uo(l,f,s,gi(u,d))}}finally{P(a)}}else if(o!==void 0){let a=CI(o,s);a!==void 0&&(a[ie]=t)}}var Qf=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ee}};function sl(e,t){return t}var Jf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function al(e,t,n,r,i,o,s,a,c,l,u,d,f){at("NgControlFlow");let h=K(),p=gt(),v=c!==void 0,E=K(),b=a?s.bind(E[Ae][ie]):s,te=new Jf(v,b);E[ee+e]=te,Dc(h,p,e+1,t,n,r,i,Dn(p.consts,o),256),v&&Dc(h,p,e+2,c,l,u,d,Dn(p.consts,f),512)}var Xf=class extends Yf{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Ee}at(t){return this.getLView(t)[ie].$implicit}attach(t,n){let r=n[Le];this.needsIndexUpdate||=t!==this.length,Uo(this.lContainer,n,t,gi(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,mM(this.lContainer,t)}create(t,n){let r=_c(this.lContainer,this.templateTNode.tView.ssrId),i=Yc(this.hostLView,this.templateTNode,new Qf(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){qc(t[D],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[ie].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ie].$index=t}getLView(t){return vM(this.lContainer,t)}};function cl(e){let t=P(null),n=tn();try{let r=K(),i=r[D],o=r[n],s=n+1,a=Ac(r,s);if(o.liveCollection===void 0){let l=eh(i,s);o.liveCollection=new Xf(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(gM(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=li(),u=c.length===0;if(Sn(r,l,u)){let d=n+2,f=Ac(r,d);if(u){let h=eh(i,d),p=NI(f,h,r),v=Yc(r,h,void 0,{dehydratedView:p});Uo(f,v,0,gi(h,p))}else i.firstUpdatePass&&Xc(f),Ph(f,0)}}}finally{P(t)}}function Ac(e,t){return e[t]}function mM(e,t){return Oo(e,t)}function vM(e,t){return CI(e,t)}function eh(e,t){return sr(e,t)}function mr(e,t,n){let r=K(),i=li();if(Sn(r,i,t)){let o=gt(),s=vf();aN(s,r,e,t,r[J],n)}return mr}function $_(e,t,n,r,i){Nh(t,e,n,i?"class":"style",r)}function oe(e,t,n,r){let i=K(),o=i[D],s=e+ee,a=o.firstCreatePass?xI(s,i,2,t,hN,Hy(),n,r):o.data[s];if(vN(a,i,e,t,sw),Ka(a)){let c=i[D];lI(c,i,a),qE(c,a,i)}return r!=null&&uI(i,a),oe}function pe(){let e=gt(),t=it(),n=yN(t);return e.firstCreatePass&&LI(e,n),$y(n)&&zy(),By(),n.classesWithoutHost!=null&&BR(n)&&$_(e,n,K(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&HR(n)&&$_(e,n,K(),n.stylesWithoutHost,!1),pe}function Lt(e,t,n,r){return oe(e,t,n,r),pe(),Lt}var sw=(e,t,n,r,i)=>(nn(!0),Eh(t[J],r,yf()));function yM(e,t,n,r,i){let o=!Hc(t,n);if(nn(o),o)return Eh(t[J],r,yf());let s=t[Le],a=Qc(s,e,t,n);return $E(s,i)&&Bc(s,i,a.nextSibling),s&&(lE(n)||uE(a))&&en(n)&&(Wy(n),tI(a)),a}function aw(){sw=yM}var _M=(e,t,n,r,i)=>(nn(!0),XE(t[J],""));function EM(e,t,n,r,i){let o,s=!Hc(t,n);if(nn(s),s)return XE(t[J],"");let a=t[Le],c=Qc(a,e,t,n),l=vA(a,i);return Bc(a,i,c),o=Jc(l,c),o}function cw(){_M=EM}function Kh(){return K()}var Go="en-US";var IM=Go;function lw(e){typeof e=="string"&&(IM=e.toLowerCase().replace(/_/g,"-"))}function Ii(e,t,n){let r=K(),i=gt(),o=it();return wM(i,r,r[J],o,e,t,n),Ii}function wM(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Rf(r,t,o),f0(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],h=u[d+1];c??=Rf(r,t,o),b_(r,t,f,h,i,c)}if(l&&l.length)for(let d of l)c??=Rf(r,t,o),b_(r,t,d,i,i,c)}}function ll(e=1){return r_(e)}function sc(e,t){return e<<17|t<<2}function fr(e){return e>>17&32767}function CM(e){return(e&2)==2}function DM(e,t){return e&131071|t<<17}function th(e){return e|2}function yi(e){return(e&131068)>>2}function Of(e,t){return e&-131069|t<<2}function TM(e){return(e&1)===1}function nh(e){return e|1}function bM(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=fr(s),c=yi(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||ii(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=fr(e[a+1]);e[r+1]=sc(f,a),f!==0&&(e[f+1]=Of(e[f+1],r)),e[a+1]=DM(e[a+1],r)}else e[r+1]=sc(a,0),a!==0&&(e[a+1]=Of(e[a+1],r)),a=r;else e[r+1]=sc(c,0),a===0?a=r:e[c+1]=Of(e[c+1],r),c=r;l&&(e[r+1]=th(e[r+1])),W_(e,u,r,!0),W_(e,u,r,!1),SM(t,u,e,r,o),s=sc(a,c),o?t.classBindings=s:t.styleBindings=s}function SM(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&ii(o,t)>=0&&(n[r+1]=nh(n[r+1]))}function W_(e,t,n,r){let i=e[n+1],o=t===null,s=r?fr(i):yi(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];RM(c,t)&&(a=!0,e[s+1]=r?nh(l):th(l)),s=r?fr(l):yi(l)}a&&(e[n+1]=r?th(i):nh(i))}function RM(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?ii(e,t)>=0:!1}function ul(e,t,n){return uw(e,t,n,!1),ul}function dl(e,t){return uw(e,t,null,!0),dl}function uw(e,t,n,r){let i=K(),o=gt(),s=hf(2);if(o.firstUpdatePass&&NM(o,e,s,r),t!==yt&&Sn(i,s,t)){let a=o.data[tn()];xM(o,a,i,i[J],e,i[s+1]=LM(t,n),r,s)}}function AM(e,t){return t>=e.expandoStartIndex}function NM(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[tn()],s=AM(e,n);FM(o,r)&&t===null&&!s&&(t=!1),t=MM(i,o,t,r),bM(i,o,t,n,s,r)}}function MM(e,t,n,r){let i=Xy(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Pf(null,e,t,n,r),n=ko(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Pf(i,e,t,n,r),o===null){let c=OM(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Pf(null,e,t,c[1],r),c=ko(c,t.attrs,r),PM(e,t,r,c))}else o=kM(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function OM(e,t,n){let r=n?t.classBindings:t.styleBindings;if(yi(r)!==0)return e[fr(r)]}function PM(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[fr(i)]=r}function kM(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=ko(r,s,n)}return ko(r,t.attrs,n)}function Pf(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=ko(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function ko(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Ty(e,s,n?!0:t[++o]))}return e===void 0?null:e}function xM(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=TM(l)?z_(c,t,n,i,yi(l),s):void 0;if(!Nc(u)){Nc(o)||CM(l)&&(o=z_(c,null,n,i,a,s));let d=nf(tn(),n);nN(r,s,d,i,o)}}function z_(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===yt&&(f=d?In:void 0);let h=d?Wa(f,r):u===r?f:void 0;if(l&&!Nc(h)&&(h=Wa(c,r)),Nc(h)&&(a=h,s))return a;let p=e[i+1];i=s?fr(p):yi(p)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Wa(c,r))}return a}function Nc(e){return e!==void 0}function LM(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Qt($c(e)))),e}function FM(e,t){return(e.flags&(t?8:16))!==0}function _t(e,t=""){let n=K(),r=gt(),i=e+ee,o=r.firstCreatePass?kh(r,i,1,t,null):r.data[i],s=dw(r,n,o,t,e);n[i]=s,nc()&&Sh(r,n,s,o),ci(o,!1)}var dw=(e,t,n,r,i)=>(nn(!0),JE(t[J],r));function jM(e,t,n,r,i){let o=!Hc(t,n);if(nn(o),o)return JE(t[J],r);let s=t[Le];return Qc(s,e,t,n)}function fw(){dw=jM}function UM(e,t,n,r=""){return Sn(e,li(),n)?t+Qn(n)+r:yt}function VM(e,t,n,r,i,o=""){let s=Ky(),a=d0(e,s,n,i);return hf(2),a?t+Qn(n)+r+Qn(i)+o:yt}function qo(e){return Yh("",e),qo}function Yh(e,t,n){let r=K(),i=UM(r,e,t,n);return i!==yt&&hw(r,tn(),i),Yh}function fl(e,t,n,r,i){let o=K(),s=VM(o,e,t,n,r,i);return s!==yt&&hw(o,tn(),s),fl}function hw(e,t,n){let r=nf(t,e);FA(e[J],r,n)}var Mc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Zh=(()=>{class e{compileModuleSync(n){return new Cc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Zd(n),o=ZE(i.declarations).reduce((s,a)=>{let c=Xt(a);return c&&s.push(new mi(c)),s},[]);return new Mc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var BM=(()=>{class e{zone=g(Y);changeDetectionScheduler=g(Jt);applicationRef=g(Fe);applicationErrorHandler=g(ot);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pw({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Y(q(_({},gw()),{scheduleInRootZone:n})),[{provide:Y,useFactory:e},{provide:ft,multi:!0,useFactory:()=>{let r=g(BM,{optional:!0});return()=>r.initialize()}},{provide:ft,multi:!0,useFactory:()=>{let r=g(HM);return()=>{r.initialize()}}},t===!0?{provide:Ef,useValue:!0}:[],{provide:If,useValue:n??qI},{provide:ot,useFactory:()=>{let r=g(Y),i=g(ce),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(dt),o.handleError(s))})}}}]}function gw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var HM=(()=>{class e{subscription=new ne;initialized=!1;zone=g(Y);pendingTasks=g(mt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Y.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Y.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var mw=(()=>{class e{applicationErrorHandler=g(ot);appRef=g(Fe);taskService=g(mt);ngZone=g(Y);zonelessEnabled=g(To);tracing=g(gr,{optional:!0});disableScheduling=g(Ef,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Tc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(If,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?O_:KI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Tc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,O_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $M(){return typeof $localize<"u"&&$localize.locale||Go}var Qh=new I("",{providedIn:"root",factory:()=>g(Qh,{optional:!0,skipSelf:!0})||$M()});var np={JSACTION:"__jsaction",OWNER:"__owner"},Ew={};function WM(e){return e[np.JSACTION]}function vw(e,t){e[np.JSACTION]=t}function zM(e){return Ew[e]}function GM(e,t){Ew[e]=t}var T={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},qM=[T.MOUSEENTER,T.MOUSELEAVE,"pointerenter","pointerleave"],x8=[T.CLICK,T.DBLCLICK,T.FOCUSIN,T.FOCUSOUT,T.KEYDOWN,T.KEYUP,T.KEYPRESS,T.MOUSEOVER,T.MOUSEOUT,T.SUBMIT,T.TOUCHSTART,T.TOUCHEND,T.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],KM=[T.FOCUS,T.BLUR,T.ERROR,T.LOAD,T.TOGGLE],rp=e=>KM.indexOf(e)>=0;function YM(e){return e===T.MOUSEENTER?T.MOUSEOVER:e===T.MOUSELEAVE?T.MOUSEOUT:e===T.POINTERENTER?T.POINTEROVER:e===T.POINTERLEAVE?T.POINTEROUT:e}function ZM(e,t,n,r){let i=!1;rp(t)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return e.addEventListener(t,n,o),{eventType:t,handler:n,capture:i,passive:r}}function QM(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function JM(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var yw=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function XM(e){return e.which===2||e.which==null&&e.button===4}function eO(e){return yw&&e.metaKey||!yw&&e.ctrlKey||XM(e)||e.shiftKey}function tO(e,t,n){let r=e.relatedTarget;return(e.type===T.MOUSEOVER&&t===T.MOUSEENTER||e.type===T.MOUSEOUT&&t===T.MOUSELEAVE||e.type===T.POINTEROVER&&t===T.POINTERENTER||e.type===T.POINTEROUT&&t===T.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function nO(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let i=r,o=e[i];typeof o!="function"&&(n[i]=o)}return e.type===T.MOUSEOVER?n.type=T.MOUSEENTER:e.type===T.MOUSEOUT?n.type=T.MOUSELEAVE:e.type===T.POINTEROVER?n.type=T.POINTERENTER:n.type=T.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var rO=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),ml=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){rO&&(this.element.style.cursor="pointer"),this.handlerInfos.push(ZM(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)QM(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},iO={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function Nn(e){return e.eventType}function ip(e,t){e.eventType=t}function pl(e){return e.event}function Iw(e,t){e.event=t}function ww(e){return e.targetElement}function Cw(e,t){e.targetElement=t}function Dw(e){return e.eic}function oO(e,t){e.eic=t}function sO(e){return e.timeStamp}function aO(e,t){e.timeStamp=t}function gl(e){return e.eia}function Tw(e,t,n){e.eia=[t,n]}function Jh(e){e.eia=void 0}function hl(e){return e[1]}function cO(e){return e.eirp}function bw(e,t){e.eirp=t}function Sw(e){return e.eir}function Rw(e,t){e.eir=t}function Aw(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function lO(e,t,n,r,i,o,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Xh=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return Nn(this.eventInfo)}setEventType(t){ip(this.eventInfo,t)}getEvent(){return pl(this.eventInfo)}setEvent(t){Iw(this.eventInfo,t)}getTargetElement(){return ww(this.eventInfo)}setTargetElement(t){Cw(this.eventInfo,t)}getContainer(){return Dw(this.eventInfo)}setContainer(t){oO(this.eventInfo,t)}getTimestamp(){return sO(this.eventInfo)}setTimestamp(t){aO(this.eventInfo,t)}getAction(){let t=gl(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){Jh(this.eventInfo);return}Tw(this.eventInfo,t.name,t.element)}getIsReplay(){return cO(this.eventInfo)}setIsReplay(t){bw(this.eventInfo,t)}getResolved(){return Sw(this.eventInfo)}setResolved(t){Rw(this.eventInfo,t)}clone(){return new e(Aw(this.eventInfo))}},uO={},dO=/\s*;\s*/,fO=T.CLICK,ep=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&Nn(t)===T.CLICK&&eO(pl(t))?ip(t,T.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){Sw(t)||(this.populateAction(t,ww(t)),Rw(t,!0))}resolveParentAction(t){let n=gl(t),r=n&&hl(n);Jh(t);let i=r&&this.getParentNode(r);i&&this.populateAction(t,i)}populateAction(t,n){let r=n;for(;r&&r!==Dw(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!gl(t));)r=this.getParentNode(r);let i=gl(t);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(Nn(t)===T.MOUSEENTER||Nn(t)===T.MOUSELEAVE||Nn(t)===T.POINTERENTER||Nn(t)===T.POINTERLEAVE)))if(tO(pl(t),Nn(t),hl(i))){let o=nO(pl(t),hl(i));Iw(t,o),Cw(t,hl(i))}else Jh(t)}getParentNode(t){let n=t[np.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),i=r[Nn(n)];i!==void 0&&Tw(n,i,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=WM(t);if(!n){let r=t.getAttribute(ic.JSACTION);if(!r)n=uO,vw(t,n);else{if(n=zM(r),!n){n={};let i=r.split(dO);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(iO.EVENT_ACTION_SEPARATOR),c=a!==-1,l=c?s.substr(0,a).trim():fO,u=c?s.substr(a+1).trim():s;n[l]=u}GM(r,n)}vw(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},Nw=function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e}(Nw||{}),tp=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new Xh(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&hO(r.element,n)&&JM(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function hO(e,t){return e.tagName==="A"&&(t.getEventType()===T.CLICK||t.getEventType()===T.CLICKMOD)}var Mw=Symbol.for("propagationStopped"),op={REPLAY:101};var pO="`preventDefault` called during event replay.";var gO="`composedPath` called during event replay.",vl=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new ep({clickModSupport:n}),this.dispatcher=new tp(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&yO(t),mO(t);t.getAction();){if(_O(t),rp(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),vO(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function mO(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[Mw]=!0,n()};vr(t,"stopPropagation",r),vr(t,"stopImmediatePropagation",r)}function vO(e){return!!e.getEvent()[Mw]}function yO(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);vr(t,"target",n),vr(t,"eventPhase",op.REPLAY),vr(t,"preventDefault",()=>{throw r(),new Error(pO+"")}),vr(t,"composedPath",()=>{throw new Error(gO+"")})}function _O(e){let t=e.getEvent(),n=e.getAction()?.element;n&&vr(t,"currentTarget",n,{configurable:!0})}function vr(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function Ow(e,t){e.ecrd(n=>{t.dispatch(n)},Nw.I_AM_THE_JSACTION_FRAMEWORK)}function EO(e){return e?.q??[]}function IO(e){e&&(_w(e.c,e.et,e.h),_w(e.c,e.etc,e.h,!0))}function _w(e,t,n,r){for(let i=0;i<t.length;i++)e.removeEventListener(t[i],n,r)}var wO=!1,Pw=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=wO;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=lO(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){bw(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&qM.indexOf(n)>=0)return;let o=(a,c,l)=>{this.handleEvent(a,c,l)};this.eventHandlers[n]=o;let s=YM(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(n,c,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),IO(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=Aw(i);ip(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return e})();function kw(e,t=window){return EO(t._ejsas?.[e])}function sp(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var Vw=Symbol("InputSignalNode#UNSET"),BO=q(_({},fa),{transformFn:void 0,applyValueToInputSignal(e,t){oo(e,t)}});function Bw(e,t){let n=Object.create(BO);n.value=e,n.transformFn=t?.transform;function r(){if(ca(n),n.value===Vw){let i=null;throw new w(-950,i)}return n.value}return r[Gt]=n,r}var HO=new I("");HO.__NG_ELEMENT_ID__=e=>{let t=it();if(t===null)throw new w(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new w(204,!1)};function xw(e,t){return Bw(e,t)}function $O(e){return Bw(Vw,e)}var Hw=(xw.required=$O,xw);var wi=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},$w=new wi("20.1.7");var ap=new I(""),WO=new I("");function Ko(e){return!e.moduleRef}function zO(e){let t=Ko(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Y);return n.run(()=>{Ko(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(ot),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Ko(e)){let o=()=>t.destroy(),s=e.platformInjector.get(ap);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(ap);s.add(o),e.moduleRef.onDestroy(()=>{Ro(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return qO(r,n,()=>{let o=t.get(mt),s=o.add(),a=t.get(Wh);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Qh,Go);if(lw(c||Go),!t.get(WO,!0))return Ko(e)?t.get(Fe):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ko(e)){let u=t.get(Fe);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return GO?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var GO;function qO(e,t,n){try{let r=n();return zo(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var _l=null;function KO(e=[],t){return he.create({name:t,providers:[{provide:vo,useValue:"platform"},{provide:ap,useValue:new Set([()=>_l=null])},...e]})}function YO(e=[]){if(_l)return _l;let t=KO(e);return _l=t,nw(),ZO(t),t}function ZO(e){let t=e.get(Lc,null);ue(e,()=>{t?.forEach(n=>n())})}function lp(){return!1}var up=(()=>{class e{static __NG_ELEMENT_ID__=QO}return e})();function QO(e){return JO(it(),K(),(e&16)===16)}function JO(e,t,n){if(en(e)&&!n){let r=rt(e.index,t);return new ur(r,r)}else if(e.type&175){let r=t[Ae];return new ur(r,t)}return null}function Ww(e){H(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=YO(r),o=[pw({}),{provide:Jt,useExisting:mw},o_,...n||[]],s=new Po({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return zO({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{H(9)}}var yl=new WeakSet,Lw="",El=[];function Fw(e){return e.get(fh,SE)}function zw(){let e=[{provide:fh,useFactory:()=>{let t=!0;{let n=g(xt);t=!!window._ejsas?.[n]}return t&&at("NgEventReplay"),t}}];return e.push({provide:ft,useValue:()=>{let t=g(Fe),{injector:n}=t;if(!yl.has(t)){let r=g(hh);if(Fw(n)){xE();let i=n.get(xt),o=PE(i,(s,a,c)=>{s.nodeType===Node.ELEMENT_NODE&&(AE(s,a,c),NE(s,r))});t.onDestroy(o)}}},multi:!0},{provide:An,useFactory:()=>{let t=g(Fe),{injector:n}=t;return()=>{if(!Fw(n)||yl.has(t))return;yl.add(t);let r=n.get(xt);t.onDestroy(()=>{yl.delete(t),sp(r)}),t.whenStable().then(()=>{if(t.destroyed)return;let i=n.get(OE);XO(i,n);let o=n.get(hh);o.get(Lw)?.forEach(ME),o.delete(Lw);let s=i.instance;HE(n)?t.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),e}var XO=(e,t)=>{let n=t.get(xt),r=window._ejsas[n],i=e.instance=new Pw(new ml(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=kw(n);i.replayEarlyEventInfos(o),sp(n);let s=new vl(a=>{eP(t,a,a.currentTarget)});Ow(i,s)};function eP(e,t,n){let r=(n&&n.getAttribute(jo))??"";/d\d+/.test(r)?tP(r,e,t,n):t.eventPhase===op.REPLAY&&ph(t,n)}function tP(e,t,n,r){El.push({event:n,currentTarget:r}),ow(t,e,nP)}function nP(e){let t=[...El],n=new Set(e);El=[];for(let{event:r,currentTarget:i}of t){let o=i.getAttribute(jo);n.has(o)?ph(r,i):El.push({event:r,currentTarget:i})}}var jw=!1;function rP(){jw||(jw=!0,UE(),aw(),fw(),cw(),GI(),BI(),AI(),fI())}function iP(e){return e.whenStable()}function Gw(){let e=[{provide:Fo,useFactory:()=>{let t=!0;return t=!!g(hr,{optional:!0})?.get(gh,null),t&&at("NgHydration"),t}},{provide:ft,useValue:()=>{TI(!1),g(Fo)&&(zE(Lo()),rP())},multi:!0}];return e.push({provide:dh,useFactory:()=>g(Fo)},{provide:An,useFactory:()=>{if(g(Fo)){let t=g(Fe);return()=>{iP(t).then(()=>{t.destroyed||xh(t)})}}return()=>{}},multi:!0}),Xe(e)}var Yw=null;function an(){return Yw}function dp(e){Yw??=e}var Yo=class{},fp=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>g(Zw),providedIn:"platform"})}return e})();var Zw=(()=>{class e extends fp{_location;_history;_doc=g(Ie);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return an().getBaseHref(this._doc)}onPopState(n){let r=an().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=an().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Qw(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function qw(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Mn(e){return e&&e[0]!=="?"?`?${e}`:e}var Il=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>g(Xw),providedIn:"root"})}return e})(),Jw=new I(""),Xw=(()=>{class e extends Il{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Qw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Mn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Mn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Mn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(R(fp),R(Jw,8))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ci=(()=>{class e{_subject=new we;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=aP(qw(Kw(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Mn(r))}normalize(n){return e.stripTrailingSlash(sP(this._basePath,Kw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Mn;static joinWithSlash=Qw;static stripTrailingSlash=qw;static \u0275fac=function(r){return new(r||e)(R(Il))};static \u0275prov=C({token:e,factory:()=>oP(),providedIn:"root"})}return e})();function oP(){return new Ci(R(Il))}function sP(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Kw(e){return e.replace(/\/index.html$/,"")}function aP(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var hp=/\s+/,eC=[],pp=(()=>{class e{_ngEl;_renderer;initialClasses=eC;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(hp):eC}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(hp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(hp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(Rn(xc),Rn(Lh))};static \u0275dir=Ho({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();function gp(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Zo=class{};var mp="browser";function wl(e){return e===mp}var Dl=new I(""),Ip=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(R(Dl),R(Y))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Qo=class{_doc;constructor(t){this._doc=t}manager},vp="ng-app-id";function tC(e){for(let t of e)t.remove()}function nC(e,t){let n=t.createElement("style");return n.textContent=e,n}function uP(e,t,n,r){let i=e.head?.querySelectorAll(`style[${vp}="${t}"],link[${vp}="${t}"]`);if(i)for(let o of i)o.removeAttribute(vp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function _p(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var wp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,uP(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,nC);r?.forEach(i=>this.addUsage(i,this.external,_p))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(tC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])tC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,nC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,_p(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(R(Ie),R(xt),R(Fc,8),R(st))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),yp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Cp=/%COMP%/g;var iC="%COMP%",dP=`_nghost-${iC}`,fP=`_ngcontent-${iC}`,hP=!0,pP=new I("",{providedIn:"root",factory:()=>hP});function gP(e){return fP.replace(Cp,e)}function mP(e){return dP.replace(Cp,e)}function oC(e,t){return t.map(n=>n.replace(Cp,e))}var Dp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Jo(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Cl?i.applyToHost(n):i instanceof Xo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case on.Emulated:o=new Cl(c,l,r,this.appId,u,s,a,d,f);break;case on.ShadowDom:return new Ep(c,l,n,r,s,a,this.nonce,d,f);default:o=new Xo(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(R(Ip),R(wp),R(xt),R(pP),R(Ie),R(st),R(Y),R(Fc),R(gr,8))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Jo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(yp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(rC(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(rC(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new w(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=yp[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=yp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(sn.DashCase|sn.Important)?t.style.setProperty(n,r,i&sn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&sn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=an().getGlobalEventTarget(this.doc,t),!t))throw new w(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function rC(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ep=class extends Jo{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=oC(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=_p(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xo=class extends Jo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?oC(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Cl=class extends Xo{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,l,u),this.contentAttr=gP(u),this.hostAttr=mP(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Tl=class e extends Yo{supportsDOMEvents=!0;static makeCurrent(){dp(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=vP();return n==null?null:yP(n)}resetBaseElement(){es=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gp(document.cookie,t)}},es=null;function vP(){return es=es||document.head.querySelector("base"),es?es.getAttribute("href"):null}function yP(e){return new URL(e,document.baseURI).pathname}var _P=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),aC=(()=>{class e extends Qo{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(R(Ie))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),sC=["alt","control","meta","shift"],EP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IP={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},cC=(()=>{class e extends Qo{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>an().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),sC.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=EP[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),sC.forEach(s=>{if(s!==i){let a=IP[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(R(Ie))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();function Tp(e,t){let n=_({rootComponent:e},wP(t));return Ww(n)}function wP(e){return{appProviders:[...SP,...e?.providers??[]],platformProviders:bP}}function CP(){Tl.makeCurrent()}function DP(){return new dt}function TP(){return ch(document),document}var bP=[{provide:st,useValue:mp},{provide:Lc,useValue:CP,multi:!0},{provide:Ie,useFactory:TP}];var SP=[{provide:vo,useValue:"root"},{provide:dt,useFactory:DP},{provide:Dl,useClass:aC,multi:!0,deps:[Ie]},{provide:Dl,useClass:cC,multi:!0,deps:[Ie]},Dp,wp,Ip,{provide:dr,useExisting:Dp},{provide:Zo,useClass:_P},[]];var ts=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var RP="X-Request-URL",AP="text/plain",NP="application/json",GY=`${NP}, ${AP}, */*`;var Sp=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Sp||{}),bp=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new ts,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var bl=class e extends bp{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Sp.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var lC=new I("");var qY=RegExp(`^${RP}:`,"m");var MP=new I(""),OP="b",PP="h",kP="s",xP="st",LP="u",FP="rt",Rp=new I(""),jP=["GET","HEAD"];function UP(e,t){let h=g(Rp),{isCacheActive:n}=h,r=Mv(h,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!jP.includes(o)||!r.includeRequestsWithAuthHeaders&&VP(e)||r.filter?.(e)===!1)return t(e);let s=g(hr);if(g(MP,{optional:!0}))throw new w(2803,!1);let c=e.url,l=BP(e,c),u=s.get(l,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[OP]:p,[FP]:v,[PP]:E,[kP]:b,[xP]:te,[LP]:ve}=u,At=p;switch(v){case"arraybuffer":At=new TextEncoder().encode(p).buffer;break;case"blob":At=new Blob([p]);break}let na=new ts(E);return S(new bl({body:At,headers:na,status:b,statusText:te,url:ve}))}return t(e)}function VP(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function uC(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function BP(e,t){let{params:n,method:r,responseType:i}=e,o=uC(n),s=e.serializeBody();s instanceof URLSearchParams?s=uC(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),c=HP(a);return c}function HP(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function dC(e){return[{provide:Rp,useFactory:()=>(at("NgHttpTransferCache"),_({isCacheActive:!0},e))},{provide:lC,useValue:UP,multi:!0},{provide:An,multi:!0,useFactory:()=>{let t=g(Fe),n=g(Rp);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var fC=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(R(Ie))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ns=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e}(ns||{});function hC(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function pC(){return hC(ns.NoHttpTransferCache)}function gC(){return hC(ns.EventReplay,zw())}function mC(...e){let t=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);let r=n.has(ns.HttpTransferCacheOptions);return Xe([[],Gw(),n.has(ns.NoHttpTransferCache)||r?[]:dC({}),t])}var vC=()=>{};var Np={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var y=function(e,t){if(!e)throw yr(t)},yr=function(e){return new Error("Firebase Database ("+Np.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var EC=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},WP=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},bi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(EC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):WP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Mp;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Mp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Pp=function(e){let t=EC(e);return bi.encodeByteArray(t,!0)},is=function(e){return Pp(e).replace(/\./g,"")},Di=function(e){try{return bi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function IC(e){return wC(void 0,e)}function wC(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!zP(n)||(e[n]=wC(e[n],t[n]));return e}function zP(e){return e!=="__proto__"}function CC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var GP=()=>CC().__FIREBASE_DEFAULTS__,qP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},KP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Di(e[1]);return t&&JSON.parse(t)},kp=()=>{try{return vC()||GP()||qP()||KP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},DC=e=>{var t,n;return(n=(t=kp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},TC=e=>{let t=DC(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},xp=()=>{var e;return(e=kp())===null||e===void 0?void 0:e.config},bC=e=>{var t;return(t=kp())===null||t===void 0?void 0:t[`_${e}`]};var jt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function _r(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function Lp(e){return m(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}function SC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[is(JSON.stringify(n)),is(JSON.stringify(s)),""].join(".")}var rs={};function YP(){let e={prod:[],emulator:[]};for(let t of Object.keys(rs))rs[t]?e.emulator.push(t):e.prod.push(t);return e}function ZP(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var yC=!1;function Fp(e,t){if(typeof window>"u"||typeof document>"u"||!_r(window.location.host)||rs[e]===t||rs[e]||yC)return;rs[e]=t;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=YP().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{yC=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=ZP(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),b=n("preprendIcon"),te=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let ve=f.element;a(ve),u(E,v);let At=l();c(te,b),ve.append(te,p,E,At),document.body.appendChild(ve)}o?(p.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function os(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function RC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AC(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Rl(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vt(){return Np.NODE_CLIENT===!0||Np.NODE_ADMIN===!0}function Al(){try{return typeof indexedDB=="object"}catch{return!1}}function NC(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var QP="FirebaseError",Ut=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=QP,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Et.prototype.create)}},Et=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?JP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ut(i,a,r)}};function JP(e,t){return e.replace(XP,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var XP=/\{\$([^}]+)}/g;function Ti(e){return JSON.parse(e)}function ge(e){return JSON.stringify(e)}var MC=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=Ti(Di(o[0])||""),n=Ti(Di(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var OC=function(e){let t=MC(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PC=function(e){let t=MC(e).claims;return typeof t=="object"&&t.admin===!0};function Bt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Er(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Nl(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ss(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ir(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(_C(o)&&_C(s)){if(!Ir(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function _C(e){return e!==null&&typeof e=="object"}function as(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}var Sl=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function kC(e,t){let n=new Op(e,t);return n.subscribe.bind(n)}var Op=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ek(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Ap),i.error===void 0&&(i.error=Ap),i.complete===void 0&&(i.complete=Ap);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ek(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Ap(){}function jp(e,t){return`${e} failed: ${t} argument `}var xC=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,y(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},cs=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var R9=4*60*60*1e3;function wt(e){return e&&e._delegate?e._delegate:e}var Me=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var wr="[DEFAULT]";var Ml=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new jt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nk(t))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=wr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return m(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=wr){return this.instances.has(t)}getOptions(t=wr){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tk(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=wr){return this.component?this.component.multipleInstances?t:wr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tk(e){return e===wr?void 0:e}function nk(e){return e.instantiationMode==="EAGER"}var ls=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Ml(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var rk=[],Z=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(Z||{}),ik={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},ok=Z.INFO,sk={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},ak=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=sk[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Ht=class{constructor(t){this.name=t,this._logLevel=ok,this._logHandler=ak,this._userLogHandler=null,rk.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Z))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ik[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...t),this._logHandler(this,Z.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...t),this._logHandler(this,Z.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...t),this._logHandler(this,Z.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...t),this._logHandler(this,Z.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...t),this._logHandler(this,Z.ERROR,...t)}};var ck=(e,t)=>t.some(n=>e instanceof n),LC,FC;function lk(){return LC||(LC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uk(){return FC||(FC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var jC=new WeakMap,Vp=new WeakMap,UC=new WeakMap,Up=new WeakMap,Hp=new WeakMap;function dk(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n($t(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&jC.set(n,e)}).catch(()=>{}),Hp.set(t,e),t}function fk(e){if(Vp.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Vp.set(e,t)}var Bp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Vp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||UC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $t(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function VC(e){Bp=e(Bp)}function hk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(Ol(this),t,...n);return UC.set(r,t.sort?t.sort():[t]),$t(r)}:uk().includes(e)?function(...t){return e.apply(Ol(this),t),$t(jC.get(this))}:function(...t){return $t(e.apply(Ol(this),t))}}function pk(e){return typeof e=="function"?hk(e):(e instanceof IDBTransaction&&fk(e),ck(e,lk())?new Proxy(e,Bp):e)}function $t(e){if(e instanceof IDBRequest)return dk(e);if(Up.has(e))return Up.get(e);let t=pk(e);return t!==e&&(Up.set(e,t),Hp.set(t,e)),t}var Ol=e=>Hp.get(e);function HC(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=$t(s);return r&&s.addEventListener("upgradeneeded",c=>{r($t(s.result),c.oldVersion,c.newVersion,$t(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var gk=["get","getKey","getAll","getAllKeys","count"],mk=["put","add","delete","clear"],$p=new Map;function BC(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if($p.get(t))return $p.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=mk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gk.includes(n)))return;let o=function(s,...a){return m(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return $p.set(t,o),o}VC(e=>q(_({},e),{get:(t,n,r)=>BC(t,n)||e.get(t,n,r),has:(t,n)=>!!BC(t,n)||e.has(t,n)}));var zp=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function vk(e){let t=e.getComponent();return t?.type==="VERSION"}var Gp="@firebase/app",$C="0.13.2";var cn=new Ht("@firebase/app"),yk="@firebase/app-compat",_k="@firebase/analytics-compat",Ek="@firebase/analytics",Ik="@firebase/app-check-compat",wk="@firebase/app-check",Ck="@firebase/auth",Dk="@firebase/auth-compat",Tk="@firebase/database",bk="@firebase/data-connect",Sk="@firebase/database-compat",Rk="@firebase/functions",Ak="@firebase/functions-compat",Nk="@firebase/installations",Mk="@firebase/installations-compat",Ok="@firebase/messaging",Pk="@firebase/messaging-compat",kk="@firebase/performance",xk="@firebase/performance-compat",Lk="@firebase/remote-config",Fk="@firebase/remote-config-compat",jk="@firebase/storage",Uk="@firebase/storage-compat",Vk="@firebase/firestore",Bk="@firebase/ai",Hk="@firebase/firestore-compat",$k="firebase",Wk="11.10.0";var qp="[DEFAULT]",zk={[Gp]:"fire-core",[yk]:"fire-core-compat",[Ek]:"fire-analytics",[_k]:"fire-analytics-compat",[wk]:"fire-app-check",[Ik]:"fire-app-check-compat",[Ck]:"fire-auth",[Dk]:"fire-auth-compat",[Tk]:"fire-rtdb",[bk]:"fire-data-connect",[Sk]:"fire-rtdb-compat",[Rk]:"fire-fn",[Ak]:"fire-fn-compat",[Nk]:"fire-iid",[Mk]:"fire-iid-compat",[Ok]:"fire-fcm",[Pk]:"fire-fcm-compat",[kk]:"fire-perf",[xk]:"fire-perf-compat",[Lk]:"fire-rc",[Fk]:"fire-rc-compat",[jk]:"fire-gcs",[Uk]:"fire-gcs-compat",[Vk]:"fire-fst",[Hk]:"fire-fst-compat",[Bk]:"fire-vertex","fire-js":"fire-js",[$k]:"fire-js-all"};var us=new Map,Gk=new Map,Kp=new Map;function WC(e,t){try{e.container.addComponent(t)}catch(n){cn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ct(e){let t=e.name;if(Kp.has(t))return cn.debug(`There were multiple attempts to register component ${t}.`),!1;Kp.set(t,e);for(let n of us.values())WC(n,e);for(let n of Gk.values())WC(n,e);return!0}function Pl(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ln(e){return e==null?!1:e.settings!==void 0}var qk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},On=new Et("app","Firebase",qk);var Yp=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Me("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}};var Si=Wk;function Jp(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:qp,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw On.create("bad-app-name",{appName:String(i)});if(n||(n=xp()),!n)throw On.create("no-options");let o=us.get(i);if(o){if(Ir(n,o.options)&&Ir(r,o.config))return o;throw On.create("duplicate-app",{appName:i})}let s=new ls(i);for(let c of Kp.values())s.addComponent(c);let a=new Yp(n,r,s);return us.set(i,a),a}function Ri(e=qp){let t=us.get(e);if(!t&&e===qp&&xp())return Jp();if(!t)throw On.create("no-app",{appName:e});return t}function kl(){return Array.from(us.values())}function se(e,t,n){var r;let i=(r=zk[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cn.warn(a.join(" "));return}Ct(new Me(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var Kk="firebase-heartbeat-database",Yk=1,ds="firebase-heartbeat-store",Wp=null;function KC(){return Wp||(Wp=HC(Kk,Yk,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ds)}catch(n){console.warn(n)}}}}).catch(e=>{throw On.create("idb-open",{originalErrorMessage:e.message})})),Wp}function Zk(e){return m(this,null,function*(){try{let n=(yield KC()).transaction(ds),r=yield n.objectStore(ds).get(YC(e));return yield n.done,r}catch(t){if(t instanceof Ut)cn.warn(t.message);else{let n=On.create("idb-get",{originalErrorMessage:t?.message});cn.warn(n.message)}}})}function zC(e,t){return m(this,null,function*(){try{let r=(yield KC()).transaction(ds,"readwrite");yield r.objectStore(ds).put(t,YC(e)),yield r.done}catch(n){if(n instanceof Ut)cn.warn(n.message);else{let r=On.create("idb-set",{originalErrorMessage:n?.message});cn.warn(r.message)}}})}function YC(e){return`${e.name}!${e.options.appId}`}var Qk=1024,Jk=30,Zp=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Qp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=GC();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Jk){let s=ex(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cn.warn(r)}})}getHeartbeatsHeader(){return m(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=GC(),{heartbeatsToSend:r,unsentEntries:i}=Xk(this._heartbeatsCache.heartbeats),o=is(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return cn.warn(n),""}})}};function GC(){return new Date().toISOString().substring(0,10)}function Xk(e,t=Qk){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),qC(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qC(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Qp=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Al()?NC().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Zk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return zC(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return zC(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function qC(e){return is(JSON.stringify({version:2,heartbeats:e})).length}function ex(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function tx(e){Ct(new Me("platform-logger",t=>new zp(t),"PRIVATE")),Ct(new Me("heartbeat",t=>new Zp(t),"PRIVATE")),se(Gp,$C,e),se(Gp,$C,"esm2017"),se("fire-js","")}tx("");var nx="firebase",rx="11.10.0";se(nx,rx,"app");function ZC(e){e===void 0&&(e=g(he));let t=e.get(bn);return n=>new k(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Dr=new wi("ANGULARFIRE2_VERSION");function Ll(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var Ni=(e,t)=>{let n=t?[t]:kl(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ai=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(Ai||{}),QC=lp()&&typeof Zone<"u"?Ai.WARN:Ai.SILENT;var xl=class{zone;delegate;constructor(t,n=vd){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Tr=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=g(Y);this.outsideAngular=n.runOutsideAngular(()=>new xl(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new xl(typeof Zone>"u"?void 0:Zone.current,md))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),JC=!1;function ix(e,t){!JC&&(QC>Ai.SILENT||lp())&&(JC=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),QC>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function ox(e){let t=g(Y,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function Cr(e){let t=g(Y,{optional:!0});return t?t.run(()=>e()):e()}var sx=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),ue(n,()=>Cr(()=>e.apply(void 0,r)))),Pn=(e,t,n)=>(n||=t?Ai.WARN:Ai.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=g(Tr),s=g(bn),a=g(ce)}catch{return ix(e,n),e.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(t&&(r||=Cr(()=>s.add())),i[l]=sx(i[l],r,a));let c=ox(()=>e.apply(this,i));return t?c instanceof k?c.pipe(yn(o.outsideAngular),vn(o.insideAngular),ZC(a)):c instanceof Promise?Cr(()=>{let l=s.add();return new Promise((u,d)=>{c.then(f=>ue(a,()=>Cr(()=>u(f))),f=>ue(a,()=>Cr(()=>d(f)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Cr(()=>c):c instanceof k?c.pipe(yn(o.outsideAngular),vn(o.insideAngular)):Cr(()=>c)});var br=class{constructor(t){return t}},fs=class{constructor(){return kl()}};function ax(e){return e&&e.length===1?e[0]:new br(Ri())}var Xp=new I("angularfire2._apps"),cx={provide:br,useFactory:ax,deps:[[new kt,Xp]]},lx={provide:fs,deps:[[new kt,Xp]]};function ux(e){return(t,n)=>{let r=n.get(st);se("angularfire",Dr.full,"core"),se("angularfire",Dr.full,"app"),se("angular",$w.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new br(i)}}function XC(e,...t){return Xe([cx,lx,{provide:Xp,useFactory:ux(e),multi:!0,deps:[Y,he,Tr,...t]}])}var eD=Pn(Jp,!0);var dx=new Map,fx={activated:!1,tokenObservers:[]},hx={initialized:!1,enabled:!1};function Dt(e){return dx.get(e)||Object.assign({},fx)}function iD(){return hx}var px="https://content-firebaseappcheck.googleapis.com/v1";var gx="exchangeDebugToken",tD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},M7=24*60*60*1e3;var ng=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return m(this,null,function*(){this.stop();try{this.pending=new jt,this.pending.promise.catch(n=>{}),yield mx(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new jt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function mx(e){return new Promise(t=>{setTimeout(t,e)})}var vx={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},kn=new Et("appCheck","AppCheck",vx);function oD(e){if(!Dt(e).activated)throw kn.create("use-before-activation",{appName:e.name})}function sD(r,i){return m(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(h){throw kn.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw kn.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw kn.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw kn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function aD(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${px}/projects/${n}/apps/${r}:${gx}?key=${i}`,body:{debug_token:t}}}var yx="firebase-app-check-database",_x=1,rg="firebase-app-check-store";var Fl=null;function Ex(){return Fl||(Fl=new Promise((e,t)=>{try{let n=indexedDB.open(yx,_x);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(kn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(rg,{keyPath:"compositeKey"})}}}catch(n){t(kn.create("storage-open",{originalErrorMessage:n?.message}))}}),Fl)}function Ix(e,t){return wx(Cx(e),t)}function wx(e,t){return m(this,null,function*(){let r=(yield Ex()).transaction(rg,"readwrite"),o=r.objectStore(rg).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(kn.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function Cx(e){return`${e.options.appId}-${e.name}`}var hs=new Ht("@firebase/app-check");function eg(e,t){return Al()?Ix(e,t).catch(n=>{hs.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function cD(){return iD().enabled}function lD(){return m(this,null,function*(){let e=iD();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Dx={error:"UNKNOWN_ERROR"};function Tx(e){return bi.encodeString(JSON.stringify(e),!1)}function ig(e,t=!1,n=!1){return m(this,null,function*(){let r=e.app;oD(r);let i=Dt(r),o=i.token,s;if(o&&!ps(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(ps(l)?o=l:yield eg(r,void 0))}if(!t&&o&&ps(o))return{token:o.token};let a=!1;if(cD())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=sD(aD(r,yield lD()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield eg(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?hs.warn(l.message):n&&hs.error(l),tg(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Dt(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?hs.warn(l.message):n&&hs.error(l),s=l}let c;return o?s?ps(o)?c={token:o.token,internalError:s}:c=tg(s):(c={token:o.token},i.token=o,yield eg(r,o)):c=tg(s),a&&Ax(r,c),c})}function bx(e){return m(this,null,function*(){let t=e.app;oD(t);let{provider:n}=Dt(t);if(cD()){let r=yield lD(),{token:i}=yield sD(aD(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function Sx(e,t,n,r){let{app:i}=e,o=Dt(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ps(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),nD(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>nD(e))}function uD(e,t){let n=Dt(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function nD(e){let{app:t}=e,n=Dt(t),r=n.tokenRefresher;r||(r=Rx(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Rx(e){let{app:t}=e;return new ng(()=>m(null,null,function*(){let n=Dt(t),r;if(n.token?r=yield ig(e,!0):r=yield ig(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Dt(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},tD.RETRIAL_MIN_WAIT,tD.RETRIAL_MAX_WAIT)}function Ax(e,t){let n=Dt(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function ps(e){return e.expireTimeMillis-Date.now()>0}function tg(e){return{token:Tx(Dx),error:e}}var og=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=Dt(this.app);for(let n of t)uD(this.app,n.next);return Promise.resolve()}};function Nx(e,t){return new og(e,t)}function Mx(e){return{getToken:t=>ig(e,t),getLimitedUseToken:()=>bx(e),addTokenListener:t=>Sx(e,"INTERNAL",t),removeTokenListener:t=>uD(e.app,t)}}var Ox="@firebase/app-check",Px="0.10.1";var kx="app-check",rD="app-check-internal";function xx(){Ct(new Me(kx,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return Nx(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(rD).initialize()})),Ct(new Me(rD,e=>{let t=e.getProvider("app-check").getImmediate();return Mx(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),se(Ox,Px)}xx();var Lx="app-check";var jl=class{constructor(){return Ni(Lx)}};var Fx=["localhost","0.0.0.0","127.0.0.1"],W7=typeof window<"u"&&Fx.includes(window.location.hostname);function yD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var _D=yD,ED=new Et("auth","Firebase",yD());var Hl=new Ht("@firebase/auth");function jx(e,...t){Hl.logLevel<=Z.WARN&&Hl.warn(`Auth (${Si}): ${e}`,...t)}function Vl(e,...t){Hl.logLevel<=Z.ERROR&&Hl.error(`Auth (${Si}): ${e}`,...t)}function dD(e,...t){throw vg(e,...t)}function mg(e,...t){return vg(e,...t)}function ID(e,t,n){let r=Object.assign(Object.assign({},_D()),{[t]:n});return new Et("auth","Firebase",r).create(t,{appName:e.name})}function Bl(e){return ID(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vg(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ED.create(e,...t)}function $(e,t,...n){if(!e)throw vg(t,...n)}function gs(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Vl(t),new Error(t)}function $l(e,t){e||gs(t)}function Ux(){return fD()==="http:"||fD()==="https:"}function fD(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function Vx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ux()||AC()||"connection"in navigator)?navigator.onLine:!0}function Bx(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Ar=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,$l(n>t,"Short delay should be less than long delay!"),this.isMobile=os()||Rl()}get(){return Vx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Hx(e,t){$l(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var Wl=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Wx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zx=new Ar(3e4,6e4);function wD(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Yl(o,s,a,c){return m(this,arguments,function*(e,t,n,r,i={}){return CD(e,i,()=>m(null,null,function*(){let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});let d=as(Object.assign({key:e.config.apiKey},u)).slice(1),f=yield e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:f},l);return RC()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&_r(e.emulatorConfig.host)&&(h.credentials="include"),Wl.fetch()(yield DD(e,e.config.apiHost,n,d),h)}))})}function CD(e,t,n){return m(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},$x),t);try{let i=new cg(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ul(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ul(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Ul(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw Ul(e,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ID(e,u,l);dD(e,u)}}catch(i){if(i instanceof Ut)throw i;dD(e,"network-request-failed",{message:String(i)})}})}function DD(e,t,n,r){return m(this,null,function*(){let i=`${t}${n}?${r}`,o=e,s=o.config.emulator?Hx(e.config,i):`${e.config.apiScheme}://${i}`;return Wx.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var cg=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mg(this.auth,"network-request-failed")),zx.get())})}};function Ul(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=mg(e,t,r);return i.customData._tokenResponse=n,i}function Gx(e,t){return m(this,null,function*(){return Yl(e,"POST","/v1/accounts:delete",t)})}function zl(e,t){return m(this,null,function*(){return Yl(e,"POST","/v1/accounts:lookup",t)})}function ms(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function yg(e,t=!1){return m(this,null,function*(){let n=wt(e),r=yield n.getIdToken(t),i=TD(r);$(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ms(sg(i.auth_time)),issuedAtTime:ms(sg(i.iat)),expirationTime:ms(sg(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function sg(e){return Number(e)*1e3}function TD(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Vl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Di(n);return i?JSON.parse(i):(Vl("Failed to decode base64 JWT payload"),null)}catch(i){return Vl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hD(e){let t=TD(e);return $(t,"internal-error"),$(typeof t.exp<"u","internal-error"),$(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function lg(e,t,n=!1){return m(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof Ut&&qx(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function qx({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var ug=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ys=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ms(this.lastLoginAt),this.creationTime=ms(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Gl(e){return m(this,null,function*(){var t;let n=e.auth,r=yield e.getIdToken(),i=yield lg(e,zl(n,{idToken:r}));$(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?bD(o.providerUserInfo):[],a=Kx(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ys(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function _g(e){return m(this,null,function*(){let t=wt(e);yield Gl(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function Kx(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function bD(e){return e.map(t=>{var{providerId:n}=t,r=yd(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Yx(e,t){return m(this,null,function*(){let n=yield CD(e,{},()=>m(null,null,function*(){let r=as({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=yield DD(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return e.emulatorConfig&&_r(e.emulatorConfig.host)&&(c.credentials="include"),Wl.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Zx(e,t){return m(this,null,function*(){return Yl(e,"POST","/v2/accounts:revokeToken",wD(e,t))})}var vs=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){$(t.idToken,"internal-error"),$(typeof t.idToken<"u","internal-error"),$(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):hD(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){$(t.length!==0,"internal-error");let n=hD(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return m(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Yx(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&($(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&($(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return gs("not implemented")}};function xn(e,t){$(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Sr=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=yd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ug(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ys(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return m(this,null,function*(){let n=yield lg(this,this.stsTokenManager.getToken(this.auth,t));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return yg(this,t)}reload(){return _g(this)}_assign(t){this!==t&&($(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return m(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield Gl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(ln(this.auth.app))return Promise.reject(Bl(this.auth));let t=yield this.getIdToken();return yield lg(this,Gx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(l=n.createdAt)!==null&&l!==void 0?l:void 0,te=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:ve,emailVerified:At,isAnonymous:na,providerData:Yu,stsTokenManager:Sv}=n;$(ve&&Sv,t,"internal-error");let _S=vs.fromJSON(this.name,Sv);$(typeof ve=="string",t,"internal-error"),xn(d,t.name),xn(f,t.name),$(typeof At=="boolean",t,"internal-error"),$(typeof na=="boolean",t,"internal-error"),xn(h,t.name),xn(p,t.name),xn(v,t.name),xn(E,t.name),xn(b,t.name),xn(te,t.name);let Zu=new e({uid:ve,auth:t,email:f,emailVerified:At,displayName:d,isAnonymous:na,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:_S,createdAt:b,lastLoginAt:te});return Yu&&Array.isArray(Yu)&&(Zu.providerData=Yu.map(ES=>Object.assign({},ES))),E&&(Zu._redirectEventId=E),Zu}static _fromIdTokenResponse(t,n,r=!1){return m(this,null,function*(){let i=new vs;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield Gl(o),o})}static _fromGetAccountInfoResponse(t,n,r){return m(this,null,function*(){let i=n.users[0];$(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?bD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new vs;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ys(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var pD=new Map;function Rr(e){$l(e instanceof Function,"Expected a class definition");let t=pD.get(e);return t?($l(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pD.set(e,t),t)}var Qx=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),dg=Qx;function ag(e,t,n){return`firebase:${e}:${t}:${n}`}var ql=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ag(this.userKey,i.apiKey,o),this.fullPersistenceKey=ag("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return m(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=yield zl(this.auth,{idToken:t}).catch(()=>{});return n?Sr._fromGetAccountInfoResponse(this.auth,n,t):null}return Sr._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return m(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new e(Rr(dg),t,r);let i=(yield Promise.all(n.map(l=>m(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Rr(dg),s=ag(r,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield zl(t,{idToken:u}).catch(()=>{});if(!f)break;d=yield Sr._fromGetAccountInfoResponse(t,f,u)}else d=Sr._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>m(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,r))})}};function gD(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tL(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Jx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rL(t))return"Blackberry";if(iL(t))return"Webos";if(Xx(t))return"Safari";if((t.includes("chrome/")||eL(t))&&!t.includes("edge/"))return"Chrome";if(nL(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function Jx(e=It()){return/firefox\//i.test(e)}function Xx(e=It()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eL(e=It()){return/crios\//i.test(e)}function tL(e=It()){return/iemobile/i.test(e)}function nL(e=It()){return/android/i.test(e)}function rL(e=It()){return/blackberry/i.test(e)}function iL(e=It()){return/webos/i.test(e)}function SD(e,t=[]){let n;switch(e){case"Browser":n=gD(It());break;case"Worker":n=`${gD(It())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Si}/${r}`}var fg=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return m(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function oL(n){return m(this,arguments,function*(e,t={}){return Yl(e,"GET","/v2/passwordPolicy",wD(e,t))})}var sL=6,hg=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:sL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var pg=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kl(this),this.idTokenSubscription=new Kl(this),this.beforeStateQueue=new fg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ED,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield ql.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return m(this,null,function*(){try{let n=yield zl(this,{idToken:t}),r=yield Sr._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return m(this,null,function*(){var n;if(ln(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return m(this,null,function*(){try{yield Gl(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=Bx()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return m(this,null,function*(){if(ln(this.app))return Promise.reject(Bl(this));let n=t?wt(t):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return m(this,null,function*(){if(!this._deleted)return t&&$(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return ln(this.app)?Promise.reject(Bl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return ln(this.app)?Promise.reject(Bl(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(Rr(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let t=yield oL(this),n=new hg(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Et("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Zx(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&Rr(t)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=yield ql.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return m(this,null,function*(){if(t===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if($(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return m(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=SD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var t;if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&jx(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function aL(e){return wt(e)}var Kl=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=kC(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cL={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lL(e){cL=e}function uL(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function dL(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Rr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}var nZ=uL("rcb"),rZ=new Ar(3e4,6e4);var iZ=new Ar(2e3,1e4);var oZ=10*60*1e3;var sZ=new Ar(3e4,6e4);var aZ=new Ar(5e3,15e3);var cZ=encodeURIComponent("fac");var mD="@firebase/auth",vD="1.10.8";var gg=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function fL(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hL(e){Ct(new Me("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;$(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SD(e)},l=new pg(r,i,o,c);return dL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ct(new Me("auth-internal",t=>{let n=aL(t.getProvider("auth").getImmediate());return(r=>new gg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),se(mD,vD,fL(e)),se(mD,vD,"esm2017")}var pL=5*60,lZ=bC("authIdTokenMaxAge")||pL;function gL(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}lL({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=mg("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",gL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hL("Browser");var hF="auth";var Zl=class{constructor(){return Ni(hF)}};var RD="@firebase/database",AD="1.0.20";var Dm="";function pF(e){Dm=e}var Sg=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ge(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ti(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var Rg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Bt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var cT=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Sg(t)}}catch{}return new Rg},Mr=cT("localStorage"),Ag=cT("sessionStorage");var ki=new Ht("@firebase/database"),gF=function(){let e=1;return function(){return e++}}(),lT=function(e){let t=xC(e),n=new Sl;n.update(t);let r=n.digest();return bi.encodeByteArray(r)},xs=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=xs.apply(null,r):typeof r=="object"?t+=ge(r):t+=r,t+=" "}return t},Or=null,ND=!0,mF=function(e,t){y(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(ki.logLevel=Z.VERBOSE,Or=ki.log.bind(ki),t&&Ag.set("logging_enabled",!0)):typeof e=="function"?Or=e:(Or=null,Ag.remove("logging_enabled"))},be=function(...e){if(ND===!0&&(ND=!1,Or===null&&Ag.get("logging_enabled")===!0&&mF(!0)),Or){let t=xs.apply(null,e);Or(t)}},Ls=function(e){return function(...t){be(e,...t)}},Ng=function(...e){let t="FIREBASE INTERNAL ERROR: "+xs(...e);ki.error(t)},un=function(...e){let t=`FIREBASE FATAL ERROR: ${xs(...e)}`;throw ki.error(t),new Error(t)},Ze=function(...e){let t="FIREBASE WARNING: "+xs(...e);ki.warn(t)},vF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ze("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},uT=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},yF=function(e){if(Vt()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Fi="[MIN_NAME]",Pr="[MAX_NAME]",Wi=function(e,t){if(e===t)return 0;if(e===Fi||t===Pr)return-1;if(t===Fi||e===Pr)return 1;{let n=MD(e),r=MD(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},_F=function(e,t){return e===t?0:e<t?-1:1},_s=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ge(t))},Tm=function(e){if(typeof e!="object"||e===null)return ge(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ge(t[r]),n+=":",n+=Tm(e[t[r]]);return n+="}",n},dT=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ue(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var fT=function(e){y(!uT(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},EF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},IF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wF(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var CF=new RegExp("^-?(0*)\\d{1,10}$"),DF=-2147483648,TF=2147483647,MD=function(e){if(CF.test(e)){let t=Number(e);if(t>=DF&&t<=TF)return t}return null},Fs=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw Ze("Exception was thrown by user callback.",n),t},Math.floor(0))}},bF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ds=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Mg=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,ln(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ze(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Og=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(be("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ze(t)}},Ts=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Jl="5",hT="v",pT="s",gT="r",mT="f",vT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yT="ls",_T="p",Pg="ac",ET="websocket",IT="long_polling";var Xl=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Mr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Mr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function SF(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function wT(e,t,n){y(typeof t=="string","typeof type must == string"),y(typeof n=="object","typeof params must == object");let r;if(t===ET)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===IT)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);SF(e)&&(n.ns=e.namespace);let i=[];return Ue(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var kg=class{constructor(){this.counters_={}}incrementCounter(t,n=1){Bt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return IC(this.counters_)}};var Eg={},Ig={};function bm(e){let t=e.toString();return Eg[t]||(Eg[t]=new kg),Eg[t]}function RF(e,t){let n=e.toString();return Ig[n]||(Ig[n]=t()),Ig[n]}var xg=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Fs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var OD="start",AF="close",NF="pLPCommand",MF="pRTLPCB",CT="id",DT="pw",TT="ser",OF="cb",PF="seg",kF="ts",xF="d",LF="dframe",bT=1870,ST=30,FF=bT-ST,jF=25e3,UF=3e4,Lg=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ls(t),this.stats_=bm(n),this.urlFn=c=>(this.appCheckToken&&(c[Pg]=this.appCheckToken),wT(n,IT,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new xg(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(UF)),yF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fg((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===OD)this.id=a,this.password=c;else if(s===AF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[OD]="t",r[TT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[OF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[hT]=Jl,this.transportSessionId&&(r[pT]=this.transportSessionId),this.lastSessionId&&(r[yT]=this.lastSessionId),this.applicationId&&(r[_T]=this.applicationId),this.appCheckToken&&(r[Pg]=this.appCheckToken),typeof location<"u"&&location.hostname&&vT.test(location.hostname)&&(r[gT]=mT);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Vt()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!EF()&&!IF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=ge(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Pp(n),i=dT(r,FF);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Vt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[LF]="t",r[CT]=t,r[DT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=ge(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Fg=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Vt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=gF(),window[NF+this.uniqueCallbackIdentifier]=t,window[MF+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){be("frame writing exception"),a.stack&&be(a.stack),be(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||be("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[CT]=this.myID,t[DT]=this.myPW,t[TT]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ST+r.length<=bT;){let s=this.pendingSegs.shift();r=r+"&"+PF+i+"="+s.seg+"&"+kF+i+"="+s.ts+"&"+xF+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(jF)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){Vt()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{be("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var VF=16384,BF=45e3,eu=null;typeof MozWebSocket<"u"?eu=MozWebSocket:typeof WebSocket<"u"&&(eu=WebSocket);var Es=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ls(this.connId),this.stats_=bm(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[hT]=Jl,!Vt()&&typeof location<"u"&&location.hostname&&vT.test(location.hostname)&&(a[gT]=mT),r&&(a[pT]=r),i&&(a[yT]=i),o&&(a[Pg]=o),s&&(a[_T]=s),wT(n,ET,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Mr.set("previous_websocket_failure",!0);try{let i;if(Vt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Jl}/${Dm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new eu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&eu!==null&&!e.forceDisallow_}static previouslyFailed(){return Mr.isInMemoryStorage||Mr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Mr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Ti(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(y(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ge(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=dT(r,VF);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BF))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),HF=(()=>{class e{static get ALL_TRANSPORTS(){return[Lg,Es]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Es&&Es.isAvailable(),i=r&&!Es.previouslyFailed();if(n.webSocketOnly&&(r||Ze("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Es];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),$F=6e4,WF=5e3,zF=10*1024,GF=100*1024,wg="t",PD="d",qF="s",kD="r",KF="e",xD="o",LD="a",FD="n",jD="p",YF="h",jg=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ls("c:"+this.id+":"),this.transportManager_=new HF(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ds(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>GF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(wg in t){let n=t[wg];n===LD?this.upgradeIfSecondaryHealthy_():n===kD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===xD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=_s("t",t),r=_s("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:jD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:LD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:FD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=_s("t",t),r=_s("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=_s(wg,t);if(PD in t){let r=t[PD];if(n===YF){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===FD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qF?this.onConnectionShutdown_(r):n===kD?this.onReset_(r):n===KF?Ng("Server Error: "+r):n===xD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ng("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Jl!==r&&Ze("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ds(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($F))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ds(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(WF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:jD,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Mr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var tu=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var nu=class{constructor(t){this.allowedEvents_=t,this.listeners_={},y(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){y(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var ru=class e extends nu{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!os()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return y(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var UD=32,VD=768,Q=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function W(){return new Q("")}function F(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Fn(e){return e.pieces_.length-e.pieceNum_}function X(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Q(e.pieces_,t)}function RT(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ZF(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function AT(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function NT(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Q(t,0)}function me(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Q)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Q(n,0)}function j(e){return e.pieceNum_>=e.pieces_.length}function je(e,t){let n=F(e),r=F(t);if(n===null)return t;if(n===r)return je(X(e),X(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Sm(e,t){if(Fn(e)!==Fn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function bt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Fn(e)>Fn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ug=class{constructor(t,n){this.errorPrefix_=n,this.parts_=AT(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=cs(this.parts_[r]);MT(this)}};function QF(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=cs(t),MT(e)}function JF(e){let t=e.parts_.pop();e.byteLength_-=cs(t),e.parts_.length>0&&(e.byteLength_-=1)}function MT(e){if(e.byteLength_>VD)throw new Error(e.errorPrefix_+"has a key path longer than "+VD+" bytes ("+e.byteLength_+").");if(e.parts_.length>UD)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+UD+") or object contains a cycle "+Nr(e))}function Nr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Vg=class e extends nu{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return y(t==="visible","Unknown event type: "+t),[this.visible_]}};var Is=1e3,XF=60*5*1e3,BD=30*1e3,e1=1.3,t1=3e4,n1="server_kill",HD=3,Rm=(()=>{class e extends tu{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=Ls("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Is,this.maxReconnectDelay_=XF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Vt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&ru.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(ge(s)),y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new jt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),y(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Bt(n,"w")){let i=Er(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ze(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||PC(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=BD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=OC(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ge(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Ng("Unrecognized action received from server: "+ge(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Is,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Is,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>t1&&(this.reconnectDelay_=Is),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*e1)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){y(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?be("getToken() completed but was canceled"):(be("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new jg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{Ze(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(n1)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Ze(f),l())}}})}interrupt(n){be("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){be("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Nl(this.interruptReasons_)&&(this.reconnectDelay_=Is,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Tm(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new Q(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){be("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=HD&&(this.reconnectDelay_=BD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){be("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=HD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Vt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Dm.replace(/\./g,"-")]=1,os()?n["framework.cordova"]=1:Rl()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=ru.getInstance().currentlyOnline();return Nl(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),L=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var ji=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new L(Fi,t),i=new L(Fi,n);return this.compare(r,i)!==0}minPost(){return L.MIN}};var Ql,iu=class extends ji{static get __EMPTY_NODE(){return Ql}static set __EMPTY_NODE(t){Ql=t}compare(t,n){return Wi(t.name,n.name)}isDefinedOn(t){throw yr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return L.MIN}maxPost(){return new L(Pr,Ql)}makePost(t,n){return y(typeof t=="string","KeyIndex indexValue must always be a string."),new L(t,Ql)}toString(){return".key"}},xi=new iu;var Oi=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Tt=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??ct.EMPTY_NODE,this.right=s??ct.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ct.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return ct.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Bg=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new Tt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},ct=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Tt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Tt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Oi(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Oi(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Oi(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Oi(this.root_,null,this.comparator_,!0,t)}};ct.EMPTY_NODE=new Bg;function r1(e,t){return Wi(e.name,t.name)}function Am(e,t){return Wi(e,t)}var Hg;function i1(e){Hg=e}var OT=function(e){return typeof e=="number"?"number:"+fT(e):"string:"+e},PT=function(e){if(e.isLeafNode()){let t=e.val();y(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Bt(t,".sv"),"Priority must be a string or number.")}else y(e===Hg||e.isEmpty(),"priority of unexpected type.");y(e===Hg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var $D,Ui=(()=>{class e{static set __childrenNodeConstructor(n){$D=n}static get __childrenNodeConstructor(){return $D}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),PT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return j(n)?this:F(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=F(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(y(i!==".priority"||Fn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+OT(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=fT(this.value_):n+=this.value_,this.lazyHash_=lT(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(y(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return y(o>=0,"Unknown leaf type: "+r),y(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),kT,xT;function o1(e){kT=e}function s1(e){xT=e}var $g=class extends ji{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Wi(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return L.MIN}maxPost(){return new L(Pr,new Ui("[PRIORITY-POST]",xT))}makePost(t,n){let r=kT(t);return new L(n,new Ui("[PRIORITY-POST]",r))}toString(){return".priority"}},re=new $g;var a1=Math.log(2),Wg=class{constructor(t){let n=o=>parseInt(Math.log(o)/a1,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},ou=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new Tt(f,d.node,Tt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),v=i(h+1,l);return d=e[h],f=n?n(d):d,new Tt(f,d.node,Tt.BLACK,p,v)}},o=function(c){let l=null,u=null,d=e.length,f=function(p,v){let E=d-p,b=d;d-=p;let te=i(E+1,b),ve=e[E],At=n?n(ve):ve;h(new Tt(At,ve.node,v,null,te))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let v=c.nextBitIsOne(),E=Math.pow(2,c.count-(p+1));v?f(E,Tt.BLACK):(f(E,Tt.BLACK),f(E,Tt.RED))}return u},s=new Wg(e.length),a=o(s);return new ct(r||t,a)};var Cg,Mi={},Vi=class e{static get Default(){return y(Mi&&re,"ChildrenNode.ts has not been loaded"),Cg=Cg||new e({".priority":Mi},{".priority":re}),Cg}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=Er(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ct?n:null}hasIndex(t){return Bt(this.indexSet_,t.toString())}addIndex(t,n){y(t!==xi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(L.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=ou(r,t.getCompare()):a=Mi;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=ss(this.indexes_,(i,o)=>{let s=Er(this.indexSet_,o);if(y(s,"Missing index implementation for "+o),i===Mi)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator(L.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),ou(a,s.getCompare())}else return Mi;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new L(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=ss(this.indexes_,i=>{if(i===Mi)return i;{let o=n.get(t.name);return o?i.remove(new L(t.name,o)):i}});return new e(r,this.indexSet_)}};var ws,M=(()=>{class e{static get EMPTY_NODE(){return ws||(ws=new e(new ct(Am),null,Vi.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&PT(this.priorityNode_),this.children_.isEmpty()&&y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ws}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ws:r}}getChild(n){let r=F(n);return r===null?this:this.getImmediateChild(r).getChild(X(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(y(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new L(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?ws:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=F(n);if(i===null)return r;{y(F(n)!==".priority"||Fn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(X(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(re,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+OT(this.getPriority().val())+":"),this.forEachChild(re,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":lT(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new L(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new L(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new L(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,L.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,L.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===js?-1:0}withIndex(n){if(n===xi||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===xi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(re),o=r.getIterator(re),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===xi?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),zg=class extends M{constructor(){super(new ct(Am),M.EMPTY_NODE,Vi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return M.EMPTY_NODE}isEmpty(){return!1}},js=new zg;Object.defineProperties(L,{MIN:{value:new L(Fi,M.EMPTY_NODE)},MAX:{value:new L(Pr,js)}});iu.__EMPTY_NODE=M.EMPTY_NODE;Ui.__childrenNodeConstructor=M;i1(js);s1(js);var c1=!0;function Se(e,t=null){if(e===null)return M.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),y(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new Ui(n,Se(t))}if(!(e instanceof Array)&&c1){let n=[],r=!1;if(Ue(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=Se(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new L(s,c)))}}),n.length===0)return M.EMPTY_NODE;let o=ou(n,r1,s=>s.name,Am);if(r){let s=ou(n,re.getCompare());return new M(o,Se(t),new Vi({".priority":s},{".priority":re}))}else return new M(o,Se(t),Vi.Default)}else{let n=M.EMPTY_NODE;return Ue(e,(r,i)=>{if(Bt(e,r)&&r.substring(0,1)!=="."){let o=Se(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Se(t))}}o1(Se);var Gg=class extends ji{constructor(t){super(),this.indexPath_=t,y(!j(t)&&F(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Wi(t.name,n.name):o}makePost(t,n){let r=Se(t),i=M.EMPTY_NODE.updateChild(this.indexPath_,r);return new L(n,i)}maxPost(){let t=M.EMPTY_NODE.updateChild(this.indexPath_,js);return new L(Pr,t)}toString(){return AT(this.indexPath_,0).join("/")}};var qg=class extends ji{compare(t,n){let r=t.node.compareTo(n.node);return r===0?Wi(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return L.MIN}maxPost(){return L.MAX}makePost(t,n){let r=Se(t);return new L(n,r)}toString(){return".value"}},l1=new qg;function LT(e){return{type:"value",snapshotNode:e}}function Bi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function As(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ns(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function u1(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Ms=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){y(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(As(n,a)):y(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Bi(n,r)):s.trackChildChange(Ns(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(re,(i,o)=>{n.hasChild(i)||r.trackChildChange(As(i,o))}),n.isLeafNode()||n.forEachChild(re,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ns(i,o,s))}else r.trackChildChange(Bi(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?M.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var su=class e{constructor(t){this.indexedFilter_=new Ms(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new L(n,r))||(r=M.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=M.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(M.EMPTY_NODE);let o=this;return n.forEachChild(re,(s,a)=>{o.matches(new L(s,a))||(i=i.updateImmediateChild(s,M.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Kg=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new su(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new L(n,r))||(r=M.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=M.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=M.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(M.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,M.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;y(a.numChildren()===this.limit_,"");let c=new L(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Ns(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(As(n,d));let v=a.updateImmediateChild(n,M.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Bi(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?t:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(As(l.name,l.node)),o.trackChildChange(Bi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,M.EMPTY_NODE)):t}};var Yg=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=re}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fi}hasEnd(){return this.endSet_}getIndexEndValue(){return y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===re}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function d1(e){return e.loadsAllData()?new Ms(e.getIndex()):e.hasLimit()?new Kg(e):new su(e)}function WD(e){let t={};if(e.isDefault())return t;let n;if(e.index_===re?n="$priority":e.index_===l1?n="$value":e.index_===xi?n="$key":(y(e.index_ instanceof Gg,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ge(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=ge(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ge(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ge(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ge(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function zD(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==re&&(t.i=e.index_.toString()),t}var Zg=class e extends tu{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(y(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ls("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=WD(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Er(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=WD(t._queryParams),r=t._path.toString(),i=new jt;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+as(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Ti(a.responseText)}catch{Ze("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Ze("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Qg=class{constructor(){this.rootNode_=M.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function au(){return{value:null,children:new Map}}function FT(e,t,n){if(j(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=F(t);e.children.has(r)||e.children.set(r,au());let i=e.children.get(r);t=X(t),FT(i,t,n)}}function Jg(e,t,n){e.value!==null?n(t,e.value):f1(e,(r,i)=>{let o=new Q(t.toString()+"/"+r);Jg(i,o,n)})}function f1(e,t){e.children.forEach((n,r)=>{t(r,n)})}var Xg=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ue(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var GD=10*1e3,h1=30*1e3,p1=5*60*1e3,em=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Xg(t);let r=GD+(h1-GD)*Math.random();Ds(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;Ue(t,(i,o)=>{o>0&&Bt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ds(this.reportStats_.bind(this),Math.floor(Math.random()*2*p1))}};var Wt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Wt||{});function jT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Nm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var tm=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Wt.ACK_USER_WRITE,this.source=jT()}operationForChild(t){if(j(this.path)){if(this.affectedTree.value!=null)return y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Q(t));return new e(W(),n,this.revert)}}else return y(F(this.path)===t,"operationForChild called for unrelated child."),new e(X(this.path),this.affectedTree,this.revert)}};var cu=class e{constructor(t,n){this.source=t,this.path=n,this.type=Wt.LISTEN_COMPLETE}operationForChild(t){return j(this.path)?new e(this.source,W()):new e(this.source,X(this.path))}};var Hi=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Wt.OVERWRITE}operationForChild(t){return j(this.path)?new e(this.source,W(),this.snap.getImmediateChild(t)):new e(this.source,X(this.path),this.snap)}};var lu=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Wt.MERGE}operationForChild(t){if(j(this.path)){let n=this.children.subtree(new Q(t));return n.isEmpty()?null:n.value?new Hi(this.source,W(),n.value):new e(this.source,W(),n)}else return y(F(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var dn=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(j(t))return this.isFullyInitialized()&&!this.filtered_;let n=F(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var nm=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function g1(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(u1(s.childName,s.snapshotNode))}),Cs(e,i,"child_removed",t,r,n),Cs(e,i,"child_added",t,r,n),Cs(e,i,"child_moved",o,r,n),Cs(e,i,"child_changed",t,r,n),Cs(e,i,"value",t,r,n),i}function Cs(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>v1(e,a,c)),s.forEach(a=>{let c=m1(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function m1(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function v1(e,t,n){if(t.childName==null||n.childName==null)throw yr("Should only compare child_ events.");let r=new L(t.childName,t.snapshotNode),i=new L(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function Eu(e,t){return{eventCache:e,serverCache:t}}function bs(e,t,n,r){return Eu(new dn(t,n,r),e.serverCache)}function UT(e,t,n,r){return Eu(e.eventCache,new dn(t,n,r))}function rm(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function kr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Dg,y1=()=>(Dg||(Dg=new ct(_F)),Dg),Ve=class e{static fromObject(t){let n=new e(null);return Ue(t,(r,i)=>{n=n.set(new Q(r),i)}),n}constructor(t,n=y1()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:W(),value:this.value};if(j(t))return null;{let r=F(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(X(t),n);return o!=null?{path:me(new Q(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(j(t))return this;{let n=F(t),r=this.children.get(n);return r!==null?r.subtree(X(t)):new e(null)}}set(t,n){if(j(t))return new e(n,this.children);{let r=F(t),o=(this.children.get(r)||new e(null)).set(X(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(j(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=F(t),r=this.children.get(n);if(r){let i=r.remove(X(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(j(t))return this.value;{let n=F(t),r=this.children.get(n);return r?r.get(X(t)):null}}setTree(t,n){if(j(t))return n;{let r=F(t),o=(this.children.get(r)||new e(null)).setTree(X(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(W(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(me(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,W(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(j(t))return null;{let o=F(t),s=this.children.get(o);return s?s.findOnPath_(X(t),me(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,W(),n)}foreachOnPath_(t,n,r){if(j(t))return this;{this.value&&r(n,this.value);let i=F(t),o=this.children.get(i);return o?o.foreachOnPath_(X(t),me(n,i),r):new e(null)}}foreach(t){this.foreach_(W(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(me(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var St=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Ve(null))}};function Ss(e,t,n){if(j(t))return new St(new Ve(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=je(i,t);return o=o.updateChild(s,n),new St(e.writeTree_.set(i,o))}else{let i=new Ve(n),o=e.writeTree_.setTree(t,i);return new St(o)}}}function qD(e,t,n){let r=e;return Ue(n,(i,o)=>{r=Ss(r,me(t,i),o)}),r}function KD(e,t){if(j(t))return St.empty();{let n=e.writeTree_.setTree(t,new Ve(null));return new St(n)}}function im(e,t){return xr(e,t)!=null}function xr(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(je(n.path,t)):null}function YD(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(re,(r,i)=>{t.push(new L(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new L(r,i.value))}),t}function Ln(e,t){if(j(t))return e;{let n=xr(e,t);return n!=null?new St(new Ve(n)):new St(e.writeTree_.subtree(t))}}function om(e){return e.writeTree_.isEmpty()}function $i(e,t){return VT(W(),e.writeTree_,t)}function VT(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(y(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=VT(me(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(me(e,".priority"),r)),n}}function Om(e,t){return WT(t,e)}function _1(e,t,n,r,i){y(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ss(e.visibleWrites,t,n)),e.lastWriteId=r}function E1(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function I1(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);y(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&w1(a,r.path)?i=!1:bt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return C1(e),!0;if(r.snap)e.visibleWrites=KD(e.visibleWrites,r.path);else{let a=r.children;Ue(a,c=>{e.visibleWrites=KD(e.visibleWrites,me(r.path,c))})}return!0}else return!1}function w1(e,t){if(e.snap)return bt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&bt(me(e.path,n),t))return!0;return!1}function C1(e){e.visibleWrites=BT(e.allWrites,D1,W()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function D1(e){return e.visible}function BT(e,t,n){let r=St.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)bt(n,s)?(a=je(n,s),r=Ss(r,a,o.snap)):bt(s,n)&&(a=je(s,n),r=Ss(r,W(),o.snap.getChild(a)));else if(o.children){if(bt(n,s))a=je(n,s),r=qD(r,a,o.children);else if(bt(s,n))if(a=je(s,n),j(a))r=qD(r,W(),o.children);else{let c=Er(o.children,F(a));if(c){let l=c.getChild(X(a));r=Ss(r,W(),l)}}}else throw yr("WriteRecord should have .snap or .children")}}return r}function HT(e,t,n,r,i){if(!r&&!i){let o=xr(e.visibleWrites,t);if(o!=null)return o;{let s=Ln(e.visibleWrites,t);if(om(s))return n;if(n==null&&!im(s,W()))return null;{let a=n||M.EMPTY_NODE;return $i(s,a)}}}else{let o=Ln(e.visibleWrites,t);if(!i&&om(o))return n;if(!i&&n==null&&!im(o,W()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(bt(l.path,t)||bt(t,l.path))},a=BT(e.allWrites,s,t),c=n||M.EMPTY_NODE;return $i(a,c)}}}function T1(e,t,n){let r=M.EMPTY_NODE,i=xr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(re,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Ln(e.visibleWrites,t);return n.forEachChild(re,(s,a)=>{let c=$i(Ln(o,new Q(s)),a);r=r.updateImmediateChild(s,c)}),YD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Ln(e.visibleWrites,t);return YD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function b1(e,t,n,r,i){y(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=me(t,n);if(im(e.visibleWrites,o))return null;{let s=Ln(e.visibleWrites,o);return om(s)?i.getChild(n):$i(s,i.getChild(n))}}function S1(e,t,n,r){let i=me(t,n),o=xr(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Ln(e.visibleWrites,i);return $i(s,r.getNode().getImmediateChild(n))}else return null}function R1(e,t){return xr(e.visibleWrites,t)}function A1(e,t,n,r,i,o,s){let a,c=Ln(e.visibleWrites,t),l=xr(c,W());if(l!=null)a=l;else if(n!=null)a=$i(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function N1(){return{visibleWrites:St.empty(),allWrites:[],lastWriteId:-1}}function uu(e,t,n,r){return HT(e.writeTree,e.treePath,t,n,r)}function Pm(e,t){return T1(e.writeTree,e.treePath,t)}function ZD(e,t,n,r){return b1(e.writeTree,e.treePath,t,n,r)}function du(e,t){return R1(e.writeTree,me(e.treePath,t))}function M1(e,t,n,r,i,o){return A1(e.writeTree,e.treePath,t,n,r,i,o)}function km(e,t,n){return S1(e.writeTree,e.treePath,t,n)}function $T(e,t){return WT(me(e.treePath,t),e.writeTree)}function WT(e,t){return{treePath:e,writeTree:t}}var sm=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),y(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ns(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,As(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Bi(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ns(r,t.snapshotNode,i.oldSnap));else throw yr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var am=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},zT=new am,Os=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new dn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return km(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:kr(this.viewCache_),o=M1(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function O1(e){return{filter:e}}function P1(e,t){y(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),y(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function k1(e,t,n,r,i){let o=new sm,s,a;if(n.type===Wt.OVERWRITE){let l=n;l.source.fromUser?s=cm(e,t,l.path,l.snap,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!j(l.path),s=fu(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Wt.MERGE){let l=n;l.source.fromUser?s=L1(e,t,l.path,l.children,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=lm(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Wt.ACK_USER_WRITE){let l=n;l.revert?s=U1(e,t,l.path,r,i,o):s=F1(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===Wt.LISTEN_COMPLETE)s=j1(e,t,n.path,r,o);else throw yr("Unknown operation type: "+n.type);let c=o.getChanges();return x1(t,s,c),{viewCache:s,changes:c}}function x1(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=rm(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(LT(rm(t)))}}function GT(e,t,n,r,i,o){let s=t.eventCache;if(du(r,n)!=null)return t;{let a,c;if(j(n))if(y(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=kr(t),u=l instanceof M?l:M.EMPTY_NODE,d=Pm(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=uu(r,kr(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=F(n);if(l===".priority"){y(Fn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=ZD(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=X(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let f=ZD(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=km(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return bs(t,a,s.isFullyInitialized()||j(n),e.filter.filtersNodes())}}function fu(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(j(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=F(n);if(!c.isCompleteForPath(n)&&Fn(n)>1)return t;let p=X(n),E=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),E):l=u.updateChild(c.getNode(),h,E,p,zT,null)}let d=UT(t,l,c.isFullyInitialized()||j(n),u.filtersNodes()),f=new Os(i,d,o);return GT(e,d,n,i,f,a)}function cm(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new Os(i,t,o);if(j(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=bs(t,l,!0,e.filter.filtersNodes());else{let d=F(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=bs(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=X(n),h=a.getNode().getImmediateChild(d),p;if(j(f))p=r;else{let v=u.getCompleteChild(d);v!=null?RT(f)===".priority"&&v.getChild(NT(f)).isEmpty()?p=v:p=v.updateChild(f,r):p=M.EMPTY_NODE}if(h.equals(p))c=t;else{let v=e.filter.updateChild(a.getNode(),d,p,f,u,s);c=bs(t,v,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function QD(e,t){return e.eventCache.isCompleteForChild(t)}function L1(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=me(n,c);QD(t,F(u))&&(a=cm(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=me(n,c);QD(t,F(u))||(a=cm(e,a,u,l,i,o,s))}),a}function JD(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function lm(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;j(n)?l=r:l=new Ve(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=JD(e,h,f);c=fu(e,c,new Q(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),v=JD(e,p,f);c=fu(e,c,new Q(d),v,i,o,s,a)}}),c}function F1(e,t,n,r,i,o,s){if(du(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(j(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return fu(e,t,n,c.getNode().getChild(n),i,o,a,s);if(j(n)){let l=new Ve(null);return c.getNode().forEachChild(xi,(u,d)=>{l=l.set(new Q(u),d)}),lm(e,t,n,l,i,o,a,s)}else return t}else{let l=new Ve(null);return r.foreach((u,d)=>{let f=me(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),lm(e,t,n,l,i,o,a,s)}}function j1(e,t,n,r,i){let o=t.serverCache,s=UT(t,o.getNode(),o.isFullyInitialized()||j(n),o.isFiltered());return GT(e,s,n,r,zT,i)}function U1(e,t,n,r,i,o){let s;if(du(r,n)!=null)return t;{let a=new Os(r,t,i),c=t.eventCache.getNode(),l;if(j(n)||F(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=uu(r,kr(t));else{let d=t.serverCache.getNode();y(d instanceof M,"serverChildren would be complete if leaf node"),u=Pm(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=F(n),d=km(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,X(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,M.EMPTY_NODE,X(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=uu(r,kr(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||du(r,W())!=null,bs(t,l,s,e.filter.filtersNodes())}}var um=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Ms(r.getIndex()),o=d1(r);this.processor_=O1(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(M.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(M.EMPTY_NODE,a.getNode(),null),u=new dn(c,s.isFullyInitialized(),i.filtersNodes()),d=new dn(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Eu(d,u),this.eventGenerator_=new nm(this.query_)}get query(){return this.query_}};function V1(e){return e.viewCache_.serverCache.getNode()}function B1(e,t){let n=kr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!j(t)&&!n.getImmediateChild(F(t)).isEmpty())?n.getChild(t):null}function XD(e){return e.eventRegistrations_.length===0}function H1(e,t){e.eventRegistrations_.push(t)}function eT(e,t,n){let r=[];if(n){y(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function tT(e,t,n,r){t.type===Wt.MERGE&&t.source.queryId!==null&&(y(kr(e.viewCache_),"We should always have a full cache before handling merges"),y(rm(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=k1(e.processor_,i,t,n,r);return P1(e.processor_,o.viewCache),y(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,qT(e,o.changes,o.viewCache.eventCache.getNode(),null)}function $1(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(re,(o,s)=>{r.push(Bi(o,s))}),n.isFullyInitialized()&&r.push(LT(n.getNode())),qT(e,r,n.getNode(),t)}function qT(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return g1(e.eventGenerator_,t,n,i)}var hu,dm=class{constructor(){this.views=new Map}};function W1(e){y(!hu,"__referenceConstructor has already been defined"),hu=e}function z1(){return y(hu,"Reference.ts has not been loaded"),hu}function G1(e){return e.views.size===0}function xm(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return y(o!=null,"SyncTree gave us an op for an invalid query."),tT(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(tT(s,t,n,r));return o}}function q1(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=uu(n,i?r:null),c=!1;a?c=!0:r instanceof M?(a=Pm(n,r),c=!1):(a=M.EMPTY_NODE,c=!1);let l=Eu(new dn(a,c,!1),new dn(r,i,!1));return new um(t,l)}return s}function K1(e,t,n,r,i,o){let s=q1(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),H1(s,n),$1(s,n)}function Y1(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=jn(e);if(i==="default")for(let[c,l]of e.views.entries())s=s.concat(eT(l,n,r)),XD(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(i);c&&(s=s.concat(eT(c,n,r)),XD(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!jn(e)&&o.push(new(z1())(t._repo,t._path)),{removed:o,events:s}}function KT(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Li(e,t){let n=null;for(let r of e.views.values())n=n||B1(r,t);return n}function YT(e,t){if(t._queryParams.loadsAllData())return Iu(e);{let r=t._queryIdentifier;return e.views.get(r)}}function ZT(e,t){return YT(e,t)!=null}function jn(e){return Iu(e)!=null}function Iu(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var pu;function Z1(e){y(!pu,"__referenceConstructor has already been defined"),pu=e}function Q1(){return y(pu,"Reference.ts has not been loaded"),pu}var J1=1,gu=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ve(null),this.pendingWriteTree_=N1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function X1(e,t,n,r,i){return _1(e.pendingWriteTree_,t,n,r,i),i?Us(e,new Hi(jT(),t,n)):[]}function Pi(e,t,n=!1){let r=E1(e.pendingWriteTree_,t);if(I1(e.pendingWriteTree_,t)){let o=new Ve(null);return r.snap!=null?o=o.set(W(),!0):Ue(r.children,s=>{o=o.set(new Q(s),!0)}),Us(e,new tm(r.path,o,n))}else return[]}function wu(e,t,n){return Us(e,new Hi(Nm(),t,n))}function ej(e,t,n){let r=Ve.fromObject(n);return Us(e,new lu(Nm(),t,r))}function tj(e,t){return Us(e,new cu(Nm(),t))}function nj(e,t,n){let r=Lm(e,n);if(r){let i=Fm(r),o=i.path,s=i.queryId,a=je(o,t),c=new cu(Mm(s),a);return jm(e,o,c)}else return[]}function fm(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||ZT(s,t))){let c=Y1(s,t,n,r);G1(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>jn(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=oj(f);for(let p=0;p<h.length;++p){let v=h[p],E=v.query,b=eb(e,v);e.listenProvider_.startListening(Rs(E),mu(e,E),b.hashFn,b.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(Rs(t),null):l.forEach(f=>{let h=e.queryToTagMap.get(Cu(f));e.listenProvider_.stopListening(Rs(f),h)}))}sj(e,l)}return a}function rj(e,t,n,r){let i=Lm(e,r);if(i!=null){let o=Fm(i),s=o.path,a=o.queryId,c=je(s,t),l=new Hi(Mm(a),c,n);return jm(e,s,l)}else return[]}function ij(e,t,n,r){let i=Lm(e,r);if(i){let o=Fm(i),s=o.path,a=o.queryId,c=je(s,t),l=Ve.fromObject(n),u=new lu(Mm(a),c,l);return jm(e,s,u)}else return[]}function nT(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=je(f,i);o=o||Li(h,p),s=s||jn(h)});let a=e.syncPointTree_.get(i);a?(s=s||jn(a),o=o||Li(a,W())):(a=new dm,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=M.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let v=Li(p,W());v&&(o=o.updateImmediateChild(h,v))}));let l=ZT(a,t);if(!l&&!t._queryParams.loadsAllData()){let f=Cu(t);y(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=aj();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=Om(e.pendingWriteTree_,i),d=K1(a,t,n,u,o,c);if(!l&&!s&&!r){let f=YT(a,t);d=d.concat(cj(e,t,f))}return d}function QT(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=je(s,t),l=Li(a,c);if(l)return l});return HT(i,t,o,n,!0)}function Us(e,t){return JT(t,e.syncPointTree_,null,Om(e.pendingWriteTree_,W()))}function JT(e,t,n,r){if(j(e.path))return XT(e,t,n,r);{let i=t.get(W());n==null&&i!=null&&(n=Li(i,W()));let o=[],s=F(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=$T(r,s);o=o.concat(JT(a,c,l,u))}return i&&(o=o.concat(xm(i,e,r,n))),o}}function XT(e,t,n,r){let i=t.get(W());n==null&&i!=null&&(n=Li(i,W()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=$T(r,s),u=e.operationForChild(s);u&&(o=o.concat(XT(u,a,c,l)))}),i&&(o=o.concat(xm(i,e,r,n))),o}function eb(e,t){let n=t.query,r=mu(e,n);return{hashFn:()=>(V1(t)||M.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?nj(e,n._path,r):tj(e,n._path);{let o=wF(i,n);return fm(e,n,null,o)}}}}function mu(e,t){let n=Cu(t);return e.queryToTagMap.get(n)}function Cu(e){return e._path.toString()+"$"+e._queryIdentifier}function Lm(e,t){return e.tagToQueryMap.get(t)}function Fm(e){let t=e.indexOf("$");return y(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Q(e.substr(0,t))}}function jm(e,t,n){let r=e.syncPointTree_.get(t);y(r,"Missing sync point for query tag that we're tracking");let i=Om(e.pendingWriteTree_,t);return xm(r,n,i,null)}function oj(e){return e.fold((t,n,r)=>{if(n&&jn(n))return[Iu(n)];{let i=[];return n&&(i=KT(n)),Ue(r,(o,s)=>{i=i.concat(s)}),i}})}function Rs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Q1())(e._repo,e._path):e}function sj(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=Cu(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function aj(){return J1++}function cj(e,t,n){let r=t._path,i=mu(e,t),o=eb(e,n),s=e.listenProvider_.startListening(Rs(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)y(!jn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!j(l)&&u&&jn(u))return[Iu(u).query];{let f=[];return u&&(f=f.concat(KT(u).map(h=>h.query))),Ue(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(Rs(u),mu(e,u))}}return s}var hm=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},pm=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=me(this.path_,t);return new e(this.syncTree_,n)}node(){return QT(this.syncTree_,this.path_)}},lj=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},rT=function(e,t,n){if(!e||typeof e!="object")return e;if(y(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return uj(e[".sv"],t,n);if(typeof e[".sv"]=="object")return dj(e[".sv"],t);y(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},uj=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:y(!1,"Unexpected server value: "+e)}},dj=function(e,t,n){e.hasOwnProperty("increment")||y(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&y(!1,"Unexpected increment value: "+r);let i=t.node();if(y(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},fj=function(e,t,n,r){return Um(t,new pm(n,e),r)},hj=function(e,t,n){return Um(e,new hm(t),n)};function Um(e,t,n){let r=e.getPriority().val(),i=rT(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=rT(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new Ui(a,Se(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Ui(i))),s.forEachChild(re,(a,c)=>{let l=Um(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Ps=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function Vm(e,t){let n=t instanceof Q?t:new Q(t),r=e,i=F(n);for(;i!==null;){let o=Er(r.node.children,i)||{children:{},childCount:0};r=new Ps(i,r,o),n=X(n),i=F(n)}return r}function zi(e){return e.node.value}function tb(e,t){e.node.value=t,gm(e)}function nb(e){return e.node.childCount>0}function pj(e){return zi(e)===void 0&&!nb(e)}function Du(e,t){Ue(e.node.children,(n,r)=>{t(new Ps(n,e,r))})}function rb(e,t,n,r){n&&!r&&t(e),Du(e,i=>{rb(i,t,!0,r)}),n&&r&&t(e)}function gj(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Vs(e){return new Q(e.parent===null?e.name:Vs(e.parent)+"/"+e.name)}function gm(e){e.parent!==null&&mj(e.parent,e.name,e)}function mj(e,t,n){let r=pj(n),i=Bt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,gm(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,gm(e))}var vj=/[\[\].#$\/\u0000-\u001F\u007F]/,yj=/[\[\].#$\u0000-\u001F\u007F]/,Tg=10*1024*1024,ib=function(e){return typeof e=="string"&&e.length!==0&&!vj.test(e)},ob=function(e){return typeof e=="string"&&e.length!==0&&!yj.test(e)},_j=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ob(e)};var sb=function(e,t,n){let r=n instanceof Q?new Ug(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Nr(r));if(typeof t=="function")throw new Error(e+"contains a function "+Nr(r)+" with contents = "+t.toString());if(uT(t))throw new Error(e+"contains "+t.toString()+" "+Nr(r));if(typeof t=="string"&&t.length>Tg/3&&cs(t)>Tg)throw new Error(e+"contains a string greater than "+Tg+" utf8 bytes "+Nr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(Ue(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!ib(s)))throw new Error(e+" contains an invalid key ("+s+") "+Nr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);QF(r,s),sb(e,a,r),JF(r)}),i&&o)throw new Error(e+' contains ".value" child '+Nr(r)+" in addition to actual children.")}};var ab=function(e,t,n,r){if(!(r&&n===void 0)&&!ob(n))throw new Error(jp(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Ej=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ab(e,t,n,r)};var Ij=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!ib(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!_j(n))throw new Error(jp(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var mm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function cb(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!Sm(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function lb(e,t,n){cb(e,n),ub(e,r=>Sm(r,t))}function Lr(e,t,n){cb(e,n),ub(e,r=>bt(r,t)||bt(t,r))}function ub(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(wj(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function wj(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();Or&&be("event: "+n.toString()),Fs(r)}}}var Cj="repo_interrupt",Dj=25,vm=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=au(),this.transactionQueueTree_=new Ps,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Tj(e,t,n){if(e.stats_=bm(e.repoInfo_),e.forceRestClient_||bF())e.server_=new Zg(e.repoInfo_,(r,i,o,s)=>{iT(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>oT(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ge(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Rm(e.repoInfo_,t,(r,i,o,s)=>{iT(e,r,i,o,s)},r=>{oT(e,r)},r=>{Sj(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=RF(e.repoInfo_,()=>new em(e.stats_,e.server_)),e.infoData_=new Qg,e.infoSyncTree_=new gu({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=wu(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Bm(e,"connected",!1),e.serverSyncTree_=new gu({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Lr(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function bj(e){let n=e.infoData_.getNode(new Q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function db(e){return lj({timestamp:bj(e)})}function iT(e,t,n,r,i){e.dataUpdateCount++;let o=new Q(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=ss(n,l=>Se(l));s=ij(e.serverSyncTree_,o,c,i)}else{let c=Se(n);s=rj(e.serverSyncTree_,o,c,i)}else if(r){let c=ss(n,l=>Se(l));s=ej(e.serverSyncTree_,o,c)}else{let c=Se(n);s=wu(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=$m(e,o)),Lr(e.eventQueue_,a,s)}function oT(e,t){Bm(e,"connected",t),t===!1&&Aj(e)}function Sj(e,t){Ue(t,(n,r)=>{Bm(e,n,r)})}function Bm(e,t,n){let r=new Q("/.info/"+t),i=Se(n);e.infoData_.updateSnapshot(r,i);let o=wu(e.infoSyncTree_,r,i);Lr(e.eventQueue_,r,o)}function Rj(e){return e.nextWriteId_++}function Aj(e){fb(e,"onDisconnectEvents");let t=db(e),n=au();Jg(e.onDisconnect_,W(),(i,o)=>{let s=fj(i,o,e.serverSyncTree_,t);FT(n,i,s)});let r=[];Jg(n,W(),(i,o)=>{r=r.concat(wu(e.serverSyncTree_,i,o));let s=kj(e,i);$m(e,s)}),e.onDisconnect_=au(),Lr(e.eventQueue_,W(),r)}function Nj(e,t,n){let r;F(t._path)===".info"?r=nT(e.infoSyncTree_,t,n):r=nT(e.serverSyncTree_,t,n),lb(e.eventQueue_,t._path,r)}function sT(e,t,n){let r;F(t._path)===".info"?r=fm(e.infoSyncTree_,t,n):r=fm(e.serverSyncTree_,t,n),lb(e.eventQueue_,t._path,r)}function Mj(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Cj)}function fb(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),be(n,...t)}function hb(e,t,n){return QT(e.serverSyncTree_,t,n)||M.EMPTY_NODE}function Hm(e,t=e.transactionQueueTree_){if(t||Tu(e,t),zi(t)){let n=gb(e,t);y(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Oj(e,Vs(t),n)}else nb(t)&&Du(t,n=>{Hm(e,n)})}function Oj(e,t,n){let r=n.map(l=>l.currentWriteId),i=hb(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=je(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{fb(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Pi(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Tu(e,Vm(e.transactionQueueTree_,t)),Hm(e,e.transactionQueueTree_),Lr(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)Fs(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ze("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}$m(e,t)}},s)}function $m(e,t){let n=pb(e,t),r=Vs(n),i=gb(e,n);return Pj(e,i,r),r}function Pj(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=je(n,c.path),u=!1,d;if(y(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Pi(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=Dj)u=!0,d="maxretry",i=i.concat(Pi(e.serverSyncTree_,c.currentWriteId,!0));else{let f=hb(e,c.path,s);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){sb("transaction failed: Data returned ",h,c.path);let p=Se(h);typeof h=="object"&&h!=null&&Bt(h,".priority")||(p=p.updatePriority(f.getPriority()));let E=c.currentWriteId,b=db(e),te=hj(p,f,b);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=te,c.currentWriteId=Rj(e),s.splice(s.indexOf(E),1),i=i.concat(X1(e.serverSyncTree_,c.path,te,c.currentWriteId,c.applyLocally)),i=i.concat(Pi(e.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat(Pi(e.serverSyncTree_,c.currentWriteId,!0))}Lr(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Tu(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Fs(r[a]);Hm(e,e.transactionQueueTree_)}function pb(e,t){let n,r=e.transactionQueueTree_;for(n=F(t);n!==null&&zi(r)===void 0;)r=Vm(r,n),t=X(t),n=F(t);return r}function gb(e,t){let n=[];return mb(e,t,n),n.sort((r,i)=>r.order-i.order),n}function mb(e,t,n){let r=zi(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Du(t,i=>{mb(e,i,n)})}function Tu(e,t){let n=zi(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,tb(t,n.length>0?n:void 0)}Du(t,r=>{Tu(e,r)})}function kj(e,t){let n=Vs(pb(e,t)),r=Vm(e.transactionQueueTree_,t);return gj(r,i=>{bg(e,i)}),bg(e,r),rb(r,i=>{bg(e,i)}),n}function bg(e,t){let n=zi(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(y(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(y(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Pi(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?tb(t,void 0):n.length=o+1,Lr(e.eventQueue_,Vs(t),i);for(let s=0;s<r.length;s++)Fs(r[s])}}function xj(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function Lj(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ze(`Invalid query segment '${n}' in query '${e}'`)}return t}var aT=function(e,t){let n=Fj(e),r=n.namespace;n.domain==="firebase.com"&&un(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vF();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Xl(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Q(n.pathString)}},Fj=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=xj(e.substring(u,d)));let f=Lj(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var vu=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ge(this.snapshot.exportVal())}},yu=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var ym=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var _m=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return j(this._path)?null:RT(this._path)}get ref(){return new fn(this._repo,this._path)}get _queryIdentifier(){let t=zD(this._queryParams),n=Tm(t);return n==="{}"?"default":n}get _queryObject(){return zD(this._queryParams)}isEqual(t){if(t=wt(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=Sm(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+ZF(this._path)}};var fn=class e extends _m{constructor(t,n){super(t,n,new Yg,!1)}get parent(){let t=NT(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},_u=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new Q(t),r=ks(this.ref,t);return new e(this._node.getChild(n),r,re)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,ks(this.ref,r),re)))}hasChild(t){let n=new Q(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function vb(e,t){return e=wt(e),e._checkNotDeleted("ref"),t!==void 0?ks(e._root,t):e._root}function ks(e,t){return e=wt(e),F(e._path)===null?Ej("child","path",t,!1):ab("child","path",t,!1),new fn(e._repo,me(e._path,t))}var Em=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new vu("value",this,new _u(t.snapshotNode,new fn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new yu(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Im=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new yu(this,t,n):null}createEvent(t,n){y(t.childName!=null,"Child events should have a childName.");let r=ks(new fn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new vu(t.type,this,new _u(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function jj(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{sT(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new ym(n,o||void 0),a=t==="value"?new Em(s):new Im(t,s);return Nj(e._repo,e,a),()=>sT(e._repo,e,a)}function yb(e,t,n,r){return jj(e,"value",t,n,r)}W1(fn);Z1(fn);var Uj="FIREBASE_DATABASE_EMULATOR_HOST",wm={},Vj=!1;function Bj(e,t,n,r){let i=t.lastIndexOf(":"),o=t.substring(0,i),s=_r(o);e.repoInfo_=new Xl(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function Hj(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),be("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=aT(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[Uj]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=aT(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Ts(Ts.OWNER):new Og(e.name,e.options,t);Ij("Invalid Firebase Database URL",s),j(s.path)||un("Database URL must point to the root of a Firebase Database (not including a child path).");let d=Wj(a,e,u,new Mg(e,n));return new Cm(d,e)}function $j(e,t){let n=wm[t];(!n||n[e.key]!==e)&&un(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Mj(e),delete n[e.key]}function Wj(e,t,n,r){let i=wm[t.name];i||(i={},wm[t.name]=i);let o=i[e.toURLString()];return o&&un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new vm(e,Vj,n,r),i[e.toURLString()]=o,o}var Cm=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Tj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fn(this._repo,W())),this._rootInternal}_delete(){return this._rootInternal!==null&&($j(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&un("Cannot call "+t+" on a deleted database.")}};function _b(e=Ri(),t){let n=Pl(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=TC("database");r&&Eb(n,...r)}return n}function Eb(e,t,n,r={}){e=wt(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Ir(r,o.repoInfo_.emulatorOptions))return;un("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ts(Ts.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:SC(r.mockUserToken,e.app.options.projectId);s=new Ts(a)}_r(t)&&(Lp(t),Fp("Database",!0)),Bj(o,i,r,s)}function zj(e){pF(Si),Ct(new Me("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return Hj(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),se(RD,AD,e),se(RD,AD,"esm2017")}Rm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Rm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};zj();var Fr=class{constructor(t){return t}},Ib="database",Wm=class{constructor(){return Ni(Ib)}};var zm=new I("angularfire2.database-instances");function Gj(e,t){let n=Ll(Ib,e,t);return n&&new Fr(n)}function qj(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new Fr(r)}}var Kj={provide:Wm,deps:[[new kt,zm]]},Yj={provide:Fr,useFactory:Gj,deps:[[new kt,zm],br]};function wb(e,...t){return se("angularfire",Dr.full,"rtdb"),Xe([Yj,Kj,{provide:zm,useFactory:qj(e),multi:!0,deps:[Y,he,Tr,fs,[new kt,Zl],[new kt,jl],...t]}])}var Cb=Pn(_b,!0);var Db=Pn(yb,!0);var Tb=Pn(vb,!0,2);var bu=class e{constructor(t,n){this.database=t;this.platformId=n}getTiles(){return wl(this.platformId)?new k(t=>{let n=Tb(this.database,"Boards"),r=Db(n,i=>{let o=i.val();if(o){console.log(o);let s=[];for(let a in o){let c=[];for(let l in o[a])if(o[a].hasOwnProperty(l)){let u=o[a][l];console.log(u),c.push(u)}s.push(c)}console.log(s),t.next(s)}else t.next([])},i=>{t.error(i)});return()=>{r()}}):S([])}static \u0275fac=function(n){return new(n||e)(R(Fr),R(st))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};function Jj(e,t){if(e&1){let n=Kh();oe(0,"button",13),Ii("click",function(){let i=Qa(n).$implicit,o=ll(2);return Ja(o.onTileClick(i))}),oe(1,"p",14),_t(2),pe(),Lt(3,"img",15),oe(4,"div",16)(5,"div",17),_t(6,"///////////////////// "),pe()()()}if(e&2){let n=t.$implicit;dl("completed",n.completed),Ye(2),qo(n.title),Ye(),mr("src",n.src,zc)("alt",n.alt||""),Ye(2),ul("width",n.itemsObtained/n.itemsRequired*100,"%"),ol("aria-valuenow",n.itemsObtained)("aria-valuemax",n.itemsRequired)}}function Xj(e,t){if(e&1&&(oe(0,"div",7),al(1,Jj,7,9,"button",12,sl),pe()),e&2){let n=t.$implicit;Ye(),cl(n)}}function eU(e,t){if(e&1&&(oe(0,"div",18),_t(1),pe(),oe(2,"div"),Lt(3,"img",19),pe(),oe(4,"div",20),_t(5),pe()),e&2){let n=ll();Ye(),qo(n.selectedTile.description),Ye(2),mr("src",n.selectedTile.bossSrc,zc)("alt",n.selectedTile.alt||""),Ye(2),fl("",n.selectedTile.itemsObtained," / ",n.selectedTile.itemsRequired," Obtained")}}function tU(e,t){e&1&&(oe(0,"p"),_t(1,"Click on a tile!"),pe())}var bb=(n=>(n[n.TeamDumb=0]="TeamDumb",n[n.TeamWon=1]="TeamWon",n))(bb||{}),Su=class e{constructor(t,n){this.databaseService=t;this.platformId=n}teamEnum=bb;currentTeam=0;selectedTile=null;tiles=[{id:1,title:"Draconic Visage",src:"../../assets/draconic-visage.png",bossSrc:"../../assets/King_Black_Dragon.png",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:1},{id:2,title:"Any Scroll",src:"../../assets/dex-scroll.png",bossSrc:"../../assets/kbd.png",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1},{id:3,title:"Any torva piece",src:"../../assets/torva-helm.png",bossSrc:"../../assets/kbd.png",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:1},{id:4,title:"Any megarare",src:"../../assets/twisted-bow.png",bossSrc:"../../assets/kbd.png",alt:"Twisted Bow",description:"Obtain any megarare drop from any raid",itemsRequired:1,itemsObtained:1},{id:5,title:"5 Venator Shards",src:"../../assets/venator-shard.webp",bossSrc:"../../assets/kbd.png",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:1}];tiles2=[];board=[];ngOnInit(){wl(this.platformId)&&this.loadTilesFromFirebase()}loadTilesFromFirebase(){this.databaseService.getTiles().subscribe({next:t=>{t&&t.length>0&&this.generateBoard(t[this.currentTeam])},error:t=>{console.error("Error loading tiles:",t)}})}generateBoard(t){for(let n=0;n<5;n++){this.board[n]=[];for(let r=0;r<5;r++){let i=r%t.length;this.board[n][r]=q(_({},t[i]),{id:n*5+r+1})}}}onTileClick(t){this.selectedTile=t}completeTile(t){t.completed=!0}switchTeam(t){console.log("team dumbass picked: "+t),this.currentTeam=t,this.loadTilesFromFirebase()}static \u0275fac=function(n){return new(n||e)(Rn(bu),Rn(st))};static \u0275cmp=pr({type:e,selectors:[["app-cabbingo-board"]],decls:21,vars:3,consts:[[1,"page-wrap"],[1,"banner"],[1,"content"],[1,"row","teams"],[1,"button","btn","col-md-5",3,"click","ngClass"],[1,"row","board"],[1,"tiles","column","col-auto"],[1,"row","tile-row"],[1,"infoArea","col-auto"],[1,"infobox","d-flex","flex-column","justify-content-between","align-items-center"],[1,"infobox"],[1,"button"],[1,"btn","tile",3,"completed"],[1,"btn","tile",3,"click"],[1,"tile-text"],[1,"tile-image",3,"src","alt"],[1,"progress",2,"height","10px","margin-top","80px","z-index","100"],["role","progressbar","aria-valuemin","0",1,"progress-bar","bg-success"],[1,"mt-5"],[1,"bossImage",3,"src","alt"],[1,"mt-2"]],template:function(n,r){n&1&&(oe(0,"div",0),Lt(1,"div",1),oe(2,"div",2)(3,"div",3)(4,"button",4),Ii("click",function(){return r.switchTeam(r.teamEnum.TeamDumb)}),_t(5,"Team 1"),pe(),oe(6,"button",4),Ii("click",function(){return r.switchTeam(r.teamEnum.TeamWon)}),_t(7,"Team 2"),pe()(),oe(8,"div",5)(9,"div",6),al(10,Xj,3,0,"div",7,sl),pe(),oe(12,"div",8)(13,"div",9),zh(14,eU,6,5)(15,tU,2,0,"p"),pe(),oe(16,"div",10)(17,"p"),_t(18,"Da Rulez"),pe()(),oe(19,"div",11),_t(20,"Complete Tile"),pe()()()()()),n&2&&(Ye(4),mr("ngClass",r.currentTeam===r.teamEnum.TeamDumb?"btn btn-outline-success":""),Ye(2),mr("ngClass",r.currentTeam===r.teamEnum.TeamWon?"btn btn-outline-success":""),Ye(4),cl(r.board),Ye(4),qh(r.selectedTile?14:15))},dependencies:[pp],styles:['@font-face{font-family:Runescape;src:url("./media/RuneScape-Plain-12-T6CWJQYQ.otf") format("opentype")}@font-face{font-family:Runescape-Bold;font-weight:700;src:url("./media/RuneScape-Bold-12-YYN5KYKT.otf") format("opentype")}@font-face{font-family:Runescape-Quill;src:url("./media/RuneScape-Quill-2XBT7J23.otf") format("opentype")}.page-wrap[_ngcontent-%COMP%]{background:url(https://www.runescape.com/img/rsp777/bg2.jpg) repeat-y center top;margin:0 auto;overflow-y:hidden;padding:0 50px 75px;width:1198px;background-size:contain}body[_ngcontent-%COMP%]{background:#000;color:#fff;font-family:Runescape-Bold;text-shadow:black 2px 2px;font-size:16px;margin:0;overflow:auto}.banner[_ngcontent-%COMP%]{background:url("./media/Untitled_Artwork2-W5ERYSIZ.png") no-repeat center;background-size:contain;display:block;height:190px;margin-top:10px;margin-bottom:10px;min-height:135px;text-align:center}.content[_ngcontent-%COMP%]{background:url("./media/backdrop-body-ZTXHLITM.png") repeat-y top center;padding:30px 63px;position:relative}.content[_ngcontent-%COMP%]:before, .content[_ngcontent-%COMP%]:after{background:url("./media/Backdrop-top2-7H6ZDQMZ.png") no-repeat center top;content:"";height:20px;left:0;position:absolute;top:-10px;width:100%}.content[_ngcontent-%COMP%]:after{background:url("./media/Backdrop-bottom2-GJQ7TAIB.png") no-repeat center bottom;bottom:-10px;top:auto}.button[_ngcontent-%COMP%]{background:url("./media/button-UB2HKL6L.png") no-repeat top center;position:relative;width:243px;height:54px;font-family:Runescape-Bold;font-size:27px;align-content:center;text-align:center}.teams[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-evenly}.board[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;margin-top:30px}.tile-text[_ngcontent-%COMP%]{color:#f93;position:absolute;font-size:16px;height:16px}.bossImage[_ngcontent-%COMP%]{width:125px;height:100px;flex-direction:column;flex-wrap:nowrap;justify-content:top;display:flex;align-content:center;align-items:center;text-align:center}.tile[_ngcontent-%COMP%]{width:125px;height:100px;flex-direction:column;flex-wrap:nowrap;justify-content:top;display:flex;align-content:center;align-items:center;text-align:center;background:url("./media/tile-background-IBII6VZD.png") no-repeat top center}.tile-image[_ngcontent-%COMP%], .tile-image-1-item[_ngcontent-%COMP%], .tile-image-2-items1[_ngcontent-%COMP%], .tile-image-2-items2[_ngcontent-%COMP%], .tile-image-3-items1[_ngcontent-%COMP%], .tile-image-3-items2[_ngcontent-%COMP%], .tile-image-3-items3[_ngcontent-%COMP%], .tile-image-4-items1[_ngcontent-%COMP%], .tile-image-4-items2[_ngcontent-%COMP%], .tile-image-4-items3[_ngcontent-%COMP%], .tile-image-4-items4[_ngcontent-%COMP%], .tile-image-5-items1[_ngcontent-%COMP%], .tile-image-5-items2[_ngcontent-%COMP%], .tile-image-5-items3[_ngcontent-%COMP%], .tile-image-5-items4[_ngcontent-%COMP%], .tile-image-5-items5[_ngcontent-%COMP%]{margin-top:25px;position:absolute;height:60px;object-fit:contain;filter:drop-shadow(6px 6px 2mm rgb(0,0,0))}.tile-image-2-items1[_ngcontent-%COMP%]{margin-left:-28px;z-index:2}.tile-image-2-items2[_ngcontent-%COMP%]{margin-left:28px;z-index:1}.tile-image-3-items1[_ngcontent-%COMP%]{margin-left:-70px;z-index:3}.tile-image-3-items2[_ngcontent-%COMP%]{margin-left:0;z-index:2}.tile-image-3-items3[_ngcontent-%COMP%]{margin-left:70px;z-index:1}.tile-image-4-items1[_ngcontent-%COMP%]{margin-left:-62.5px;z-index:4}.tile-image-4-items2[_ngcontent-%COMP%]{margin-left:-31.25px;z-index:3}.tile-image-4-items3[_ngcontent-%COMP%]{margin-left:31.25px;z-index:2}.tile-image-4-items4[_ngcontent-%COMP%]{margin-left:62.5px;z-index:1}.tile-image-5-items1[_ngcontent-%COMP%]{margin-left:-50px;z-index:5}.tile-image-5-items2[_ngcontent-%COMP%]{margin-left:-25px;z-index:4}.tile-image-5-items3[_ngcontent-%COMP%]{margin-left:0;z-index:3}.tile-image-5-items4[_ngcontent-%COMP%]{margin-left:25px;z-index:2}.tile-image-5-items5[_ngcontent-%COMP%]{margin-left:50px;z-index:1}.tile-row[_ngcontent-%COMP%]{justify-content:space-evenly;padding-top:6px;padding-bottom:6px}.tiles[_ngcontent-%COMP%]{top:5px;background:url("./media/tiles-body-ZO7QZILF.png") repeat-y top center;width:705px;padding-top:10px;padding-bottom:10px;position:relative;align-items:center;align-content:center;flex-direction:column;justify-content:space-evenly}.tiles[_ngcontent-%COMP%]:before, .tiles[_ngcontent-%COMP%]:after{background:url("./media/tiles-top-GY2TIOWF.png") no-repeat center top;content:"";height:5px;left:0;position:absolute;top:-5px;width:100%}.tiles[_ngcontent-%COMP%]:after{background:url("./media/tiles-bottom-I2MDT7H2.png") no-repeat center bottom;bottom:-5px;top:auto}.infoArea[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:center;display:flex}.infobox[_ngcontent-%COMP%]{width:250px;height:240px;align-content:center;text-align:center;background:url("./media/infobox-4RB4BBKH.png") no-repeat top center;background-size:contain;margin-bottom:20px}.btn[_ngcontent-%COMP%]{--bs-btn-color: var(white) !important;color:#fff!important}.btn[_ngcontent-%COMP%]:hover{color:#198754!important}']})};var Ru=class e{title=ar("cabbingov2");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=pr({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&(oe(0,"main"),Lt(1,"app-cabbingo-board"),pe())},dependencies:[Su],encapsulation:2})};var O="primary",Xs=Symbol("RouteTitle"),Zm=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qi(e){return new Zm(e)}function nU(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function rU(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!zt(e[n],t[n]))return!1;return!0}function zt(e,t){let n=e?Qm(e):void 0,r=t?Qm(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!kb(e[i],t[i]))return!1;return!0}function Qm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function kb(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function xb(e){return e.length>0?e[e.length-1]:null}function gn(e){return _d(e)?e:zo(e)?ae(Promise.resolve(e)):S(e)}var iU={exact:Fb,subset:jb},Lb={exact:oU,subset:sU,ignored:()=>!0};function Sb(e,t,n){return iU[n.paths](e.root,t.root,n.matrixParams)&&Lb[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function oU(e,t){return zt(e,t)}function Fb(e,t,n){if(!Ur(e.segments,t.segments)||!Mu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Fb(e.children[r],t.children[r],n))return!1;return!0}function sU(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>kb(e[n],t[n]))}function jb(e,t,n){return Ub(e,t,t.segments,n)}function Ub(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Ur(i,n)||t.hasChildren()||!Mu(i,n,r))}else if(e.segments.length===n.length){if(!Ur(e.segments,n)||!Mu(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!jb(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Ur(e.segments,i)||!Mu(e.segments,i,r)||!e.children[O]?!1:Ub(e.children[O],t,o,r)}}function Mu(e,t,n){return t.every((r,i)=>Lb[n](e[i].parameters,r.parameters))}var pn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new G([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qi(this.queryParams),this._queryParamMap}toString(){return lU.serialize(this)}},G=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ou(this)}},jr=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Qi(this.parameters),this._parameterMap}toString(){return Bb(this)}};function aU(e,t){return Ur(e,t)&&e.every((n,r)=>zt(n.parameters,t[r].parameters))}function Ur(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function cU(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===O&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==O&&(n=n.concat(t(i,r)))}),n}var Wu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>new Ji,providedIn:"root"})}return e})(),Ji=class{parse(t){let n=new Xm(t);return new pn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Bs(t.root,!0)}`,r=fU(t.queryParams),i=typeof t.fragment=="string"?`#${uU(t.fragment)}`:"";return`${n}${r}${i}`}},lU=new Ji;function Ou(e){return e.segments.map(t=>Bb(t)).join("/")}function Bs(e,t){if(!e.hasChildren())return Ou(e);if(t){let n=e.children[O]?Bs(e.children[O],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==O&&r.push(`${i}:${Bs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=cU(e,(r,i)=>i===O?[Bs(e.children[O],!1)]:[`${i}:${Bs(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[O]!=null?`${Ou(e)}/${n[0]}`:`${Ou(e)}/(${n.join("//")})`}}function Vb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Au(e){return Vb(e).replace(/%3B/gi,";")}function uU(e){return encodeURI(e)}function Jm(e){return Vb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pu(e){return decodeURIComponent(e)}function Rb(e){return Pu(e.replace(/\+/g,"%20"))}function Bb(e){return`${Jm(e.path)}${dU(e.parameters)}`}function dU(e){return Object.entries(e).map(([t,n])=>`;${Jm(t)}=${Jm(n)}`).join("")}function fU(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Au(n)}=${Au(i)}`).join("&"):`${Au(n)}=${Au(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var hU=/^[^\/()?;#]+/;function Gm(e){let t=e.match(hU);return t?t[0]:""}var pU=/^[^\/()?;=#]+/;function gU(e){let t=e.match(pU);return t?t[0]:""}var mU=/^[^=?&#]+/;function vU(e){let t=e.match(mU);return t?t[0]:""}var yU=/^[^&#]+/;function _U(e){let t=e.match(yU);return t?t[0]:""}var Xm=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new G([],{}):new G([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[O]=new G(t,n)),r}parseSegment(){let t=Gm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(t),new jr(Pu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=gU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Gm(this.remaining);i&&(r=i,this.capture(r))}t[Pu(n)]=Pu(r)}parseQueryParam(t){let n=vU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=_U(this.remaining);s&&(r=s,this.capture(r))}let i=Rb(n),o=Rb(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new w(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=O);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[O]:new G([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new w(4011,!1)}};function Hb(e){return e.segments.length>0?new G([],{[O]:e}):e}function $b(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=$b(i);if(r===O&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new G(e.segments,t);return EU(n)}function EU(e){if(e.numberOfChildren===1&&e.children[O]){let t=e.children[O];return new G(e.segments.concat(t.segments),t.children)}return e}function Xi(e){return e instanceof pn}function IU(e,t,n=null,r=null){let i=Wb(e);return zb(i,t,n,r)}function Wb(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new G(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=Hb(r);return t??i}function zb(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return qm(i,i,i,n,r);let o=wU(t);if(o.toRoot())return qm(i,i,new G([],{}),n,r);let s=CU(o,i,e),a=s.processChildren?$s(s.segmentGroup,s.index,o.commands):qb(s.segmentGroup,s.index,o.commands);return qm(i,s.segmentGroup,a,n,r)}function ku(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Gs(e){return typeof e=="object"&&e!=null&&e.outlets}function qm(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=Gb(e,t,n);let a=Hb($b(s));return new pn(a,o,i)}function Gb(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Gb(o,t,n)}),new G(e.segments,r)}var xu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ku(r[0]))throw new w(4003,!1);let i=r.find(Gs);if(i&&i!==xb(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wU(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new xu(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new xu(n,t,r)}var Ki=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function CU(e,t,n){if(e.isAbsolute)return new Ki(t,!0,0);if(!n)return new Ki(t,!1,NaN);if(n.parent===null)return new Ki(n,!0,0);let r=ku(e.commands[0])?0:1,i=n.segments.length-1+r;return DU(n,i,e.numberOfDoubleDots)}function DU(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new Ki(r,!1,i-o)}function TU(e){return Gs(e[0])?e[0].outlets:{[O]:e}}function qb(e,t,n){if(e??=new G([],{}),e.segments.length===0&&e.hasChildren())return $s(e,t,n);let r=bU(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new G(e.segments.slice(0,r.pathIndex),{});return o.children[O]=new G(e.segments.slice(r.pathIndex),e.children),$s(o,0,i)}else return r.match&&i.length===0?new G(e.segments,{}):r.match&&!e.hasChildren()?ev(e,t,n):r.match?$s(e,0,i):ev(e,t,n)}function $s(e,t,n){if(n.length===0)return new G(e.segments,{});{let r=TU(n),i={};if(Object.keys(r).some(o=>o!==O)&&e.children[O]&&e.numberOfChildren===1&&e.children[O].segments.length===0){let o=$s(e.children[O],t,n);return new G(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qb(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new G(e.segments,i)}}function bU(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(Gs(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Nb(c,l,s))return o;r+=2}else{if(!Nb(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ev(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(Gs(o)){let c=SU(o.outlets);return new G(r,c)}if(i===0&&ku(n[0])){let c=e.segments[t];r.push(new jr(c.path,Ab(n[0]))),i++;continue}let s=Gs(o)?o.outlets[O]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ku(a)?(r.push(new jr(s,Ab(a))),i+=2):(r.push(new jr(s,{})),i++)}return new G(r,{})}function SU(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=ev(new G([],{}),0,r))}),t}function Ab(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Nb(e,t,n){return e==n.path&&zt(t,n.parameters)}var Ws="imperative",De=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(De||{}),lt=class{id;url;constructor(t,n){this.id=t,this.url=n}},eo=class extends lt{type=De.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Un=class extends lt{urlAfterRedirects;type=De.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Be=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Be||{}),Lu=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Lu||{}),hn=class extends lt{reason;code;type=De.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Vn=class extends lt{reason;code;type=De.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},qs=class extends lt{error;target;type=De.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fu=class extends lt{urlAfterRedirects;state;type=De.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tv=class extends lt{urlAfterRedirects;state;type=De.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nv=class extends lt{urlAfterRedirects;state;shouldActivate;type=De.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},rv=class extends lt{urlAfterRedirects;state;type=De.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iv=class extends lt{urlAfterRedirects;state;type=De.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ov=class{route;type=De.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sv=class{route;type=De.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},av=class{snapshot;type=De.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cv=class{snapshot;type=De.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lv=class{snapshot;type=De.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uv=class{snapshot;type=De.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ks=class{},to=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function RU(e){return!(e instanceof Ks)&&!(e instanceof to)}function AU(e,t){return e.providers&&!e._injector&&(e._injector=_i(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Rt(e){return e.outlet||O}function NU(e,t){let n=e.filter(r=>Rt(r)===t);return n.push(...e.filter(r=>Rt(r)!==t)),n}function ro(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var dv=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ro(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ea(this.rootInjector)}},ea=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new dv(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(R(ce))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ju=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=fv(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=fv(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=hv(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return hv(t,this._root).map(n=>n.value)}};function fv(e,t){if(e===t.value)return t;for(let n of t.children){let r=fv(e,n);if(r)return r}return null}function hv(e,t){if(e===t.value)return[t];for(let n of t.children){let r=hv(e,n);if(r.length)return r.unshift(t),r}return[]}var Qe=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function qi(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Uu=class extends ju{snapshot;constructor(t,n){super(t),this.snapshot=n,wv(this,t)}toString(){return this.snapshot.toString()}};function Kb(e){let t=MU(e),n=new Ce([new jr("",{})]),r=new Ce({}),i=new Ce({}),o=new Ce({}),s=new Ce(""),a=new Vr(n,r,o,s,i,O,e,t.root);return a.snapshot=t.root,new Uu(new Qe(a,[]),t)}function MU(e){let t={},n={},r={},i="",o=new Yi([],t,r,i,n,O,e,null,{});return new Bu("",new Qe(o,[]))}var Vr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(B(l=>l[Xs]))??S(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(t=>Qi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(t=>Qi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vu(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:_(_({},t.params),e.params),data:_(_({},t.data),e.data),resolve:_(_(_(_({},e.data),t.data),i?.data),e._resolvedData)}:r={params:_({},e.params),data:_({},e.data),resolve:_(_({},e.data),e._resolvedData??{})},i&&Zb(i)&&(r.resolve[Xs]=i.title),r}var Yi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Xs]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Bu=class extends ju{url;constructor(t,n){super(n),this.url=t,wv(this,n)}toString(){return Yb(this._root)}};function wv(e,t){t.value._routerState=e,t.children.forEach(n=>wv(e,n))}function Yb(e){let t=e.children.length>0?` { ${e.children.map(Yb).join(", ")} } `:"";return`${e.value}${t}`}function Km(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,zt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),zt(t.params,n.params)||e.paramsSubject.next(n.params),rU(t.url,n.url)||e.urlSubject.next(n.url),zt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function pv(e,t){let n=zt(e.params,t.params)&&aU(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||pv(e.parent,t.parent))}function Zb(e){return typeof e.title=="string"||e.title===null}var OU=new I(""),Qb=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=O;activateEvents=new Ne;deactivateEvents=new Ne;attachEvents=new Ne;detachEvents=new Ne;routerOutletData=Hw(void 0);parentContexts=g(ea);location=g(Bo);changeDetector=g(up);inputBinder=g(zu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new gv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ho({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Pc]})}return e})(),gv=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Vr?this.route:t===ea?this.childContexts:t===OU?this.outletData:this.parent.get(t,n)}},zu=new I("");var Jb=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=pr({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Lt(0,"router-outlet")},dependencies:[Qb],encapsulation:2})}return e})();function Cv(e){let t=e.children&&e.children.map(Cv),n=t?q(_({},e),{children:t}):_({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==O&&(n.component=Jb),n}function PU(e,t,n){let r=Ys(e,t._root,n?n._root:void 0);return new Uu(r,t)}function Ys(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=kU(e,t,n);return new Qe(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ys(e,a)),s}}let r=xU(t.value),i=t.children.map(o=>Ys(e,o));return new Qe(r,i)}}function kU(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ys(e,r,i);return Ys(e,r)})}function xU(e){return new Vr(new Ce(e.url),new Ce(e.params),new Ce(e.queryParams),new Ce(e.fragment),new Ce(e.data),e.outlet,e.component,e)}var Zs=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Xb="ngNavigationCancelingError";function Hu(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Xi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=eS(!1,Be.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function eS(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Xb]=!0,n.cancellationCode=t,n}function LU(e){return tS(e)&&Xi(e.url)}function tS(e){return!!e&&e[Xb]}var FU=(e,t,n,r)=>B(i=>(new mv(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),mv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Km(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=qi(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=qi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=qi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=qi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new uv(o.value.snapshot))}),t.children.length&&this.forwardEvent(new cv(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Km(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Km(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},$u=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Zi=class{component;route;constructor(t,n){this.component=t,this.route=n}};function jU(e,t,n){let r=e._root,i=t?t._root:null;return Hs(r,i,n,[r.value])}function UU(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function io(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!jd(e)?e:t.get(e):r}function Hs(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=qi(t);return e.children.forEach(s=>{VU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>zs(a,n.getContext(s),i)),i}function VU(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=BU(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new $u(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Hs(e,t,a?a.children:null,r,i):Hs(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zi(a.outlet.component,s))}else s&&zs(t,a,i),i.canActivateChecks.push(new $u(r)),o.component?Hs(e,null,a?a.children:null,r,i):Hs(e,null,n,r,i);return i}function BU(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Ur(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ur(e.url,t.url)||!zt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pv(e,t)||!zt(e.queryParams,t.queryParams);case"paramsChange":default:return!pv(e,t)}}function zs(e,t,n){let r=qi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?zs(s,t.children.getContext(o),n):zs(s,null,n):zs(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Zi(t.outlet.component,i)):n.canDeactivateChecks.push(new Zi(null,i)):n.canDeactivateChecks.push(new Zi(null,i))}function ta(e){return typeof e=="function"}function HU(e){return typeof e=="boolean"}function $U(e){return e&&ta(e.canLoad)}function WU(e){return e&&ta(e.canActivate)}function zU(e){return e&&ta(e.canActivateChild)}function GU(e){return e&&ta(e.canDeactivate)}function qU(e){return e&&ta(e.canMatch)}function nS(e){return e instanceof qt||e?.name==="EmptyError"}var Nu=Symbol("INITIAL_VALUE");function no(){return ke(e=>Ma(e.map(t=>t.pipe(Kt(1),wd(Nu)))).pipe(B(t=>{for(let n of t)if(n!==!0){if(n===Nu)return Nu;if(n===!1||KU(n))return n}return!0}),Je(t=>t!==Nu),Kt(1)))}function KU(e){return Xi(e)||e instanceof Zs}function YU(e,t){return fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?S(q(_({},n),{guardsResult:!0})):ZU(s,r,i,e).pipe(fe(a=>a&&HU(a)?QU(r,o,e,t):S(a)),B(a=>q(_({},n),{guardsResult:a})))})}function ZU(e,t,n,r){return ae(e).pipe(fe(i=>nV(i.component,i.route,n,t,r)),Yt(i=>i!==!0,!0))}function QU(e,t,n,r){return ae(t).pipe(ti(i=>ei(XU(i.route.parent,r),JU(i.route,r),tV(e,i.path,n),eV(e,i.route,n))),Yt(i=>i!==!0,!0))}function JU(e,t){return e!==null&&t&&t(new lv(e)),S(!0)}function XU(e,t){return e!==null&&t&&t(new av(e)),S(!0)}function eV(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return S(!0);let i=r.map(o=>co(()=>{let s=ro(t)??n,a=io(o,s),c=WU(a)?a.canActivate(t,e):ue(s,()=>a(t,e));return gn(c).pipe(Yt())}));return S(i).pipe(no())}function tV(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>UU(s)).filter(s=>s!==null).map(s=>co(()=>{let a=s.guards.map(c=>{let l=ro(s.node)??n,u=io(c,l),d=zU(u)?u.canActivateChild(r,e):ue(l,()=>u(r,e));return gn(d).pipe(Yt())});return S(a).pipe(no())}));return S(o).pipe(no())}function nV(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return S(!0);let s=o.map(a=>{let c=ro(t)??i,l=io(a,c),u=GU(l)?l.canDeactivate(e,t,n,r):ue(c,()=>l(e,t,n,r));return gn(u).pipe(Yt())});return S(s).pipe(no())}function rV(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return S(!0);let o=i.map(s=>{let a=io(s,e),c=$U(a)?a.canLoad(t,n):ue(e,()=>a(t,n));return gn(c)});return S(o).pipe(no(),rS(r))}function rS(e){return dd(_e(t=>{if(typeof t!="boolean")throw Hu(e,t)}),B(t=>t===!0))}function iV(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return S(!0);let o=i.map(s=>{let a=io(s,e),c=qU(a)?a.canMatch(t,n):ue(e,()=>a(t,n));return gn(c)});return S(o).pipe(no(),rS(r))}var Qs=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Js=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Gi(e){return Xr(new Qs(e))}function oV(e){return Xr(new w(4e3,!1))}function sV(e){return Xr(eS(!1,Be.GuardRejected))}var vv=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return S(r);if(i.numberOfChildren>1||!i.children[O])return oV(`${t.redirectTo}`);i=i.children[O]}}applyRedirectCommands(t,n,r,i,o){return aV(n,i,o).pipe(B(s=>{if(s instanceof pn)throw new Js(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Js(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new pn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new G(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function aV(e,t,n){if(typeof e=="string")return S(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return gn(ue(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var yv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cV(e,t,n,r,i){let o=iS(e,t,n);return o.matched?(r=AU(t,r),iV(r,t,n,i).pipe(B(s=>s===!0?o:_({},yv)))):S(o)}function iS(e,t,n){if(t.path==="**")return lV(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?_({},yv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||nU)(n,e,t);if(!i)return _({},yv);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?_(_({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function lV(e){return{matched:!0,parameters:e.length>0?xb(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Mb(e,t,n,r){return n.length>0&&fV(e,n,r)?{segmentGroup:new G(t,dV(r,new G(n,e.children))),slicedSegments:[]}:n.length===0&&hV(e,n,r)?{segmentGroup:new G(e.segments,uV(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new G(e.segments,e.children),slicedSegments:n}}function uV(e,t,n,r){let i={};for(let o of n)if(Gu(e,t,o)&&!r[Rt(o)]){let s=new G([],{});i[Rt(o)]=s}return _(_({},r),i)}function dV(e,t){let n={};n[O]=t;for(let r of e)if(r.path===""&&Rt(r)!==O){let i=new G([],{});n[Rt(r)]=i}return n}function fV(e,t,n){return n.some(r=>Gu(e,t,r)&&Rt(r)!==O)}function hV(e,t,n){return n.some(r=>Gu(e,t,r))}function Gu(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function pV(e,t,n){return t.length===0&&!e.children[n]}var _v=class{};function gV(e,t,n,r,i,o,s="emptyOnly"){return new Ev(e,t,n,r,i,s,o).recognize()}var mV=31,Ev=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new vv(this.urlSerializer,this.urlTree)}noMatchError(t){return new w(4002,`'${t.segmentGroup}'`)}recognize(){let t=Mb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(B(({children:n,rootSnapshot:r})=>{let i=new Qe(r,n),o=new Bu("",i),s=IU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Yi([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),O,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,O,n).pipe(B(r=>({children:r,rootSnapshot:n})),_n(r=>{if(r instanceof Js)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Qs?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(B(s=>s instanceof Qe?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ae(o).pipe(ti(s=>{let a=r.children[s],c=NU(n,s);return this.processSegmentGroup(t,c,a,s,i)}),Id((s,a)=>(s.push(...a),s)),En(null),Ed(),fe(s=>{if(s===null)return Gi(r);let a=oS(s);return vV(a),S(a)}))}processSegment(t,n,r,i,o,s,a){return ae(n).pipe(ti(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(_n(l=>{if(l instanceof Qs)return S(null);throw l}))),Yt(c=>!!c),_n(c=>{if(nS(c))return pV(r,i,o)?S(new _v):Gi(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return Rt(r)!==s&&(s===O||!Gu(i,o,r))?Gi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):Gi(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=iS(n,i,o);if(!c)return Gi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mV&&(this.allowRedirects=!1));let h=new Yi(o,l,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Ob(i),Rt(i),i.component??i._loadedComponent??null,i,Pb(i)),p=Vu(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(p.params),h.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t).pipe(ke(E=>this.applyRedirects.lineralizeSegments(i,E)),fe(E=>this.processSegment(t,r,n,E.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=cV(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(ke(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(ke(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new Yi(f,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Ob(r),Rt(r),r.component??r._loadedComponent??null,r,Pb(r)),v=Vu(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(v.params),p.data=Object.freeze(v.data);let{segmentGroup:E,slicedSegments:b}=Mb(n,f,h,l);if(b.length===0&&E.hasChildren())return this.processChildren(u,l,E,p).pipe(B(ve=>new Qe(p,ve)));if(l.length===0&&b.length===0)return S(new Qe(p,[]));let te=Rt(r)===o;return this.processSegment(u,l,E,b,te?O:o,!0,p).pipe(B(ve=>new Qe(p,ve instanceof Qe?[ve]:[])))}))):Gi(n)))}getChildConfig(t,n,r){return n.children?S({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?S({routes:n._loadedRoutes,injector:n._loadedInjector}):rV(t,n,r,this.urlSerializer).pipe(fe(i=>i?this.configLoader.loadChildren(t,n).pipe(_e(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):sV(n))):S({routes:[],injector:t})}};function vV(e){e.sort((t,n)=>t.value.outlet===O?-1:n.value.outlet===O?1:t.value.outlet.localeCompare(n.value.outlet))}function yV(e){let t=e.value.routeConfig;return t&&t.path===""}function oS(e){let t=[],n=new Set;for(let r of e){if(!yV(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=oS(r.children);t.push(new Qe(r.value,i))}return t.filter(r=>!n.has(r))}function Ob(e){return e.data||{}}function Pb(e){return e.resolve||{}}function _V(e,t,n,r,i,o){return fe(s=>gV(e,t,n,r,s.extractedUrl,i,o).pipe(B(({state:a,tree:c})=>q(_({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function EV(e,t){return fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return S(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of sS(c))s.add(l);let a=0;return ae(s).pipe(ti(c=>o.has(c)?IV(c,r,e,t):(c.data=Vu(c,c.parent,e).resolve,S(void 0))),_e(()=>a++),ni(1),fe(c=>a===s.size?S(n):Oe))})}function sS(e){let t=e.children.map(n=>sS(n)).flat();return[e,...t]}function IV(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Zb(i)&&(o[Xs]=i.title),co(()=>(e.data=Vu(e,e.parent,n).resolve,wV(o,e,t,r).pipe(B(s=>(e._resolvedData=s,e.data=_(_({},e.data),s),null)))))}function wV(e,t,n,r){let i=Qm(e);if(i.length===0)return S({});let o={};return ae(i).pipe(fe(s=>CV(e[s],t,n,r).pipe(Yt(),_e(a=>{if(a instanceof Zs)throw Hu(new Ji,a);o[s]=a}))),ni(1),B(()=>o),_n(s=>nS(s)?Oe:Xr(s)))}function CV(e,t,n,r){let i=ro(t)??r,o=io(e,i),s=o.resolve?o.resolve(t,n):ue(i,()=>o(t,n));return gn(s)}function Ym(e){return ke(t=>{let n=e(t);return n?ae(n).pipe(B(()=>t)):S(t)})}var aS=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===O);return r}getResolvedTitleForRoute(n){return n.data[Xs]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>g(DV),providedIn:"root"})}return e})(),DV=(()=>{class e extends aS{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(R(fC))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qu=new I("",{providedIn:"root",factory:()=>({})}),Ku=new I(""),cS=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(Zh);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return S(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=gn(ue(n,()=>r.loadComponent())).pipe(B(lS),ke(uS),_e(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),lo(()=>{this.componentLoaders.delete(r)})),o=new Yr(i,()=>new we).pipe(Kr());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return S({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=TV(r,this.compiler,n,this.onLoadEndListener).pipe(lo(()=>{this.childrenLoaders.delete(r)})),s=new Yr(o,()=>new we).pipe(Kr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function TV(e,t,n,r){return gn(ue(n,()=>e.loadChildren())).pipe(B(lS),ke(uS),fe(i=>i instanceof nl||Array.isArray(i)?S(i):ae(t.compileModuleAsync(i))),B(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ku,[],{optional:!0,self:!0}).flat()),{routes:s.map(Cv),injector:o}}))}function bV(e){return e&&typeof e=="object"&&"default"in e}function lS(e){return bV(e)?e.default:e}function uS(e){return S(e)}var Dv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>g(SV),providedIn:"root"})}return e})(),SV=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dS=new I("");var fS=new I(""),hS=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new we;transitionAbortWithErrorSubject=new we;configLoader=g(cS);environmentInjector=g(ce);destroyRef=g(rn);urlSerializer=g(Wu);rootContexts=g(ea);location=g(Ci);inputBindingEnabled=g(zu,{optional:!0})!==null;titleStrategy=g(aS);options=g(qu,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(Dv);createViewTransition=g(dS,{optional:!0});navigationErrorHandler=g(fS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>S(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ov(i)),r=i=>this.events.next(new sv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(q(_({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new Ce(null),this.transitions.pipe(Je(r=>r!==null),ke(r=>{let i=!1;return S(r).pipe(ke(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Be.SupersededByNewNavigation),Oe;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?q(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new Vn(o.id,this.urlSerializer.serialize(o.rawUrl),c,Lu.IgnoredSameUrlNavigation)),o.resolve(!1),Oe}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return S(o).pipe(ke(c=>(this.events.next(new eo(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Oe:Promise.resolve(c))),_V(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),_e(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=q(_({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new Fu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:f}=o,h=new eo(c,this.urlSerializer.serialize(l),u,d);this.events.next(h);let p=Kb(this.rootComponentType).snapshot;return this.currentTransition=r=q(_({},o),{targetSnapshot:p,urlAfterRedirects:l,extras:q(_({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,S(r)}else{let c="";return this.events.next(new Vn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Lu.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Oe}}),_e(o=>{let s=new tv(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),B(o=>(this.currentTransition=r=q(_({},o),{guards:jU(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),YU(this.environmentInjector,o=>this.events.next(o)),_e(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Hu(this.urlSerializer,o.guardsResult);let s=new nv(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Je(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Be.GuardRejected),!1)),Ym(o=>{if(o.guards.canActivateChecks.length!==0)return S(o).pipe(_e(s=>{let a=new rv(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ke(s=>{let a=!1;return S(s).pipe(EV(this.paramsInheritanceStrategy,this.environmentInjector),_e({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Be.NoDataFromResolver)}}))}),_e(s=>{let a=new iv(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Ym(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let l=ro(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(_e(u=>{a.component=u}),B(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Ma(s(o.targetSnapshot.root)).pipe(En(null),Kt(1))}),Ym(()=>this.afterPreactivation()),ke(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ae(a).pipe(B(()=>r)):S(r)}),B(o=>{let s=PU(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=q(_({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),_e(()=>{this.events.next(new Ks)}),FU(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Kt(1),Pa(new k(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Je(()=>!i&&!r.targetRouterState),_e(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Be.Aborted)}))),_e({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Un(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Pa(this.transitionAbortWithErrorSubject.pipe(_e(o=>{throw o}))),lo(()=>{i||this.cancelNavigationTransition(r,"",Be.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),_n(o=>{if(this.destroyed)return r.resolve(!1),Oe;if(i=!0,tS(o))this.events.next(new hn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),LU(o)?this.events.next(new to(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new qs(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=ue(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Zs){let{message:c,cancellationCode:l}=Hu(this.urlSerializer,a);this.events.next(new hn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new to(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Oe}))}))}cancelNavigationTransition(n,r,i){let o=new hn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RV(e){return e!==Ws}var AV=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>g(NV),providedIn:"root"})}return e})(),Iv=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},NV=(()=>{class e extends Iv{static \u0275fac=(()=>{let n;return function(i){return(n||(n=kc(e)))(i||e)}})();static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pS=(()=>{class e{urlSerializer=g(Wu);options=g(qu,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(Ci);urlHandlingStrategy=g(Dv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new pn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof pn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=Kb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>g(MV),providedIn:"root"})}return e})(),MV=(()=>{class e extends pS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof eo?this.updateStateMemento():n instanceof Vn?this.commitTransition(r):n instanceof Fu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ks?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof hn&&n.code!==Be.SupersededByNewNavigation&&n.code!==Be.Redirect?this.restoreHistory(r):n instanceof qs?this.restoreHistory(r,!0):n instanceof Un&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=_(_({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=_(_({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=kc(e)))(i||e)}})();static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gS(e,t){e.events.pipe(Je(n=>n instanceof Un||n instanceof hn||n instanceof qs||n instanceof Vn),B(n=>n instanceof Un||n instanceof Vn?0:(n instanceof hn?n.code===Be.Redirect||n.code===Be.SupersededByNewNavigation:!1)?2:1),Je(n=>n!==2),Kt(1)).subscribe(()=>{t()})}var OV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Tv=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(il);stateManager=g(pS);options=g(qu,{optional:!0})||{};pendingTasks=g(mt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(hS);urlSerializer=g(Wu);location=g(Ci);urlHandlingStrategy=g(Dv);injector=g(ce);_events=new we;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(AV);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(Ku,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(zu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ne;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof hn&&r.code!==Be.Redirect&&r.code!==Be.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Un)this.navigated=!0;else if(r instanceof to){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=_({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||RV(i.source)},s);this.scheduleNavigation(a,Ws,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}RU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ws,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=_({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(ot)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Cv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=Wb(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return zb(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Xi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ws,null,r)}navigate(n,r={skipLocationChange:!1}){return kV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=_({},OV):r===!1?i=_({},PV):i=r,Xi(n))return Sb(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Sb(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return gS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kV(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new w(4008,!1)}var xV=new I("");function bv(e,...t){return Xe([{provide:Ku,multi:!0,useValue:e},[],{provide:Vr,useFactory:LV,deps:[Tv]},{provide:An,multi:!0,useFactory:FV},t.map(n=>n.\u0275providers)])}function LV(e){return e.routerState.root}function FV(){let e=g(he);return t=>{let n=e.get(Fe);if(t!==n.components[0])return;let r=e.get(Tv),i=e.get(jV);e.get(UV)===1&&r.initialNavigation(),e.get(VV,null,{optional:!0})?.setUpPreloading(),e.get(xV,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var jV=new I("",{factory:()=>new we}),UV=new I("",{providedIn:"root",factory:()=>1});var VV=new I("");var mS=[];var vS={production:!0,firebaseConfig:{apiKey:"AIzaSyB2e36wu47-6DOc2_rAuHfiFTq9vm6GBD0",authDomain:"cabbingo-db.firebaseapp.com",databaseURL:"https://cabbingo-db-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cabbingo-db",storageBucket:"cabbingo-db.firebasestorage.app",messagingSenderId:"684304316440",appId:"1:684304316440:web:0660b0d72a68752cadeb6d"}};var yS={providers:[bv(mS),mC(gC(),pC()),XC(()=>eD(vS.firebaseConfig)),wb(()=>Cb())]};Tp(Ru,yS).catch(e=>console.error("Bootstrap error:",e));
