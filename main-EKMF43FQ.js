var IR=Object.defineProperty,CR=Object.defineProperties;var wR=Object.getOwnPropertyDescriptors;var Mc=Object.getOwnPropertySymbols;var P_=Object.prototype.hasOwnProperty,F_=Object.prototype.propertyIsEnumerable;var k_=(e,t,n)=>t in e?IR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||={})P_.call(t,n)&&k_(e,n,t[n]);if(Mc)for(var n of Mc(t))F_.call(t,n)&&k_(e,n,t[n]);return e},x=(e,t)=>CR(e,wR(t));var L_=(e,t)=>{var n={};for(var r in e)P_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Mc)for(var r of Mc(e))t.indexOf(r)<0&&F_.call(e,r)&&(n[r]=e[r]);return n};var m=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var Qf;function Oc(){return Qf}function sn(e){let t=Qf;return Qf=e,t}var V_=Symbol("NotFound");function $i(e){return e===V_||e?.name==="\u0275NotFound"}function Lc(e,t){return Object.is(e,t)}var Fe=null,xc=!1,Jf=1,bR=null,Le=Symbol("SIGNAL");function k(e){let t=Fe;return Fe=e,t}function Vc(){return Fe}var Or={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Wi(e){if(xc)throw new Error("");if(Fe===null)return;Fe.consumerOnSignalRead(e);let t=Fe.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Fe.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Fe.producers,n!==void 0&&n.producer===e)){Fe.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Fe&&(!r||TR(i,Fe)))return;let o=Gi(Fe),s={producer:e,consumer:Fe,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Fe.producersTail=s,t!==void 0?t.nextProducer=s:Fe.producers=s,o&&U_(e,s)}function j_(){Jf++}function jc(e){if(!(Gi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Jf)){if(!e.producerMustRecompute(e)&&!vs(e)){Fc(e);return}e.producerRecomputeValue(e),Fc(e)}}function Xf(e){if(e.consumers===void 0)return;let t=xc;xc=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||DR(r)}}finally{xc=t}}function eh(){return Fe?.consumerAllowSignalWrites!==!1}function DR(e){e.dirty=!0,Xf(e),e.consumerMarkedDirty?.(e)}function Fc(e){e.dirty=!1,e.lastCleanEpoch=Jf}function xr(e){return e&&(e.producersTail=void 0,e.recomputing=!0),k(e)}function zi(e,t){if(k(t),!e)return;e.recomputing=!1;let n=e.producersTail,r=n!==void 0?n.nextProducer:e.producers;if(r!==void 0){if(Gi(e))do r=th(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function vs(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(jc(n),r!==n.version))return!0}return!1}function ys(e){if(Gi(e)){let t=e.producers;for(;t!==void 0;)t=th(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function U_(e,t){let n=e.consumersTail,r=Gi(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)U_(i.producer,i)}function th(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!Gi(t)){let o=t.producers;for(;o!==void 0;)o=th(o)}return n}function Gi(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Uc(e){bR?.(e)}function TR(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Bc(e,t){let n=Object.create(SR);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(jc(n),Wi(n),n.value===ms)throw n.error;return n.value};return r[Le]=n,Uc(n),r}var kc=Symbol("UNSET"),Pc=Symbol("COMPUTING"),ms=Symbol("ERRORED"),SR=x(v({},Or),{value:kc,dirty:!0,error:null,equal:Lc,kind:"computed",producerMustRecompute(e){return e.value===kc||e.value===Pc},producerRecomputeValue(e){if(e.value===Pc)throw new Error("");let t=e.value;e.value=Pc;let n=xr(e),r,i=!1;try{r=e.computation(),k(null),i=t!==kc&&t!==ms&&r!==ms&&e.equal(t,r)}catch(o){r=ms,e.error=o}finally{zi(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function AR(){throw new Error}var B_=AR;function H_(e){B_(e)}function nh(e){B_=e}var RR=null;function rh(e,t){let n=Object.create(Hc);n.value=e,t!==void 0&&(n.equal=t);let r=()=>$_(n);return r[Le]=n,Uc(n),[r,s=>qi(n,s),s=>ih(n,s)]}function $_(e){return Wi(e),e.value}function qi(e,t){eh()||H_(e),e.equal(e.value,t)||(e.value=t,NR(e))}function ih(e,t){eh()||H_(e),qi(e,t(e.value))}var Hc=x(v({},Or),{equal:Lc,value:void 0,kind:"signal"});function NR(e){e.version++,j_(),Xf(e),RR?.(e)}function F(e){return typeof e=="function"}function Yi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var $c=Yi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function kr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ue=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){t=o instanceof $c?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{W_(o)}catch(s){t=t??[],s instanceof $c?t=[...t,...s.errors]:t.push(s)}}if(t)throw new $c(t)}}add(t){var n;if(t&&t!==this)if(this.closed)W_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&kr(n,t)}remove(t){let{_finalizers:n}=this;n&&kr(n,t),t instanceof e&&t._removeParent(this)}};ue.EMPTY=(()=>{let e=new ue;return e.closed=!0,e})();var oh=ue.EMPTY;function Wc(e){return e instanceof ue||e&&"closed"in e&&F(e.remove)&&F(e.add)&&F(e.unsubscribe)}function W_(e){F(e)?e():e.unsubscribe()}var xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ki={setTimeout(e,t,...n){let{delegate:r}=Ki;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Ki;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function zc(e){Ki.setTimeout(()=>{let{onUnhandledError:t}=xt;if(t)t(e);else throw e})}function _s(){}var z_=sh("C",void 0,void 0);function G_(e){return sh("E",void 0,e)}function q_(e){return sh("N",e,void 0)}function sh(e,t,n){return{kind:e,value:t,error:n}}var Pr=null;function Zi(e){if(xt.useDeprecatedSynchronousErrorHandling){let t=!Pr;if(t&&(Pr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Pr;if(Pr=null,n)throw r}}else e()}function Y_(e){xt.useDeprecatedSynchronousErrorHandling&&Pr&&(Pr.errorThrown=!0,Pr.error=e)}var Fr=class extends ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Wc(t)&&t.add(this)):this.destination=xR}static create(t,n,r){return new Qi(t,n,r)}next(t){this.isStopped?ch(q_(t),this):this._next(t)}error(t){this.isStopped?ch(G_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ch(z_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MR=Function.prototype.bind;function ah(e,t){return MR.call(e,t)}var lh=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Gc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Gc(r)}else Gc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Gc(n)}}},Qi=class extends Fr{constructor(t,n,r){super();let i;if(F(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&xt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ah(t.next,o),error:t.error&&ah(t.error,o),complete:t.complete&&ah(t.complete,o)}):i=t}this.destination=new lh(i)}};function Gc(e){xt.useDeprecatedSynchronousErrorHandling?Y_(e):zc(e)}function OR(e){throw e}function ch(e,t){let{onStoppedNotification:n}=xt;n&&Ki.setTimeout(()=>n(e,t))}var xR={closed:!0,next:_s,error:OR,complete:_s};var Ji=typeof Symbol=="function"&&Symbol.observable||"@@observable";function at(e){return e}function uh(...e){return dh(e)}function dh(e){return e.length===0?at:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var L=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=PR(n)?n:new Qi(n,r,i);return Zi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=K_(r),new r((i,o)=>{let s=new Qi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ji](){return this}pipe(...n){return dh(n)(this)}toPromise(n){return n=K_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function K_(e){var t;return(t=e??xt.Promise)!==null&&t!==void 0?t:Promise}function kR(e){return e&&F(e.next)&&F(e.error)&&F(e.complete)}function PR(e){return e&&e instanceof Fr||kR(e)&&Wc(e)}function fh(e){return F(e?.lift)}function q(e){return t=>{if(fh(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(e,t,n,r,i){return new hh(e,t,n,r,i)}var hh=class extends Fr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Xi(){return q((e,t)=>{let n=null;e._refCount++;let r=z(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var eo=class extends L{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fh(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ue;let n=this.getSubject();t.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ue.EMPTY)}return t}refCount(){return Xi()(this)}};var Z_=Yi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=(()=>{class e extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new qc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Z_}next(n){Zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?oh:(this.currentObservers=null,o.push(n),new ue(()=>{this.currentObservers=null,kr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new L;return n.source=this,n}}return e.create=(t,n)=>new qc(t,n),e})(),qc=class extends Ee{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:oh}};var ke=class extends Ee{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var ph={now(){return(ph.delegate||Date).now()},delegate:void 0};var Yc=class extends ue{constructor(t,n){super()}schedule(t,n=0){return this}};var Es={setInterval(e,t,...n){let{delegate:r}=Es;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Es;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var to=class extends Yc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Es.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Es.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,kr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var no=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};no.now=ph.now;var ro=class extends no{constructor(t,n=no.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var gh=new ro(to);var Kc=class extends to{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var Zc=class extends ro{};var mh=new Zc(Kc);var Ke=new L(e=>e.complete());function Q_(e){return e&&F(e.schedule)}function J_(e){return e[e.length-1]}function Qc(e){return F(J_(e))?e.pop():void 0}function nr(e){return Q_(J_(e))?e.pop():void 0}function vh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function eE(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function X_(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lr(e){return this instanceof Lr?(this.v=e,this):new Lr(e)}function tE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(y){return new Promise(function(w,T){o.push([h,y,w,T])>1||c(h,y)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(y){f(o[0][3],y)}}function l(h){h.value instanceof Lr?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function nE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof X_=="function"?X_(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Jc=e=>e&&typeof e.length=="number"&&typeof e!="function";function Xc(e){return F(e?.then)}function el(e){return F(e[Ji])}function tl(e){return Symbol.asyncIterator&&F(e?.[Symbol.asyncIterator])}function nl(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var rl=FR();function il(e){return F(e?.[rl])}function ol(e){return tE(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Lr(n.read());if(i)return yield Lr(void 0);yield yield Lr(r)}}finally{n.releaseLock()}})}function sl(e){return F(e?.getReader)}function Ie(e){if(e instanceof L)return e;if(e!=null){if(el(e))return LR(e);if(Jc(e))return VR(e);if(Xc(e))return jR(e);if(tl(e))return rE(e);if(il(e))return UR(e);if(sl(e))return BR(e)}throw nl(e)}function LR(e){return new L(t=>{let n=e[Ji]();if(F(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function VR(e){return new L(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function jR(e){return new L(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,zc)})}function UR(e){return new L(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function rE(e){return new L(t=>{HR(e,t).catch(n=>t.error(n))})}function BR(e){return rE(ol(e))}function HR(e,t){var n,r,i,o;return eE(this,void 0,void 0,function*(){try{for(n=nE(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ze(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function rr(e,t=0){return q((n,r)=>{n.subscribe(z(r,i=>Ze(r,e,()=>r.next(i),t),()=>Ze(r,e,()=>r.complete(),t),i=>Ze(r,e,()=>r.error(i),t)))})}function ir(e,t=0){return q((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function iE(e,t){return Ie(e).pipe(ir(t),rr(t))}function oE(e,t){return Ie(e).pipe(ir(t),rr(t))}function sE(e,t){return new L(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function aE(e,t){return new L(n=>{let r;return Ze(n,t,()=>{r=e[rl](),Ze(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function al(e,t){if(!e)throw new Error("Iterable cannot be null");return new L(n=>{Ze(n,t,()=>{let r=e[Symbol.asyncIterator]();Ze(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function cE(e,t){return al(ol(e),t)}function lE(e,t){if(e!=null){if(el(e))return iE(e,t);if(Jc(e))return sE(e,t);if(Xc(e))return oE(e,t);if(tl(e))return al(e,t);if(il(e))return aE(e,t);if(sl(e))return cE(e,t)}throw nl(e)}function ae(e,t){return t?lE(e,t):Ie(e)}function R(...e){let t=nr(e);return ae(e,t)}function io(e,t){let n=F(e)?e:()=>e,r=i=>i.error(n());return new L(t?i=>t.schedule(r,0,i):r)}function yh(e){return!!e&&(e instanceof L||F(e.lift)&&F(e.subscribe))}var On=Yi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function G(e,t){return q((n,r)=>{let i=0;n.subscribe(z(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:$R}=Array;function WR(e,t){return $R(t)?e(...t):e(t)}function cl(e){return G(t=>WR(e,t))}var{isArray:zR}=Array,{getPrototypeOf:GR,prototype:qR,keys:YR}=Object;function ll(e){if(e.length===1){let t=e[0];if(zR(t))return{args:t,keys:null};if(KR(t)){let n=YR(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function KR(e){return e&&typeof e=="object"&&GR(e)===qR}function ul(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Is(...e){let t=nr(e),n=Qc(e),{args:r,keys:i}=ll(e);if(r.length===0)return ae([],t);let o=new L(ZR(r,t,i?s=>ul(i,s):at));return n?o.pipe(cl(n)):o}function ZR(e,t,n=at){return r=>{uE(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)uE(t,()=>{let l=ae(e[c],t),u=!1;l.subscribe(z(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function uE(e,t,n){e?Ze(n,e,t):t()}function dE(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=y=>l<r?p(y):c.push(y),p=y=>{o&&t.next(y),l++;let w=!1;Ie(n(y,u++)).subscribe(z(t,T=>{i?.(T),o?h(T):t.next(T)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){let T=c.shift();s?Ze(t,s,()=>p(T)):p(T)}f()}catch(T){t.error(T)}}))};return e.subscribe(z(t,h,()=>{d=!0,f()})),()=>{a?.()}}function pe(e,t,n=1/0){return F(t)?pe((r,i)=>G((o,s)=>t(r,o,i,s))(Ie(e(r,i))),n):(typeof t=="number"&&(n=t),q((r,i)=>dE(r,i,e,n)))}function oo(e=1/0){return pe(at,e)}function fE(){return oo(1)}function so(...e){return fE()(ae(e,nr(e)))}function Cs(e){return new L(t=>{Ie(e()).subscribe(t)})}function _h(...e){let t=Qc(e),{args:n,keys:r}=ll(e),i=new L(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ie(n[u]).subscribe(z(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?ul(r,a):a),o.complete())}))}});return t?i.pipe(cl(t)):i}function Qe(e,t){return q((n,r)=>{let i=0;n.subscribe(z(r,o=>e.call(t,o,i++)&&r.next(o)))})}function xn(e){return q((t,n)=>{let r=null,i=!1,o;r=t.subscribe(z(n,void 0,void 0,s=>{o=Ie(e(s,xn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function hE(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(z(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function or(e,t){return F(t)?pe(e,t,1):pe(e,1)}function sr(e){return q((t,n)=>{let r=!1;t.subscribe(z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function kn(e){return e<=0?()=>Ke:q((t,n)=>{let r=0;t.subscribe(z(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function dl(e=QR){return q((t,n)=>{let r=!1;t.subscribe(z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function QR(){return new On}function ws(e){return q((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Pn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Qe((i,o)=>e(i,o,r)):at,kn(1),n?sr(t):dl(()=>new On))}function ao(e){return e<=0?()=>Ke:q((t,n)=>{let r=[];t.subscribe(z(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Eh(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Qe((i,o)=>e(i,o,r)):at,ao(1),n?sr(t):dl(()=>new On))}function Ih(e,t){return q(hE(e,t,arguments.length>=2,!0))}function Ch(...e){let t=nr(e);return q((n,r)=>{(t?so(e,n,t):so(e,n)).subscribe(r)})}function Ue(e,t){return q((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(z(r,c=>{i?.unsubscribe();let l=0,u=o++;Ie(e(c,u)).subscribe(i=z(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function fl(e){return q((t,n)=>{Ie(e).subscribe(z(n,()=>n.complete(),_s)),!n.closed&&t.subscribe(n)})}function Me(e,t,n){let r=F(e)||t||n?{next:e,error:t,complete:n}:e;return r?q((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(z(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):at}function pE(e){let t=k(null);try{return e()}finally{k(t)}}var vl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",b=class extends Error{code;constructor(t,n){super(jn(t,n)),this.code=t}};function JR(e){return`NG0${Math.abs(e)}`}function jn(e,t){return`${JR(e)}${t?": "+t:""}`}var lo=globalThis;function X(e){for(let t in e)if(e[t]===X)return t;throw Error("")}function vE(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ln(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Ln).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Ph(e,t){return e?t?`${e} ${t}`:e:t||""}var XR=X({__forward_ref__:X});function ut(e){return e.__forward_ref__=ut,e.toString=function(){return Ln(this())},e}function Pe(e){return Fh(e)?e():e}function Fh(e){return typeof e=="function"&&e.hasOwnProperty(XR)&&e.__forward_ref__===ut}function yE(e,t){e==null&&Lh(t,e,null,"!=")}function Lh(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pt(e){return{providers:e.providers||[],imports:e.imports||[]}}function As(e){return eN(e,yl)}function Vh(e){return As(e)!==null}function eN(e,t){return e.hasOwnProperty(t)&&e[t]||null}function tN(e){let t=e?.[yl]??null;return t||null}function bh(e){return e&&e.hasOwnProperty(pl)?e[pl]:null}var yl=X({\u0275prov:X}),pl=X({\u0275inj:X}),I=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jh(e){return e&&!!e.\u0275providers}var Uh=X({\u0275cmp:X}),Bh=X({\u0275dir:X}),Hh=X({\u0275pipe:X}),$h=X({\u0275mod:X}),Ts=X({\u0275fac:X}),$r=X({__NG_ELEMENT_ID__:X}),gE=X({__NG_ENV_ID__:X});function Wr(e){return typeof e=="string"?e:e==null?"":String(e)}function gl(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Wr(e)}var Wh=X({ngErrorCode:X}),_E=X({ngErrorMessage:X}),Ds=X({ngTokenPath:X});function zh(e,t){return EE("",-200,t)}function _l(e,t){throw new b(-201,!1)}function nN(e,t){e[Ds]??=[];let n=e[Ds],r;typeof t=="object"&&"multi"in t&&t?.multi===!0?(yE(t.provide,"Token with multi: true should have a provide property"),r=gl(t.provide)):r=gl(t),n[0]!==r&&e[Ds].unshift(r)}function rN(e,t){let n=e[Ds],r=e[Wh],i=e[_E]||e.message;return e.message=oN(i,r,n,t),e}function EE(e,t,n){let r=new b(t,e);return r[Wh]=t,r[_E]=e,n&&(r[Ds]=n),r}function iN(e){return e[Wh]}function oN(e,t,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return jn(t,`${e}${o}${i}`)}var Dh;function IE(){return Dh}function ct(e){let t=Dh;return Dh=e,t}function Gh(e,t,n){let r=As(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;_l(e,"Injector")}var sN={},Vr=sN,Th="__NG_DI_FLAG__",Sh=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=jr(n)||0;try{return this.injector.get(t,r&8?null:Vr,r)}catch(i){if($i(i))return i;throw i}}};function aN(e,t=0){let n=Oc();if(n===void 0)throw new b(-203,!1);if(n===null)return Gh(e,void 0,t);{let r=cN(t),i=n.retrieve(e,r);if($i(i)){if(r.optional)return null;throw i}return i}}function M(e,t=0){return(IE()||aN)(Pe(e),t)}function g(e,t){return M(e,jr(t))}function jr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function cN(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Ah(e){let t=[];for(let n=0;n<e.length;n++){let r=Pe(e[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=lN(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(M(i,o))}else t.push(M(r))}return t}function CE(e,t){return e[Th]=t,e.prototype[Th]=t,e}function lN(e){return e[Th]}function Ur(e,t){let n=e.hasOwnProperty(Ts);return n?e[Ts]:null}function El(e,t){e.forEach(n=>Array.isArray(n)?El(n,t):t(n))}function qh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Rs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function wE(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function bE(e,t,n){let r=uo(e,t);return r>=0?e[r|1]=n:(r=~r,wE(e,r,t,n)),r}function Il(e,t){let n=uo(e,t);if(n>=0)return e[n|1]}function uo(e,t){return uN(e,t,1)}function uN(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var cr={},lt=[],Ft=new I(""),Yh=new I("",-1),Kh=new I(""),Ss=class{get(t,n=Vr){if(n===Vr){let i=EE("",-201);throw i.name="\u0275NotFound",i}return n}};function Zh(e){return e[$h]||null}function an(e){return e[Uh]||null}function Cl(e){return e[Bh]||null}function Qh(e){return e[Hh]||null}function dt(e){return{\u0275providers:e}}function DE(...e){return{\u0275providers:wl(!0,e),\u0275fromNgModule:!0}}function wl(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return El(t,s=>{let a=s;ml(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&TE(i,o),n}function TE(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Jh(i,o=>{t(o,r)})}}function ml(e,t,n,r){if(e=Pe(e),!e)return!1;let i=null,o=bh(e),s=!o&&an(e);if(!o&&!s){let c=e.ngModule;if(o=bh(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ml(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{El(o.imports,u=>{ml(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&TE(l,t)}if(!a){let l=Ur(i)||(()=>new i);t({provide:i,useFactory:l,deps:lt},i),t({provide:Kh,useValue:i,multi:!0},i),t({provide:Ft,useValue:()=>M(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Jh(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Jh(e,t){for(let n of e)jh(n)&&(n=n.\u0275providers),Array.isArray(n)?Jh(n,t):t(n)}var dN=X({provide:String,useValue:X});function SE(e){return e!==null&&typeof e=="object"&&dN in e}function fN(e){return!!(e&&e.useExisting)}function hN(e){return!!(e&&e.useFactory)}function Br(e){return typeof e=="function"}function AE(e){return!!e.useClass}var Ns=new I(""),hl={},mE={},wh;function Ms(){return wh===void 0&&(wh=new Ss),wh}var de=class{},Hr=class extends de{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Nh(t,s=>this.processProvider(s)),this.records.set(Yh,co(void 0,this)),i.has("environment")&&this.records.set(de,co(void 0,this));let o=this.records.get(Ns);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Kh,lt,{self:!0}))}retrieve(t,n){let r=jr(n)||0;try{return this.get(t,Vr,r)}catch(i){if($i(i))return i;throw i}}destroy(){bs(this),this._destroyed=!0;let t=k(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),k(t)}}onDestroy(t){return bs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){bs(this);let n=sn(this),r=ct(void 0),i;try{return t()}finally{sn(n),ct(r)}}get(t,n=Vr,r){if(bs(this),t.hasOwnProperty(gE))return t[gE](this);let i=jr(r),o,s=sn(this),a=ct(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=yN(t)&&As(t);u&&this.injectableDefInScope(u)?l=co(Rh(t),hl):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?Ms():this.parent;return n=i&8&&n===Vr?null:n,c.get(t,n)}catch(c){let l=iN(c);throw l===-200||l===-201?new b(l,null):c}finally{ct(a),sn(s)}}resolveInjectorInitializers(){let t=k(null),n=sn(this),r=ct(void 0),i;try{let o=this.get(Ft,lt,{self:!0});for(let s of o)s()}finally{sn(n),ct(r),k(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Ln(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Pe(t);let n=Br(t)?t:Pe(t&&t.provide),r=gN(t);if(!Br(t)&&t.multi===!0){let i=this.records.get(n);i||(i=co(void 0,hl,!0),i.factory=()=>Ah(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=k(null);try{if(n.value===mE)throw zh(Ln(t));return n.value===hl&&(n.value=mE,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&vN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{k(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Pe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Rh(e){let t=As(e),n=t!==null?t.factory:Ur(e);if(n!==null)return n;if(e instanceof I)throw new b(204,!1);if(e instanceof Function)return pN(e);throw new b(204,!1)}function pN(e){if(e.length>0)throw new b(204,!1);let n=tN(e);return n!==null?()=>n.factory(e):()=>new e}function gN(e){if(SE(e))return co(void 0,e.useValue);{let t=Xh(e);return co(t,hl)}}function Xh(e,t,n){let r;if(Br(e)){let i=Pe(e);return Ur(i)||Rh(i)}else if(SE(e))r=()=>Pe(e.useValue);else if(hN(e))r=()=>e.useFactory(...Ah(e.deps||[]));else if(fN(e))r=(i,o)=>M(Pe(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Pe(e&&(e.useClass||e.provide));if(mN(e))r=()=>new i(...Ah(e.deps));else return Ur(i)||Rh(i)}return r}function bs(e){if(e.destroyed)throw new b(205,!1)}function co(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function mN(e){return!!e.deps}function vN(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function yN(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Nh(e,t){for(let n of e)Array.isArray(n)?Nh(n,t):n&&jh(n)?Nh(n.\u0275providers,t):t(n)}function ge(e,t){let n;e instanceof Hr?(bs(e),n=e):n=new Sh(e);let r,i=sn(n),o=ct(void 0);try{return t()}finally{sn(i),ct(o)}}function RE(){return IE()!==void 0||Oc()!=null}var Be=0,S=1,P=2,Ce=3,bt=4,Dt=5,Je=6,fo=7,me=8,Lt=9,cn=10,te=11,ho=12,ep=13,zr=14,He=15,Gr=16,qr=17,Yr=18,Os=19,tp=20,Fn=21,bl=22,xs=23,ft=24,Kr=25,se=26,NE=1,Vt=6,ln=7,ks=8,Ps=9,Oe=10;function ht(e){return Array.isArray(e)&&typeof e[NE]=="object"}function pt(e){return Array.isArray(e)&&e[NE]===!0}function np(e){return(e.flags&4)!==0}function Un(e){return e.componentOffset>-1}function Dl(e){return(e.flags&1)===1}function un(e){return!!e.template}function Zr(e){return(e[P]&512)!==0}function lr(e){return(e[P]&256)===256}var ME="svg",OE="math";function gt(e){for(;Array.isArray(e);)e=e[Be];return e}function rp(e,t){return gt(t[e])}function Tt(e,t){return gt(t[e.index])}function Qr(e,t){return e.data[t]}function St(e,t){let n=t[e];return ht(n)?n:n[Be]}function Tl(e){return(e[P]&128)===128}function xE(e){return pt(e[Ce])}function ur(e,t){return t==null?null:e[t]}function ip(e){e[qr]=0}function op(e){e[P]&1024||(e[P]|=1024,Tl(e)&&po(e))}function kE(e,t){for(;e>0;)t=t[zr],e--;return t}function Fs(e){return!!(e[P]&9216||e[ft]?.dirty)}function Sl(e){e[cn].changeDetectionScheduler?.notify(8),e[P]&64&&(e[P]|=1024),Fs(e)&&po(e)}function po(e){e[cn].changeDetectionScheduler?.notify(0);let t=ar(e);for(;t!==null&&!(t[P]&8192||(t[P]|=8192,!Tl(t)));)t=ar(t)}function sp(e,t){if(lr(e))throw new b(911,!1);e[Fn]===null&&(e[Fn]=[]),e[Fn].push(t)}function PE(e,t){if(e[Fn]===null)return;let n=e[Fn].indexOf(t);n!==-1&&e[Fn].splice(n,1)}function ar(e){let t=e[Ce];return pt(t)?t[Ce]:t}function FE(e){return e[fo]??=[]}function LE(e){return e.cleanup??=[]}var B={lFrame:eI(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ls=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(Ls||{}),_N=0,Mh=!1;function VE(){return B.lFrame.elementDepthCount}function jE(){B.lFrame.elementDepthCount++}function UE(){B.lFrame.elementDepthCount--}function BE(){return B.bindingsEnabled}function ap(){return B.skipHydrationRootTNode!==null}function HE(e){return B.skipHydrationRootTNode===e}function $E(e){B.skipHydrationRootTNode=e}function WE(){B.skipHydrationRootTNode=null}function Y(){return B.lFrame.lView}function $e(){return B.lFrame.tView}function jt(e){return B.lFrame.contextLView=e,e[me]}function Ut(e){return B.lFrame.contextLView=null,e}function We(){let e=cp();for(;e!==null&&e.type===64;)e=e.parent;return e}function cp(){return B.lFrame.currentTNode}function zE(){let e=B.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function go(e,t){let n=B.lFrame;n.currentTNode=e,n.isParent=t}function lp(){return B.lFrame.isParent}function GE(){B.lFrame.isParent=!1}function up(e){Lh("Must never be called in production mode"),_N=e}function dp(){return Mh}function fp(e){let t=Mh;return Mh=e,t}function hp(){let e=B.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function qE(){return B.lFrame.bindingIndex}function YE(e){return B.lFrame.bindingIndex=e}function Jr(){return B.lFrame.bindingIndex++}function pp(e){let t=B.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function KE(){return B.lFrame.inI18n}function ZE(e,t){let n=B.lFrame;n.bindingIndex=n.bindingRootIndex=e,Al(t)}function QE(){return B.lFrame.currentDirectiveIndex}function Al(e){B.lFrame.currentDirectiveIndex=e}function JE(e){let t=B.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function gp(e){B.lFrame.currentQueryIndex=e}function EN(e){let t=e[S];return t.type===2?t.declTNode:t.type===1?e[Dt]:null}function mp(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=EN(o),i===null||(o=o[zr],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=B.lFrame=XE();return r.currentTNode=t,r.lView=e,!0}function Rl(e){let t=XE(),n=e[S];B.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function XE(){let e=B.lFrame,t=e===null?null:e.child;return t===null?eI(e):t}function eI(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function tI(){let e=B.lFrame;return B.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var vp=tI;function Nl(){let e=tI();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function nI(e){return(B.lFrame.contextLView=kE(e,B.lFrame.contextLView))[me]}function Bn(){return B.lFrame.selectedIndex}function dr(e){B.lFrame.selectedIndex=e}function Ml(){let e=B.lFrame;return Qr(e.tView,e.selectedIndex)}function yp(){return B.lFrame.currentNamespace}var rI=!0;function Ol(){return rI}function Hn(e){rI=e}function Oh(e,t=null,n=null,r){let i=_p(e,t,n,r);return i.resolveInjectorInitializers(),i}function _p(e,t=null,n=null,r,i=new Set){let o=[n||lt,DE(e)];return r=r||(typeof e=="object"?void 0:Ln(e)),new Hr(o,t||Ms(),r||null,i)}var fe=class e{static THROW_IF_NOT_FOUND=Vr;static NULL=new Ss;static create(t,n){if(Array.isArray(t))return Oh({name:""},n,t,"");{let r=t.name??"";return Oh({name:r},t.parent,t.providers,r)}}static \u0275prov=D({token:e,providedIn:"any",factory:()=>M(Yh)});static __NG_ELEMENT_ID__=-1},ve=new I(""),Bt=(()=>{class e{static __NG_ELEMENT_ID__=IN;static __NG_ENV_ID__=n=>n}return e})(),xh=class extends Bt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return lr(this._lView)}onDestroy(t){let n=this._lView;return sp(n,t),()=>PE(n,t)}};function IN(){return new xh(Y())}var kt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},mt=new I("",{providedIn:"root",factory:()=>{let e=g(de),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(kt),t.handleError(n))}}}),iI={provide:Ft,useValue:()=>void g(kt),multi:!0};function Ep(e){return typeof e=="function"&&e[Le]!==void 0}function vt(e,t){let[n,r,i]=rh(e,t?.equal),o=n,s=o[Le];return o.set=r,o.update=i,o.asReadonly=oI.bind(o),o}function oI(){let e=this[Le];if(e.readonlyFn===void 0){let t=()=>this();t[Le]=e,e.readonlyFn=t}return e.readonlyFn}function Ip(e){return Ep(e)&&typeof e.set=="function"}var Vn=class{},Vs=new I("",{providedIn:"root",factory:()=>!1});var Cp=new I(""),wp=new I("");var xl=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=CN}return e})();function CN(){return new xl(Y(),We())}var Ht=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ke(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new L(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),fr=(()=>{class e{internalPendingTasks=g(Ht);scheduler=g(Vn);errorHandler=g(mt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})();function js(...e){}var bp=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new kh})}return e})(),kh=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var kl={JSACTION:"jsaction"};function bo(e){return{toString:e}.toString()}var Pl="__parameters__";function MN(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function ON(e,t,n){return bo(()=>{let r=MN(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Pl)?c[Pl]:Object.defineProperty(c,Pl,{value:[]})[Pl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var fn=CE(ON("Optional"),8);function xN(e){return typeof e=="function"}var $l=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function qI(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Gn=(()=>{let e=()=>YI;return e.ngInherit=!0,e})();function YI(e){return e.type.prototype.ngOnChanges&&(e.setInput=PN),kN}function kN(){let e=ZI(this),t=e?.current;if(t){let n=e.previous;if(n===cr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function PN(e,t,n,r,i){let o=this.declaredInputs[r],s=ZI(e)||FN(e,{previous:cr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new $l(l&&l.currentValue,n,c===cr),qI(e,t,i,n)}var KI="__ngSimpleChanges__";function ZI(e){return e[KI]||null}function FN(e,t){return e[KI]=t}var sI=[];var Z=function(e,t=null,n){for(let r=0;r<sI.length;r++){let i=sI[r];i(e,t,n)}};function LN(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=YI(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function VN(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Vl(e,t,n){QI(e,t,3,n)}function jl(e,t,n,r){(e[P]&3)===n&&QI(e,t,n,r)}function Dp(e,t){let n=e[P];(n&3)===t&&(n&=16383,n+=1,e[P]=n)}function QI(e,t,n,r){let i=r!==void 0?e[qr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[qr]+=65536),(a<o||o==-1)&&(jN(e,n,t,c),e[qr]=(e[qr]&4294901760)+c+2),c++}function aI(e,t){Z(4,e,t);let n=k(null);try{t.call(e)}finally{k(n),Z(5,e,t)}}function jN(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[P]>>14<e[qr]>>16&&(e[P]&3)===t&&(e[P]+=16384,aI(a,o)):aI(a,o)}var vo=-1,ti=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function UN(e){return(e.flags&8)!==0}function BN(e){return(e.flags&16)!==0}function HN(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];$N(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function JI(e){return e===3||e===4||e===6}function $N(e){return e.charCodeAt(0)===64}function Hs(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?cI(e,n,i,null,t[++r]):cI(e,n,i,null,null))}}return e}function cI(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function XI(e){return e!==vo}function Wl(e){return e&32767}function WN(e){return e>>16}function zl(e,t){let n=WN(e),r=t;for(;n>0;)r=r[zr],n--;return r}var jp=!0;function lI(e){let t=jp;return jp=e,t}var zN=256,eC=zN-1,tC=5,GN=0,dn={};function qN(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty($r)&&(r=n[$r]),r==null&&(r=n[$r]=GN++);let i=r&eC,o=1<<i;t.data[e+(i>>tC)]|=o}function Gl(e,t){let n=nC(e,t);if(n!==-1)return n;let r=t[S];r.firstCreatePass&&(e.injectorIndex=t.length,Tp(r.data,e),Tp(t,null),Tp(r.blueprint,null));let i=ug(e,t),o=e.injectorIndex;if(XI(i)){let s=Wl(i),a=zl(i,t),c=a[S].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Tp(e,t){e.push(0,0,0,0,0,0,0,0,t)}function nC(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function ug(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=aC(i),r===null)return vo;if(n++,i=i[zr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vo}function Up(e,t,n){qN(e,t,n)}function YN(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(JI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function rC(e,t,n){if(n&8||e!==void 0)return e;_l(t,"NodeInjector")}function iC(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[Lt],o=ct(void 0);try{return i?i.get(t,r,n&8):Gh(t,r,n&8)}finally{ct(o)}}return rC(r,t,n)}function oC(e,t,n,r=0,i){if(e!==null){if(t[P]&2048&&!(r&2)){let s=XN(e,t,n,r,dn);if(s!==dn)return s}let o=sC(e,t,n,r,dn);if(o!==dn)return o}return iC(t,n,r,i)}function sC(e,t,n,r,i){let o=QN(n);if(typeof o=="function"){if(!mp(t,e,r))return r&1?rC(i,n,r):iC(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))_l(n);else return s}finally{vp()}}else if(typeof o=="number"){let s=null,a=nC(e,t),c=vo,l=r&1?t[He][Dt]:null;for((a===-1||r&4)&&(c=a===-1?ug(e,t):t[a+8],c===vo||!dI(r,!1)?a=-1:(s=t[S],a=Wl(c),t=zl(c,t)));a!==-1;){let u=t[S];if(uI(o,a,u.data)){let d=KN(a,t,n,s,r,l);if(d!==dn)return d}c=t[a+8],c!==vo&&dI(r,t[S].data[a+8]===l)&&uI(o,a,t)?(s=u,a=Wl(c),t=zl(c,t)):a=-1}}return i}function KN(e,t,n,r,i,o){let s=t[S],a=s.data[e+8],c=r==null?Un(a)&&jp:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=ZN(a,s,n,c,l);return u!==null?ql(t,s,u,a,i):dn}function ZN(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&un(h)&&h.type===n)return c}return null}function ql(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof ti){let a=o;if(a.resolving){let h=gl(s[n]);throw zh(h)}let c=lI(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?ct(a.injectImpl):null,f=mp(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&LN(n,s[n],t)}finally{d!==null&&ct(d),lI(c),a.resolving=!1,vp()}}return o}function QN(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty($r)?e[$r]:void 0;return typeof t=="number"?t>=0?t&eC:JN:t}function uI(e,t,n){let r=1<<e;return!!(n[t+(e>>tC)]&r)}function dI(e,t){return!(e&2)&&!(e&1&&t)}var ei=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return oC(this._tNode,this._lView,t,jr(r),n)}};function JN(){return new ei(We(),Y())}function Wt(e){return bo(()=>{let t=e.prototype.constructor,n=t[Ts]||Bp(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Ts]||Bp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Bp(e){return Fh(e)?()=>{let t=Bp(Pe(e));return t&&t()}:Ur(e)}function XN(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[P]&2048&&!Zr(s);){let a=sC(o,s,n,r|2,dn);if(a!==dn)return a;let c=o.parent;if(!c){let l=s[tp];if(l){let u=l.get(n,dn,r);if(u!==dn)return u}c=aC(s),s=s[zr]}o=c}return i}function aC(e){let t=e[S],n=t.type;return n===2?t.declTNode:n===1?e[Dt]:null}function Ys(e){return YN(We(),e)}function eM(){return dg(We(),Y())}function dg(e,t){return new At(Tt(e,t))}var At=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=eM}return e})();var cC="ngSkipHydration",tM="ngskiphydration";function lC(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===tM)return!0}return!1}function uC(e){return e.hasAttribute(cC)}function Yl(e){return(e.flags&128)===128}function dC(e){if(Yl(e))return!0;let t=e.parent;for(;t;){if(Yl(e)||lC(t))return!0;t=t.parent}return!1}var fg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(fg||{}),fC=new Map,nM=0;function rM(){return nM++}function iM(e){fC.set(e[Os],e)}function Hp(e){fC.delete(e[Os])}var fI="__ngContext__";function Eo(e,t){ht(t)?(e[fI]=t[Os],iM(t)):e[fI]=t}function hC(e){return gC(e[ho])}function pC(e){return gC(e[bt])}function gC(e){for(;e!==null&&!pt(e);)e=e[bt];return e}var $p;function hg(e){$p=e}function Ks(){if($p!==void 0)return $p;if(typeof document<"u")return document;throw new b(210,!1)}var hn=new I("",{providedIn:"root",factory:()=>oM}),oM="ng",du=new I(""),Xe=new I("",{providedIn:"platform",factory:()=>"unknown"});var fu=new I("",{providedIn:"root",factory:()=>Ks().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function sM(){let e=new si;return e.store=mC(Ks(),g(hn)),e}var si=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:sM});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function mC(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var vC="h",yC="b",aM="f",cM="n",_C="e",EC="t",hu="c",pg="x",$s="r",IC="i",CC="n",gg="d";var wC="di",bC="s",DC="p";var Zs=new I(""),TC=!1,mg=new I("",{providedIn:"root",factory:()=>TC});var vg=new I(""),SC=!1,AC=new I(""),yg=new I("",{providedIn:"root",factory:()=>new Map});var Qs="ngb";var RC=(e,t,n)=>{let r=e,i=r.__jsaction_fns??new Map,o=i.get(t)??[];o.push(n),i.set(t,o),r.__jsaction_fns=i},NC=(e,t)=>{let n=e,r=n.getAttribute(Qs)??"",i=t.get(r)??new Set;i.has(n)||i.add(n),t.set(r,i)};var MC=e=>{e.removeAttribute(kl.JSACTION),e.removeAttribute(Qs),e.__jsaction_fns=void 0},OC=new I("",{providedIn:"root",factory:()=>({})});function _g(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var Wp=new Map;function xC(e,t){return Wp.set(e,t),()=>Wp.delete(e)}var hI=!1,kC=(e,t,n,r)=>{};function lM(e,t,n,r){kC(e,t,n,r)}function PC(){hI||(kC=(e,t,n,r)=>{let i=e[Lt].get(hn);Wp.get(i)?.(t,n,r)},hI=!0)}var pu=new I("");function gu(e){return(e.flags&32)===32}var uM="__nghData__",Eg=uM,dM="__nghDeferData__",FC=dM;var Ul="ngh",LC="nghm",VC=()=>null;function fM(e,t,n=!1){let r=e.getAttribute(Ul);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=t.get(si,null,{optional:!0});u!==null&&(c=u.get(Eg,[])[Number(r)])}let l={data:c,firstChild:e.firstChild??null};return n&&(l.firstChild=e,mu(l,0,e.nextSibling)),a?e.setAttribute(Ul,a):e.removeAttribute(Ul),l}function jC(){VC=fM}function UC(e,t,n=!1){return VC(e,t,n)}function BC(e){let t=e._lView;return t[S].type===2?null:(Zr(t)&&(t=t[se]),t)}function hM(e){return e.textContent?.replace(/\s/gm,"")}function pM(e){let t=Ks(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=hM(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function mu(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function zp(e,t){return e.segmentHeads?.[t]??null}function HC(e){return e.get(AC,!1,{optional:!0})}function gM(e,t){let n=e.data,r=n[_C]?.[t]??null;return r===null&&n[hu]?.[t]&&(r=Ig(e,t)),r}function $C(e,t){return e.data[hu]?.[t]??null}function Ig(e,t){let n=$C(e,t)??[],r=0;for(let i of n)r+=i[$s]*(i[pg]??1);return r}function mM(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[gg];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function WC(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[gg];e.disconnectedNodes=n?new Set(n):null}return!!mM(e)?.has(t)}function vu(e,t){let n=e[Je];return n!==null&&!ap()&&!gu(t)&&!WC(n,t.index-se)}function vM(e,t){let n=t.get(pu),i=t.get(si).get(FC,{}),o=!1,s=e,a=null,c=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}c.unshift(s),s=i[s][DC]}return{parentBlockPromise:a,hydrationQueue:c}}function Sp(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===LC}function pI(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function zC(e){for(let r of e.body.childNodes)if(Sp(r))return;let t=pI(e.body.previousSibling);if(Sp(t))return;let n=pI(e.head.lastChild);if(!Sp(n))throw new b(-507,!1)}function GC(e,t){let n=e.contentQueries;if(n!==null){let r=k(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];gp(o),a.contentQueries(2,t[s],s)}}}finally{k(r)}}}function Gp(e,t,n){gp(0);let r=k(null);try{t(e,n)}finally{k(r)}}function qC(e,t,n){if(np(t)){let r=k(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{k(r)}}}var $n=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}($n||{});var Fl;function yM(){if(Fl===void 0&&(Fl=null,lo.trustedTypes))try{Fl=lo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Fl}function gI(e){return yM()?.createScriptURL(e)||e}var Kl=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vl})`}};function Do(e){return e instanceof Kl?e.changingThisBreaksApplicationSecurity:e}function yu(e,t){let n=YC(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${vl})`)}return n===t}function YC(e){return e instanceof Kl&&e.getTypeName()||null}var _M=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Cg(e){return e=String(e),e.match(_M)?e:"unsafe:"+e}var Js=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Js||{});function hr(e){let t=ZC();return t?t.sanitize(Js.URL,e)||"":yu(e,"URL")?Do(e):Cg(Wr(e))}function KC(e){let t=ZC();if(t)return gI(t.sanitize(Js.RESOURCE_URL,e)||"");if(yu(e,"ResourceURL"))return gI(Do(e));throw new b(904,!1)}function EM(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?KC:hr}function wg(e,t,n){return EM(t,n)(e)}function ZC(){let e=Y();return e&&e[cn].sanitizer}var IM=/^>|^->|<!--|-->|--!>|<!-$/g,CM=/(<|>)/g,wM="\u200B$1\u200B";function bM(e){return e.replace(IM,t=>t.replace(CM,wM))}function QC(e){return e.ownerDocument.body}function JC(e){return e instanceof Function?e():e}function DM(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var XC="ng-template";function TM(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&DM(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(bg(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function bg(e){return e.type===4&&e.value!==XC}function SM(e,t,n){let r=e.type===4&&!n?XC:e.value;return t===r}function AM(e,t,n){let r=4,i=e.attrs,o=i!==null?MM(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!$t(r)&&!$t(c))return!1;if(s&&$t(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!SM(e,c,n)||c===""&&t.length===1){if($t(r))return!1;s=!0}}else if(r&8){if(i===null||!TM(e,i,c,n)){if($t(r))return!1;s=!0}}else{let l=t[++a],u=RM(c,i,bg(e),n);if(u===-1){if($t(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if($t(r))return!1;s=!0}}}}return $t(r)||s}function $t(e){return(e&1)===0}function RM(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return OM(t,e)}function NM(e,t,n=!1){for(let r=0;r<t.length;r++)if(AM(e,t[r],n))return!0;return!1}function MM(e){for(let t=0;t<e.length;t++){let n=e[t];if(JI(n))return t}return e.length}function OM(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function mI(e,t){return e?":not("+t.trim()+")":t}function xM(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!$t(s)&&(t+=mI(o,i),i=""),r=s,o=o||!$t(r);n++}return i!==""&&(t+=mI(o,i)),t}function kM(e){return e.map(xM).join(",")}function PM(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!$t(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var _t={};function ew(e,t){return e.createText(t)}function FM(e,t,n){e.setValue(t,n)}function tw(e,t){return e.createComment(bM(t))}function Dg(e,t,n){return e.createElement(t,n)}function Zl(e,t,n,r,i){e.insertBefore(t,n,r,i)}function nw(e,t,n){e.appendChild(t,n)}function vI(e,t,n,r,i){r!==null?Zl(e,t,n,r,i):nw(e,t,n)}function Tg(e,t,n){e.removeChild(null,t,n)}function rw(e){e.textContent=""}function LM(e,t,n){e.setAttribute(t,"style",n)}function VM(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function iw(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&HN(e,t,r),i!==null&&VM(e,t,i),o!==null&&LM(e,t,o)}function Sg(e,t,n,r,i,o,s,a,c,l,u){let d=se+r,f=d+i,h=jM(d,f),p=typeof l=="function"?l():l;return h[S]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function jM(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:_t);return n}function UM(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Sg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ag(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[Be]=i,d[P]=r|4|128|8|64|1024,(l!==null||e&&e[P]&2048)&&(d[P]|=2048),ip(d),d[Ce]=d[zr]=e,d[me]=n,d[cn]=s||e&&e[cn],d[te]=a||e&&e[te],d[Lt]=c||e&&e[Lt]||null,d[Dt]=o,d[Os]=rM(),d[Je]=u,d[tp]=l,d[He]=t.type==2?e[He]:d,d}function BM(e,t,n){let r=Tt(t,e),i=UM(n),o=e[cn].rendererFactory,s=Rg(e,Ag(e,i,null,ow(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function ow(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function sw(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Rg(e,t){return e[ho]?e[ep][bt]=t:e[ho]=t,e[ep]=t,t}function O(e=1){aw($e(),Y(),Bn()+e,!1)}function aw(e,t,n,r){if(!r)if((t[P]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Vl(t,o,n)}else{let o=e.preOrderHooks;o!==null&&jl(t,o,0,n)}dr(n)}var _u=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(_u||{});function qp(e,t,n,r){let i=k(null);try{let[o,s,a]=e.inputs[n],c=null;(s&_u.SignalBased)!==0&&(c=t[o][Le]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):qI(t,c,o,r)}finally{k(i)}}var Wn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Wn||{}),HM;function Ng(e,t){return HM(e,t)}function mo(e,t,n,r,i){if(r!=null){let o,s=!1;pt(r)?o=r:ht(r)&&(s=!0,r=r[Be]);let a=gt(r);e===0&&n!==null?i==null?nw(t,n,a):Zl(t,n,a,i||null,!0):e===1&&n!==null?Zl(t,n,a,i||null,!0):e===2?Tg(t,a,s):e===3&&t.destroyNode(a),o!=null&&eO(t,e,o,n,i)}}function $M(e,t){cw(e,t),t[Be]=null,t[Dt]=null}function WM(e,t,n,r,i,o){r[Be]=i,r[Dt]=t,Iu(e,r,n,1,i,o)}function cw(e,t){t[cn].changeDetectionScheduler?.notify(9),Iu(e,t,t[te],2,null,null)}function zM(e){let t=e[ho];if(!t)return Ap(e[S],e);for(;t;){let n=null;if(ht(t))n=t[ho];else{let r=t[Oe];r&&(n=r)}if(!n){for(;t&&!t[bt]&&t!==e;)ht(t)&&Ap(t[S],t),t=t[Ce];t===null&&(t=e),ht(t)&&Ap(t[S],t),n=t&&t[bt]}t=n}}function Mg(e,t){let n=e[Ps],r=n.indexOf(t);n.splice(r,1)}function Eu(e,t){if(lr(t))return;let n=t[te];n.destroyNode&&Iu(e,t,n,3,null,null),zM(t)}function Ap(e,t){if(lr(t))return;let n=k(null);try{t[P]&=-129,t[P]|=256,t[ft]&&ys(t[ft]),qM(e,t),GM(e,t),t[S].type===1&&t[te].destroy();let r=t[Gr];if(r!==null&&pt(t[Ce])){r!==t[Ce]&&Mg(r,t);let i=t[Yr];i!==null&&i.detachView(e)}Hp(t)}finally{k(n)}}function GM(e,t){let n=e.cleanup,r=t[fo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[fo]=null);let i=t[Fn];if(i!==null){t[Fn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[xs];if(o!==null){t[xs]=null;for(let s of o)s.destroy()}}function qM(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof ti)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Z(4,a,c);try{c.call(a)}finally{Z(5,a,c)}}else{Z(4,i,o);try{o.call(i)}finally{Z(5,i,o)}}}}}function YM(e,t,n){return KM(e,t.parent,n)}function KM(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Be];if(Un(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===$n.None||i===$n.Emulated)return null}return Tt(r,n)}function ZM(e,t,n){return JM(e,t,n)}function QM(e,t,n){return e.type&40?Tt(e,n):null}var JM=QM,yI;function Og(e,t,n,r){let i=YM(e,r,t),o=t[te],s=r.parent||t[Dt],a=ZM(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)vI(o,i,n[c],a,!1);else vI(o,i,n,a,!1);yI!==void 0&&yI(o,r,t,n,i)}function Us(e,t){if(t!==null){let n=t.type;if(n&3)return Tt(t,e);if(n&4)return Yp(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Us(e,r);{let i=e[t.index];return pt(i)?Yp(-1,i):gt(i)}}else{if(n&128)return Us(e,t.next);if(n&32)return Ng(t,e)()||gt(e[t.index]);{let r=lw(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=ar(e[He]);return Us(i,r)}else return Us(e,t.next)}}}return null}function lw(e,t){if(t!==null){let r=e[He][Dt],i=t.projection;return r.projection[i]}return null}function Yp(e,t){let n=Oe+e+1;if(n<t.length){let r=t[n],i=r[S].firstChild;if(i!==null)return Us(r,i)}return t[ln]}function xg(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Eo(gt(a),r),n.flags|=2),!gu(n))if(c&8)xg(e,t,n.child,r,i,o,!1),mo(t,e,i,a,o);else if(c&32){let l=Ng(n,r),u;for(;u=l();)mo(t,e,i,u,o);mo(t,e,i,a,o)}else c&16?XM(e,t,r,n,i,o):mo(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Iu(e,t,n,r,i,o){xg(n,r,e.firstChild,t,i,o,!1)}function XM(e,t,n,r,i,o){let s=n[He],c=s[Dt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];mo(t,e,i,u,o)}else{let l=c,u=s[Ce];Yl(r)&&(l.flags|=128),xg(e,t,l,u,i,o,!0)}}function eO(e,t,n,r,i){let o=n[ln],s=gt(n);o!==s&&mo(t,e,r,o,i);for(let a=Oe;a<n.length;a++){let c=n[a];Iu(c[S],c,e,t,r,o)}}function tO(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Wn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wn.Important),e.setStyle(n,r,i,o))}}function uw(e,t,n,r,i){let o=Bn(),s=r&2;try{dr(-1),s&&t.length>se&&aw(e,t,se,!1),Z(s?2:0,i,n),n(r,i)}finally{dr(o),Z(s?3:1,i,n)}}function dw(e,t,n){cO(e,t,n),(n.flags&64)===64&&lO(e,t,n)}function fw(e,t,n=Tt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function nO(e,t,n,r){let o=r.get(mg,TC)||n===$n.ShadowDom,s=e.selectRootElement(t,o);return rO(s),s}function rO(e){hw(e)}var hw=()=>null;function iO(e){uC(e)?rw(e):pM(e)}function pw(){hw=iO}function oO(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function gw(e,t,n,r,i,o){let s=t[S];if(Pg(e,s,t,n,r)){Un(e)&&aO(t,e.index);return}e.type&3&&(n=oO(n)),sO(e,t,n,r,i,o)}function sO(e,t,n,r,i,o){if(e.type&3){let s=Tt(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function aO(e,t){let n=St(t,e);n[P]&16||(n[P]|=64)}function cO(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Un(n)&&BM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Gl(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=ql(t,e,s,n);if(Eo(c,t),o!==null&&pO(t,s-r,c,a,n,o),un(a)){let l=St(n.index,t);l[me]=ql(t,e,s,n)}}}function lO(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=QE();try{dr(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];Al(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&uO(c,l)}}finally{dr(-1),Al(s)}}function uO(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function dO(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];NM(t,o.selectors,!1)&&(r??=[],un(o)?r.unshift(o):r.push(o))}return r}function fO(e,t,n,r,i,o){let s=Tt(e,t);hO(t[te],s,o,e.value,n,r,i)}function hO(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Wr(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function pO(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];qp(r,n,c,l)}}function gO(e,t,n,r,i){let o=se+n,s=t[S],a=i(s,t,e,r,n);t[o]=a,go(e,!0);let c=e.type===2;return c?(iw(t[te],a,e),(VE()===0||Dl(e))&&Eo(a,t),jE()):Eo(a,t),Ol()&&(!c||!gu(e))&&Og(s,t,a,e),e}function mO(e){let t=e;return lp()?GE():(t=t.parent,go(t,!1)),t}function kg(e,t){let n=e[Lt];if(!n)return;n.get(mt,null)?.(t)}function Pg(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];qp(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];qp(u,l,r,i),a=!0}return a}function vO(e,t){let n=St(t,e),r=n[S];yO(r,n);let i=n[Be];i!==null&&n[Je]===null&&(n[Je]=UC(i,n[Lt])),Z(18),Fg(r,n,n[me]),Z(19,n[me])}function yO(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Fg(e,t,n){Rl(t);try{let r=e.viewQuery;r!==null&&Gp(1,r,n);let i=e.template;i!==null&&uw(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Yr]?.finishViewCreation(e),e.staticContentQueries&&GC(e,t),e.staticViewQueries&&Gp(2,e.viewQuery,n);let o=e.components;o!==null&&_O(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[P]&=-5,Nl()}}function _O(e,t){for(let n=0;n<t.length;n++)vO(e,t[n])}function Cu(e,t,n,r){let i=k(null);try{let o=t.tView,a=e[P]&4096?4096:16,c=Ag(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Gr]=l;let u=e[Yr];return u!==null&&(c[Yr]=u.createEmbeddedView(o)),Fg(o,c,n),c}finally{k(i)}}function Io(e,t){return!t||t.firstChild===null||Yl(e)}var _I=!1,EO=new I("");function Ws(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(gt(o)),pt(o)&&mw(o,r);let s=n.type;if(s&8)Ws(e,t,n.child,r);else if(s&32){let a=Ng(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=lw(t,n);if(Array.isArray(a))r.push(...a);else{let c=ar(t[He]);Ws(c[S],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function mw(e,t){for(let n=Oe;n<e.length;n++){let r=e[n],i=r[S].firstChild;i!==null&&Ws(r[S],r,i,t)}e[ln]!==e[Be]&&t.push(e[ln])}function vw(e){if(e[Kr]!==null){for(let t of e[Kr])t.impl.addSequence(t);e[Kr].length=0}}var yw=[];function IO(e){return e[ft]??CO(e)}function CO(e){let t=yw.pop()??Object.create(bO);return t.lView=e,t}function wO(e){e.lView[ft]!==e&&(e.lView=null,yw.push(e))}var bO=x(v({},Or),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{po(e.lView)},consumerOnSignalRead(){this.lView[ft]=this}});function DO(e){let t=e[ft]??Object.create(TO);return t.lView=e,t}var TO=x(v({},Or),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=ar(e.lView);for(;t&&!_w(t[S]);)t=ar(t);t&&op(t)},consumerOnSignalRead(){this.lView[ft]=this}});function _w(e){return e.type!==2}function Ew(e){if(e[xs]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[xs])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[P]&8192)}}var SO=100;function Lg(e,t=0){let r=e[cn].rendererFactory,i=!1;i||r.begin?.();try{AO(e,t)}finally{i||r.end?.()}}function AO(e,t){let n=dp();try{fp(!0),Kp(e,t);let r=0;for(;Fs(e);){if(r===SO)throw new b(103,!1);r++,Kp(e,1)}}finally{fp(n)}}function Iw(e,t){up(t?Ls.Exhaustive:Ls.OnlyDirtyViews);try{Lg(e)}finally{up(Ls.Off)}}function RO(e,t,n,r){if(lr(t))return;let i=t[P],o=!1,s=!1;Rl(t);let a=!0,c=null,l=null;o||(_w(e)?(l=IO(t),c=xr(l)):Vc()===null?(a=!1,l=DO(t),c=xr(l)):t[ft]&&(ys(t[ft]),t[ft]=null));try{ip(t),YE(e.bindingStartIndex),n!==null&&uw(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&Vl(t,h,null)}else{let h=e.preOrderHooks;h!==null&&jl(t,h,0,null),Dp(t,0)}if(s||NO(t),Ew(t),Cw(t,0),e.contentQueries!==null&&GC(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&Vl(t,h)}else{let h=e.contentHooks;h!==null&&jl(t,h,1),Dp(t,1)}OO(e,t);let d=e.components;d!==null&&bw(t,d,0);let f=e.viewQuery;if(f!==null&&Gp(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&Vl(t,h)}else{let h=e.viewHooks;h!==null&&jl(t,h,2),Dp(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[bl]){for(let h of t[bl])h();t[bl]=null}o||(vw(t),t[P]&=-73)}catch(u){throw o||po(t),u}finally{l!==null&&(zi(l,c),a&&wO(l)),Nl()}}function Cw(e,t){for(let n=hC(e);n!==null;n=pC(n))for(let r=Oe;r<n.length;r++){let i=n[r];ww(i,t)}}function NO(e){for(let t=hC(e);t!==null;t=pC(t)){if(!(t[P]&2))continue;let n=t[Ps];for(let r=0;r<n.length;r++){let i=n[r];op(i)}}}function MO(e,t,n){Z(18);let r=St(t,e);ww(r,n),Z(19,r[me])}function ww(e,t){Tl(e)&&Kp(e,t)}function Kp(e,t){let r=e[S],i=e[P],o=e[ft],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&vs(o)),s||=!1,o&&(o.dirty=!1),e[P]&=-9217,s)RO(r,e,r.template,e[me]);else if(i&8192){let a=k(null);try{Ew(e),Cw(e,1);let c=r.components;c!==null&&bw(e,c,1),vw(e)}finally{k(a)}}}function bw(e,t,n){for(let r=0;r<t.length;r++)MO(e,t[r],n)}function OO(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)dr(~i);else{let o=i,s=n[++r],a=n[++r];ZE(s,o);let c=t[o];Z(24,c),a(2,c),Z(25,c)}}}finally{dr(-1)}}function wu(e,t){let n=dp()?64:1088;for(e[cn].changeDetectionScheduler?.notify(t);e;){e[P]|=n;let r=ar(e);if(Zr(e)&&!r)return e;e=r}return null}function Dw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Tw(e,t){let n=Oe+t;if(n<e.length)return e[n]}function Xs(e,t,n,r=!0){let i=t[S];if(xO(i,t,e,n),r){let s=Yp(n,e),a=t[te],c=a.parentNode(e[ln]);c!==null&&WM(i,e[Dt],a,t,c,s)}let o=t[Je];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Vg(e,t){let n=zs(e,t);return n!==void 0&&Eu(n[S],n),n}function zs(e,t){if(e.length<=Oe)return;let n=Oe+t,r=e[n];if(r){let i=r[Gr];i!==null&&i!==e&&Mg(i,r),t>0&&(e[n-1][bt]=r[bt]);let o=Rs(e,Oe+t);$M(r[S],r);let s=o[Yr];s!==null&&s.detachView(o[S]),r[Ce]=null,r[bt]=null,r[P]&=-129}return r}function xO(e,t,n,r){let i=Oe+r,o=n.length;r>0&&(n[i-1][bt]=t),r<o-Oe?(t[bt]=n[i],qh(n,Oe+r,t)):(n.push(t),t[bt]=null),t[Ce]=n;let s=t[Gr];s!==null&&n!==s&&Sw(s,t);let a=t[Yr];a!==null&&a.insertView(e),Sl(t),t[P]|=128}function Sw(e,t){let n=e[Ps],r=t[Ce];if(ht(r))e[P]|=2;else{let i=r[Ce][He];t[He]!==i&&(e[P]|=2)}n===null?e[Ps]=[t]:n.push(t)}var ni=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[S];return Ws(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[me]}set context(t){this._lView[me]=t}get destroyed(){return lr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ce];if(pt(t)){let n=t[ks],r=n?n.indexOf(this):-1;r>-1&&(zs(t,r),Rs(n,r))}this._attachedToViewContainer=!1}Eu(this._lView[S],this._lView)}onDestroy(t){sp(this._lView,t)}markForCheck(){wu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){Sl(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,Lg(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Lt].get(EO,_I)}catch{this.exhaustive=_I}}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Zr(this._lView),n=this._lView[Gr];n!==null&&!t&&Mg(n,this._lView),cw(this._lView[S],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=t;let n=Zr(this._lView),r=this._lView[Gr];r!==null&&!n&&Sw(r,this._lView),Sl(this._lView)}};function jg(e,t,n,r,i){let o=e.data[t];if(o===null)o=kO(e,t,n,r,i),KE()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=zE();o.injectorIndex=s===null?-1:s.injectorIndex}return go(o,!0),o}function kO(e,t,n,r,i){let o=cp(),s=lp(),a=s?o:o&&o.parent,c=e.data[t]=FO(e,a,n,t,r,i);return PO(e,c,o,s),c}function PO(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function FO(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return ap()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var LO=new RegExp(`^(\\d+)*(${yC}|${vC})*(.*)`);function VO(e){let t=e.match(LO),[n,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function jO(e){return!e.prev&&e.parent?.type===8}function Rp(e){return e.index-se}function UO(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function bu(e,t,n,r){let i=Rp(r),o=UO(e,i);if(o===void 0){let s=e.data[CC];if(s?.[i])o=HO(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(jO(r)){let l=Rp(r.parent);o=zp(e,l)}else{let l=Tt(c,n);if(a)o=l.firstChild;else{let u=Rp(c),d=zp(e,u);if(c.type===2&&d){let h=Ig(e,u)+1;o=Du(h,d)}else o=l.nextSibling}}}}return o}function Du(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function BO(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case aM:n=n.firstChild;break;case cM:n=n.nextSibling;break}}return n}function HO(e,t){let[n,...r]=VO(e),i;if(n===vC)i=t[He][Be];else if(n===yC)i=QC(t[He][Be]);else{let o=Number(n);i=gt(t[o+se])}return BO(i,r)}var $O=!1;function Aw(e){$O=e}function WO(e){let t=e[Je];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let i=e[te];for(let o of r.values())zO(i,n,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function zO(e,t,n){for(let r of n.node.cases[n.case]){let i=t.get(r.index-se);i&&Tg(e,i,!1)}}function Tu(e){let t=e[Vt]??[],r=e[Ce][te],i=[];for(let o of t)o.data[wC]!==void 0?i.push(o):Rw(o,r);e[Vt]=i}function GO(e){let{lContainer:t}=e,n=t[Vt];if(n===null)return;let i=t[Ce][te];for(let o of n)Rw(o,i)}function Rw(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[$s];for(;n<i;){let o=r.nextSibling;Tg(t,r,!1),r=o,n++}}}function Su(e){Tu(e);let t=e[Be];ht(t)&&Ql(t);for(let n=Oe;n<e.length;n++)Ql(e[n])}function Ql(e){WO(e);let t=e[S];for(let n=se;n<t.bindingStartIndex;n++)if(pt(e[n])){let r=e[n];Su(r)}else ht(e[n])&&Ql(e[n])}function Ug(e){let t=e._views;for(let n of t){let r=BC(n);r!==null&&r[Be]!==null&&(ht(r)?Ql(r):Su(r))}}function qO(e,t,n,r){e!==null&&(n.cleanup(t),Su(e.lContainer),Ug(r))}function YO(e,t){let n=[];for(let r of t)for(let i=0;i<(r[pg]??1);i++){let o={data:r,firstChild:null};r[$s]>0&&(o.firstChild=e,e=Du(r[$s],e)),n.push(o)}return[e,n]}var Nw=()=>null,Mw=()=>null;function Ow(){Nw=KO,Mw=ZO}function KO(e,t){return kw(e,t)?e[Vt].shift():(Tu(e),null)}function Jl(e,t){return Nw(e,t)}function ZO(e,t,n){if(t.tView.ssrId===null)return null;let r=Jl(e,t.tView.ssrId);return n[S].firstUpdatePass&&r===null&&QO(n,t),r}function xw(e,t,n){return Mw(e,t,n)}function QO(e,t){let n=t;for(;n;){if(EI(e,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=t.next;n&&(n.flags&512)===512;){if(EI(e,n))return;n=n.next}}function kw(e,t){let n=e[Vt];return!t||n===null||n.length===0?!1:n[0].data[IC]===t}function EI(e,t){let n=t.tView?.ssrId;if(n==null)return!1;let r=e[t.index];return pt(r)&&kw(r,n)?(Tu(r),!0):!1}var Pw=class{},Au=class{},Zp=class{resolveComponentFactory(t){throw new b(917,!1)}},ea=class{static NULL=new Zp},ri=class{},zt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>JO()}return e})();function JO(){let e=Y(),t=We(),n=St(t.index,e);return(ht(n)?n:e)[te]}var Fw=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>null})}return e})();var Bl={},yo=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,Bl,r);return i!==Bl||n===Bl?i:this.parentInjector.get(t,n,r)}};function II(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Ph(i,a);else if(o==2){let c=a,l=t[++s];r=Ph(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function V(e,t=0){let n=Y();if(n===null)return M(e,t);let r=We();return oC(r,n,Pe(e),t)}function Bg(){let e="invalid";throw new Error(e)}function XO(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}nx(e,t,n,a,o,c,l)}o!==null&&r!==null&&ex(n,r,o)}function ex(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new b(-301,!1);r.push(t[i],o)}}function tx(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function nx(e,t,n,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&un(h)&&(c=!0,tx(e,n,f)),Up(Gl(n,t),e,h.type)}cx(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=sw(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=Hs(n.mergedAttrs,h.hostAttrs),ix(e,n,t,d,h),ax(d,h,i),s!==null&&s.has(h)){let[y,w]=s.get(h);n.directiveToIndex.set(h.type,[d,y+n.directiveStart,w+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}rx(e,n,o)}function rx(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))CI(0,t,i,r),CI(1,t,i,r),bI(t,r,!1);else{let o=n.get(i);wI(0,t,o,r),wI(1,t,o,r),bI(t,r,!0)}}}function CI(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Lw(t,o)}}function wI(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Lw(t,s)}}function Lw(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function bI(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||bg(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function ix(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Ur(i.type,!0)),s=new ti(o,un(i),V,null);e.blueprint[r]=s,n[r]=s,ox(e,t,r,sw(e,n,i.hostVars,_t),i)}function ox(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;sx(s)!=a&&s.push(a),s.push(n,r,o)}}function sx(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function ax(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;un(t)&&(n[""]=e)}}function cx(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Vw(e,t,n,r,i,o,s,a){let c=t[S],l=c.consts,u=ur(l,s),d=jg(c,e,n,r,u);return o&&XO(c,t,d,ur(l,a),i),d.mergedAttrs=Hs(d.mergedAttrs,d.attrs),d.attrs!==null&&II(d,d.attrs,!1),d.mergedAttrs!==null&&II(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function jw(e,t){VN(e,t),np(t)&&e.queries.elementEnd(t)}function Uw(e,t,n){return e[t]=n}function lx(e,t){return e[t]}function zn(e,t,n){if(n===_t)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Bw(e,t,n,r){let i=zn(e,t,n);return zn(e,t+1,r)||i}function Np(e,t,n){return function r(i){let o=Un(e)?St(e.index,t):t;wu(o,5);let s=t[me],a=DI(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=DI(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function DI(e,t,n,r){let i=k(null);try{return Z(6,t,n),n(r)!==!1}catch(o){return kg(e,o),!1}finally{Z(7,t,n),k(i)}}function ux(e,t,n,r,i,o,s,a){let c=Dl(e),l=!1,u=null;if(!r&&c&&(u=dx(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=Tt(e,n),f=r?r(d):d;lM(n,f,o,a);let h=i.listen(f,o,a),p=r?y=>r(gt(y[e.index])):e.index;Hw(p,t,n,o,a,h,!1)}return l}function dx(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[fo],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Hw(e,t,n,r,i,o,s){let a=t.firstCreatePass?LE(t):null,c=FE(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function TI(e,t,n,r,i,o){let s=t[n],a=t[S],l=a.data[n].outputs[r],d=s[l].subscribe(o);Hw(e.index,a,t,i,o,d,!0)}var Qp=Symbol("BINDING");var Xl=class extends ea{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=an(t);return new ii(n,this.ngModule)}};function fx(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&_u.SignalBased)!==0};return i&&(o.transform=i),o})}function hx(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function px(e,t,n){let r=t instanceof de?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new yo(n,r):n}function gx(e){let t=e.get(ri,null);if(t===null)throw new b(407,!1);let n=e.get(Fw,null),r=e.get(Vn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function mx(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Dg(t,n,n==="svg"?ME:n==="math"?OE:null)}var ii=class extends Au{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=fx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=hx(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=kM(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){Z(22);let a=k(null);try{let c=this.componentDef,l=vx(r,c,s,o),u=px(c,i||this.ngModule,t),d=gx(u),f=d.rendererFactory.createRenderer(null,c),h=r?nO(f,r,c.encapsulation,u):mx(c,f),p=s?.some(SI)||o?.some(T=>typeof T!="function"&&T.bindings.some(SI)),y=Ag(null,l,null,512|ow(c),null,null,d,f,u,null,UC(h,u,!0));y[se]=h,Rl(y);let w=null;try{let T=Vw(se,y,2,"#host",()=>l.directiveRegistry,!0,0);h&&(iw(f,h,T),Eo(h,y)),dw(l,y,T),qC(l,T,y),jw(l,T),n!==void 0&&_x(T,this.ngContentSelectors,n),w=St(T.index,y),y[me]=w[me],Fg(l,y,null)}catch(T){throw w!==null&&Hp(w),Hp(y),T}finally{Z(23),Nl()}return new eu(this.componentType,y,!!p)}finally{k(a)}}};function vx(e,t,n,r){let i=e?["ng-version","20.1.7"]:PM(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Qp].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let f of d.bindings){a+=f[Qp].requiredVars;let h=u+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,f=Cl(d);c.push(f)}return Sg(0,null,yx(o,s),1,a,c,null,null,null,[i],null)}function yx(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function SI(e){let t=e[Qp].kind;return t==="input"||t==="twoWay"}var eu=class extends Pw{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Qr(n[S],se),this.location=dg(this._tNode,n),this.instance=St(this._tNode.index,n)[me],this.hostView=this.changeDetectorRef=new ni(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Pg(r,i[S],i,t,n);this.previousInputValues.set(t,n);let s=St(r.index,i);wu(s,1)}get injector(){return new ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function _x(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ta=(()=>{class e{static __NG_ELEMENT_ID__=Ex}return e})();function Ex(){let e=We();return Cx(e,Y())}var Ix=ta,$w=class extends Ix{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return dg(this._hostTNode,this._hostLView)}get injector(){return new ei(this._hostTNode,this._hostLView)}get parentInjector(){let t=ug(this._hostTNode,this._hostLView);if(XI(t)){let n=zl(t,this._hostLView),r=Wl(t),i=n[S].data[r+8];return new ei(i,n)}else return new ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=AI(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Oe}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Jl(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Io(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!xN(t),l;if(c)l=n;else{let w=n||{};l=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef,s=w.directives,a=w.bindings}let u=c?t:new ii(an(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let T=(c?d:this.parentInjector).get(de,null);T&&(o=T)}let f=an(u.componentType??{}),h=Jl(this._lContainer,f?.id??null),p=h?.firstChild??null,y=u.create(d,i,p,o,s,a);return this.insertImpl(y.hostView,l,Io(this._hostTNode,h)),y}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(xE(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Ce],l=new $w(c,c[Dt],c[Ce]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Xs(s,i,o,r),t.attachToViewContainerRef(),qh(Mp(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=AI(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=zs(this._lContainer,n);r&&(Rs(Mp(this._lContainer),n),Eu(r[S],r))}detach(t){let n=this._adjustIndex(t,-1),r=zs(this._lContainer,n);return r&&Rs(Mp(this._lContainer),n)!=null?new ni(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function AI(e){return e[ks]}function Mp(e){return e[ks]||(e[ks]=[])}function Cx(e,t){let n,r=t[e.index];return pt(r)?n=r:(n=Dw(r,t,null,e),t[e.index]=n,Rg(t,n)),Ww(n,t,e,r),new $w(n,e,t)}function wx(e,t){let n=e[te],r=n.createComment(""),i=Tt(t,e),o=n.parentNode(i);return Zl(n,o,r,n.nextSibling(i),!1),r}var Ww=zw,Hg=()=>!1;function bx(e,t,n){return Hg(e,t,n)}function zw(e,t,n,r){if(e[ln])return;let i;n.type&8?i=gt(r):i=wx(t,n),e[ln]=i}function Dx(e,t,n){if(e[ln]&&e[Vt])return!0;let r=n[Je],i=t.index-se;if(!r||dC(t)||WC(r,i))return!1;let s=zp(r,i),a=r.data[hu]?.[i],[c,l]=YO(s,a);return e[ln]=c,e[Vt]=l,!0}function Tx(e,t,n,r){Hg(e,n,t)||zw(e,t,n,r)}function Gw(){Ww=Tx,Hg=Dx}var RI=new Set;function et(e){RI.has(e)||(RI.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Co=class{},Ru=class{};var tu=class extends Co{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Xl(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Zh(t);this._bootstrapComponents=JC(o.bootstrap),this._r3Injector=_p(t,n,[{provide:Co,useValue:this},{provide:ea,useValue:this.componentFactoryResolver},...r],Ln(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},nu=class extends Ru{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new tu(this.moduleType,t,[])}};var Gs=class extends Co{injector;componentFactoryResolver=new Xl(this);instance=null;constructor(t){super();let n=new Hr([...t.providers,{provide:Co,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],t.parent||Ms(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ai(e,t,n=null){return new Gs({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Sx=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=wl(!1,n.type),i=r.length>0?ai([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(M(de))})}return e})();function qn(e){return bo(()=>{let t=qw(e),n=x(v({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===fg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(Sx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||$n.Emulated,styles:e.styles||lt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&et("NgStandalone"),Yw(n);let r=e.dependencies;return n.directiveDefs=NI(r,Ax),n.pipeDefs=NI(r,Qh),n.id=Mx(n),n})}function Ax(e){return an(e)||Cl(e)}function pn(e){return bo(()=>({type:e.type,bootstrap:e.bootstrap||lt,declarations:e.declarations||lt,imports:e.imports||lt,exports:e.exports||lt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Rx(e,t){if(e==null)return cr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=_u.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function Nx(e){if(e==null)return cr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ce(e){return bo(()=>{let t=qw(e);return Yw(t),t})}function qw(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||cr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||lt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Rx(e.inputs,t),outputs:Nx(e.outputs),debugInfo:null}}function Yw(e){e.features?.forEach(t=>t(e))}function NI(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function Mx(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Ox(e){return Object.getPrototypeOf(e.prototype).constructor}function tt(e){let t=Ox(e.type),n=!0,r=[e];for(;t;){let i;if(un(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new b(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Op(e.inputs),s.declaredInputs=Op(e.declaredInputs),s.outputs=Op(e.outputs);let a=i.hostBindings;a&&Lx(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Px(e,c),l&&Fx(e,l),xx(e,i),vE(e.outputs,i.outputs),un(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===tt&&(n=!1)}}t=Object.getPrototypeOf(t)}kx(r)}function xx(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function kx(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Hs(i.hostAttrs,n=Hs(n,i.hostAttrs))}}function Op(e){return e===cr?{}:e===lt?[]:e}function Px(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function Fx(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function Lx(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function Vx(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Hs(e.mergedAttrs,e.attrs);let u=e.tView=Sg(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),go(e,!1);let c=Kw(n,t,e,r);Ol()&&Og(n,t,c,e),Eo(c,t);let l=Dw(c,t,c,e);t[r+se]=l,Rg(t,l),bx(l,e,t)}function ru(e,t,n,r,i,o,s,a,c,l,u){let d=n+se,f;if(t.firstCreatePass){if(f=jg(t,d,4,s||null,a||null),l!=null){let h=ur(t.consts,l);f.localNames=[];for(let p=0;p<h.length;p+=2)f.localNames.push(h[p],-1)}}else f=t.data[d];return Vx(f,e,t,n,r,i,o,c),l!=null&&fw(e,f,u),f}var Kw=Zw;function Zw(e,t,n,r){return Hn(!0),t[te].createComment("")}function jx(e,t,n,r){let i=!vu(t,n);Hn(i);let o=t[Je]?.data[EC]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return Zw(e,t);let s=t[Je],a=bu(s,e,t,n);mu(s,r,a);let c=Ig(s,r);return Du(c,a)}function Qw(){Kw=jx}var yt=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(yt||{}),MI=0,Ux=1,we=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(we||{});var Bx=0,na=1;var Hx=4,$x=5;var Wx=7,_o=8,zx=9,$g=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}($g||{});function Hl(e,t){let n=qx(e),r=t[n];if(r!==null){for(let i of r)i();t[n]=null}}function Gx(e){Hl(1,e),Hl(0,e),Hl(2,e)}function qx(e){let t=Hx;return e===1?t=$x:e===2&&(t=zx),t}var Nu=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Nu||{}),ci=new I(""),Jw=!1,Jp=class extends Ee{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,RE()&&(this.destroyRef=g(Bt,{optional:!0})??void 0,this.pendingTasks=g(Ht,{optional:!0})??void 0)}emit(t){let n=k(null);try{super.next(t)}finally{k(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof ue&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},be=Jp;function Xw(e){let t,n;function r(){e=js;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function OI(e){return queueMicrotask(()=>e()),()=>{e=js}}var Wg="isAngularZone",iu=Wg+"_ID",Yx=0,ee=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new be(!1);onMicrotaskEmpty=new be(!1);onStable=new be(!1);onError=new be(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Jw}=t;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Qx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Wg)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new b(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Kx,js,js);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Kx={};function zg(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Zx(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Xw(()=>{e.callbackScheduled=!1,Xp(e),e.isCheckStableRunning=!0,zg(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Xp(e)}function Qx(e){let t=()=>{Zx(e)},n=Yx++;e._inner=e._inner.fork({name:"angular",properties:{[Wg]:!0,[iu]:n,[iu+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Jx(c))return r.invokeTask(o,s,a,c);try{return xI(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),kI(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return xI(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Xx(c)&&t(),kI(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Xp(e),zg(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Xp(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function xI(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function kI(e){e._nesting--,zg(e)}var ou=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new be;onMicrotaskEmpty=new be;onStable=new be;onError=new be;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function Jx(e){return eb(e,"__ignore_ng_zone__")}function Xx(e){return eb(e,"__scheduler_tick__")}function eb(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Gg=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),tb=[0,1,2,3],nb=(()=>{class e{ngZone=g(ee);scheduler=g(Vn);errorHandler=g(kt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(ci,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Z(16),this.executing=!0;for(let r of tb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Z(17)}register(n){let{view:r}=n;r!==void 0?((r[Kr]??=[]).push(n),po(r),r[P]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Nu.AFTER_NEXT_RENDER,n):n()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),su=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Kr];t&&(this.view[Kr]=t.filter(n=>n!==this))}};function To(e,t){let n=t?.injector??g(fe);return et("NgAfterNextRender"),tk(e,n,t,!0)}function ek(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function tk(e,t,n,r){let i=t.get(Gg);i.impl??=t.get(nb);let o=t.get(ci,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(Bt):null,a=t.get(xl,null,{optional:!0}),c=new su(i.impl,ek(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}function rb(e){return e+1}function So(e,t){let n=e[S],r=rb(t.index);return e[r]}function ra(e,t){let n=rb(t.index);return e.data[n]}function nk(e,t,n){let r=t[S],i=ra(r,n);switch(e){case we.Complete:return i.primaryTmplIndex;case we.Loading:return i.loadingTmplIndex;case we.Error:return i.errorTmplIndex;case we.Placeholder:return i.placeholderTmplIndex;default:return null}}function PI(e,t){return t===we.Placeholder?e.placeholderBlockConfig?.[MI]??null:t===we.Loading?e.loadingBlockConfig?.[MI]??null:null}function rk(e){return e.loadingBlockConfig?.[Ux]??null}function FI(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function ik(e,t){let n=t.primaryTmplIndex+se;return Qr(e,n)}var ok=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?ai(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e})}return e})();var ib=new I("");function xp(e,t,n){return e.get(ok).getOrCreateInjector(t,e,n,"")}function sk(e,t,n){if(e instanceof yo){let i=e.injector,o=e.parentInjector,s=xp(o,t,n);return new yo(i,s)}let r=e.get(de);if(r!==e){let i=xp(r,t,n);return new yo(e,i)}return xp(e,t,n)}function Xr(e,t,n,r=!1){let i=n[Ce],o=i[S];if(lr(i))return;let s=So(i,t),a=s[na],c=s[Wx];if(!(c!==null&&e<c)&&LI(a,e)&&LI(s[Bx]??-1,e)){let l=ra(o,t),d=!r&&!0&&(rk(l)!==null||PI(l,we.Loading)!==null||PI(l,we.Placeholder))?lk:ck;try{d(e,s,n,t,i)}catch(f){kg(i,f)}}}function ak(e,t){let n=e[Vt]?.findIndex(i=>i.data[bC]===t[na])??-1;return{dehydratedView:n>-1?e[Vt][n]:null,dehydratedViewIx:n}}function ck(e,t,n,r,i){Z(20);let o=nk(e,i,r);if(o!==null){t[na]=e;let s=i[S],a=o+se,c=Qr(s,a),l=0;Vg(n,l);let u;if(e===we.Complete){let p=ra(s,r),y=p.providers;y&&y.length>0&&(u=sk(i[Lt],p,y))}let{dehydratedView:d,dehydratedViewIx:f}=ak(n,t),h=Cu(i,c,null,{injector:u,dehydratedView:d});if(Xs(n,h,l,Io(c,d)),wu(h,2),f>-1&&n[Vt]?.splice(f,1),(e===we.Complete||e===we.Error)&&Array.isArray(t[_o])){for(let p of t[_o])p();t[_o]=null}}Z(21)}function LI(e,t){return e<t}function VI(e,t,n){e.loadingPromise.then(()=>{e.loadingState===yt.COMPLETE?Xr(we.Complete,t,n):e.loadingState===yt.FAILED&&Xr(we.Error,t,n)})}var lk=null;var Mu=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var qg=new I("");function li(e){return!!e&&typeof e.then=="function"}function ob(e){return!!e&&typeof e.subscribe=="function"}var Yg=new I("");function Ou(e){return dt([{provide:Yg,multi:!0,useValue:e}])}var Kg=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=g(Yg,{optional:!0})??[];injector=g(fe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=ge(this.injector,i);if(li(o))n.push(o);else if(ob(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yn=new I("");function sb(){nh(()=>{let e="";throw new b(600,e)})}function ab(e){return e.isBoundToModule}var uk=10;var Ve=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(mt);afterRenderManager=g(Gg);zonelessEnabled=g(Vs);rootEffectScheduler=g(bp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ee;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(Ht);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(G(n=>!n))}constructor(){g(ci,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=g(de);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=fe.NULL){return this._injector.get(ee).run(()=>{Z(10);let s=n instanceof Au;if(!this._injector.get(Kg).done){let p="";throw new b(405,p)}let c;s?c=n:c=this._injector.get(ea).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=ab(c)?void 0:this._injector.get(Co),u=r||c.selector,d=c.create(i,[],u,l),f=d.location.nativeElement,h=d.injector.get(qg,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Bs(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),Z(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Z(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Nu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new b(101,!1);let n=k(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,k(n),this.afterTick.next(),Z(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ri,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<uk;)Z(14),this.synchronizeOnce(),Z(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Fs(i))continue;let o=r&&!this.zonelessEnabled?0:1;Lg(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Fs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Bs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Yn,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Bs(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function cb(e,t,n){let r=t[Lt],i=t[S];if(e.loadingState!==yt.NOT_STARTED)return e.loadingPromise??Promise.resolve();let o=So(t,n),s=ik(i,e);e.loadingState=yt.IN_PROGRESS,Hl(1,o);let a=e.dependencyResolverFn,c=r.get(fr).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(l=>{let u=!1,d=[],f=[];for(let h of l)if(h.status==="fulfilled"){let p=h.value,y=an(p)||Cl(p);if(y)d.push(y);else{let w=Qh(p);w&&f.push(w)}}else{u=!0;break}if(u){if(e.loadingState=yt.FAILED,e.errorTmplIndex===null){let h="",p=new b(-750,!1);kg(t,p)}}else{e.loadingState=yt.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=FI(h.directiveRegistry,d);let p=d.map(w=>w.type),y=wl(!1,...p);e.providers=y}f.length>0&&(h.pipeRegistry=FI(h.pipeRegistry,f))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,c()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=yt.COMPLETE,c()}),e.loadingPromise)}function dk(e,t){return t[Lt].get(ib,null,{optional:!0})?.behavior!==$g.Manual}function fk(e,t,n){let r=t[S],i=t[n.index];if(!dk(e,t))return;let o=So(t,n),s=ra(r,n);switch(Gx(o),s.loadingState){case yt.NOT_STARTED:Xr(we.Loading,n,i),cb(s,t,n),s.loadingState===yt.IN_PROGRESS&&VI(s,n,i);break;case yt.IN_PROGRESS:Xr(we.Loading,n,i),VI(s,n,i);break;case yt.COMPLETE:Xr(we.Complete,n,i);break;case yt.FAILED:Xr(we.Error,n,i);break;default:}}function lb(e,t,n){return m(this,null,function*(){let r=e.get(pu);if(r.hydrating.has(t))return;let{parentBlockPromise:o,hydrationQueue:s}=vM(t,e);if(s.length===0)return;o!==null&&s.shift(),gk(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield jI(e,s,n):r.awaitParentBlock(a,()=>m(null,null,function*(){return yield jI(e,s,n)}))})}function jI(e,t,n){return m(this,null,function*(){let r=e.get(pu),i=r.hydrating,o=e.get(Ht),s=o.add();for(let c=0;c<t.length;c++){let l=t[c],u=r.get(l);if(u!=null){if(yield vk(u),yield mk(e),hk(u)){GO(u),UI(t.slice(c),r);break}i.get(l).resolve()}else{pk(c,t,r),UI(t.slice(c),r);break}}let a=t[t.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(t),qO(r.get(a),t,r,e.get(Ve))})}function hk(e){return So(e.lView,e.tNode)[na]===we.Error}function pk(e,t,n){let r=e-1,i=r>-1?n.get(t[r]):null;i&&Su(i.lContainer)}function UI(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function gk(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}function mk(e){return new Promise(t=>To(t,{injector:e}))}function vk(e){return m(this,null,function*(){let{tNode:t,lView:n}=e,r=So(n,t);return new Promise(i=>{yk(r,i),fk(2,n,t)})})}function yk(e,t){Array.isArray(e[_o])||(e[_o]=[]),e[_o].push(t)}function Kn(e,t,n,r){let i=Y(),o=Jr();if(zn(i,o,t)){let s=$e(),a=Ml();fO(a,i,e,t,n,r)}return Kn}var eg=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function kp(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function _k(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=s&&o<=c;){let l=e.at(o),u=t[o],d=kp(o,l,o,u,n);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let f=e.at(s),h=t[c],p=kp(s,f,c,h,n);if(p!==0){p<0&&e.updateValue(s,h),s--,c--;continue}let y=n(o,l),w=n(s,f),T=n(o,u);if(Object.is(T,w)){let le=n(c,h);Object.is(le,y)?(e.swap(o,s),e.updateValue(s,h),c--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(r??=new au,i??=HI(e,o,s,n),tg(e,r,o,T))e.updateValue(o,u),o++,s++;else if(i.has(T))r.set(y,e.detach(o)),s--;else{let le=e.create(o,t[o]);e.attach(o,le),o++,s++}}for(;o<=c;)BI(e,r,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=e.at(o),d=l.value,f=kp(o,u,o,d,n);if(f!==0)f<0&&e.updateValue(o,d),o++,l=c.next();else{r??=new au,i??=HI(e,o,s,n);let h=n(o,d);if(tg(e,r,o,h))e.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(h))e.attach(o,e.create(o,d)),o++,s++,l=c.next();else{let p=n(o,u);r.set(p,e.detach(o)),s--}}}for(;!l.done;)BI(e,r,n,e.length,l.value),l=c.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function tg(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function BI(e,t,n,r,i){if(tg(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function HI(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var au=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function nt(e,t,n,r,i,o,s,a){et("NgControlFlow");let c=Y(),l=$e(),u=ur(l.consts,o);return ru(c,l,e,t,n,r,i,u,256,s,a),Zg}function Zg(e,t,n,r,i,o,s,a){et("NgControlFlow");let c=Y(),l=$e(),u=ur(l.consts,o);return ru(c,l,e,t,n,r,i,u,512,s,a),Zg}function rt(e,t){et("NgControlFlow");let n=Y(),r=Jr(),i=n[r]!==_t?n[r]:-1,o=i!==-1?cu(n,se+i):void 0,s=0;if(zn(n,r,e)){let a=k(null);try{if(o!==void 0&&Vg(o,s),e!==-1){let c=se+e,l=cu(n,c),u=og(n[S],c),d=xw(l,u,n),f=Cu(n,u,t,{dehydratedView:d});Xs(l,f,s,Io(u,d))}}finally{k(a)}}else if(o!==void 0){let a=Tw(o,s);a!==void 0&&(a[me]=t)}}var ng=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Oe}};function Qg(e){return e}function ui(e,t){return t}var rg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Zn(e,t,n,r,i,o,s,a,c,l,u,d,f){et("NgControlFlow");let h=Y(),p=$e(),y=c!==void 0,w=Y(),T=a?s.bind(w[He][me]):s,le=new rg(y,T);w[se+e]=le,ru(h,p,e+1,t,n,r,i,ur(p.consts,o),256),y&&ru(h,p,e+2,c,l,u,d,ur(p.consts,f),512)}var ig=class extends eg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Oe}at(t){return this.getLView(t)[me].$implicit}attach(t,n){let r=n[Je];this.needsIndexUpdate||=t!==this.length,Xs(this.lContainer,n,t,Io(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,Ek(this.lContainer,t)}create(t,n){let r=Jl(this.lContainer,this.templateTNode.tView.ssrId),i=Cu(this.hostLView,this.templateTNode,new ng(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){Eu(t[S],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[me].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[me].$index=t}getLView(t){return Ik(this.lContainer,t)}};function Qn(e){let t=k(null),n=Bn();try{let r=Y(),i=r[S],o=r[n],s=n+1,a=cu(r,s);if(o.liveCollection===void 0){let l=og(i,s);o.liveCollection=new ig(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(_k(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Jr(),u=c.length===0;if(zn(r,l,u)){let d=n+2,f=cu(r,d);if(u){let h=og(i,d),p=xw(f,h,r),y=Cu(r,h,void 0,{dehydratedView:p});Xs(f,y,0,Io(h,p))}else i.firstUpdatePass&&Tu(f),Vg(f,0)}}}finally{k(t)}}function cu(e,t){return e[t]}function Ek(e,t){return zs(e,t)}function Ik(e,t){return Tw(e,t)}function og(e,t){return Qr(e,t)}function ye(e,t,n){let r=Y(),i=Jr();if(zn(r,i,t)){let o=$e(),s=Ml();gw(s,r,e,t,r[te],n)}return ye}function $I(e,t,n,r,i){Pg(t,e,n,i?"class":"style",r)}function E(e,t,n,r){let i=Y(),o=i[S],s=e+se,a=o.firstCreatePass?Vw(s,i,2,t,dO,BE(),n,r):o.data[s];if(gO(a,i,e,t,ub),Dl(a)){let c=i[S];dw(c,i,a),qC(c,a,i)}return r!=null&&fw(i,a),E}function C(){let e=$e(),t=We(),n=mO(t);return e.firstCreatePass&&jw(e,n),HE(n)&&WE(),UE(),n.classesWithoutHost!=null&&UN(n)&&$I(e,n,Y(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&BN(n)&&$I(e,n,Y(),n.stylesWithoutHost,!1),C}function De(e,t,n,r){return E(e,t,n,r),C(),De}var ub=(e,t,n,r,i)=>(Hn(!0),Dg(t[te],r,yp()));function Ck(e,t,n,r,i){let o=!vu(t,n);if(Hn(o),o)return Dg(t[te],r,yp());let s=t[Je],a=bu(s,e,t,n);return $C(s,i)&&mu(s,i,a.nextSibling),s&&(lC(n)||uC(a))&&Un(n)&&($E(n),rw(a)),a}function db(){ub=Ck}var wk=(e,t,n,r,i)=>(Hn(!0),tw(t[te],""));function bk(e,t,n,r,i){let o,s=!vu(t,n);if(Hn(s),s)return tw(t[te],"");let a=t[Je],c=bu(a,e,t,n),l=gM(a,i);return mu(a,i,c),o=Du(l,c),o}function fb(){wk=bk}function di(){return Y()}var ia="en-US";var Dk=ia;function hb(e){typeof e=="string"&&(Dk=e.toLowerCase().replace(/_/g,"-"))}function Te(e,t,n){let r=Y(),i=$e(),o=We();return pb(i,r,r[te],o,e,t,n),Te}function pb(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Np(r,t,o),ux(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],h=u[d+1];c??=Np(r,t,o),TI(r,t,f,h,i,c)}if(l&&l.length)for(let d of l)c??=Np(r,t,o),TI(r,t,d,i,i,c)}}function ie(e=1){return nI(e)}function Ll(e,t){return e<<17|t<<2}function oi(e){return e>>17&32767}function Tk(e){return(e&2)==2}function Sk(e,t){return e&131071|t<<17}function sg(e){return e|2}function wo(e){return(e&131068)>>2}function Pp(e,t){return e&-131069|t<<2}function Ak(e){return(e&1)===1}function ag(e){return e|1}function Rk(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=oi(s),c=wo(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||uo(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=oi(e[a+1]);e[r+1]=Ll(f,a),f!==0&&(e[f+1]=Pp(e[f+1],r)),e[a+1]=Sk(e[a+1],r)}else e[r+1]=Ll(a,0),a!==0&&(e[a+1]=Pp(e[a+1],r)),a=r;else e[r+1]=Ll(c,0),a===0?a=r:e[c+1]=Pp(e[c+1],r),c=r;l&&(e[r+1]=sg(e[r+1])),WI(e,u,r,!0),WI(e,u,r,!1),Nk(t,u,e,r,o),s=Ll(a,c),o?t.classBindings=s:t.styleBindings=s}function Nk(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&uo(o,t)>=0&&(n[r+1]=ag(n[r+1]))}function WI(e,t,n,r){let i=e[n+1],o=t===null,s=r?oi(i):wo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];Mk(c,t)&&(a=!0,e[s+1]=r?ag(l):sg(l)),s=r?oi(l):wo(l)}a&&(e[n+1]=r?sg(i):ag(i))}function Mk(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?uo(e,t)>=0:!1}function xu(e,t,n){return gb(e,t,n,!1),xu}function oa(e,t){return gb(e,t,null,!0),oa}function gb(e,t,n,r){let i=Y(),o=$e(),s=pp(2);if(o.firstUpdatePass&&xk(o,e,s,r),t!==_t&&zn(i,s,t)){let a=o.data[Bn()];Vk(o,a,i,i[te],e,i[s+1]=jk(t,n),r,s)}}function Ok(e,t){return t>=e.expandoStartIndex}function xk(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Bn()],s=Ok(e,n);Uk(o,r)&&t===null&&!s&&(t=!1),t=kk(i,o,t,r),Rk(i,o,t,n,s,r)}}function kk(e,t,n,r){let i=JE(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Fp(null,e,t,n,r),n=qs(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Fp(i,e,t,n,r),o===null){let c=Pk(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Fp(null,e,t,c[1],r),c=qs(c,t.attrs,r),Fk(e,t,r,c))}else o=Lk(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function Pk(e,t,n){let r=n?t.classBindings:t.styleBindings;if(wo(r)!==0)return e[oi(r)]}function Fk(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[oi(i)]=r}function Lk(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=qs(r,s,n)}return qs(r,t.attrs,n)}function Fp(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=qs(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function qs(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),bE(e,s,n?!0:t[++o]))}return e===void 0?null:e}function Vk(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=Ak(l)?zI(c,t,n,i,wo(l),s):void 0;if(!lu(u)){lu(o)||Tk(l)&&(o=zI(c,null,n,i,a,s));let d=rp(Bn(),n);tO(r,s,d,i,o)}}function zI(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===_t&&(f=d?lt:void 0);let h=d?Il(f,r):u===r?f:void 0;if(l&&!lu(h)&&(h=Il(c,r)),lu(h)&&(a=h,s))return a;let p=e[i+1];i=s?oi(p):wo(p)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Il(c,r))}return a}function lu(e){return e!==void 0}function jk(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Ln(Do(e)))),e}function Uk(e,t){return(e.flags&(t?8:16))!==0}function A(e,t=""){let n=Y(),r=$e(),i=e+se,o=r.firstCreatePass?jg(r,i,1,t,null):r.data[i],s=mb(r,n,o,t,e);n[i]=s,Ol()&&Og(r,n,s,o),go(o,!1)}var mb=(e,t,n,r,i)=>(Hn(!0),ew(t[te],r));function Bk(e,t,n,r,i){let o=!vu(t,n);if(Hn(o),o)return ew(t[te],r);let s=t[Je];return bu(s,e,t,n)}function vb(){mb=Bk}function Hk(e,t,n,r=""){return zn(e,Jr(),n)?t+Wr(n)+r:_t}function $k(e,t,n,r,i,o=""){let s=qE(),a=Bw(e,s,n,i);return pp(2),a?t+Wr(n)+r+Wr(i)+o:_t}function Rt(e){return ze("",e),Rt}function ze(e,t,n){let r=Y(),i=Hk(r,e,t,n);return i!==_t&&yb(r,Bn(),i),ze}function ku(e,t,n,r,i){let o=Y(),s=$k(o,e,t,n,r,i);return s!==_t&&yb(o,Bn(),s),ku}function yb(e,t,n){let r=rp(t,e);FM(e[te],r,n)}function Ao(e,t,n){Ip(t)&&(t=t());let r=Y(),i=Jr();if(zn(r,i,t)){let o=$e(),s=Ml();gw(s,r,e,t,r[te],n)}return Ao}function sa(e,t){let n=Ip(e);return n&&e.set(t),n}function Ro(e,t){let n=Y(),r=$e(),i=We();return pb(r,n,n[te],i,e,t),Ro}function Wk(e,t,n){let r=$e();if(r.firstCreatePass){let i=un(e);cg(n,r.data,r.blueprint,i,!0),cg(t,r.data,r.blueprint,i,!1)}}function cg(e,t,n,r,i){if(e=Pe(e),Array.isArray(e))for(let o=0;o<e.length;o++)cg(e[o],t,n,r,i);else{let o=$e(),s=Y(),a=We(),c=Br(e)?e:Pe(e.provide),l=Xh(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Br(e)||!e.multi){let h=new ti(l,i,V,null),p=Vp(c,t,i?u:u+f,d);p===-1?(Up(Gl(a,s),o,c),Lp(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Vp(c,t,u+f,d),p=Vp(c,t,u,u+f),y=h>=0&&n[h],w=p>=0&&n[p];if(i&&!w||!i&&!y){Up(Gl(a,s),o,c);let T=qk(i?Gk:zk,n.length,i,r,l,e);!i&&w&&(n[p].providerFactory=T),Lp(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=_b(n[i?p:h],l,!i&&r);Lp(o,e,h>-1?h:p,T)}!i&&r&&w&&n[p].componentProviders++}}}function Lp(e,t,n,r){let i=Br(t),o=AE(t);if(i||o){let c=(o?Pe(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function _b(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Vp(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function zk(e,t,n,r,i){return lg(this.multi,[])}function Gk(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=ql(r,r[S],this.providerFactory.index,i);s=c.slice(0,a),lg(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],lg(o,s);return s}function lg(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function qk(e,t,n,r,i,o){let s=new ti(e,n,V,null);return s.multi=[],s.index=t,s.componentProviders=0,_b(s,i,r&&!n),s}function gn(e,t=[]){return n=>{n.providersResolver=(r,i)=>Wk(r,i?i(e):e,t)}}function pr(e,t,n){let r=hp()+e,i=Y();return i[r]===_t?Uw(i,r,n?t.call(n):t()):lx(i,r)}function aa(e,t,n,r,i){return Kk(Y(),hp(),e,t,n,r,i)}function Yk(e,t){let n=e[t];return n===_t?void 0:n}function Kk(e,t,n,r,i,o,s){let a=t+n;return Bw(e,a,i,o)?Uw(e,a+2,s?r.call(s,i,o):r(i,o)):Yk(e,a+2)}var uu=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Jg=(()=>{class e{compileModuleSync(n){return new nu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Zh(n),o=JC(i.declarations).reduce((s,a)=>{let c=an(a);return c&&s.push(new ii(c)),s},[]);return new uu(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Zk=(()=>{class e{zone=g(ee);changeDetectionScheduler=g(Vn);applicationRef=g(Ve);applicationErrorHandler=g(mt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Eb({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ee(x(v({},Ib()),{scheduleInRootZone:n})),[{provide:ee,useFactory:e},{provide:Ft,multi:!0,useFactory:()=>{let r=g(Zk,{optional:!0});return()=>r.initialize()}},{provide:Ft,multi:!0,useFactory:()=>{let r=g(Qk);return()=>{r.initialize()}}},t===!0?{provide:Cp,useValue:!0}:[],{provide:wp,useValue:n??Jw},{provide:mt,useFactory:()=>{let r=g(ee),i=g(de),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(kt),o.handleError(s))})}}}]}function Ib(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var Qk=(()=>{class e{subscription=new ue;initialized=!1;zone=g(ee);pendingTasks=g(Ht);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Cb=(()=>{class e{applicationErrorHandler=g(mt);appRef=g(Ve);taskService=g(Ht);ngZone=g(ee);zonelessEnabled=g(Vs);tracing=g(ci,{optional:!0});disableScheduling=g(Cp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(iu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(wp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ou||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?OI:Xw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(iu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,OI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jk(){return typeof $localize<"u"&&$localize.locale||ia}var Xg=new I("",{providedIn:"root",factory:()=>g(Xg,{optional:!0,skipSelf:!0})||Jk()});function Gt(e){return pE(e)}function fi(e,t){return Bc(e,t?.equal)}var wb=class{[Le];constructor(t){this[Le]=t}destroy(){this[Le].destroy()}};var im={JSACTION:"__jsaction",OWNER:"__owner"},Sb={};function Xk(e){return e[im.JSACTION]}function bb(e,t){e[im.JSACTION]=t}function eP(e){return Sb[e]}function tP(e,t){Sb[e]=t}var N={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},nP=[N.MOUSEENTER,N.MOUSELEAVE,"pointerenter","pointerleave"],v5=[N.CLICK,N.DBLCLICK,N.FOCUSIN,N.FOCUSOUT,N.KEYDOWN,N.KEYUP,N.KEYPRESS,N.MOUSEOVER,N.MOUSEOUT,N.SUBMIT,N.TOUCHSTART,N.TOUCHEND,N.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],rP=[N.FOCUS,N.BLUR,N.ERROR,N.LOAD,N.TOGGLE],om=e=>rP.indexOf(e)>=0;function iP(e){return e===N.MOUSEENTER?N.MOUSEOVER:e===N.MOUSELEAVE?N.MOUSEOUT:e===N.POINTERENTER?N.POINTEROVER:e===N.POINTERLEAVE?N.POINTEROUT:e}function oP(e,t,n,r){let i=!1;om(t)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return e.addEventListener(t,n,o),{eventType:t,handler:n,capture:i,passive:r}}function sP(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function aP(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var Db=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function cP(e){return e.which===2||e.which==null&&e.button===4}function lP(e){return Db&&e.metaKey||!Db&&e.ctrlKey||cP(e)||e.shiftKey}function uP(e,t,n){let r=e.relatedTarget;return(e.type===N.MOUSEOVER&&t===N.MOUSEENTER||e.type===N.MOUSEOUT&&t===N.MOUSELEAVE||e.type===N.POINTEROVER&&t===N.POINTERENTER||e.type===N.POINTEROUT&&t===N.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function dP(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let i=r,o=e[i];typeof o!="function"&&(n[i]=o)}return e.type===N.MOUSEOVER?n.type=N.MOUSEENTER:e.type===N.MOUSEOUT?n.type=N.MOUSELEAVE:e.type===N.POINTEROVER?n.type=N.POINTERENTER:n.type=N.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var fP=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Vu=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){fP&&(this.element.style.cursor="pointer"),this.handlerInfos.push(oP(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)sP(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},hP={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function gr(e){return e.eventType}function sm(e,t){e.eventType=t}function Fu(e){return e.event}function Ab(e,t){e.event=t}function Rb(e){return e.targetElement}function Nb(e,t){e.targetElement=t}function Mb(e){return e.eic}function pP(e,t){e.eic=t}function gP(e){return e.timeStamp}function mP(e,t){e.timeStamp=t}function Lu(e){return e.eia}function Ob(e,t,n){e.eia=[t,n]}function em(e){e.eia=void 0}function Pu(e){return e[1]}function vP(e){return e.eirp}function xb(e,t){e.eirp=t}function kb(e){return e.eir}function Pb(e,t){e.eir=t}function Fb(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function yP(e,t,n,r,i,o,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var tm=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return gr(this.eventInfo)}setEventType(t){sm(this.eventInfo,t)}getEvent(){return Fu(this.eventInfo)}setEvent(t){Ab(this.eventInfo,t)}getTargetElement(){return Rb(this.eventInfo)}setTargetElement(t){Nb(this.eventInfo,t)}getContainer(){return Mb(this.eventInfo)}setContainer(t){pP(this.eventInfo,t)}getTimestamp(){return gP(this.eventInfo)}setTimestamp(t){mP(this.eventInfo,t)}getAction(){let t=Lu(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){em(this.eventInfo);return}Ob(this.eventInfo,t.name,t.element)}getIsReplay(){return vP(this.eventInfo)}setIsReplay(t){xb(this.eventInfo,t)}getResolved(){return kb(this.eventInfo)}setResolved(t){Pb(this.eventInfo,t)}clone(){return new e(Fb(this.eventInfo))}},_P={},EP=/\s*;\s*/,IP=N.CLICK,nm=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&gr(t)===N.CLICK&&lP(Fu(t))?sm(t,N.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){kb(t)||(this.populateAction(t,Rb(t)),Pb(t,!0))}resolveParentAction(t){let n=Lu(t),r=n&&Pu(n);em(t);let i=r&&this.getParentNode(r);i&&this.populateAction(t,i)}populateAction(t,n){let r=n;for(;r&&r!==Mb(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!Lu(t));)r=this.getParentNode(r);let i=Lu(t);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(gr(t)===N.MOUSEENTER||gr(t)===N.MOUSELEAVE||gr(t)===N.POINTERENTER||gr(t)===N.POINTERLEAVE)))if(uP(Fu(t),gr(t),Pu(i))){let o=dP(Fu(t),Pu(i));Ab(t,o),Nb(t,Pu(i))}else em(t)}getParentNode(t){let n=t[im.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),i=r[gr(n)];i!==void 0&&Ob(n,i,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=Xk(t);if(!n){let r=t.getAttribute(kl.JSACTION);if(!r)n=_P,bb(t,n);else{if(n=eP(r),!n){n={};let i=r.split(EP);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(hP.EVENT_ACTION_SEPARATOR),c=a!==-1,l=c?s.substr(0,a).trim():IP,u=c?s.substr(a+1).trim():s;n[l]=u}tP(r,n)}bb(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},Lb=function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e}(Lb||{}),rm=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new tm(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&CP(r.element,n)&&aP(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function CP(e,t){return e.tagName==="A"&&(t.getEventType()===N.CLICK||t.getEventType()===N.CLICKMOD)}var Vb=Symbol.for("propagationStopped"),am={REPLAY:101};var wP="`preventDefault` called during event replay.";var bP="`composedPath` called during event replay.",ju=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new nm({clickModSupport:n}),this.dispatcher=new rm(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&SP(t),DP(t);t.getAction();){if(AP(t),om(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),TP(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function DP(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[Vb]=!0,n()};hi(t,"stopPropagation",r),hi(t,"stopImmediatePropagation",r)}function TP(e){return!!e.getEvent()[Vb]}function SP(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);hi(t,"target",n),hi(t,"eventPhase",am.REPLAY),hi(t,"preventDefault",()=>{throw r(),new Error(wP+"")}),hi(t,"composedPath",()=>{throw new Error(bP+"")})}function AP(e){let t=e.getEvent(),n=e.getAction()?.element;n&&hi(t,"currentTarget",n,{configurable:!0})}function hi(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function jb(e,t){e.ecrd(n=>{t.dispatch(n)},Lb.I_AM_THE_JSACTION_FRAMEWORK)}function RP(e){return e?.q??[]}function NP(e){e&&(Tb(e.c,e.et,e.h),Tb(e.c,e.etc,e.h,!0))}function Tb(e,t,n,r){for(let i=0;i<t.length;i++)e.removeEventListener(t[i],n,r)}var MP=!1,Ub=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=MP;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=yP(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){xb(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&nP.indexOf(n)>=0)return;let o=(a,c,l)=>{this.handleEvent(a,c,l)};this.eventHandlers[n]=o;let s=iP(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(n,c,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),NP(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=Fb(i);sm(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return e})();function Bb(e,t=window){return RP(t._ejsas?.[e])}function cm(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var qb=Symbol("InputSignalNode#UNSET"),t1=x(v({},Hc),{transformFn:void 0,applyValueToInputSignal(e,t){qi(e,t)}});function Yb(e,t){let n=Object.create(t1);n.value=e,n.transformFn=t?.transform;function r(){if(Wi(n),n.value===qb){let i=null;throw new b(-950,i)}return n.value}return r[Le]=n,r}var $u=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Ys(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},n1=new I("");n1.__NG_ELEMENT_ID__=e=>{let t=We();if(t===null)throw new b(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new b(204,!1)};function Hb(e,t){return Yb(e,t)}function r1(e){return Yb(qb,e)}var Kb=(Hb.required=r1,Hb);var mr=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Zb=new mr("20.1.7");var lm=new I(""),i1=new I("");function ca(e){return!e.moduleRef}function o1(e){let t=ca(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ee);return n.run(()=>{ca(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(mt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),ca(e)){let o=()=>t.destroy(),s=e.platformInjector.get(lm);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(lm);s.add(o),e.moduleRef.onDestroy(()=>{Bs(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return a1(r,n,()=>{let o=t.get(Ht),s=o.add(),a=t.get(Kg);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Xg,ia);if(hb(c||ia),!t.get(i1,!0))return ca(e)?t.get(Ve):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ca(e)){let u=t.get(Ve);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return s1?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var s1;function a1(e,t,n){try{let r=n();return li(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Bu=null;function c1(e=[],t){return fe.create({name:t,providers:[{provide:Ns,useValue:"platform"},{provide:lm,useValue:new Set([()=>Bu=null])},...e]})}function l1(e=[]){if(Bu)return Bu;let t=c1(e);return Bu=t,sb(),u1(t),t}function u1(e){let t=e.get(du,null);ge(e,()=>{t?.forEach(n=>n())})}function dm(){return!1}var vr=(()=>{class e{static __NG_ELEMENT_ID__=d1}return e})();function d1(e){return f1(We(),Y(),(e&16)===16)}function f1(e,t,n){if(Un(e)&&!n){let r=St(e.index,t);return new ni(r,r)}else if(e.type&175){let r=t[He];return new ni(r,t)}return null}function Qb(e){Z(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=l1(r),o=[Eb({}),{provide:Vn,useExisting:Cb},iI,...n||[]],s=new Gs({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return o1({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Z(9)}}var Uu=new WeakSet,$b="",Hu=[];function Wb(e){return e.get(vg,SC)}function Jb(){let e=[{provide:vg,useFactory:()=>{let t=!0;{let n=g(hn);t=!!window._ejsas?.[n]}return t&&et("NgEventReplay"),t}}];return e.push({provide:Ft,useValue:()=>{let t=g(Ve),{injector:n}=t;if(!Uu.has(t)){let r=g(yg);if(Wb(n)){PC();let i=n.get(hn),o=xC(i,(s,a,c)=>{s.nodeType===Node.ELEMENT_NODE&&(RC(s,a,c),NC(s,r))});t.onDestroy(o)}}},multi:!0},{provide:Yn,useFactory:()=>{let t=g(Ve),{injector:n}=t;return()=>{if(!Wb(n)||Uu.has(t))return;Uu.add(t);let r=n.get(hn);t.onDestroy(()=>{Uu.delete(t),cm(r)}),t.whenStable().then(()=>{if(t.destroyed)return;let i=n.get(OC);h1(i,n);let o=n.get(yg);o.get($b)?.forEach(MC),o.delete($b);let s=i.instance;HC(n)?t.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),e}var h1=(e,t)=>{let n=t.get(hn),r=window._ejsas[n],i=e.instance=new Ub(new Vu(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=Bb(n);i.replayEarlyEventInfos(o),cm(n);let s=new ju(a=>{p1(t,a,a.currentTarget)});jb(i,s)};function p1(e,t,n){let r=(n&&n.getAttribute(Qs))??"";/d\d+/.test(r)?g1(r,e,t,n):t.eventPhase===am.REPLAY&&_g(t,n)}function g1(e,t,n,r){Hu.push({event:n,currentTarget:r}),lb(t,e,m1)}function m1(e){let t=[...Hu],n=new Set(e);Hu=[];for(let{event:r,currentTarget:i}of t){let o=i.getAttribute(Qs);n.has(o)?_g(r,i):Hu.push({event:r,currentTarget:i})}}var zb=!1;function v1(){zb||(zb=!0,jC(),db(),vb(),fb(),Qw(),Gw(),Ow(),pw())}function y1(e){return e.whenStable()}function Xb(){let e=[{provide:Zs,useFactory:()=>{let t=!0;return t=!!g(si,{optional:!0})?.get(Eg,null),t&&et("NgHydration"),t}},{provide:Ft,useValue:()=>{Aw(!1),g(Zs)&&(zC(Ks()),v1())},multi:!0}];return e.push({provide:mg,useFactory:()=>g(Zs)},{provide:Yn,useFactory:()=>{if(g(Zs)){let t=g(Ve);return()=>{y1(t).then(()=>{t.destroyed||Ug(t)})}}return()=>{}},multi:!0}),dt(e)}function pi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function eD(e){let t=an(e);if(!t)return null;let n=new ii(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var rD=null;function Nt(){return rD}function fm(e){rD??=e}var la=class{},ua=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(iD),providedIn:"platform"})}return e})(),hm=new I(""),iD=(()=>{class e extends ua{_location;_history;_doc=g(ve);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nt().getBaseHref(this._doc)}onPopState(n){let r=Nt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Nt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Wu(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function tD(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function qt(e){return e&&e[0]!=="?"?`?${e}`:e}var Yt=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(Gu),providedIn:"root"})}return e})(),zu=new I(""),Gu=(()=>{class e extends Yt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Wu(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+qt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(M(ua),M(zu,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yr=(()=>{class e{_subject=new Ee;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=I1(tD(nD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+qt(r))}normalize(n){return e.stripTrailingSlash(E1(this._basePath,nD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=qt;static joinWithSlash=Wu;static stripTrailingSlash=tD;static \u0275fac=function(r){return new(r||e)(M(Yt))};static \u0275prov=D({token:e,factory:()=>_1(),providedIn:"root"})}return e})();function _1(){return new yr(M(Yt))}function E1(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function nD(e){return e.replace(/\/index.html$/,"")}function I1(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var gm=(()=>{class e extends Yt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Wu(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(M(ua),M(zu,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();var pm=/\s+/,oD=[],mm=(()=>{class e{_ngEl;_renderer;initialClasses=oD;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(pm):oD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(pm):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(pm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(V(At),V(zt))};static \u0275dir=ce({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var qu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=pn({type:e});static \u0275inj=Pt({})}return e})();function vm(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var da=class{};var _m="browser";function No(e){return e===_m}var sD=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new ym(g(ve),window)})}return e})(),ym=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(x(v({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=w1(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(jn(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(x(v({},n),{left:i-s[0],top:o-s[1]}))}};function w1(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Ku=new I(""),bm=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(M(Ku),M(ee))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),fa=class{_doc;constructor(t){this._doc=t}manager},Em="ng-app-id";function aD(e){for(let t of e)t.remove()}function cD(e,t){let n=t.createElement("style");return n.textContent=e,n}function D1(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Em}="${t}"],link[${Em}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Em),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Cm(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Dm=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,D1(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,cD);r?.forEach(i=>this.addUsage(i,this.external,Cm))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(aD(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])aD(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,cD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Cm(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(M(ve),M(hn),M(fu,8),M(Xe))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Im={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Tm=/%COMP%/g;var uD="%COMP%",T1=`_nghost-${uD}`,S1=`_ngcontent-${uD}`,A1=!0,R1=new I("",{providedIn:"root",factory:()=>A1});function N1(e){return S1.replace(Tm,e)}function M1(e){return T1.replace(Tm,e)}function dD(e,t){return t.map(n=>n.replace(Tm,e))}var Sm=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new ha(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Yu?i.applyToHost(n):i instanceof pa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case $n.Emulated:o=new Yu(c,l,r,this.appId,u,s,a,d,f);break;case $n.ShadowDom:return new wm(c,l,n,r,s,a,this.nonce,d,f);default:o=new pa(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(M(bm),M(Dm),M(hn),M(R1),M(ve),M(Xe),M(ee),M(fu),M(ci,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),ha=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Im[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(lD(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(lD(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Im[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Im[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Wn.DashCase|Wn.Important)?t.style.setProperty(n,r,i&Wn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Wn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Nt().getGlobalEventTarget(this.doc,t),!t))throw new b(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function lD(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var wm=class extends ha{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=dD(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Cm(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pa=class extends ha{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?dD(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Yu=class extends pa{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,l,u),this.contentAttr=N1(u),this.hostAttr=M1(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Zu=class e extends la{supportsDOMEvents=!0;static makeCurrent(){fm(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=O1();return n==null?null:x1(n)}resetBaseElement(){ga=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return vm(document.cookie,t)}},ga=null;function O1(){return ga=ga||document.head.querySelector("base"),ga?ga.getAttribute("href"):null}function x1(e){return new URL(e,document.baseURI).pathname}var k1=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),hD=(()=>{class e extends fa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(M(ve))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),fD=["alt","control","meta","shift"],P1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F1={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},pD=(()=>{class e extends fa{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),fD.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=P1[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),fD.forEach(s=>{if(s!==i){let a=F1[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(M(ve))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function Am(e,t){let n=v({rootComponent:e},L1(t));return Qb(n)}function L1(e){return{appProviders:[...H1,...e?.providers??[]],platformProviders:B1}}function V1(){Zu.makeCurrent()}function j1(){return new kt}function U1(){return hg(document),document}var B1=[{provide:Xe,useValue:_m},{provide:du,useValue:V1,multi:!0},{provide:ve,useFactory:U1}];var H1=[{provide:Ns,useValue:"root"},{provide:kt,useFactory:j1},{provide:Ku,useClass:hD,multi:!0,deps:[ve]},{provide:Ku,useClass:pD,multi:!0,deps:[ve]},Sm,Dm,bm,{provide:ri,useExisting:Sm},{provide:da,useClass:k1},[]];var ma=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var $1="X-Request-URL",W1="text/plain",z1="application/json",CJ=`${z1}, ${W1}, */*`;var Nm=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Nm||{}),Rm=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new ma,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Qu=class e extends Rm{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Nm.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var gD=new I("");var wJ=RegExp(`^${$1}:`,"m");var G1=new I(""),q1="b",Y1="h",K1="s",Z1="st",Q1="u",J1="rt",Mm=new I(""),X1=["GET","HEAD"];function eF(e,t){let h=g(Mm),{isCacheActive:n}=h,r=L_(h,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!X1.includes(o)||!r.includeRequestsWithAuthHeaders&&tF(e)||r.filter?.(e)===!1)return t(e);let s=g(si);if(g(G1,{optional:!0}))throw new b(2803,!1);let c=e.url,l=nF(e,c),u=s.get(l,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[q1]:p,[J1]:y,[Y1]:w,[K1]:T,[Z1]:le,[Q1]:Ne}=u,on=p;switch(y){case"arraybuffer":on=new TextEncoder().encode(p).buffer;break;case"blob":on=new Blob([p]);break}let Nc=new ma(w);return R(new Qu({body:on,headers:Nc,status:T,statusText:le,url:Ne}))}return t(e)}function tF(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function mD(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function nF(e,t){let{params:n,method:r,responseType:i}=e,o=mD(n),s=e.serializeBody();s instanceof URLSearchParams?s=mD(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),c=rF(a);return c}function rF(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function vD(e){return[{provide:Mm,useFactory:()=>(et("NgHttpTransferCache"),v({isCacheActive:!0},e))},{provide:gD,useValue:eF,multi:!0},{provide:Yn,multi:!0,useFactory:()=>{let t=g(Ve),n=g(Mm);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var yD=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(M(ve))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var va=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e}(va||{});function _D(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function ED(){return _D(va.NoHttpTransferCache)}function ID(){return _D(va.EventReplay,Jb())}function CD(...e){let t=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);let r=n.has(va.HttpTransferCacheOptions);return dt([[],Xb(),n.has(va.NoHttpTransferCache)||r?[]:vD({}),t])}var j="primary",Na=Symbol("RouteTitle"),Fm=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vi(e){return new Fm(e)}function ND(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function oF(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!mn(e[n],t[n]))return!1;return!0}function mn(e,t){let n=e?Lm(e):void 0,r=t?Lm(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!MD(e[i],t[i]))return!1;return!0}function Lm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function MD(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function OD(e){return e.length>0?e[e.length-1]:null}function Jn(e){return yh(e)?e:li(e)?ae(Promise.resolve(e)):R(e)}var sF={exact:kD,subset:PD},xD={exact:aF,subset:cF,ignored:()=>!0};function wD(e,t,n){return sF[n.paths](e.root,t.root,n.matrixParams)&&xD[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function aF(e,t){return mn(e,t)}function kD(e,t,n){if(!gi(e.segments,t.segments)||!ed(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!kD(e.children[r],t.children[r],n))return!1;return!0}function cF(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>MD(e[n],t[n]))}function PD(e,t,n){return FD(e,t,t.segments,n)}function FD(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!gi(i,n)||t.hasChildren()||!ed(i,n,r))}else if(e.segments.length===n.length){if(!gi(e.segments,n)||!ed(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!PD(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!gi(e.segments,i)||!ed(e.segments,i,r)||!e.children[j]?!1:FD(e.children[j],t,o,r)}}function ed(e,t,n){return t.every((r,i)=>xD[n](e[i].parameters,r.parameters))}var yn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Q([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vi(this.queryParams),this._queryParamMap}toString(){return dF.serialize(this)}},Q=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return td(this)}},_r=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=vi(this.parameters),this._parameterMap}toString(){return VD(this)}};function lF(e,t){return gi(e,t)&&e.every((n,r)=>mn(n.parameters,t[r].parameters))}function gi(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function uF(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===j&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==j&&(n=n.concat(t(i,r)))}),n}var yi=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new Er,providedIn:"root"})}return e})(),Er=class{parse(t){let n=new jm(t);return new yn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ya(t.root,!0)}`,r=pF(t.queryParams),i=typeof t.fragment=="string"?`#${fF(t.fragment)}`:"";return`${n}${r}${i}`}},dF=new Er;function td(e){return e.segments.map(t=>VD(t)).join("/")}function ya(e,t){if(!e.hasChildren())return td(e);if(t){let n=e.children[j]?ya(e.children[j],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==j&&r.push(`${i}:${ya(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=uF(e,(r,i)=>i===j?[ya(e.children[j],!1)]:[`${i}:${ya(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[j]!=null?`${td(e)}/${n[0]}`:`${td(e)}/(${n.join("//")})`}}function LD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ju(e){return LD(e).replace(/%3B/gi,";")}function fF(e){return encodeURI(e)}function Vm(e){return LD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nd(e){return decodeURIComponent(e)}function bD(e){return nd(e.replace(/\+/g,"%20"))}function VD(e){return`${Vm(e.path)}${hF(e.parameters)}`}function hF(e){return Object.entries(e).map(([t,n])=>`;${Vm(t)}=${Vm(n)}`).join("")}function pF(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ju(n)}=${Ju(i)}`).join("&"):`${Ju(n)}=${Ju(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var gF=/^[^\/()?;#]+/;function Om(e){let t=e.match(gF);return t?t[0]:""}var mF=/^[^\/()?;=#]+/;function vF(e){let t=e.match(mF);return t?t[0]:""}var yF=/^[^=?&#]+/;function _F(e){let t=e.match(yF);return t?t[0]:""}var EF=/^[^&#]+/;function IF(e){let t=e.match(EF);return t?t[0]:""}var jm=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[j]=new Q(t,n)),r}parseSegment(){let t=Om(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(t),new _r(nd(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=vF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Om(this.remaining);i&&(r=i,this.capture(r))}t[nd(n)]=nd(r)}parseQueryParam(t){let n=_F(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=IF(this.remaining);s&&(r=s,this.capture(r))}let i=bD(n),o=bD(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Om(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=j);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[j]:new Q([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new b(4011,!1)}};function jD(e){return e.segments.length>0?new Q([],{[j]:e}):e}function UD(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=UD(i);if(r===j&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Q(e.segments,t);return CF(n)}function CF(e){if(e.numberOfChildren===1&&e.children[j]){let t=e.children[j];return new Q(e.segments.concat(t.segments),t.children)}return e}function Ir(e){return e instanceof yn}function BD(e,t,n=null,r=null){let i=HD(e);return $D(i,t,n,r)}function HD(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Q(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=jD(r);return t??i}function $D(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return xm(i,i,i,n,r);let o=wF(t);if(o.toRoot())return xm(i,i,new Q([],{}),n,r);let s=bF(o,i,e),a=s.processChildren?Ea(s.segmentGroup,s.index,o.commands):zD(s.segmentGroup,s.index,o.commands);return xm(i,s.segmentGroup,a,n,r)}function rd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ca(e){return typeof e=="object"&&e!=null&&e.outlets}function xm(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=WD(e,t,n);let a=jD(UD(s));return new yn(a,o,i)}function WD(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=WD(o,t,n)}),new Q(e.segments,r)}var id=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&rd(r[0]))throw new b(4003,!1);let i=r.find(Ca);if(i&&i!==OD(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wF(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new id(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new id(n,t,r)}var xo=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function bF(e,t,n){if(e.isAbsolute)return new xo(t,!0,0);if(!n)return new xo(t,!1,NaN);if(n.parent===null)return new xo(n,!0,0);let r=rd(e.commands[0])?0:1,i=n.segments.length-1+r;return DF(n,i,e.numberOfDoubleDots)}function DF(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new xo(r,!1,i-o)}function TF(e){return Ca(e[0])?e[0].outlets:{[j]:e}}function zD(e,t,n){if(e??=new Q([],{}),e.segments.length===0&&e.hasChildren())return Ea(e,t,n);let r=SF(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Q(e.segments.slice(0,r.pathIndex),{});return o.children[j]=new Q(e.segments.slice(r.pathIndex),e.children),Ea(o,0,i)}else return r.match&&i.length===0?new Q(e.segments,{}):r.match&&!e.hasChildren()?Um(e,t,n):r.match?Ea(e,0,i):Um(e,t,n)}function Ea(e,t,n){if(n.length===0)return new Q(e.segments,{});{let r=TF(n),i={};if(Object.keys(r).some(o=>o!==j)&&e.children[j]&&e.numberOfChildren===1&&e.children[j].segments.length===0){let o=Ea(e.children[j],t,n);return new Q(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=zD(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Q(e.segments,i)}}function SF(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(Ca(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!TD(c,l,s))return o;r+=2}else{if(!TD(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Um(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(Ca(o)){let c=AF(o.outlets);return new Q(r,c)}if(i===0&&rd(n[0])){let c=e.segments[t];r.push(new _r(c.path,DD(n[0]))),i++;continue}let s=Ca(o)?o.outlets[j]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&rd(a)?(r.push(new _r(s,DD(a))),i+=2):(r.push(new _r(s,{})),i++)}return new Q(r,{})}function AF(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Um(new Q([],{}),0,r))}),t}function DD(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function TD(e,t,n){return e==n.path&&mn(t,n.parameters)}var ko="imperative",Ae=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ae||{}),Ct=class{id;url;constructor(t,n){this.id=t,this.url=n}},Cr=class extends Ct{type=Ae.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mt=class extends Ct{urlAfterRedirects;type=Ae.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ge=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Ge||{}),Fo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Fo||{}),vn=class extends Ct{reason;code;type=Ae.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_n=class extends Ct{reason;code;type=Ae.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Lo=class extends Ct{error;target;type=Ae.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wa=class extends Ct{urlAfterRedirects;state;type=Ae.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},od=class extends Ct{urlAfterRedirects;state;type=Ae.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sd=class extends Ct{urlAfterRedirects;state;shouldActivate;type=Ae.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ad=class extends Ct{urlAfterRedirects;state;type=Ae.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cd=class extends Ct{urlAfterRedirects;state;type=Ae.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ld=class{route;type=Ae.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ud=class{route;type=Ae.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dd=class{snapshot;type=Ae.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fd=class{snapshot;type=Ae.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hd=class{snapshot;type=Ae.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pd=class{snapshot;type=Ae.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vo=class{routerEvent;position;anchor;type=Ae.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ba=class{},jo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function RF(e){return!(e instanceof ba)&&!(e instanceof jo)}function NF(e,t){return e.providers&&!e._injector&&(e._injector=ai(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Kt(e){return e.outlet||j}function MF(e,t){let n=e.filter(r=>Kt(r)===t);return n.push(...e.filter(r=>Kt(r)!==t)),n}function Ho(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var gd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ho(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new _i(this.rootInjector)}},_i=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new gd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(M(de))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),md=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Bm(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Bm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Hm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Hm(t,this._root).map(n=>n.value)}};function Bm(e,t){if(e===t.value)return t;for(let n of t.children){let r=Bm(e,n);if(r)return r}return null}function Hm(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Hm(e,n);if(r.length)return r.unshift(t),r}return[]}var It=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Oo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Da=class extends md{snapshot;constructor(t,n){super(t),this.snapshot=n,Zm(this,t)}toString(){return this.snapshot.toString()}};function GD(e){let t=OF(e),n=new ke([new _r("",{})]),r=new ke({}),i=new ke({}),o=new ke({}),s=new ke(""),a=new En(n,r,o,s,i,j,e,t.root);return a.snapshot=t.root,new Da(new It(a,[]),t)}function OF(e){let t={},n={},r={},i="",o=new mi([],t,r,i,n,j,e,null,{});return new Ta("",new It(o,[]))}var En=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(G(l=>l[Na]))??R(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(t=>vi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(t=>vi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vd(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:v(v({},t.params),e.params),data:v(v({},t.data),e.data),resolve:v(v(v(v({},e.data),t.data),i?.data),e._resolvedData)}:r={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},i&&YD(i)&&(r.resolve[Na]=i.title),r}var mi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Na]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Ta=class extends md{url;constructor(t,n){super(n),this.url=t,Zm(this,n)}toString(){return qD(this._root)}};function Zm(e,t){t.value._routerState=e,t.children.forEach(n=>Zm(e,n))}function qD(e){let t=e.children.length>0?` { ${e.children.map(qD).join(", ")} } `:"";return`${e.value}${t}`}function km(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,mn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),mn(t.params,n.params)||e.paramsSubject.next(n.params),oF(t.url,n.url)||e.urlSubject.next(n.url),mn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function $m(e,t){let n=mn(e.params,t.params)&&lF(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||$m(e.parent,t.parent))}function YD(e){return typeof e.title=="string"||e.title===null}var KD=new I(""),Ma=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=j;activateEvents=new be;deactivateEvents=new be;attachEvents=new be;detachEvents=new be;routerOutletData=Kb(void 0);parentContexts=g(_i);location=g(ta);changeDetector=g(vr);inputBinder=g(Oa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Wm(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Gn]})}return e})(),Wm=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===En?this.route:t===_i?this.childContexts:t===KD?this.outletData:this.parent.get(t,n)}},Oa=new I(""),Qm=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Is([r.queryParams,r.params,r.data]).pipe(Ue(([o,s,a],c)=>(a=v(v(v({},o),s),a),c===0?R(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=eD(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Jm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=qn({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&De(0,"router-outlet")},dependencies:[Ma],encapsulation:2})}return e})();function Xm(e){let t=e.children&&e.children.map(Xm),n=t?x(v({},e),{children:t}):v({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=Jm),n}function xF(e,t,n){let r=Sa(e,t._root,n?n._root:void 0);return new Da(r,t)}function Sa(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=kF(e,t,n);return new It(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Sa(e,a)),s}}let r=PF(t.value),i=t.children.map(o=>Sa(e,o));return new It(r,i)}}function kF(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Sa(e,r,i);return Sa(e,r)})}function PF(e){return new En(new ke(e.url),new ke(e.params),new ke(e.queryParams),new ke(e.fragment),new ke(e.data),e.outlet,e.component,e)}var Uo=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},ZD="ngNavigationCancelingError";function yd(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Ir(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=QD(!1,Ge.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function QD(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[ZD]=!0,n.cancellationCode=t,n}function FF(e){return JD(e)&&Ir(e.url)}function JD(e){return!!e&&e[ZD]}var LF=(e,t,n,r)=>G(i=>(new zm(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),zm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),km(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Oo(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Oo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Oo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Oo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new pd(o.value.snapshot))}),t.children.length&&this.forwardEvent(new fd(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(km(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),km(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},_d=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Po=class{component;route;constructor(t,n){this.component=t,this.route=n}};function VF(e,t,n){let r=e._root,i=t?t._root:null;return _a(r,i,n,[r.value])}function jF(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function $o(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Vh(e)?e:t.get(e):r}function _a(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Oo(t);return e.children.forEach(s=>{UF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ia(a,n.getContext(s),i)),i}function UF(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=BF(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new _d(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?_a(e,t,a?a.children:null,r,i):_a(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Po(a.outlet.component,s))}else s&&Ia(t,a,i),i.canActivateChecks.push(new _d(r)),o.component?_a(e,null,a?a.children:null,r,i):_a(e,null,n,r,i);return i}function BF(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!gi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!gi(e.url,t.url)||!mn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$m(e,t)||!mn(e.queryParams,t.queryParams);case"paramsChange":default:return!$m(e,t)}}function Ia(e,t,n){let r=Oo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Ia(s,t.children.getContext(o),n):Ia(s,null,n):Ia(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Po(t.outlet.component,i)):n.canDeactivateChecks.push(new Po(null,i)):n.canDeactivateChecks.push(new Po(null,i))}function xa(e){return typeof e=="function"}function HF(e){return typeof e=="boolean"}function $F(e){return e&&xa(e.canLoad)}function WF(e){return e&&xa(e.canActivate)}function zF(e){return e&&xa(e.canActivateChild)}function GF(e){return e&&xa(e.canDeactivate)}function qF(e){return e&&xa(e.canMatch)}function XD(e){return e instanceof On||e?.name==="EmptyError"}var Xu=Symbol("INITIAL_VALUE");function Bo(){return Ue(e=>Is(e.map(t=>t.pipe(kn(1),Ch(Xu)))).pipe(G(t=>{for(let n of t)if(n!==!0){if(n===Xu)return Xu;if(n===!1||YF(n))return n}return!0}),Qe(t=>t!==Xu),kn(1)))}function YF(e){return Ir(e)||e instanceof Uo}function KF(e,t){return pe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?R(x(v({},n),{guardsResult:!0})):ZF(s,r,i,e).pipe(pe(a=>a&&HF(a)?QF(r,o,e,t):R(a)),G(a=>x(v({},n),{guardsResult:a})))})}function ZF(e,t,n,r){return ae(e).pipe(pe(i=>nL(i.component,i.route,n,t,r)),Pn(i=>i!==!0,!0))}function QF(e,t,n,r){return ae(t).pipe(or(i=>so(XF(i.route.parent,r),JF(i.route,r),tL(e,i.path,n),eL(e,i.route,n))),Pn(i=>i!==!0,!0))}function JF(e,t){return e!==null&&t&&t(new hd(e)),R(!0)}function XF(e,t){return e!==null&&t&&t(new dd(e)),R(!0)}function eL(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(o=>Cs(()=>{let s=Ho(t)??n,a=$o(o,s),c=WF(a)?a.canActivate(t,e):ge(s,()=>a(t,e));return Jn(c).pipe(Pn())}));return R(i).pipe(Bo())}function tL(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>jF(s)).filter(s=>s!==null).map(s=>Cs(()=>{let a=s.guards.map(c=>{let l=Ho(s.node)??n,u=$o(c,l),d=zF(u)?u.canActivateChild(r,e):ge(l,()=>u(r,e));return Jn(d).pipe(Pn())});return R(a).pipe(Bo())}));return R(o).pipe(Bo())}function nL(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return R(!0);let s=o.map(a=>{let c=Ho(t)??i,l=$o(a,c),u=GF(l)?l.canDeactivate(e,t,n,r):ge(c,()=>l(e,t,n,r));return Jn(u).pipe(Pn())});return R(s).pipe(Bo())}function rL(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return R(!0);let o=i.map(s=>{let a=$o(s,e),c=$F(a)?a.canLoad(t,n):ge(e,()=>a(t,n));return Jn(c)});return R(o).pipe(Bo(),eT(r))}function eT(e){return uh(Me(t=>{if(typeof t!="boolean")throw yd(e,t)}),G(t=>t===!0))}function iL(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return R(!0);let o=i.map(s=>{let a=$o(s,e),c=qF(a)?a.canMatch(t,n):ge(e,()=>a(t,n));return Jn(c)});return R(o).pipe(Bo(),eT(r))}var Aa=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ra=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Mo(e){return io(new Aa(e))}function oL(e){return io(new b(4e3,!1))}function sL(e){return io(QD(!1,Ge.GuardRejected))}var Gm=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[j])return oL(`${t.redirectTo}`);i=i.children[j]}}applyRedirectCommands(t,n,r,i,o){return aL(n,i,o).pipe(G(s=>{if(s instanceof yn)throw new Ra(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Ra(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new yn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new Q(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function aL(e,t,n){if(typeof e=="string")return R(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return Jn(ge(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var qm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cL(e,t,n,r,i){let o=tT(e,t,n);return o.matched?(r=NF(t,r),iL(r,t,n,i).pipe(G(s=>s===!0?o:v({},qm)))):R(o)}function tT(e,t,n){if(t.path==="**")return lL(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?v({},qm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||ND)(n,e,t);if(!i)return v({},qm);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function lL(e){return{matched:!0,parameters:e.length>0?OD(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function SD(e,t,n,r){return n.length>0&&fL(e,n,r)?{segmentGroup:new Q(t,dL(r,new Q(n,e.children))),slicedSegments:[]}:n.length===0&&hL(e,n,r)?{segmentGroup:new Q(e.segments,uL(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Q(e.segments,e.children),slicedSegments:n}}function uL(e,t,n,r){let i={};for(let o of n)if(Id(e,t,o)&&!r[Kt(o)]){let s=new Q([],{});i[Kt(o)]=s}return v(v({},r),i)}function dL(e,t){let n={};n[j]=t;for(let r of e)if(r.path===""&&Kt(r)!==j){let i=new Q([],{});n[Kt(r)]=i}return n}function fL(e,t,n){return n.some(r=>Id(e,t,r)&&Kt(r)!==j)}function hL(e,t,n){return n.some(r=>Id(e,t,r))}function Id(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function pL(e,t,n){return t.length===0&&!e.children[n]}var Ym=class{};function gL(e,t,n,r,i,o,s="emptyOnly"){return new Km(e,t,n,r,i,s,o).recognize()}var mL=31,Km=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Gm(this.urlSerializer,this.urlTree)}noMatchError(t){return new b(4002,`'${t.segmentGroup}'`)}recognize(){let t=SD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(G(({children:n,rootSnapshot:r})=>{let i=new It(r,n),o=new Ta("",i),s=BD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new mi([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),j,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,j,n).pipe(G(r=>({children:r,rootSnapshot:n})),xn(r=>{if(r instanceof Ra)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Aa?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(G(s=>s instanceof It?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ae(o).pipe(or(s=>{let a=r.children[s],c=MF(n,s);return this.processSegmentGroup(t,c,a,s,i)}),Ih((s,a)=>(s.push(...a),s)),sr(null),Eh(),pe(s=>{if(s===null)return Mo(r);let a=nT(s);return vL(a),R(a)}))}processSegment(t,n,r,i,o,s,a){return ae(n).pipe(or(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(xn(l=>{if(l instanceof Aa)return R(null);throw l}))),Pn(c=>!!c),xn(c=>{if(XD(c))return pL(r,i,o)?R(new Ym):Mo(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return Kt(r)!==s&&(s===j||!Id(i,o,r))?Mo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):Mo(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=tT(n,i,o);if(!c)return Mo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mL&&(this.allowRedirects=!1));let h=new mi(o,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,AD(i),Kt(i),i.component??i._loadedComponent??null,i,RD(i)),p=vd(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(p.params),h.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t).pipe(Ue(w=>this.applyRedirects.lineralizeSegments(i,w)),pe(w=>this.processSegment(t,r,n,w.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=cL(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ue(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Ue(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new mi(f,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,AD(r),Kt(r),r.component??r._loadedComponent??null,r,RD(r)),y=vd(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let{segmentGroup:w,slicedSegments:T}=SD(n,f,h,l);if(T.length===0&&w.hasChildren())return this.processChildren(u,l,w,p).pipe(G(Ne=>new It(p,Ne)));if(l.length===0&&T.length===0)return R(new It(p,[]));let le=Kt(r)===o;return this.processSegment(u,l,w,T,le?j:o,!0,p).pipe(G(Ne=>new It(p,Ne instanceof It?[Ne]:[])))}))):Mo(n)))}getChildConfig(t,n,r){return n.children?R({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):rL(t,n,r,this.urlSerializer).pipe(pe(i=>i?this.configLoader.loadChildren(t,n).pipe(Me(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):sL(n))):R({routes:[],injector:t})}};function vL(e){e.sort((t,n)=>t.value.outlet===j?-1:n.value.outlet===j?1:t.value.outlet.localeCompare(n.value.outlet))}function yL(e){let t=e.value.routeConfig;return t&&t.path===""}function nT(e){let t=[],n=new Set;for(let r of e){if(!yL(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=nT(r.children);t.push(new It(r.value,i))}return t.filter(r=>!n.has(r))}function AD(e){return e.data||{}}function RD(e){return e.resolve||{}}function _L(e,t,n,r,i,o){return pe(s=>gL(e,t,n,r,s.extractedUrl,i,o).pipe(G(({state:a,tree:c})=>x(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function EL(e,t){return pe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of rT(c))s.add(l);let a=0;return ae(s).pipe(or(c=>o.has(c)?IL(c,r,e,t):(c.data=vd(c,c.parent,e).resolve,R(void 0))),Me(()=>a++),ao(1),pe(c=>a===s.size?R(n):Ke))})}function rT(e){let t=e.children.map(n=>rT(n)).flat();return[e,...t]}function IL(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!YD(i)&&(o[Na]=i.title),Cs(()=>(e.data=vd(e,e.parent,n).resolve,CL(o,e,t,r).pipe(G(s=>(e._resolvedData=s,e.data=v(v({},e.data),s),null)))))}function CL(e,t,n,r){let i=Lm(e);if(i.length===0)return R({});let o={};return ae(i).pipe(pe(s=>wL(e[s],t,n,r).pipe(Pn(),Me(a=>{if(a instanceof Uo)throw yd(new Er,a);o[s]=a}))),ao(1),G(()=>o),xn(s=>XD(s)?Ke:io(s)))}function wL(e,t,n,r){let i=Ho(t)??r,o=$o(e,i),s=o.resolve?o.resolve(t,n):ge(i,()=>o(t,n));return Jn(s)}function Pm(e){return Ue(t=>{let n=e(t);return n?ae(n).pipe(G(()=>t)):R(t)})}var ev=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===j);return r}getResolvedTitleForRoute(n){return n.data[Na]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(iT),providedIn:"root"})}return e})(),iT=(()=>{class e extends ev{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(M(yD))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wr=new I("",{providedIn:"root",factory:()=>({})}),Ei=new I(""),Cd=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(Jg);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return R(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Jn(ge(n,()=>r.loadComponent())).pipe(G(sT),Ue(aT),Me(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ws(()=>{this.componentLoaders.delete(r)})),o=new eo(i,()=>new Ee).pipe(Xi());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return R({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=oT(r,this.compiler,n,this.onLoadEndListener).pipe(ws(()=>{this.childrenLoaders.delete(r)})),s=new eo(o,()=>new Ee).pipe(Xi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oT(e,t,n,r){return Jn(ge(n,()=>e.loadChildren())).pipe(G(sT),Ue(aT),pe(i=>i instanceof Ru||Array.isArray(i)?R(i):ae(t.compileModuleAsync(i))),G(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ei,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xm),injector:o}}))}function bL(e){return e&&typeof e=="object"&&"default"in e}function sT(e){return bL(e)?e.default:e}function aT(e){return R(e)}var wd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(DL),providedIn:"root"})}return e})(),DL=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tv=new I(""),nv=new I("");function cT(e,t,n){let r=e.get(nv),i=e.get(ve);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),TL(e)));a.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&ge(e,()=>c({transition:a,from:t,to:n})),s}function TL(e){return new Promise(t=>{To({read:()=>setTimeout(t)},{injector:e})})}var rv=new I(""),bd=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ee;transitionAbortWithErrorSubject=new Ee;configLoader=g(Cd);environmentInjector=g(de);destroyRef=g(Bt);urlSerializer=g(yi);rootContexts=g(_i);location=g(yr);inputBindingEnabled=g(Oa,{optional:!0})!==null;titleStrategy=g(ev);options=g(wr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(wd);createViewTransition=g(tv,{optional:!0});navigationErrorHandler=g(rv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>R(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ld(i)),r=i=>this.events.next(new ud(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(x(v({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new ke(null),this.transitions.pipe(Qe(r=>r!==null),Ue(r=>{let i=!1;return R(r).pipe(Ue(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ge.SupersededByNewNavigation),Ke;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?x(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new _n(o.id,this.urlSerializer.serialize(o.rawUrl),c,Fo.IgnoredSameUrlNavigation)),o.resolve(!1),Ke}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return R(o).pipe(Ue(c=>(this.events.next(new Cr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ke:Promise.resolve(c))),_L(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Me(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=x(v({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new wa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:f}=o,h=new Cr(c,this.urlSerializer.serialize(l),u,d);this.events.next(h);let p=GD(this.rootComponentType).snapshot;return this.currentTransition=r=x(v({},o),{targetSnapshot:p,urlAfterRedirects:l,extras:x(v({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,R(r)}else{let c="";return this.events.next(new _n(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Fo.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ke}}),Me(o=>{let s=new od(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),G(o=>(this.currentTransition=r=x(v({},o),{guards:VF(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),KF(this.environmentInjector,o=>this.events.next(o)),Me(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw yd(this.urlSerializer,o.guardsResult);let s=new sd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Qe(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ge.GuardRejected),!1)),Pm(o=>{if(o.guards.canActivateChecks.length!==0)return R(o).pipe(Me(s=>{let a=new ad(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ue(s=>{let a=!1;return R(s).pipe(EL(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ge.NoDataFromResolver)}}))}),Me(s=>{let a=new cd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Pm(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let l=Ho(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Me(u=>{a.component=u}),G(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Is(s(o.targetSnapshot.root)).pipe(sr(null),kn(1))}),Pm(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ae(a).pipe(G(()=>r)):R(r)}),G(o=>{let s=xF(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=x(v({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Me(()=>{this.events.next(new ba)}),LF(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),kn(1),fl(new L(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Qe(()=>!i&&!r.targetRouterState),Me(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ge.Aborted)}))),Me({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),fl(this.transitionAbortWithErrorSubject.pipe(Me(o=>{throw o}))),ws(()=>{i||this.cancelNavigationTransition(r,"",Ge.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),xn(o=>{if(this.destroyed)return r.resolve(!1),Ke;if(i=!0,JD(o))this.events.next(new vn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),FF(o)?this.events.next(new jo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Lo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=ge(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Uo){let{message:c,cancellationCode:l}=yd(this.urlSerializer,a);this.events.next(new vn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new jo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ke}))}))}cancelNavigationTransition(n,r,i){let o=new vn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function SL(e){return e!==ko}var lT=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(AL),providedIn:"root"})}return e})(),Ed=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},AL=(()=>{class e extends Ed{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),uT=(()=>{class e{urlSerializer=g(yi);options=g(wr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(yr);urlHandlingStrategy=g(wd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof yn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=GD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(RL),providedIn:"root"})}return e})(),RL=(()=>{class e extends uT{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Cr?this.updateStateMemento():n instanceof _n?this.commitTransition(r):n instanceof wa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ba?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof vn&&n.code!==Ge.SupersededByNewNavigation&&n.code!==Ge.Redirect?this.restoreHistory(r):n instanceof Lo?this.restoreHistory(r,!0):n instanceof Mt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=v(v({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=v(v({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Dd(e,t){e.events.pipe(Qe(n=>n instanceof Mt||n instanceof vn||n instanceof Lo||n instanceof _n),G(n=>n instanceof Mt||n instanceof _n?0:(n instanceof vn?n.code===Ge.Redirect||n.code===Ge.SupersededByNewNavigation:!1)?2:1),Qe(n=>n!==2),kn(1)).subscribe(()=>{t()})}var NL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ML={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},In=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(Mu);stateManager=g(uT);options=g(wr,{optional:!0})||{};pendingTasks=g(Ht);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(bd);urlSerializer=g(yi);location=g(yr);urlHandlingStrategy=g(wd);injector=g(de);_events=new Ee;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(lT);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(Ei,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(Oa,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ue;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vn&&r.code!==Ge.Redirect&&r.code!==Ge.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Mt)this.navigated=!0;else if(r instanceof jo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=v({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||SL(i.source)},s);this.scheduleNavigation(a,ko,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}RF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ko,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=v({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(mt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Xm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=HD(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return $D(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ir(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ko,null,r)}navigate(n,r={skipLocationChange:!1}){return OL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=v({},NL):r===!1?i=v({},ML):i=r,Ir(n))return wD(this.currentUrlTree,n,i);let o=this.parseUrl(n);return wD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return Dd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function OL(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new b(4008,!1)}var Wo=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=vt(null);get href(){return Gt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ee;applicationErrorHandler=g(mt);options=g(wr,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(g(new $u("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Mt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ir(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Ir(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(V(In),V(En),Ys("tabindex"),V(zt),V(At),V(Yt))};static \u0275dir=ce({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Te("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Kn("href",i.reactiveHref(),wg)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",pi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",pi],replaceUrl:[2,"replaceUrl","replaceUrl",pi],routerLink:"routerLink"},features:[Gn]})}return e})();var ka=class{};var dT=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Qe(n=>n instanceof Mt),or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ai(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ae(i).pipe(oo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=R(null);let o=i.pipe(pe(s=>s===null?R(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return ae([o,s]).pipe(oo())}else return o})}static \u0275fac=function(r){return new(r||e)(M(In),M(de),M(ka),M(Cd))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fT=new I(""),xL=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ko;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Cr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Mt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof _n&&n.code===Fo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Vo&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>m(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Vo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Bg()};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function ov(e,...t){return dt([{provide:Ei,multi:!0,useValue:e},[],{provide:En,useFactory:hT,deps:[In]},{provide:Yn,multi:!0,useFactory:pT},t.map(n=>n.\u0275providers)])}function hT(e){return e.routerState.root}function Pa(e,t){return{\u0275kind:e,\u0275providers:t}}function pT(){let e=g(fe);return t=>{let n=e.get(Ve);if(t!==n.components[0])return;let r=e.get(In),i=e.get(gT);e.get(sv)===1&&r.initialNavigation(),e.get(yT,null,{optional:!0})?.setUpPreloading(),e.get(fT,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var gT=new I("",{factory:()=>new Ee}),sv=new I("",{providedIn:"root",factory:()=>1});function mT(){let e=[{provide:sv,useValue:0},Ou(()=>{let t=g(fe);return t.get(hm,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(In),o=t.get(gT);Dd(i,()=>{r(!0)}),t.get(bd).afterPreactivation=()=>(r(!0),o.closed?R(void 0):o),i.initialNavigation()}))})];return Pa(2,e)}function vT(){let e=[Ou(()=>{g(In).setUpLocationChangeListener()}),{provide:sv,useValue:2}];return Pa(3,e)}var yT=new I("");function _T(e){return Pa(0,[{provide:yT,useExisting:dT},{provide:ka,useExisting:e}])}function ET(){return Pa(8,[Qm,{provide:Oa,useExisting:Qm}])}function IT(e){et("NgRouterViewTransitions");let t=[{provide:tv,useValue:cT},{provide:nv,useValue:v({skipNextTransition:!!e?.skipInitialTransition},e)}];return Pa(9,t)}var CT=[yr,{provide:yi,useClass:Er},In,_i,{provide:En,useFactory:hT,deps:[In]},Cd,[]],Fa=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[CT,[],{provide:Ei,multi:!0,useValue:n},[],r?.errorHandler?{provide:rv,useValue:r.errorHandler}:[],{provide:wr,useValue:r||{}},r?.useHash?PL():FL(),kL(),r?.preloadingStrategy?_T(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?LL(r):[],r?.bindToComponentInputs?ET().\u0275providers:[],r?.enableViewTransitions?IT().\u0275providers:[],VL()]}}static forChild(n){return{ngModule:e,providers:[{provide:Ei,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=pn({type:e});static \u0275inj=Pt({})}return e})();function kL(){return{provide:fT,useFactory:()=>{let e=g(sD),t=g(ee),n=g(wr),r=g(bd),i=g(yi);return n.scrollOffset&&e.setOffset(n.scrollOffset),new xL(i,r,e,t,n)}}}function PL(){return{provide:Yt,useClass:gm}}function FL(){return{provide:Yt,useClass:Gu}}function LL(e){return[e.initialNavigation==="disabled"?vT().\u0275providers:[],e.initialNavigation==="enabledBlocking"?mT().\u0275providers:[]]}var iv=new I("");function VL(){return[{provide:iv,useFactory:pT},{provide:Yn,multi:!0,useExisting:iv}]}var Td=class e{title=vt("cabbingo");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=qn({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&(E(0,"main"),De(1,"router-outlet"),C())},dependencies:[Ma],encapsulation:2})};var xT=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(V(zt),V(At))};static \u0275dir=ce({type:e})}return e})(),kd=(()=>{class e extends xT{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,features:[tt]})}return e})(),$a=new I("");var jL={provide:$a,useExisting:ut(()=>Pd),multi:!0};function UL(){let e=Nt()?Nt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var BL=new I(""),Pd=(()=>{class e extends xT{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!UL())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(V(zt),V(At),V(BL,8))};static \u0275dir=ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Te("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[gn([jL]),tt]})}return e})();var Fd=new I(""),kT=new I("");function HL(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function $L(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function bT(e){return null}function PT(e){return e!=null}function FT(e){return li(e)?ae(e):e}function LT(e){let t={};return e.forEach(n=>{t=n!=null?v(v({},t),n):t}),Object.keys(t).length===0?null:t}function VT(e,t){return t.map(n=>n(e))}function WL(e){return!e.validate}function jT(e){return e.map(t=>WL(t)?t:n=>t.validate(n))}function zL(e){if(!e)return null;let t=e.filter(PT);return t.length==0?null:function(n){return LT(VT(n,t))}}function uv(e){return e!=null?zL(jT(e)):null}function GL(e){if(!e)return null;let t=e.filter(PT);return t.length==0?null:function(n){let r=VT(n,t).map(FT);return _h(r).pipe(G(LT))}}function dv(e){return e!=null?GL(jT(e)):null}function DT(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function qL(e){return e._rawValidators}function YL(e){return e._rawAsyncValidators}function av(e){return e?Array.isArray(e)?e:[e]:[]}function Ad(e,t){return Array.isArray(e)?e.includes(t):e===t}function TT(e,t){let n=av(t);return av(e).forEach(i=>{Ad(n,i)||n.push(i)}),n}function ST(e,t){return av(t).filter(n=>!Ad(e,n))}var Rd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=uv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},qo=class extends Rd{name;get formDirective(){return null}get path(){return null}},Ha=class extends Rd{_parent=null;name=null;valueAccessor=null},Nd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},KL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oee=x(v({},KL),{"[class.ng-submitted]":"isSubmitted"}),UT=(()=>{class e extends Nd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(V(Ha,2))};static \u0275dir=ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&oa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[tt]})}return e})(),BT=(()=>{class e extends Nd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(V(qo,10))};static \u0275dir=ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&oa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[tt]})}return e})();var La="VALID",Sd="INVALID",zo="PENDING",Va="DISABLED",br=class{},Md=class extends br{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ua=class extends br{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Ba=class extends br{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Go=class extends br{status;source;constructor(t,n){super(),this.status=t,this.source=n}},cv=class extends br{source;constructor(t){super(),this.source=t}},lv=class extends br{source;constructor(t){super(),this.source=t}};function HT(e){return(Ld(e)?e.validators:e)||null}function ZL(e){return Array.isArray(e)?uv(e):e||null}function $T(e,t){return(Ld(t)?t.asyncValidators:e)||null}function QL(e){return Array.isArray(e)?dv(e):e||null}function Ld(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function JL(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function XL(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var Od=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Gt(this.statusReactive)}set status(t){Gt(()=>this.statusReactive.set(t))}_status=fi(()=>this.statusReactive());statusReactive=vt(void 0);get valid(){return this.status===La}get invalid(){return this.status===Sd}get pending(){return this.status==zo}get disabled(){return this.status===Va}get enabled(){return this.status!==Va}errors;get pristine(){return Gt(this.pristineReactive)}set pristine(t){Gt(()=>this.pristineReactive.set(t))}_pristine=fi(()=>this.pristineReactive());pristineReactive=vt(!0);get dirty(){return!this.pristine}get touched(){return Gt(this.touchedReactive)}set touched(t){Gt(()=>this.touchedReactive.set(t))}_touched=fi(()=>this.touchedReactive());touchedReactive=vt(!1);get untouched(){return!this.touched}_events=new Ee;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(TT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(TT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ST(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ST(t,this._rawAsyncValidators))}hasValidator(t){return Ad(this._rawValidators,t)}hasAsyncValidator(t){return Ad(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(x(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ba(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ba(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(x(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ua(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ua(!0,r))}markAsPending(t={}){this.status=zo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Go(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(x(v({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Va,this.errors=null,this._forEachChild(i=>{i.disable(x(v({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Md(this.value,r)),this._events.next(new Go(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(x(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=La,this._forEachChild(r=>{r.enable(x(v({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(x(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===La||this.status===zo)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Md(this.value,n)),this._events.next(new Go(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(x(v({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Va:La}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=zo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=FT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Go(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new be,this.statusChanges=new be}_calculateStatus(){return this._allControlsDisabled()?Va:this.errors?Sd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zo)?zo:this._anyControlsHaveStatus(Sd)?Sd:La}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Ua(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ba(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ld(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=ZL(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=QL(this._rawAsyncValidators)}},xd=class extends Od{constructor(t,n,r){super(HT(n),$T(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){XL(this,!0,t),Object.keys(t).forEach(r=>{JL(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var fv=new I("",{providedIn:"root",factory:()=>hv}),hv="always";function eV(e,t){return[...t.path,e]}function WT(e,t,n=hv){zT(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),nV(e,t),iV(e,t),rV(e,t),tV(e,t)}function AT(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function tV(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function zT(e,t){let n=qL(e);t.validator!==null?e.setValidators(DT(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=YL(e);t.asyncValidator!==null?e.setAsyncValidators(DT(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();AT(t._rawValidators,i),AT(t._rawAsyncValidators,i)}function nV(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&GT(e,t)})}function rV(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&GT(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function GT(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function iV(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function oV(e,t){e==null,zT(e,t)}function sV(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function aV(e){return Object.getPrototypeOf(e.constructor)===kd}function cV(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function lV(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Pd?n=o:aV(o)?r=o:i=o}),i||r||n||null}var uV={provide:qo,useExisting:ut(()=>pv)},ja=Promise.resolve(),pv=(()=>{class e extends qo{callSetDisabledState;get submitted(){return Gt(this.submittedReactive)}_submitted=fi(()=>this.submittedReactive());submittedReactive=vt(!1);_directives=new Set;form;ngSubmit=new be;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new xd({},uv(n),dv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ja.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),WT(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ja.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ja.then(()=>{let r=this._findContainer(n.path),i=new xd({});oV(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ja.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ja.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),cV(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new cv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new lv(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(V(Fd,10),V(kT,10),V(fv,8))};static \u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Te("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[gn([uV]),tt]})}return e})();function RT(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function NT(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var dV=class extends Od{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(HT(n),$T(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ld(n)&&(n.nonNullable||n.initialValueIsDefault)&&(NT(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){RT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){RT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){NT(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var fV={provide:Ha,useExisting:ut(()=>gv)},MT=Promise.resolve(),gv=(()=>{class e extends Ha{_changeDetectorRef;callSetDisabledState;control=new dV;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new be;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=lV(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),sV(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){WT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){MT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&pi(r);MT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?eV(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(V(qo,9),V(Fd,10),V(kT,10),V($a,10),V(vr,8),V(fv,8))};static \u0275dir=ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[gn([fV]),tt,Gn]})}return e})();var qT=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),hV={provide:$a,useExisting:ut(()=>mv),multi:!0},mv=(()=>{class e extends kd{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Te("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[gn([hV]),tt]})}return e})();var pV={provide:$a,useExisting:ut(()=>Vd),multi:!0};function YT(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function gV(e){return e.split(":")[0]}var Vd=(()=>{class e extends kd{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=g(Ve).injector;destroyRef=g(Bt);cdr=g(vr);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,To({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=YT(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=gV(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Te("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[gn([pV]),tt]})}return e})(),KT=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(YT(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(V(At),V(zt),V(Vd,9))};static \u0275dir=ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),mV={provide:$a,useExisting:ut(()=>ZT),multi:!0};function OT(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function vV(e){return e.split(":")[0]}var ZT=(()=>{class e extends kd{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=vV(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Te("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[gn([mV]),tt]})}return e})(),QT=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(OT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(OT(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(V(At),V(zt),V(ZT,9))};static \u0275dir=ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function JT(e){return typeof e=="number"?e:parseFloat(e)}var XT=(()=>{class e{_validator=bT;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bT,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,features:[Gn]})}return e})(),yV={provide:Fd,useExisting:ut(()=>vv),multi:!0},vv=(()=>{class e extends XT{max;inputName="max";normalizeInput=n=>JT(n);createValidator=n=>$L(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Kn("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[gn([yV]),tt]})}return e})(),_V={provide:Fd,useExisting:ut(()=>yv),multi:!0},yv=(()=>{class e extends XT{min;inputName="min";normalizeInput=n=>JT(n);createValidator=n=>HL(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Kn("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[gn([_V]),tt]})}return e})();var EV=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=pn({type:e});static \u0275inj=Pt({})}return e})();var eS=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:fv,useValue:n.callSetDisabledState??hv}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=pn({type:e});static \u0275inj=Pt({imports:[EV]})}return e})();var Ii={production:!0,firebaseConfig:{apiKey:"AIzaSyB2e36wu47-6DOc2_rAuHfiFTq9vm6GBD0",authDomain:"cabbingo-db.firebaseapp.com",databaseURL:"https://cabbingo-db-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cabbingo-db",storageBucket:"cabbingo-db.firebasestorage.app",messagingSenderId:"684304316440",appId:"1:684304316440:web:0660b0d72a68752cadeb6d"}};var Ci=class{mockTiles1=[{id:1,title:"Draconic Visage",src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Foldschool.runescape.wiki%2Fimages%2Fthumb%2FDraconic_visage_detail.png%2F640px-Draconic_visage_detail.png%3F6edab&f=1&nofb=1&ipt=9aa9374a957e7a5a937b233244e3cfde042354fa7459254f457e7188786b5690",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)"]},{id:2,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:3,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:4,title:"Any megarare",src:"https://oldschool.runescape.wiki/images/thumb/Twisted_bow_detail.png/150px-Twisted_bow_detail.png?7aa10",bossSrc:"./assets/raids.png",alt:"Twisted Bow",description:"Obtain any megarare drop from any raid",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:5,title:"5 Venator Shards",src:"./assets/venator_shards.png",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:6,title:"Ultor Vestige",src:"https://oldschool.runescape.wiki/images/thumb/Ultor_vestige_detail.png/130px-Ultor_vestige_detail.png?99817",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Vardorvis.png/200px-Vardorvis.png?48af8",alt:"Ultor Vestige",description:"Obtain an Ultor Vestige from Vardorvis",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:7,title:"Draconic Visage",src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Foldschool.runescape.wiki%2Fimages%2Fthumb%2FDraconic_visage_detail.png%2F640px-Draconic_visage_detail.png%3F6edab&f=1&nofb=1&ipt=9aa9374a957e7a5a937b233244e3cfde042354fa7459254f457e7188786b5690",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:8,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:9,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:10,title:"3 Blood shards",src:"./assets/blood_shards.png",bossSrc:"./assets/raids.png",alt:"Blood Shard",description:"Obtain 3 Blood Shards from vyres",itemsRequired:3,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:11,title:"5 Venator Shards",src:"https://oldschool.runescape.wiki/images/thumb/Venator_shard_detail.png/130px-Venator_shard_detail.png?3ad3e",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:12,title:"Moons of perilus",src:"./assets/moons_set.png",bossSrc:"./assets/moons_bosses.png",alt:"Moons of perilus",description:"Obtain a Moons of perilus from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]}];mockTiles2=[{id:1,title:"Draconic Visage",src:"https://oldschool.runescape.wiki/images/thumb/Draconic_visage_detail.png/130px-Draconic_visage_detail.png?6edab",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:2,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:3,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:4,title:"Any megarare",src:"https://oldschool.runescape.wiki/images/thumb/Twisted_bow_detail.png/150px-Twisted_bow_detail.png?7aa10",bossSrc:"./assets/raids.png",alt:"Twisted Bow",description:"Obtain any megarare drop from any raid",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:5,title:"5 Venator Shards",src:"https://oldschool.runescape.wiki/images/thumb/Venator_shard_detail.png/130px-Venator_shard_detail.png?3ad3e",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:5,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:6,title:"Ultor Vestige",src:"https://oldschool.runescape.wiki/images/thumb/Ultor_vestige_detail.png/130px-Ultor_vestige_detail.png?99817",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Vardorvis.png/200px-Vardorvis.png?48af8",alt:"Ultor Vestige",description:"Obtain an Ultor Vestige from Vardorvis",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]}];board=[this.mockTiles1,this.mockTiles2]};var jd=(n=>(n[n.Team1=0]="Team1",n[n.Team2=1]="Team2",n))(jd||{});var tS=()=>{};var Ev={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var _=function(e,t){if(!e)throw wi(t)},wi=function(e){return new Error("Firebase Database ("+Ev.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var iS=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},CV=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Zo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(iS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):CV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Iv;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Iv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},wv=function(e){let t=iS(e);return Zo.encodeByteArray(t,!0)},za=function(e){return wv(e).replace(/\./g,"")},Yo=function(e){try{return Zo.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function oS(e){return sS(void 0,e)}function sS(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!wV(n)||(e[n]=sS(e[n],t[n]));return e}function wV(e){return e!=="__proto__"}function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bV=()=>aS().__FIREBASE_DEFAULTS__,DV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},TV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Yo(e[1]);return t&&JSON.parse(t)},bv=()=>{try{return tS()||bV()||DV()||TV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},cS=e=>{var t,n;return(n=(t=bv())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},lS=e=>{let t=cS(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Dv=()=>{var e;return(e=bv())===null||e===void 0?void 0:e.config},uS=e=>{var t;return(t=bv())===null||t===void 0?void 0:t[`_${e}`]};var Zt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function bi(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function Tv(e){return m(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}function dS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[za(JSON.stringify(n)),za(JSON.stringify(s)),""].join(".")}var Wa={};function SV(){let e={prod:[],emulator:[]};for(let t of Object.keys(Wa))Wa[t]?e.emulator.push(t):e.prod.push(t);return e}function AV(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var nS=!1;function Sv(e,t){if(typeof window>"u"||typeof document>"u"||!bi(window.location.host)||Wa[e]===t||Wa[e]||nS)return;Wa[e]=t;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=SV().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{nS=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=AV(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),T=n("preprendIcon"),le=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let Ne=f.element;a(Ne),u(w,y);let on=l();c(le,T),Ne.append(le,p,w,on),document.body.appendChild(Ne)}o?(p.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ga(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function fS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hS(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Bd(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wn(){return Ev.NODE_CLIENT===!0||Ev.NODE_ADMIN===!0}function Hd(){try{return typeof indexedDB=="object"}catch{return!1}}function pS(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var RV="FirebaseError",Cn=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=RV,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qt.prototype.create)}},Qt=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?NV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Cn(i,a,r)}};function NV(e,t){return e.replace(MV,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var MV=/\{\$([^}]+)}/g;function Ko(e){return JSON.parse(e)}function Se(e){return JSON.stringify(e)}var gS=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=Ko(Yo(o[0])||""),n=Ko(Yo(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var mS=function(e){let t=gS(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vS=function(e){let t=gS(e).claims;return typeof t=="object"&&t.admin===!0};function bn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Di(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function $d(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function qa(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ti(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(rS(o)&&rS(s)){if(!Ti(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function rS(e){return e!==null&&typeof e=="object"}function Ya(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}var Ud=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function yS(e,t){let n=new Cv(e,t);return n.subscribe.bind(n)}var Cv=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OV(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=_v),i.error===void 0&&(i.error=_v),i.complete===void 0&&(i.complete=_v);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function OV(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function _v(){}function Wd(e,t){return`${e} failed: ${t} argument `}var _S=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,_(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ka=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var hee=4*60*60*1e3;function wt(e){return e&&e._delegate?e._delegate:e}var qe=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Si="[DEFAULT]";var zd=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new Zt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kV(t))try{this.getOrInitializeService({instanceIdentifier:Si})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Si){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return m(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Si){return this.instances.has(t)}getOptions(t=Si){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xV(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Si){return this.component?this.component.multipleInstances?t:Si:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xV(e){return e===Si?void 0:e}function kV(e){return e.instantiationMode==="EAGER"}var Za=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new zd(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var PV=[],ne=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ne||{}),FV={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},LV=ne.INFO,VV={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},jV=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=VV[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Dn=class{constructor(t){this.name=t,this._logLevel=LV,this._logHandler=jV,this._userLogHandler=null,PV.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?FV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}};var UV=(e,t)=>t.some(n=>e instanceof n),ES,IS;function BV(){return ES||(ES=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HV(){return IS||(IS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var CS=new WeakMap,Rv=new WeakMap,wS=new WeakMap,Av=new WeakMap,Mv=new WeakMap;function $V(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Tn(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&CS.set(n,e)}).catch(()=>{}),Mv.set(t,e),t}function WV(e){if(Rv.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Rv.set(e,t)}var Nv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Rv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function bS(e){Nv=e(Nv)}function zV(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(Gd(this),t,...n);return wS.set(r,t.sort?t.sort():[t]),Tn(r)}:HV().includes(e)?function(...t){return e.apply(Gd(this),t),Tn(CS.get(this))}:function(...t){return Tn(e.apply(Gd(this),t))}}function GV(e){return typeof e=="function"?zV(e):(e instanceof IDBTransaction&&WV(e),UV(e,BV())?new Proxy(e,Nv):e)}function Tn(e){if(e instanceof IDBRequest)return $V(e);if(Av.has(e))return Av.get(e);let t=GV(e);return t!==e&&(Av.set(e,t),Mv.set(t,e)),t}var Gd=e=>Mv.get(e);function TS(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=Tn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Tn(s.result),c.oldVersion,c.newVersion,Tn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var qV=["get","getKey","getAll","getAllKeys","count"],YV=["put","add","delete","clear"],Ov=new Map;function DS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ov.get(t))return Ov.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=YV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qV.includes(n)))return;let o=function(s,...a){return m(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Ov.set(t,o),o}bS(e=>x(v({},e),{get:(t,n,r)=>DS(t,n)||e.get(t,n,r),has:(t,n)=>!!DS(t,n)||e.has(t,n)}));var kv=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function KV(e){let t=e.getComponent();return t?.type==="VERSION"}var Pv="@firebase/app",SS="0.13.2";var Xn=new Dn("@firebase/app"),ZV="@firebase/app-compat",QV="@firebase/analytics-compat",JV="@firebase/analytics",XV="@firebase/app-check-compat",ej="@firebase/app-check",tj="@firebase/auth",nj="@firebase/auth-compat",rj="@firebase/database",ij="@firebase/data-connect",oj="@firebase/database-compat",sj="@firebase/functions",aj="@firebase/functions-compat",cj="@firebase/installations",lj="@firebase/installations-compat",uj="@firebase/messaging",dj="@firebase/messaging-compat",fj="@firebase/performance",hj="@firebase/performance-compat",pj="@firebase/remote-config",gj="@firebase/remote-config-compat",mj="@firebase/storage",vj="@firebase/storage-compat",yj="@firebase/firestore",_j="@firebase/ai",Ej="@firebase/firestore-compat",Ij="firebase",Cj="11.10.0";var Fv="[DEFAULT]",wj={[Pv]:"fire-core",[ZV]:"fire-core-compat",[JV]:"fire-analytics",[QV]:"fire-analytics-compat",[ej]:"fire-app-check",[XV]:"fire-app-check-compat",[tj]:"fire-auth",[nj]:"fire-auth-compat",[rj]:"fire-rtdb",[ij]:"fire-data-connect",[oj]:"fire-rtdb-compat",[sj]:"fire-fn",[aj]:"fire-fn-compat",[cj]:"fire-iid",[lj]:"fire-iid-compat",[uj]:"fire-fcm",[dj]:"fire-fcm-compat",[fj]:"fire-perf",[hj]:"fire-perf-compat",[pj]:"fire-rc",[gj]:"fire-rc-compat",[mj]:"fire-gcs",[vj]:"fire-gcs-compat",[yj]:"fire-fst",[Ej]:"fire-fst-compat",[_j]:"fire-vertex","fire-js":"fire-js",[Ij]:"fire-js-all"};var Qa=new Map,bj=new Map,Lv=new Map;function AS(e,t){try{e.container.addComponent(t)}catch(n){Xn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Xt(e){let t=e.name;if(Lv.has(t))return Xn.debug(`There were multiple attempts to register component ${t}.`),!1;Lv.set(t,e);for(let n of Qa.values())AS(n,e);for(let n of bj.values())AS(n,e);return!0}function qd(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function er(e){return e==null?!1:e.settings!==void 0}var Dj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Qt("app","Firebase",Dj);var Vv=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};var Qo=Cj;function Bv(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:Fv,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=Dv()),!n)throw Dr.create("no-options");let o=Qa.get(i);if(o){if(Ti(n,o.options)&&Ti(r,o.config))return o;throw Dr.create("duplicate-app",{appName:i})}let s=new Za(i);for(let c of Lv.values())s.addComponent(c);let a=new Vv(n,r,s);return Qa.set(i,a),a}function Jo(e=Fv){let t=Qa.get(e);if(!t&&e===Fv&&Dv())return Bv();if(!t)throw Dr.create("no-app",{appName:e});return t}function Yd(){return Array.from(Qa.values())}function _e(e,t,n){var r;let i=(r=wj[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xn.warn(a.join(" "));return}Xt(new qe(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var Tj="firebase-heartbeat-database",Sj=1,Ja="firebase-heartbeat-store",xv=null;function OS(){return xv||(xv=TS(Tj,Sj,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ja)}catch(n){console.warn(n)}}}}).catch(e=>{throw Dr.create("idb-open",{originalErrorMessage:e.message})})),xv}function Aj(e){return m(this,null,function*(){try{let n=(yield OS()).transaction(Ja),r=yield n.objectStore(Ja).get(xS(e));return yield n.done,r}catch(t){if(t instanceof Cn)Xn.warn(t.message);else{let n=Dr.create("idb-get",{originalErrorMessage:t?.message});Xn.warn(n.message)}}})}function RS(e,t){return m(this,null,function*(){try{let r=(yield OS()).transaction(Ja,"readwrite");yield r.objectStore(Ja).put(t,xS(e)),yield r.done}catch(n){if(n instanceof Cn)Xn.warn(n.message);else{let r=Dr.create("idb-set",{originalErrorMessage:n?.message});Xn.warn(r.message)}}})}function xS(e){return`${e.name}!${e.options.appId}`}var Rj=1024,Nj=30,jv=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Uv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=NS();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Nj){let s=Oj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xn.warn(r)}})}getHeartbeatsHeader(){return m(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=NS(),{heartbeatsToSend:r,unsentEntries:i}=Mj(this._heartbeatsCache.heartbeats),o=za(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Xn.warn(n),""}})}};function NS(){return new Date().toISOString().substring(0,10)}function Mj(e,t=Rj){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),MS(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MS(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Uv=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Hd()?pS().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Aj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function MS(e){return za(JSON.stringify({version:2,heartbeats:e})).length}function Oj(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function xj(e){Xt(new qe("platform-logger",t=>new kv(t),"PRIVATE")),Xt(new qe("heartbeat",t=>new jv(t),"PRIVATE")),_e(Pv,SS,e),_e(Pv,SS,"esm2017"),_e("fire-js","")}xj("");var kj="firebase",Pj="11.10.0";_e(kj,Pj,"app");function kS(e){e===void 0&&(e=g(fe));let t=e.get(fr);return n=>new L(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ri=new mr("ANGULARFIRE2_VERSION");function Zd(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var es=(e,t)=>{let n=t?[t]:Yd(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Xo=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(Xo||{}),PS=dm()&&typeof Zone<"u"?Xo.WARN:Xo.SILENT;var Kd=class{zone;delegate;constructor(t,n=mh){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Ni=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=g(ee);this.outsideAngular=n.runOutsideAngular(()=>new Kd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Kd(typeof Zone>"u"?void 0:Zone.current,gh))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),FS=!1;function Fj(e,t){!FS&&(PS>Xo.SILENT||dm())&&(FS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),PS>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function Lj(e){let t=g(ee,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function Ai(e){let t=g(ee,{optional:!0});return t?t.run(()=>e()):e()}var Vj=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),ge(n,()=>Ai(()=>e.apply(void 0,r)))),Sn=(e,t,n)=>(n||=t?Xo.WARN:Xo.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=g(Ni),s=g(fr),a=g(de)}catch{return Fj(e,n),e.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(t&&(r||=Ai(()=>s.add())),i[l]=Vj(i[l],r,a));let c=Lj(()=>e.apply(this,i));return t?c instanceof L?c.pipe(ir(o.outsideAngular),rr(o.insideAngular),kS(a)):c instanceof Promise?Ai(()=>{let l=s.add();return new Promise((u,d)=>{c.then(f=>ge(a,()=>Ai(()=>u(f))),f=>ge(a,()=>Ai(()=>d(f)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Ai(()=>c):c instanceof L?c.pipe(ir(o.outsideAngular),rr(o.insideAngular)):Ai(()=>c)});var Mi=class{constructor(t){return t}},Xa=class{constructor(){return Yd()}};function jj(e){return e&&e.length===1?e[0]:new Mi(Jo())}var Hv=new I("angularfire2._apps"),Uj={provide:Mi,useFactory:jj,deps:[[new fn,Hv]]},Bj={provide:Xa,deps:[[new fn,Hv]]};function Hj(e){return(t,n)=>{let r=n.get(Xe);_e("angularfire",Ri.full,"core"),_e("angularfire",Ri.full,"app"),_e("angular",Zb.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new Mi(i)}}function LS(e,...t){return dt([Uj,Bj,{provide:Hv,useFactory:Hj(e),multi:!0,deps:[ee,fe,Ni,...t]}])}var VS=Sn(Bv,!0);var $j=new Map,Wj={activated:!1,tokenObservers:[]},zj={initialized:!1,enabled:!1};function en(e){return $j.get(e)||Object.assign({},Wj)}function HS(){return zj}var Gj="https://content-firebaseappcheck.googleapis.com/v1";var qj="exchangeDebugToken",jS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},mte=24*60*60*1e3;var zv=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return m(this,null,function*(){this.stop();try{this.pending=new Zt,this.pending.promise.catch(n=>{}),yield Yj(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Zt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Yj(e){return new Promise(t=>{setTimeout(t,e)})}var Kj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Tr=new Qt("appCheck","AppCheck",Kj);function $S(e){if(!en(e).activated)throw Tr.create("use-before-activation",{appName:e.name})}function WS(r,i){return m(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(h){throw Tr.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw Tr.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw Tr.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Tr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function zS(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Gj}/projects/${n}/apps/${r}:${qj}?key=${i}`,body:{debug_token:t}}}var Zj="firebase-app-check-database",Qj=1,Gv="firebase-app-check-store";var Qd=null;function Jj(){return Qd||(Qd=new Promise((e,t)=>{try{let n=indexedDB.open(Zj,Qj);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Tr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Gv,{keyPath:"compositeKey"})}}}catch(n){t(Tr.create("storage-open",{originalErrorMessage:n?.message}))}}),Qd)}function Xj(e,t){return eU(tU(e),t)}function eU(e,t){return m(this,null,function*(){let r=(yield Jj()).transaction(Gv,"readwrite"),o=r.objectStore(Gv).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Tr.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function tU(e){return`${e.options.appId}-${e.name}`}var ec=new Dn("@firebase/app-check");function $v(e,t){return Hd()?Xj(e,t).catch(n=>{ec.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function GS(){return HS().enabled}function qS(){return m(this,null,function*(){let e=HS();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var nU={error:"UNKNOWN_ERROR"};function rU(e){return Zo.encodeString(JSON.stringify(e),!1)}function qv(e,t=!1,n=!1){return m(this,null,function*(){let r=e.app;$S(r);let i=en(r),o=i.token,s;if(o&&!tc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(tc(l)?o=l:yield $v(r,void 0))}if(!t&&o&&tc(o))return{token:o.token};let a=!1;if(GS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=WS(zS(r,yield qS()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield $v(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ec.warn(l.message):n&&ec.error(l),Wv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield en(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ec.warn(l.message):n&&ec.error(l),s=l}let c;return o?s?tc(o)?c={token:o.token,internalError:s}:c=Wv(s):(c={token:o.token},i.token=o,yield $v(r,o)):c=Wv(s),a&&aU(r,c),c})}function iU(e){return m(this,null,function*(){let t=e.app;$S(t);let{provider:n}=en(t);if(GS()){let r=yield qS(),{token:i}=yield WS(zS(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function oU(e,t,n,r){let{app:i}=e,o=en(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&tc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),US(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>US(e))}function YS(e,t){let n=en(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function US(e){let{app:t}=e,n=en(t),r=n.tokenRefresher;r||(r=sU(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function sU(e){let{app:t}=e;return new zv(()=>m(null,null,function*(){let n=en(t),r;if(n.token?r=yield qv(e,!0):r=yield qv(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=en(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},jS.RETRIAL_MIN_WAIT,jS.RETRIAL_MAX_WAIT)}function aU(e,t){let n=en(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function tc(e){return e.expireTimeMillis-Date.now()>0}function Wv(e){return{token:rU(nU),error:e}}var Yv=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=en(this.app);for(let n of t)YS(this.app,n.next);return Promise.resolve()}};function cU(e,t){return new Yv(e,t)}function lU(e){return{getToken:t=>qv(e,t),getLimitedUseToken:()=>iU(e),addTokenListener:t=>oU(e,"INTERNAL",t),removeTokenListener:t=>YS(e.app,t)}}var uU="@firebase/app-check",dU="0.10.1";var fU="app-check",BS="app-check-internal";function hU(){Xt(new qe(fU,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return cU(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(BS).initialize()})),Xt(new qe(BS,e=>{let t=e.getProvider("app-check").getImmediate();return lU(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),_e(uU,dU)}hU();var pU="app-check";var Jd=class{constructor(){return es(pU)}};var gU=["localhost","0.0.0.0","127.0.0.1"],Rte=typeof window<"u"&&gU.includes(window.location.hostname);function n0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var r0=n0,i0=new Qt("auth","Firebase",n0());var nf=new Dn("@firebase/auth");function mU(e,...t){nf.logLevel<=ne.WARN&&nf.warn(`Auth (${Qo}): ${e}`,...t)}function ef(e,...t){nf.logLevel<=ne.ERROR&&nf.error(`Auth (${Qo}): ${e}`,...t)}function KS(e,...t){throw sy(e,...t)}function oy(e,...t){return sy(e,...t)}function o0(e,t,n){let r=Object.assign(Object.assign({},r0()),{[t]:n});return new Qt("auth","Firebase",r).create(t,{appName:e.name})}function tf(e){return o0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sy(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return i0.create(e,...t)}function J(e,t,...n){if(!e)throw sy(t,...n)}function nc(e){let t="INTERNAL ASSERTION FAILED: "+e;throw ef(t),new Error(t)}function rf(e,t){e||nc(t)}function vU(){return ZS()==="http:"||ZS()==="https:"}function ZS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function yU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vU()||hS()||"connection"in navigator)?navigator.onLine:!0}function _U(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var ki=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,rf(n>t,"Short delay should be less than long delay!"),this.isMobile=Ga()||Bd()}get(){return yU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function EU(e,t){rf(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var of=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var IU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var CU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wU=new ki(3e4,6e4);function s0(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function uf(o,s,a,c){return m(this,arguments,function*(e,t,n,r,i={}){return a0(e,i,()=>m(null,null,function*(){let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});let d=Ya(Object.assign({key:e.config.apiKey},u)).slice(1),f=yield e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:f},l);return fS()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&bi(e.emulatorConfig.host)&&(h.credentials="include"),of.fetch()(yield c0(e,e.config.apiHost,n,d),h)}))})}function a0(e,t,n){return m(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},IU),t);try{let i=new Qv(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Xd(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xd(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Xd(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw Xd(e,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw o0(e,u,l);KS(e,u)}}catch(i){if(i instanceof Cn)throw i;KS(e,"network-request-failed",{message:String(i)})}})}function c0(e,t,n,r){return m(this,null,function*(){let i=`${t}${n}?${r}`,o=e,s=o.config.emulator?EU(e.config,i):`${e.config.apiScheme}://${i}`;return CU.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Qv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oy(this.auth,"network-request-failed")),wU.get())})}};function Xd(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=oy(e,t,r);return i.customData._tokenResponse=n,i}function bU(e,t){return m(this,null,function*(){return uf(e,"POST","/v1/accounts:delete",t)})}function sf(e,t){return m(this,null,function*(){return uf(e,"POST","/v1/accounts:lookup",t)})}function rc(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function ay(e,t=!1){return m(this,null,function*(){let n=wt(e),r=yield n.getIdToken(t),i=l0(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:rc(Kv(i.auth_time)),issuedAtTime:rc(Kv(i.iat)),expirationTime:rc(Kv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Kv(e){return Number(e)*1e3}function l0(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{let i=Yo(n);return i?JSON.parse(i):(ef("Failed to decode base64 JWT payload"),null)}catch(i){return ef("Caught error parsing JWT payload as JSON",i?.toString()),null}}function QS(e){let t=l0(e);return J(t,"internal-error"),J(typeof t.exp<"u","internal-error"),J(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Jv(e,t,n=!1){return m(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof Cn&&DU(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function DU({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var Xv=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var oc=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function af(e){return m(this,null,function*(){var t;let n=e.auth,r=yield e.getIdToken(),i=yield Jv(e,sf(n,{idToken:r}));J(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?u0(o.providerUserInfo):[],a=TU(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new oc(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function cy(e){return m(this,null,function*(){let t=wt(e);yield af(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function TU(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function u0(e){return e.map(t=>{var{providerId:n}=t,r=vh(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function SU(e,t){return m(this,null,function*(){let n=yield a0(e,{},()=>m(null,null,function*(){let r=Ya({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=yield c0(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return e.emulatorConfig&&bi(e.emulatorConfig.host)&&(c.credentials="include"),of.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function AU(e,t){return m(this,null,function*(){return uf(e,"POST","/v2/accounts:revokeToken",s0(e,t))})}var ic=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){J(t.idToken,"internal-error"),J(typeof t.idToken<"u","internal-error"),J(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):QS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){J(t.length!==0,"internal-error");let n=QS(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return m(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield SU(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(J(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return nc("not implemented")}};function Sr(e,t){J(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Oi=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=vh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new oc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return m(this,null,function*(){let n=yield Jv(this,this.stsTokenManager.getToken(this.auth,t));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return ay(this,t)}reload(){return cy(this)}_assign(t){this!==t&&(J(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return m(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield af(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(er(this.auth.app))return Promise.reject(tf(this.auth));let t=yield this.getIdToken();return yield Jv(this,bU(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(l=n.createdAt)!==null&&l!==void 0?l:void 0,le=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:Ne,emailVerified:on,isAnonymous:Nc,providerData:Kf,stsTokenManager:x_}=n;J(Ne&&x_,t,"internal-error");let _R=ic.fromJSON(this.name,x_);J(typeof Ne=="string",t,"internal-error"),Sr(d,t.name),Sr(f,t.name),J(typeof on=="boolean",t,"internal-error"),J(typeof Nc=="boolean",t,"internal-error"),Sr(h,t.name),Sr(p,t.name),Sr(y,t.name),Sr(w,t.name),Sr(T,t.name),Sr(le,t.name);let Zf=new e({uid:Ne,auth:t,email:f,emailVerified:on,displayName:d,isAnonymous:Nc,photoURL:p,phoneNumber:h,tenantId:y,stsTokenManager:_R,createdAt:T,lastLoginAt:le});return Kf&&Array.isArray(Kf)&&(Zf.providerData=Kf.map(ER=>Object.assign({},ER))),w&&(Zf._redirectEventId=w),Zf}static _fromIdTokenResponse(t,n,r=!1){return m(this,null,function*(){let i=new ic;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield af(o),o})}static _fromGetAccountInfoResponse(t,n,r){return m(this,null,function*(){let i=n.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?u0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ic;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new oc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var JS=new Map;function xi(e){rf(e instanceof Function,"Expected a class definition");let t=JS.get(e);return t?(rf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,JS.set(e,t),t)}var RU=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),ey=RU;function Zv(e,t,n){return`firebase:${e}:${t}:${n}`}var cf=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Zv(this.userKey,i.apiKey,o),this.fullPersistenceKey=Zv("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return m(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=yield sf(this.auth,{idToken:t}).catch(()=>{});return n?Oi._fromGetAccountInfoResponse(this.auth,n,t):null}return Oi._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return m(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new e(xi(ey),t,r);let i=(yield Promise.all(n.map(l=>m(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||xi(ey),s=Zv(r,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield sf(t,{idToken:u}).catch(()=>{});if(!f)break;d=yield Oi._fromGetAccountInfoResponse(t,f,u)}else d=Oi._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>m(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,r))})}};function XS(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xU(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NU(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(PU(t))return"Blackberry";if(FU(t))return"Webos";if(MU(t))return"Safari";if((t.includes("chrome/")||OU(t))&&!t.includes("edge/"))return"Chrome";if(kU(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function NU(e=Jt()){return/firefox\//i.test(e)}function MU(e=Jt()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function OU(e=Jt()){return/crios\//i.test(e)}function xU(e=Jt()){return/iemobile/i.test(e)}function kU(e=Jt()){return/android/i.test(e)}function PU(e=Jt()){return/blackberry/i.test(e)}function FU(e=Jt()){return/webos/i.test(e)}function d0(e,t=[]){let n;switch(e){case"Browser":n=XS(Jt());break;case"Worker":n=`${XS(Jt())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${r}`}var ty=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return m(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function LU(n){return m(this,arguments,function*(e,t={}){return uf(e,"GET","/v2/passwordPolicy",s0(e,t))})}var VU=6,ny=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:VU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var ry=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lf(this),this.idTokenSubscription=new lf(this),this.beforeStateQueue=new ty(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield cf.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return m(this,null,function*(){try{let n=yield sf(this,{idToken:t}),r=yield Oi._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return m(this,null,function*(){var n;if(er(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return m(this,null,function*(){try{yield af(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=_U()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return m(this,null,function*(){if(er(this.app))return Promise.reject(tf(this));let n=t?wt(t):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return m(this,null,function*(){if(!this._deleted)return t&&J(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return er(this.app)?Promise.reject(tf(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return er(this.app)?Promise.reject(tf(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(xi(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let t=yield LU(this),n=new ny(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Qt("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield AU(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&xi(t)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield cf.create(this,[xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return m(this,null,function*(){if(t===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return m(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=d0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var t;if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&mU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function jU(e){return wt(e)}var lf=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=yS(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var UU={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BU(e){UU=e}function HU(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function $U(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xi);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}var Bte=HU("rcb"),Hte=new ki(3e4,6e4);var $te=new ki(2e3,1e4);var Wte=10*60*1e3;var zte=new ki(3e4,6e4);var Gte=new ki(5e3,15e3);var qte=encodeURIComponent("fac");var e0="@firebase/auth",t0="1.10.8";var iy=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function WU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zU(e){Xt(new qe("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d0(e)},l=new ry(r,i,o,c);return $U(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Xt(new qe("auth-internal",t=>{let n=jU(t.getProvider("auth").getImmediate());return(r=>new iy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_e(e0,t0,WU(e)),_e(e0,t0,"esm2017")}var GU=5*60,Yte=uS("authIdTokenMaxAge")||GU;function qU(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}BU({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=oy("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",qU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zU("Browser");var zB="auth";var df=class{constructor(){return es(zB)}};var f0="@firebase/database",h0="1.0.20";var l_="";function GB(e){l_=e}var my=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Se(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ko(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var vy=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return bn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var z0=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new my(t)}}catch{}return new vy},Fi=z0("localStorage"),yy=z0("sessionStorage");var rs=new Dn("@firebase/database"),qB=function(){let e=1;return function(){return e++}}(),G0=function(e){let t=_S(e),n=new Ud;n.update(t);let r=n.digest();return Zo.encodeByteArray(r)},bc=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=bc.apply(null,r):typeof r=="object"?t+=Se(r):t+=r,t+=" "}return t},Vi=null,p0=!0,YB=function(e,t){_(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(rs.logLevel=ne.VERBOSE,Vi=rs.log.bind(rs),t&&yy.set("logging_enabled",!0)):typeof e=="function"?Vi=e:(Vi=null,yy.remove("logging_enabled"))},je=function(...e){if(p0===!0&&(p0=!1,Vi===null&&yy.get("logging_enabled")===!0&&YB(!0)),Vi){let t=bc.apply(null,e);Vi(t)}},Dc=function(e){return function(...t){je(e,...t)}},_y=function(...e){let t="FIREBASE INTERNAL ERROR: "+bc(...e);rs.error(t)},tr=function(...e){let t=`FIREBASE FATAL ERROR: ${bc(...e)}`;throw rs.error(t),new Error(t)},it=function(...e){let t="FIREBASE WARNING: "+bc(...e);rs.warn(t)},KB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&it("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},q0=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ZB=function(e){if(wn()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},os="[MIN_NAME]",ji="[MAX_NAME]",fs=function(e,t){if(e===t)return 0;if(e===os||t===ji)return-1;if(t===os||e===ji)return 1;{let n=g0(e),r=g0(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},QB=function(e,t){return e===t?0:e<t?-1:1},sc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Se(t))},u_=function(e){if(typeof e!="object"||e===null)return Se(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Se(t[r]),n+=":",n+=u_(e[t[r]]);return n+="}",n},Y0=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ot(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var K0=function(e){_(!q0(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},JB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},XB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function e2(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var t2=new RegExp("^-?(0*)\\d{1,10}$"),n2=-2147483648,r2=2147483647,g0=function(e){if(t2.test(e)){let t=Number(e);if(t>=n2&&t<=r2)return t}return null},hs=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw it("Exception was thrown by user callback.",n),t},Math.floor(0))}},i2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},dc=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Ey=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,er(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){it(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Iy=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',it(t)}},fc=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),hf="5",Z0="v",Q0="s",J0="r",X0="f",eA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tA="ls",nA="p",Cy="ac",rA="websocket",iA="long_polling";var pf=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Fi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function o2(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function oA(e,t,n){_(typeof t=="string","typeof type must == string"),_(typeof n=="object","typeof params must == object");let r;if(t===rA)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===iA)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);o2(e)&&(n.ns=e.namespace);let i=[];return ot(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var wy=class{constructor(){this.counters_={}}incrementCounter(t,n=1){bn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return oS(this.counters_)}};var ly={},uy={};function d_(e){let t=e.toString();return ly[t]||(ly[t]=new wy),ly[t]}function s2(e,t){let n=e.toString();return uy[n]||(uy[n]=t()),uy[n]}var by=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&hs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var m0="start",a2="close",c2="pLPCommand",l2="pRTLPCB",sA="id",aA="pw",cA="ser",u2="cb",d2="seg",f2="ts",h2="d",p2="dframe",lA=1870,uA=30,g2=lA-uA,m2=25e3,v2=3e4,Dy=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dc(t),this.stats_=d_(n),this.urlFn=c=>(this.appCheckToken&&(c[Cy]=this.appCheckToken),oA(n,iA,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new by(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(v2)),ZB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ty((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===m0)this.id=a,this.password=c;else if(s===a2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[m0]="t",r[cA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[u2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Z0]=hf,this.transportSessionId&&(r[Q0]=this.transportSessionId),this.lastSessionId&&(r[tA]=this.lastSessionId),this.applicationId&&(r[nA]=this.applicationId),this.appCheckToken&&(r[Cy]=this.appCheckToken),typeof location<"u"&&location.hostname&&eA.test(location.hostname)&&(r[J0]=X0);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return wn()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!JB()&&!XB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=Se(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=wv(n),i=Y0(r,g2);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(wn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[p2]="t",r[sA]=t,r[aA]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=Se(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Ty=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,wn())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=qB(),window[c2+this.uniqueCallbackIdentifier]=t,window[l2+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){je("frame writing exception"),a.stack&&je(a.stack),je(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||je("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[sA]=this.myID,t[aA]=this.myPW,t[cA]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+uA+r.length<=lA;){let s=this.pendingSegs.shift();r=r+"&"+d2+i+"="+s.seg+"&"+f2+i+"="+s.ts+"&"+h2+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(m2)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){wn()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{je("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var y2=16384,_2=45e3,gf=null;typeof MozWebSocket<"u"?gf=MozWebSocket:typeof WebSocket<"u"&&(gf=WebSocket);var ac=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dc(this.connId),this.stats_=d_(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[Z0]=hf,!wn()&&typeof location<"u"&&location.hostname&&eA.test(location.hostname)&&(a[J0]=X0),r&&(a[Q0]=r),i&&(a[tA]=i),o&&(a[Cy]=o),s&&(a[nA]=s),oA(n,rA,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fi.set("previous_websocket_failure",!0);try{let i;if(wn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${hf}/${l_}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new gf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&gf!==null&&!e.forceDisallow_}static previouslyFailed(){return Fi.isInMemoryStorage||Fi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Ko(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Se(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=Y0(r,y2);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(_2))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),E2=(()=>{class e{static get ALL_TRANSPORTS(){return[Dy,ac]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=ac&&ac.isAvailable(),i=r&&!ac.previouslyFailed();if(n.webSocketOnly&&(r||it("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ac];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),I2=6e4,C2=5e3,w2=10*1024,b2=100*1024,dy="t",v0="d",D2="s",y0="r",T2="e",_0="o",E0="a",I0="n",C0="p",S2="h",Sy=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dc("c:"+this.id+":"),this.transportManager_=new E2(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=dc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>b2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>w2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(dy in t){let n=t[dy];n===E0?this.upgradeIfSecondaryHealthy_():n===y0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===_0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=sc("t",t),r=sc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:C0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:E0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:I0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=sc("t",t),r=sc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=sc(dy,t);if(v0 in t){let r=t[v0];if(n===S2){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===I0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===D2?this.onConnectionShutdown_(r):n===y0?this.onReset_(r):n===T2?_y("Server Error: "+r):n===_0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_y("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),hf!==r&&it("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),dc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(I2))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(C2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:C0,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var mf=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var vf=class{constructor(t){this.allowedEvents_=t,this.listeners_={},_(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){_(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var yf=class e extends vf{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ga()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return _(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var w0=32,b0=768,re=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function K(){return new re("")}function H(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Nr(e){return e.pieces_.length-e.pieceNum_}function oe(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new re(e.pieces_,t)}function dA(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function A2(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function fA(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function hA(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new re(t,0)}function Re(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof re)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new re(n,0)}function W(e){return e.pieceNum_>=e.pieces_.length}function Ye(e,t){let n=H(e),r=H(t);if(n===null)return t;if(n===r)return Ye(oe(e),oe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function f_(e,t){if(Nr(e)!==Nr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function nn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Nr(e)>Nr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ay=class{constructor(t,n){this.errorPrefix_=n,this.parts_=fA(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ka(this.parts_[r]);pA(this)}};function R2(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ka(t),pA(e)}function N2(e){let t=e.parts_.pop();e.byteLength_-=Ka(t),e.parts_.length>0&&(e.byteLength_-=1)}function pA(e){if(e.byteLength_>b0)throw new Error(e.errorPrefix_+"has a key path longer than "+b0+" bytes ("+e.byteLength_+").");if(e.parts_.length>w0)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+w0+") or object contains a cycle "+Pi(e))}function Pi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Ry=class e extends vf{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return _(t==="visible","Unknown event type: "+t),[this.visible_]}};var cc=1e3,M2=60*5*1e3,D0=30*1e3,O2=1.3,x2=3e4,k2="server_kill",T0=3,h_=(()=>{class e extends mf{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=Dc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cc,this.maxReconnectDelay_=M2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!wn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ry.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&yf.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Se(s)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Zt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&bn(n,"w")){let i=Di(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();it(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||vS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=D0)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=mS(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Se(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):_y("Unrecognized action received from server: "+Se(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=cc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>x2&&(this.reconnectDelay_=cc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*O2)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){_(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?je("getToken() completed but was canceled"):(je("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new Sy(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{it(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(k2)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&it(f),l())}}})}interrupt(n){je("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){je("Resuming connection for reason: "+n),delete this.interruptReasons_[n],$d(this.interruptReasons_)&&(this.reconnectDelay_=cc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>u_(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new re(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){je("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=T0&&(this.reconnectDelay_=D0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){je("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=T0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";wn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+l_.replace(/\./g,"-")]=1,Ga()?n["framework.cordova"]=1:Bd()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=yf.getInstance().currentlyOnline();return $d(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),$=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var ss=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new $(os,t),i=new $(os,n);return this.compare(r,i)!==0}minPost(){return $.MIN}};var ff,_f=class extends ss{static get __EMPTY_NODE(){return ff}static set __EMPTY_NODE(t){ff=t}compare(t,n){return fs(t.name,n.name)}isDefinedOn(t){throw wi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return $.MIN}maxPost(){return new $(ji,ff)}makePost(t,n){return _(typeof t=="string","KeyIndex indexValue must always be a string."),new $(t,ff)}toString(){return".key"}},is=new _f;var ns=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},tn=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Ot.EMPTY_NODE,this.right=s??Ot.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ot.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ot.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Ny=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new tn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ot=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,tn.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,tn.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ns(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ns(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ns(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ns(this.root_,null,this.comparator_,!0,t)}};Ot.EMPTY_NODE=new Ny;function P2(e,t){return fs(e.name,t.name)}function p_(e,t){return fs(e,t)}var My;function F2(e){My=e}var gA=function(e){return typeof e=="number"?"number:"+K0(e):"string:"+e},mA=function(e){if(e.isLeafNode()){let t=e.val();_(typeof t=="string"||typeof t=="number"||typeof t=="object"&&bn(t,".sv"),"Priority must be a string or number.")}else _(e===My||e.isEmpty(),"priority of unexpected type.");_(e===My||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var S0,as=(()=>{class e{static set __childrenNodeConstructor(n){S0=n}static get __childrenNodeConstructor(){return S0}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mA(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return W(n)?this:H(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=H(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(_(i!==".priority"||Nr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(oe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+gA(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=K0(this.value_):n+=this.value_,this.lazyHash_=G0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(_(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return _(o>=0,"Unknown leaf type: "+r),_(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),vA,yA;function L2(e){vA=e}function V2(e){yA=e}var Oy=class extends ss{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?fs(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return $.MIN}maxPost(){return new $(ji,new as("[PRIORITY-POST]",yA))}makePost(t,n){let r=vA(t);return new $(n,new as("[PRIORITY-POST]",r))}toString(){return".priority"}},he=new Oy;var j2=Math.log(2),xy=class{constructor(t){let n=o=>parseInt(Math.log(o)/j2,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},Ef=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new tn(f,d.node,tn.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),y=i(h+1,l);return d=e[h],f=n?n(d):d,new tn(f,d.node,tn.BLACK,p,y)}},o=function(c){let l=null,u=null,d=e.length,f=function(p,y){let w=d-p,T=d;d-=p;let le=i(w+1,T),Ne=e[w],on=n?n(Ne):Ne;h(new tn(on,Ne.node,y,null,le))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let y=c.nextBitIsOne(),w=Math.pow(2,c.count-(p+1));y?f(w,tn.BLACK):(f(w,tn.BLACK),f(w,tn.RED))}return u},s=new xy(e.length),a=o(s);return new Ot(r||t,a)};var fy,ts={},cs=class e{static get Default(){return _(ts&&he,"ChildrenNode.ts has not been loaded"),fy=fy||new e({".priority":ts},{".priority":he}),fy}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=Di(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ot?n:null}hasIndex(t){return bn(this.indexSet_,t.toString())}addIndex(t,n){_(t!==is,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator($.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Ef(r,t.getCompare()):a=ts;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=qa(this.indexes_,(i,o)=>{let s=Di(this.indexSet_,o);if(_(s,"Missing index implementation for "+o),i===ts)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator($.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),Ef(a,s.getCompare())}else return ts;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new $(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=qa(this.indexes_,i=>{if(i===ts)return i;{let o=n.get(t.name);return o?i.remove(new $(t.name,o)):i}});return new e(r,this.indexSet_)}};var lc,U=(()=>{class e{static get EMPTY_NODE(){return lc||(lc=new e(new Ot(p_),null,cs.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&mA(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||lc}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?lc:r}}getChild(n){let r=H(n);return r===null?this:this.getImmediateChild(r).getChild(oe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(_(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new $(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?lc:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=H(n);if(i===null)return r;{_(H(n)!==".priority"||Nr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(oe(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(he,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+gA(this.getPriority().val())+":"),this.forEachChild(he,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":G0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new $(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new $(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new $(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,$.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,$.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Tc?-1:0}withIndex(n){if(n===is||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===is||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(he),o=r.getIterator(he),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===is?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),ky=class extends U{constructor(){super(new Ot(p_),U.EMPTY_NODE,cs.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return U.EMPTY_NODE}isEmpty(){return!1}},Tc=new ky;Object.defineProperties($,{MIN:{value:new $(os,U.EMPTY_NODE)},MAX:{value:new $(ji,Tc)}});_f.__EMPTY_NODE=U.EMPTY_NODE;as.__childrenNodeConstructor=U;F2(Tc);V2(Tc);var U2=!0;function xe(e,t=null){if(e===null)return U.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),_(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new as(n,xe(t))}if(!(e instanceof Array)&&U2){let n=[],r=!1;if(ot(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=xe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new $(s,c)))}}),n.length===0)return U.EMPTY_NODE;let o=Ef(n,P2,s=>s.name,p_);if(r){let s=Ef(n,he.getCompare());return new U(o,xe(t),new cs({".priority":s},{".priority":he}))}else return new U(o,xe(t),cs.Default)}else{let n=U.EMPTY_NODE;return ot(e,(r,i)=>{if(bn(e,r)&&r.substring(0,1)!=="."){let o=xe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(xe(t))}}L2(xe);var Py=class extends ss{constructor(t){super(),this.indexPath_=t,_(!W(t)&&H(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?fs(t.name,n.name):o}makePost(t,n){let r=xe(t),i=U.EMPTY_NODE.updateChild(this.indexPath_,r);return new $(n,i)}maxPost(){let t=U.EMPTY_NODE.updateChild(this.indexPath_,Tc);return new $(ji,t)}toString(){return fA(this.indexPath_,0).join("/")}};var Fy=class extends ss{compare(t,n){let r=t.node.compareTo(n.node);return r===0?fs(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(t,n){let r=xe(t);return new $(n,r)}toString(){return".value"}},B2=new Fy;function _A(e){return{type:"value",snapshotNode:e}}function ls(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function mc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function vc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function H2(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var yc=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){_(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(mc(n,a)):_(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ls(n,r)):s.trackChildChange(vc(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(he,(i,o)=>{n.hasChild(i)||r.trackChildChange(mc(i,o))}),n.isLeafNode()||n.forEachChild(he,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(vc(i,o,s))}else r.trackChildChange(ls(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?U.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var If=class e{constructor(t){this.indexedFilter_=new yc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new $(n,r))||(r=U.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=U.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(U.EMPTY_NODE);let o=this;return n.forEachChild(he,(s,a)=>{o.matches(new $(s,a))||(i=i.updateImmediateChild(s,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Ly=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new If(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new $(n,r))||(r=U.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=U.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(U.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;_(a.numChildren()===this.limit_,"");let c=new $(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(vc(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(mc(n,d));let y=a.updateImmediateChild(n,U.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(ls(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?t:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(mc(l.name,l.node)),o.trackChildChange(ls(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,U.EMPTY_NODE)):t}};var Vy=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=he}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:os}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ji}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===he}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function $2(e){return e.loadsAllData()?new yc(e.getIndex()):e.hasLimit()?new Ly(e):new If(e)}function A0(e){let t={};if(e.isDefault())return t;let n;if(e.index_===he?n="$priority":e.index_===B2?n="$value":e.index_===is?n="$key":(_(e.index_ instanceof Py,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Se(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=Se(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Se(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Se(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Se(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function R0(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==he&&(t.i=e.index_.toString()),t}var jy=class e extends mf{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(_(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Dc("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=A0(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Di(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=A0(t._queryParams),r=t._path.toString(),i=new Zt;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ya(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Ko(a.responseText)}catch{it("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&it("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Uy=class{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function Cf(){return{value:null,children:new Map}}function EA(e,t,n){if(W(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=H(t);e.children.has(r)||e.children.set(r,Cf());let i=e.children.get(r);t=oe(t),EA(i,t,n)}}function By(e,t,n){e.value!==null?n(t,e.value):W2(e,(r,i)=>{let o=new re(t.toString()+"/"+r);By(i,o,n)})}function W2(e,t){e.children.forEach((n,r)=>{t(r,n)})}var Hy=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ot(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var N0=10*1e3,z2=30*1e3,G2=5*60*1e3,$y=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Hy(t);let r=N0+(z2-N0)*Math.random();dc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;ot(t,(i,o)=>{o>0&&bn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),dc(this.reportStats_.bind(this),Math.floor(Math.random()*2*G2))}};var An=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(An||{});function IA(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function g_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function m_(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Wy=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=An.ACK_USER_WRITE,this.source=IA()}operationForChild(t){if(W(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new re(t));return new e(K(),n,this.revert)}}else return _(H(this.path)===t,"operationForChild called for unrelated child."),new e(oe(this.path),this.affectedTree,this.revert)}};var wf=class e{constructor(t,n){this.source=t,this.path=n,this.type=An.LISTEN_COMPLETE}operationForChild(t){return W(this.path)?new e(this.source,K()):new e(this.source,oe(this.path))}};var us=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=An.OVERWRITE}operationForChild(t){return W(this.path)?new e(this.source,K(),this.snap.getImmediateChild(t)):new e(this.source,oe(this.path),this.snap)}};var bf=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=An.MERGE}operationForChild(t){if(W(this.path)){let n=this.children.subtree(new re(t));return n.isEmpty()?null:n.value?new us(this.source,K(),n.value):new e(this.source,K(),n)}else return _(H(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Rn=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(W(t))return this.isFullyInitialized()&&!this.filtered_;let n=H(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var zy=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function q2(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(H2(s.childName,s.snapshotNode))}),uc(e,i,"child_removed",t,r,n),uc(e,i,"child_added",t,r,n),uc(e,i,"child_moved",o,r,n),uc(e,i,"child_changed",t,r,n),uc(e,i,"value",t,r,n),i}function uc(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>K2(e,a,c)),s.forEach(a=>{let c=Y2(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function Y2(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function K2(e,t,n){if(t.childName==null||n.childName==null)throw wi("Should only compare child_ events.");let r=new $(t.childName,t.snapshotNode),i=new $(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function Vf(e,t){return{eventCache:e,serverCache:t}}function hc(e,t,n,r){return Vf(new Rn(t,n,r),e.serverCache)}function CA(e,t,n,r){return Vf(e.eventCache,new Rn(t,n,r))}function Df(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ui(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var hy,Z2=()=>(hy||(hy=new Ot(QB)),hy),st=class e{static fromObject(t){let n=new e(null);return ot(t,(r,i)=>{n=n.set(new re(r),i)}),n}constructor(t,n=Z2()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(W(t))return null;{let r=H(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(oe(t),n);return o!=null?{path:Re(new re(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(W(t))return this;{let n=H(t),r=this.children.get(n);return r!==null?r.subtree(oe(t)):new e(null)}}set(t,n){if(W(t))return new e(n,this.children);{let r=H(t),o=(this.children.get(r)||new e(null)).set(oe(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(W(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=H(t),r=this.children.get(n);if(r){let i=r.remove(oe(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(W(t))return this.value;{let n=H(t),r=this.children.get(n);return r?r.get(oe(t)):null}}setTree(t,n){if(W(t))return n;{let r=H(t),o=(this.children.get(r)||new e(null)).setTree(oe(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(K(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Re(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,K(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(W(t))return null;{let o=H(t),s=this.children.get(o);return s?s.findOnPath_(oe(t),Re(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,K(),n)}foreachOnPath_(t,n,r){if(W(t))return this;{this.value&&r(n,this.value);let i=H(t),o=this.children.get(i);return o?o.foreachOnPath_(oe(t),Re(n,i),r):new e(null)}}foreach(t){this.foreach_(K(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Re(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var rn=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new st(null))}};function pc(e,t,n){if(W(t))return new rn(new st(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=Ye(i,t);return o=o.updateChild(s,n),new rn(e.writeTree_.set(i,o))}else{let i=new st(n),o=e.writeTree_.setTree(t,i);return new rn(o)}}}function M0(e,t,n){let r=e;return ot(n,(i,o)=>{r=pc(r,Re(t,i),o)}),r}function O0(e,t){if(W(t))return rn.empty();{let n=e.writeTree_.setTree(t,new st(null));return new rn(n)}}function Gy(e,t){return Bi(e,t)!=null}function Bi(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ye(n.path,t)):null}function x0(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(he,(r,i)=>{t.push(new $(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new $(r,i.value))}),t}function Ar(e,t){if(W(t))return e;{let n=Bi(e,t);return n!=null?new rn(new st(n)):new rn(e.writeTree_.subtree(t))}}function qy(e){return e.writeTree_.isEmpty()}function ds(e,t){return wA(K(),e.writeTree_,t)}function wA(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(_(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=wA(Re(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Re(e,".priority"),r)),n}}function jf(e,t){return SA(t,e)}function Q2(e,t,n,r,i){_(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=pc(e.visibleWrites,t,n)),e.lastWriteId=r}function J2(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function X2(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);_(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&eH(a,r.path)?i=!1:nn(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return tH(e),!0;if(r.snap)e.visibleWrites=O0(e.visibleWrites,r.path);else{let a=r.children;ot(a,c=>{e.visibleWrites=O0(e.visibleWrites,Re(r.path,c))})}return!0}else return!1}function eH(e,t){if(e.snap)return nn(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&nn(Re(e.path,n),t))return!0;return!1}function tH(e){e.visibleWrites=bA(e.allWrites,nH,K()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function nH(e){return e.visible}function bA(e,t,n){let r=rn.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)nn(n,s)?(a=Ye(n,s),r=pc(r,a,o.snap)):nn(s,n)&&(a=Ye(s,n),r=pc(r,K(),o.snap.getChild(a)));else if(o.children){if(nn(n,s))a=Ye(n,s),r=M0(r,a,o.children);else if(nn(s,n))if(a=Ye(s,n),W(a))r=M0(r,K(),o.children);else{let c=Di(o.children,H(a));if(c){let l=c.getChild(oe(a));r=pc(r,K(),l)}}}else throw wi("WriteRecord should have .snap or .children")}}return r}function DA(e,t,n,r,i){if(!r&&!i){let o=Bi(e.visibleWrites,t);if(o!=null)return o;{let s=Ar(e.visibleWrites,t);if(qy(s))return n;if(n==null&&!Gy(s,K()))return null;{let a=n||U.EMPTY_NODE;return ds(s,a)}}}else{let o=Ar(e.visibleWrites,t);if(!i&&qy(o))return n;if(!i&&n==null&&!Gy(o,K()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(nn(l.path,t)||nn(t,l.path))},a=bA(e.allWrites,s,t),c=n||U.EMPTY_NODE;return ds(a,c)}}}function rH(e,t,n){let r=U.EMPTY_NODE,i=Bi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(he,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Ar(e.visibleWrites,t);return n.forEachChild(he,(s,a)=>{let c=ds(Ar(o,new re(s)),a);r=r.updateImmediateChild(s,c)}),x0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Ar(e.visibleWrites,t);return x0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function iH(e,t,n,r,i){_(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Re(t,n);if(Gy(e.visibleWrites,o))return null;{let s=Ar(e.visibleWrites,o);return qy(s)?i.getChild(n):ds(s,i.getChild(n))}}function oH(e,t,n,r){let i=Re(t,n),o=Bi(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Ar(e.visibleWrites,i);return ds(s,r.getNode().getImmediateChild(n))}else return null}function sH(e,t){return Bi(e.visibleWrites,t)}function aH(e,t,n,r,i,o,s){let a,c=Ar(e.visibleWrites,t),l=Bi(c,K());if(l!=null)a=l;else if(n!=null)a=ds(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function cH(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function Tf(e,t,n,r){return DA(e.writeTree,e.treePath,t,n,r)}function v_(e,t){return rH(e.writeTree,e.treePath,t)}function k0(e,t,n,r){return iH(e.writeTree,e.treePath,t,n,r)}function Sf(e,t){return sH(e.writeTree,Re(e.treePath,t))}function lH(e,t,n,r,i,o){return aH(e.writeTree,e.treePath,t,n,r,i,o)}function y_(e,t,n){return oH(e.writeTree,e.treePath,t,n)}function TA(e,t){return SA(Re(e.treePath,t),e.writeTree)}function SA(e,t){return{treePath:e,writeTree:t}}var Yy=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;_(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,vc(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,mc(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ls(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,vc(r,t.snapshotNode,i.oldSnap));else throw wi("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Ky=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},AA=new Ky,_c=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new Rn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return y_(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ui(this.viewCache_),o=lH(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function uH(e){return{filter:e}}function dH(e,t){_(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),_(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function fH(e,t,n,r,i){let o=new Yy,s,a;if(n.type===An.OVERWRITE){let l=n;l.source.fromUser?s=Zy(e,t,l.path,l.snap,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!W(l.path),s=Af(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===An.MERGE){let l=n;l.source.fromUser?s=pH(e,t,l.path,l.children,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Qy(e,t,l.path,l.children,r,i,a,o))}else if(n.type===An.ACK_USER_WRITE){let l=n;l.revert?s=vH(e,t,l.path,r,i,o):s=gH(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===An.LISTEN_COMPLETE)s=mH(e,t,n.path,r,o);else throw wi("Unknown operation type: "+n.type);let c=o.getChanges();return hH(t,s,c),{viewCache:s,changes:c}}function hH(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Df(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_A(Df(t)))}}function RA(e,t,n,r,i,o){let s=t.eventCache;if(Sf(r,n)!=null)return t;{let a,c;if(W(n))if(_(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=Ui(t),u=l instanceof U?l:U.EMPTY_NODE,d=v_(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=Tf(r,Ui(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=H(n);if(l===".priority"){_(Nr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=k0(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=oe(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let f=k0(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=y_(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return hc(t,a,s.isFullyInitialized()||W(n),e.filter.filtersNodes())}}function Af(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(W(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=H(n);if(!c.isCompleteForPath(n)&&Nr(n)>1)return t;let p=oe(n),w=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),w):l=u.updateChild(c.getNode(),h,w,p,AA,null)}let d=CA(t,l,c.isFullyInitialized()||W(n),u.filtersNodes()),f=new _c(i,d,o);return RA(e,d,n,i,f,a)}function Zy(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new _c(i,t,o);if(W(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=hc(t,l,!0,e.filter.filtersNodes());else{let d=H(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=hc(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=oe(n),h=a.getNode().getImmediateChild(d),p;if(W(f))p=r;else{let y=u.getCompleteChild(d);y!=null?dA(f)===".priority"&&y.getChild(hA(f)).isEmpty()?p=y:p=y.updateChild(f,r):p=U.EMPTY_NODE}if(h.equals(p))c=t;else{let y=e.filter.updateChild(a.getNode(),d,p,f,u,s);c=hc(t,y,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function P0(e,t){return e.eventCache.isCompleteForChild(t)}function pH(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=Re(n,c);P0(t,H(u))&&(a=Zy(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Re(n,c);P0(t,H(u))||(a=Zy(e,a,u,l,i,o,s))}),a}function F0(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Qy(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;W(n)?l=r:l=new st(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=F0(e,h,f);c=Af(e,c,new re(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),y=F0(e,p,f);c=Af(e,c,new re(d),y,i,o,s,a)}}),c}function gH(e,t,n,r,i,o,s){if(Sf(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(W(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Af(e,t,n,c.getNode().getChild(n),i,o,a,s);if(W(n)){let l=new st(null);return c.getNode().forEachChild(is,(u,d)=>{l=l.set(new re(u),d)}),Qy(e,t,n,l,i,o,a,s)}else return t}else{let l=new st(null);return r.foreach((u,d)=>{let f=Re(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Qy(e,t,n,l,i,o,a,s)}}function mH(e,t,n,r,i){let o=t.serverCache,s=CA(t,o.getNode(),o.isFullyInitialized()||W(n),o.isFiltered());return RA(e,s,n,r,AA,i)}function vH(e,t,n,r,i,o){let s;if(Sf(r,n)!=null)return t;{let a=new _c(r,t,i),c=t.eventCache.getNode(),l;if(W(n)||H(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Tf(r,Ui(t));else{let d=t.serverCache.getNode();_(d instanceof U,"serverChildren would be complete if leaf node"),u=v_(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=H(n),d=y_(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,oe(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,U.EMPTY_NODE,oe(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Tf(r,Ui(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||Sf(r,K())!=null,hc(t,l,s,e.filter.filtersNodes())}}var Jy=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new yc(r.getIndex()),o=$2(r);this.processor_=uH(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(U.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(U.EMPTY_NODE,a.getNode(),null),u=new Rn(c,s.isFullyInitialized(),i.filtersNodes()),d=new Rn(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Vf(d,u),this.eventGenerator_=new zy(this.query_)}get query(){return this.query_}};function yH(e){return e.viewCache_.serverCache.getNode()}function _H(e){return Df(e.viewCache_)}function EH(e,t){let n=Ui(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!W(t)&&!n.getImmediateChild(H(t)).isEmpty())?n.getChild(t):null}function L0(e){return e.eventRegistrations_.length===0}function IH(e,t){e.eventRegistrations_.push(t)}function V0(e,t,n){let r=[];if(n){_(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function j0(e,t,n,r){t.type===An.MERGE&&t.source.queryId!==null&&(_(Ui(e.viewCache_),"We should always have a full cache before handling merges"),_(Df(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=fH(e.processor_,i,t,n,r);return dH(e.processor_,o.viewCache),_(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,NA(e,o.changes,o.viewCache.eventCache.getNode(),null)}function CH(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(he,(o,s)=>{r.push(ls(o,s))}),n.isFullyInitialized()&&r.push(_A(n.getNode())),NA(e,r,n.getNode(),t)}function NA(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return q2(e.eventGenerator_,t,n,i)}var Rf,Nf=class{constructor(){this.views=new Map}};function wH(e){_(!Rf,"__referenceConstructor has already been defined"),Rf=e}function bH(){return _(Rf,"Reference.ts has not been loaded"),Rf}function DH(e){return e.views.size===0}function __(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return _(o!=null,"SyncTree gave us an op for an invalid query."),j0(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(j0(s,t,n,r));return o}}function MA(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=Tf(n,i?r:null),c=!1;a?c=!0:r instanceof U?(a=v_(n,r),c=!1):(a=U.EMPTY_NODE,c=!1);let l=Vf(new Rn(a,c,!1),new Rn(r,i,!1));return new Jy(t,l)}return s}function TH(e,t,n,r,i,o){let s=MA(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),IH(s,n),CH(s,n)}function SH(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=Mr(e);if(i==="default")for(let[c,l]of e.views.entries())s=s.concat(V0(l,n,r)),L0(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(i);c&&(s=s.concat(V0(c,n,r)),L0(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Mr(e)&&o.push(new(bH())(t._repo,t._path)),{removed:o,events:s}}function OA(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Rr(e,t){let n=null;for(let r of e.views.values())n=n||EH(r,t);return n}function xA(e,t){if(t._queryParams.loadsAllData())return Uf(e);{let r=t._queryIdentifier;return e.views.get(r)}}function kA(e,t){return xA(e,t)!=null}function Mr(e){return Uf(e)!=null}function Uf(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Mf;function AH(e){_(!Mf,"__referenceConstructor has already been defined"),Mf=e}function RH(){return _(Mf,"Reference.ts has not been loaded"),Mf}var NH=1,Of=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new st(null),this.pendingWriteTree_=cH(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function PA(e,t,n,r,i){return Q2(e.pendingWriteTree_,t,n,r,i),i?Ac(e,new us(IA(),t,n)):[]}function Li(e,t,n=!1){let r=J2(e.pendingWriteTree_,t);if(X2(e.pendingWriteTree_,t)){let o=new st(null);return r.snap!=null?o=o.set(K(),!0):ot(r.children,s=>{o=o.set(new re(s),!0)}),Ac(e,new Wy(r.path,o,n))}else return[]}function Sc(e,t,n){return Ac(e,new us(g_(),t,n))}function MH(e,t,n){let r=st.fromObject(n);return Ac(e,new bf(g_(),t,r))}function OH(e,t){return Ac(e,new wf(g_(),t))}function xH(e,t,n){let r=I_(e,n);if(r){let i=C_(r),o=i.path,s=i.queryId,a=Ye(o,t),c=new wf(m_(s),a);return w_(e,o,c)}else return[]}function xf(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||kA(s,t))){let c=SH(s,t,n,r);DH(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>Mr(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=FH(f);for(let p=0;p<h.length;++p){let y=h[p],w=y.query,T=jA(e,y);e.listenProvider_.startListening(gc(w),Ec(e,w),T.hashFn,T.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(gc(t),null):l.forEach(f=>{let h=e.queryToTagMap.get(Bf(f));e.listenProvider_.stopListening(gc(f),h)}))}LH(e,l)}return a}function FA(e,t,n,r){let i=I_(e,r);if(i!=null){let o=C_(i),s=o.path,a=o.queryId,c=Ye(s,t),l=new us(m_(a),c,n);return w_(e,s,l)}else return[]}function kH(e,t,n,r){let i=I_(e,r);if(i){let o=C_(i),s=o.path,a=o.queryId,c=Ye(s,t),l=st.fromObject(n),u=new bf(m_(a),c,l);return w_(e,s,u)}else return[]}function Xy(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Ye(f,i);o=o||Rr(h,p),s=s||Mr(h)});let a=e.syncPointTree_.get(i);a?(s=s||Mr(a),o=o||Rr(a,K())):(a=new Nf,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=U.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let y=Rr(p,K());y&&(o=o.updateImmediateChild(h,y))}));let l=kA(a,t);if(!l&&!t._queryParams.loadsAllData()){let f=Bf(t);_(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=VH();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=jf(e.pendingWriteTree_,i),d=TH(a,t,n,u,o,c);if(!l&&!s&&!r){let f=xA(a,t);d=d.concat(jH(e,t,f))}return d}function E_(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=Ye(s,t),l=Rr(a,c);if(l)return l});return DA(i,t,o,n,!0)}function PH(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=Ye(l,n);r=r||Rr(u,d)});let i=e.syncPointTree_.get(n);i?r=r||Rr(i,K()):(i=new Nf,e.syncPointTree_=e.syncPointTree_.set(n,i));let o=r!=null,s=o?new Rn(r,!0,!1):null,a=jf(e.pendingWriteTree_,t._path),c=MA(i,t,a,o?s.getNode():U.EMPTY_NODE,o);return _H(c)}function Ac(e,t){return LA(t,e.syncPointTree_,null,jf(e.pendingWriteTree_,K()))}function LA(e,t,n,r){if(W(e.path))return VA(e,t,n,r);{let i=t.get(K());n==null&&i!=null&&(n=Rr(i,K()));let o=[],s=H(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=TA(r,s);o=o.concat(LA(a,c,l,u))}return i&&(o=o.concat(__(i,e,r,n))),o}}function VA(e,t,n,r){let i=t.get(K());n==null&&i!=null&&(n=Rr(i,K()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=TA(r,s),u=e.operationForChild(s);u&&(o=o.concat(VA(u,a,c,l)))}),i&&(o=o.concat(__(i,e,r,n))),o}function jA(e,t){let n=t.query,r=Ec(e,n);return{hashFn:()=>(yH(t)||U.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?xH(e,n._path,r):OH(e,n._path);{let o=e2(i,n);return xf(e,n,null,o)}}}}function Ec(e,t){let n=Bf(t);return e.queryToTagMap.get(n)}function Bf(e){return e._path.toString()+"$"+e._queryIdentifier}function I_(e,t){return e.tagToQueryMap.get(t)}function C_(e){let t=e.indexOf("$");return _(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new re(e.substr(0,t))}}function w_(e,t,n){let r=e.syncPointTree_.get(t);_(r,"Missing sync point for query tag that we're tracking");let i=jf(e.pendingWriteTree_,t);return __(r,n,i,null)}function FH(e){return e.fold((t,n,r)=>{if(n&&Mr(n))return[Uf(n)];{let i=[];return n&&(i=OA(n)),ot(r,(o,s)=>{i=i.concat(s)}),i}})}function gc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(RH())(e._repo,e._path):e}function LH(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=Bf(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function VH(){return NH++}function jH(e,t,n){let r=t._path,i=Ec(e,t),o=jA(e,n),s=e.listenProvider_.startListening(gc(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)_(!Mr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!W(l)&&u&&Mr(u))return[Uf(u).query];{let f=[];return u&&(f=f.concat(OA(u).map(h=>h.query))),ot(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(gc(u),Ec(e,u))}}return s}var e_=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},t_=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=Re(this.path_,t);return new e(this.syncTree_,n)}node(){return E_(this.syncTree_,this.path_)}},UH=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},U0=function(e,t,n){if(!e||typeof e!="object")return e;if(_(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return BH(e[".sv"],t,n);if(typeof e[".sv"]=="object")return HH(e[".sv"],t);_(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},BH=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:_(!1,"Unexpected server value: "+e)}},HH=function(e,t,n){e.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&_(!1,"Unexpected increment value: "+r);let i=t.node();if(_(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},$H=function(e,t,n,r){return b_(t,new t_(n,e),r)},UA=function(e,t,n){return b_(e,new e_(t),n)};function b_(e,t,n){let r=e.getPriority().val(),i=U0(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=U0(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new as(a,xe(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new as(i))),s.forEachChild(he,(a,c)=>{let l=b_(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Ic=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function D_(e,t){let n=t instanceof re?t:new re(t),r=e,i=H(n);for(;i!==null;){let o=Di(r.node.children,i)||{children:{},childCount:0};r=new Ic(i,r,o),n=oe(n),i=H(n)}return r}function ps(e){return e.node.value}function BA(e,t){e.node.value=t,n_(e)}function HA(e){return e.node.childCount>0}function WH(e){return ps(e)===void 0&&!HA(e)}function Hf(e,t){ot(e.node.children,(n,r)=>{t(new Ic(n,e,r))})}function $A(e,t,n,r){n&&!r&&t(e),Hf(e,i=>{$A(i,t,!0,r)}),n&&r&&t(e)}function zH(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Rc(e){return new re(e.parent===null?e.name:Rc(e.parent)+"/"+e.name)}function n_(e){e.parent!==null&&GH(e.parent,e.name,e)}function GH(e,t,n){let r=WH(n),i=bn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,n_(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,n_(e))}var qH=/[\[\].#$\/\u0000-\u001F\u007F]/,YH=/[\[\].#$\u0000-\u001F\u007F]/,py=10*1024*1024,WA=function(e){return typeof e=="string"&&e.length!==0&&!qH.test(e)},zA=function(e){return typeof e=="string"&&e.length!==0&&!YH.test(e)},KH=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),zA(e)};var ZH=function(e,t,n,r){r&&t===void 0||T_(Wd(e,"value"),t,n)},T_=function(e,t,n){let r=n instanceof re?new Ay(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Pi(r));if(typeof t=="function")throw new Error(e+"contains a function "+Pi(r)+" with contents = "+t.toString());if(q0(t))throw new Error(e+"contains "+t.toString()+" "+Pi(r));if(typeof t=="string"&&t.length>py/3&&Ka(t)>py)throw new Error(e+"contains a string greater than "+py+" utf8 bytes "+Pi(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(ot(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!WA(s)))throw new Error(e+" contains an invalid key ("+s+") "+Pi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);R2(r,s),T_(e,a,r),N2(r)}),i&&o)throw new Error(e+' contains ".value" child '+Pi(r)+" in addition to actual children.")}};var GA=function(e,t,n,r){if(!(r&&n===void 0)&&!zA(n))throw new Error(Wd(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},QH=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),GA(e,t,n,r)},JH=function(e,t){if(H(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},XH=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!WA(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!KH(n))throw new Error(Wd(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var r_=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function S_(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!f_(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function qA(e,t,n){S_(e,n),YA(e,r=>f_(r,t))}function Nn(e,t,n){S_(e,n),YA(e,r=>nn(r,t)||nn(t,r))}function YA(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(e$(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function e$(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();Vi&&je("event: "+n.toString()),hs(r)}}}var t$="repo_interrupt",n$=25,i_=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new r_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cf(),this.transactionQueueTree_=new Ic,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function r$(e,t,n){if(e.stats_=d_(e.repoInfo_),e.forceRestClient_||i2())e.server_=new jy(e.repoInfo_,(r,i,o,s)=>{B0(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>H0(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Se(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new h_(e.repoInfo_,t,(r,i,o,s)=>{B0(e,r,i,o,s)},r=>{H0(e,r)},r=>{o$(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=s2(e.repoInfo_,()=>new $y(e.stats_,e.server_)),e.infoData_=new Uy,e.infoSyncTree_=new Of({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=Sc(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),R_(e,"connected",!1),e.serverSyncTree_=new Of({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Nn(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function i$(e){let n=e.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function A_(e){return UH({timestamp:i$(e)})}function B0(e,t,n,r,i){e.dataUpdateCount++;let o=new re(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=qa(n,l=>xe(l));s=kH(e.serverSyncTree_,o,c,i)}else{let c=xe(n);s=FA(e.serverSyncTree_,o,c,i)}else if(r){let c=qa(n,l=>xe(l));s=MH(e.serverSyncTree_,o,c)}else{let c=xe(n);s=Sc(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Wf(e,o)),Nn(e.eventQueue_,a,s)}function H0(e,t){R_(e,"connected",t),t===!1&&c$(e)}function o$(e,t){ot(t,(n,r)=>{R_(e,n,r)})}function R_(e,t,n){let r=new re("/.info/"+t),i=xe(n);e.infoData_.updateSnapshot(r,i);let o=Sc(e.infoSyncTree_,r,i);Nn(e.eventQueue_,r,o)}function KA(e){return e.nextWriteId_++}function s$(e,t,n){let r=PH(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{let o=xe(i).withIndex(t._queryParams.getIndex());Xy(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=Sc(e.serverSyncTree_,t._path,o);else{let a=Ec(e.serverSyncTree_,t);s=FA(e.serverSyncTree_,t._path,o,a)}return Nn(e.eventQueue_,t._path,s),xf(e.serverSyncTree_,t,n,null,!0),o},i=>($f(e,"get for query "+Se(t)+" failed: "+i),Promise.reject(new Error(i))))}function a$(e,t,n,r,i){$f(e,"set",{path:t.toString(),value:n,priority:r});let o=A_(e),s=xe(n,r),a=E_(e.serverSyncTree_,t),c=UA(s,a,o),l=KA(e),u=PA(e.serverSyncTree_,t,c,l,!0);S_(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||it("set at "+t+" failed: "+f);let y=Li(e.serverSyncTree_,l,!p);Nn(e.eventQueue_,t,y),d$(e,i,f,h)});let d=eR(e,t);Wf(e,d),Nn(e.eventQueue_,d,[])}function c$(e){$f(e,"onDisconnectEvents");let t=A_(e),n=Cf();By(e.onDisconnect_,K(),(i,o)=>{let s=$H(i,o,e.serverSyncTree_,t);EA(n,i,s)});let r=[];By(n,K(),(i,o)=>{r=r.concat(Sc(e.serverSyncTree_,i,o));let s=eR(e,i);Wf(e,s)}),e.onDisconnect_=Cf(),Nn(e.eventQueue_,K(),r)}function l$(e,t,n){let r;H(t._path)===".info"?r=Xy(e.infoSyncTree_,t,n):r=Xy(e.serverSyncTree_,t,n),qA(e.eventQueue_,t._path,r)}function $0(e,t,n){let r;H(t._path)===".info"?r=xf(e.infoSyncTree_,t,n):r=xf(e.serverSyncTree_,t,n),qA(e.eventQueue_,t._path,r)}function u$(e){e.persistentConnection_&&e.persistentConnection_.interrupt(t$)}function $f(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),je(n,...t)}function d$(e,t,n,r){t&&hs(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function ZA(e,t,n){return E_(e.serverSyncTree_,t,n)||U.EMPTY_NODE}function N_(e,t=e.transactionQueueTree_){if(t||zf(e,t),ps(t)){let n=JA(e,t);_(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&f$(e,Rc(t),n)}else HA(t)&&Hf(t,n=>{N_(e,n)})}function f$(e,t,n){let r=n.map(l=>l.currentWriteId),i=ZA(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ye(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{$f(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Li(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();zf(e,D_(e.transactionQueueTree_,t)),N_(e,e.transactionQueueTree_),Nn(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)hs(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{it("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Wf(e,t)}},s)}function Wf(e,t){let n=QA(e,t),r=Rc(n),i=JA(e,n);return h$(e,i,r),r}function h$(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=Ye(n,c.path),u=!1,d;if(_(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Li(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=n$)u=!0,d="maxretry",i=i.concat(Li(e.serverSyncTree_,c.currentWriteId,!0));else{let f=ZA(e,c.path,s);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){T_("transaction failed: Data returned ",h,c.path);let p=xe(h);typeof h=="object"&&h!=null&&bn(h,".priority")||(p=p.updatePriority(f.getPriority()));let w=c.currentWriteId,T=A_(e),le=UA(p,f,T);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=le,c.currentWriteId=KA(e),s.splice(s.indexOf(w),1),i=i.concat(PA(e.serverSyncTree_,c.path,le,c.currentWriteId,c.applyLocally)),i=i.concat(Li(e.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(Li(e.serverSyncTree_,c.currentWriteId,!0))}Nn(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}zf(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)hs(r[a]);N_(e,e.transactionQueueTree_)}function QA(e,t){let n,r=e.transactionQueueTree_;for(n=H(t);n!==null&&ps(r)===void 0;)r=D_(r,n),t=oe(t),n=H(t);return r}function JA(e,t){let n=[];return XA(e,t,n),n.sort((r,i)=>r.order-i.order),n}function XA(e,t,n){let r=ps(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Hf(t,i=>{XA(e,i,n)})}function zf(e,t){let n=ps(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,BA(t,n.length>0?n:void 0)}Hf(t,r=>{zf(e,r)})}function eR(e,t){let n=Rc(QA(e,t)),r=D_(e.transactionQueueTree_,t);return zH(r,i=>{gy(e,i)}),gy(e,r),$A(r,i=>{gy(e,i)}),n}function gy(e,t){let n=ps(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(_(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(_(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Li(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?BA(t,void 0):n.length=o+1,Nn(e.eventQueue_,Rc(t),i);for(let s=0;s<r.length;s++)hs(r[s])}}function p$(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function g$(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):it(`Invalid query segment '${n}' in query '${e}'`)}return t}var W0=function(e,t){let n=m$(e),r=n.namespace;n.domain==="firebase.com"&&tr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&tr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||KB();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new pf(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new re(n.pathString)}},m$=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=p$(e.substring(u,d)));let f=g$(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var kf=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Se(this.snapshot.exportVal())}},Pf=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Ff=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return _(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var o_=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return W(this._path)?null:dA(this._path)}get ref(){return new Mn(this._repo,this._path)}get _queryIdentifier(){let t=R0(this._queryParams),n=u_(t);return n==="{}"?"default":n}get _queryObject(){return R0(this._queryParams)}isEqual(t){if(t=wt(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=f_(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+A2(this._path)}};var Mn=class e extends o_{constructor(t,n){super(t,n,new Vy,!1)}get parent(){let t=hA(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},Cc=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new re(t),r=wc(this.ref,t);return new e(this._node.getChild(n),r,he)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,wc(this.ref,r),he)))}hasChild(t){let n=new re(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function tR(e,t){return e=wt(e),e._checkNotDeleted("ref"),t!==void 0?wc(e._root,t):e._root}function wc(e,t){return e=wt(e),H(e._path)===null?QH("child","path",t,!1):GA("child","path",t,!1),new Mn(e._repo,Re(e._path,t))}function nR(e,t){e=wt(e),JH("set",e._path),ZH("set",t,e._path,!1);let n=new Zt;return a$(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function rR(e){e=wt(e);let t=new Ff(()=>{}),n=new Lf(t);return s$(e._repo,e,n).then(r=>new Cc(r,new Mn(e._repo,e._path),e._queryParams.getIndex()))}var Lf=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new kf("value",this,new Cc(t.snapshotNode,new Mn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Pf(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},s_=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Pf(this,t,n):null}createEvent(t,n){_(t.childName!=null,"Child events should have a childName.");let r=wc(new Mn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new kf(t.type,this,new Cc(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function v$(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{$0(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new Ff(n,o||void 0),a=t==="value"?new Lf(s):new s_(t,s);return l$(e._repo,e,a),()=>$0(e._repo,e,a)}function iR(e,t,n,r){return v$(e,"value",t,n,r)}wH(Mn);AH(Mn);var y$="FIREBASE_DATABASE_EMULATOR_HOST",a_={},_$=!1;function E$(e,t,n,r){let i=t.lastIndexOf(":"),o=t.substring(0,i),s=bi(o);e.repoInfo_=new pf(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function I$(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||tr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),je("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=W0(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[y$]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=W0(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new fc(fc.OWNER):new Iy(e.name,e.options,t);XH("Invalid Firebase Database URL",s),W(s.path)||tr("Database URL must point to the root of a Firebase Database (not including a child path).");let d=w$(a,e,u,new Ey(e,n));return new c_(d,e)}function C$(e,t){let n=a_[t];(!n||n[e.key]!==e)&&tr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),u$(e),delete n[e.key]}function w$(e,t,n,r){let i=a_[t.name];i||(i={},a_[t.name]=i);let o=i[e.toURLString()];return o&&tr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new i_(e,_$,n,r),i[e.toURLString()]=o,o}var c_=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(r$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mn(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(C$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&tr("Cannot call "+t+" on a deleted database.")}};function oR(e=Jo(),t){let n=qd(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=lS("database");r&&sR(n,...r)}return n}function sR(e,t,n,r={}){e=wt(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Ti(r,o.repoInfo_.emulatorOptions))return;tr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&tr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new fc(fc.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:dS(r.mockUserToken,e.app.options.projectId);s=new fc(a)}bi(t)&&(Tv(t),Sv("Database",!0)),E$(o,i,r,s)}function b$(e){GB(Qo),Xt(new qe("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return I$(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),_e(f0,h0,e),_e(f0,h0,"esm2017")}h_.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};h_.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};b$();var Hi=class{constructor(t){return t}},aR="database",M_=class{constructor(){return es(aR)}};var O_=new I("angularfire2.database-instances");function D$(e,t){let n=Zd(aR,e,t);return n&&new Hi(n)}function T$(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new Hi(r)}}var S$={provide:M_,deps:[[new fn,O_]]},A$={provide:Hi,useFactory:D$,deps:[[new fn,O_],Mi]};function cR(e,...t){return _e("angularfire",Ri.full,"rtdb"),dt([A$,S$,{provide:O_,useFactory:T$(e),multi:!0,deps:[ee,fe,Ni,Xa,[new fn,df],[new fn,Jd],...t]}])}var lR=Sn(rR,!0),uR=Sn(oR,!0);var dR=Sn(iR,!0);var Gf=Sn(tR,!0,2);var fR=Sn(nR,!0,2);var gs=class e{constructor(t,n){this.database=t;this.platformId=n}getTiles(){return No(this.platformId)?new L(t=>{let n=Gf(this.database,"Boards"),r=dR(n,i=>{let o=i.val();if(o){let s=[];for(let a in o){let c=[];for(let l in o[a])if(o[a].hasOwnProperty(l)){let u=o[a][l];c.push(u)}s.push(c)}t.next(s)}else t.next([])},i=>{t.error(i)});return()=>{r()}}):R([])}updateTile(t,n,r){let i=Gf(this.database,`Boards/Team ${t+1}/${r}`);return fR(i,n)}getPassword(t){let n=Gf(this.database,`LoginCredentials/Team ${t+1}`);return lR(n)}static \u0275fac=function(n){return new(n||e)(M(Hi),M(Xe))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var N$=()=>({standalone:!0}),pR=()=>[""];function M$(e,t){e&1&&(E(0,"label",10),A(1,"Team 1 Password:"),C())}function O$(e,t){e&1&&(E(0,"label",10),A(1,"Team 2 Password:"),C())}function x$(e,t){if(e&1){let n=di();E(0,"input",15),Ro("ngModelChange",function(i){jt(n);let o=ie(2);return sa(o.password,i)||(o.password=i),Ut(i)}),C()}if(e&2){let n=ie(2);Ao("ngModel",n.password)}}function k$(e,t){if(e&1){let n=di();E(0,"form",4)(1,"div",5)(2,"label",6),A(3,"Choose your team"),C(),E(4,"select",7),Ro("ngModelChange",function(i){jt(n);let o=ie();return sa(o.selectedTeam,i)||(o.selectedTeam=i),Ut(i)}),Te("change",function(){jt(n);let i=ie();return Ut(i.onTeamSelect(i.selectedTeam))}),E(5,"option",8),A(6,"Select Team"),C(),E(7,"option",9),A(8,"Team 1"),C(),E(9,"option",9),A(10,"Team 2"),C()()(),De(11,"br"),E(12,"div",5),nt(13,M$,2,0,"label",10),nt(14,O$,2,0,"label",10),nt(15,x$,1,1,"input",11),C(),De(16,"br"),E(17,"div",12)(18,"button",13),Te("click",function(){jt(n);let i=ie();return Ut(i.validatePassword())}),A(19,"Log in"),C(),E(20,"button",14),A(21,"Return to board"),C()()()}if(e&2){let n=ie();O(4),Ao("ngModel",n.selectedTeam),ye("ngModelOptions",pr(9,N$)),O(),ye("value",-1),O(2),ye("value",0),O(2),ye("value",1),O(4),rt(n.selectedTeam===0?13:-1),O(),rt(n.selectedTeam===1?14:-1),O(),rt(n.selectedTeam!==-1?15:-1),O(5),ye("routerLink",pr(10,pR))}}function P$(e,t){e&1&&(E(0,"tr")(1,"td",20),A(2,"No tiles available"),C()())}function F$(e,t){if(e&1){let n=di();E(0,"tr")(1,"td"),A(2),C(),E(3,"td")(4,"div"),De(5,"img",21),C()(),E(6,"td")(7,"div"),De(8,"img",21),C()(),E(9,"td"),A(10),C(),E(11,"td"),A(12),C(),E(13,"td"),A(14),C(),E(15,"td")(16,"input",22),Ro("ngModelChange",function(i){let o=jt(n).$implicit;return sa(o.itemsObtained,i)||(o.itemsObtained=i),Ut(i)}),C()(),E(17,"td")(18,"button",23),Te("click",function(){let i=jt(n).$implicit,o=ie(4);return Ut(o.saveTile(i,i.id-1))}),A(19,"Save"),C()()()}if(e&2){let n=t.$implicit;O(2),ze(" ",n.title," "),O(3),ye("src",n.src,hr),O(3),ye("src",n.bossSrc,hr),O(2),Rt(n.points),O(2),Rt(n.description),O(2),Rt(n.itemsRequired),O(2),Ao("ngModel",n.itemsObtained),ye("max",n.itemsRequired)}}function L$(e,t){if(e&1&&Zn(0,F$,20,8,"tr",null,ui),e&2){let n=t.$implicit;Qn(n)}}function V$(e,t){if(e&1&&Zn(0,L$,2,0,null,null,ui),e&2){let n=ie(2);Qn(n.board)}}function j$(e,t){if(e&1&&(E(0,"div")(1,"div",16)(2,"h2"),A(3),C(),E(4,"p"),A(5,"This is where you can edit your board!"),C(),E(6,"button",14),A(7,"Return to board"),C()(),E(8,"div",17)(9,"table",18)(10,"thead")(11,"tr",19)(12,"th"),A(13,"Tile title"),C(),E(14,"th"),A(15,"Image"),C(),E(16,"th"),A(17,"Boss image"),C(),E(18,"th"),A(19,"Points"),C(),E(20,"th"),A(21,"Description"),C(),E(22,"th"),A(23,"Required"),C(),E(24,"th"),A(25,"Obtained"),C(),E(26,"th"),A(27,"Actions"),C()()(),E(28,"tbody"),nt(29,P$,3,0,"tr")(30,V$,2,0),C()()()()),e&2){let n=ie();O(3),ze("Welcome Team ",n.authenticated.team+1,"!"),O(3),ye("routerLink",pr(3,pR)),O(23),rt(n.board.length===0?29:30)}}var qf=class e{constructor(t,n){this.databaseService=t;this.platformId=n}selectedTeam=-1;boardSize=6;password="";authenticated={team:0,authenticated:!1};board=[[]];onTeamSelect(t){this.selectedTeam=parseInt(t),this.loadTilesFromFirebase()}loadTilesFromFirebase(){this.databaseService.getTiles().subscribe({next:t=>{t&&t.length>0&&this.generateBoard(t[this.selectedTeam])},error:t=>{console.error("Error loading tiles:",t)}})}validatePassword(){if(Ii.production===!0&&this.selectedTeam!==-1)this.databaseService.getPassword(this.selectedTeam).then(t=>{let n=t.val()?JSON.stringify(t.val()):"";if(this.selectedTeam===0&&n===JSON.stringify(this.password))return this.loginForTeam(0);if(this.selectedTeam===1&&n===JSON.stringify(this.password))return this.loginForTeam(1)});else if(Ii.production===!1)return this.loginForTeam(this.selectedTeam)}loginForTeam(t){t===0?this.authenticated={team:0,authenticated:!0}:t===1&&(this.authenticated={team:1,authenticated:!0}),this.generateTableArray()}saveTile(t,n){console.log("Saving tile at index:",n,"for team:",this.selectedTeam),this.databaseService.updateTile(this.selectedTeam,t,n).catch(r=>{console.error("Error saving tile:",r)})}generateBoard(t){this.board=[];let n=0;for(let r=0;r<this.boardSize;r++){this.board[r]=[];for(let i=0;i<this.boardSize;i++){if(n>=t.length)return;this.board[r][i]=x(v({},t[n]),{id:r*this.boardSize+i+1}),n++}}}generateTableArray(){if(Ii.production===!1){let t=new Ci;this.board=t.board,this.generateBoard(this.board[this.selectedTeam])}else No(this.platformId)&&this.loadTilesFromFirebase()}static \u0275fac=function(n){return new(n||e)(V(gs),V(Xe))};static \u0275cmp=qn({type:e,selectors:[["app-cabbingo-edit-board"]],decls:7,vars:1,consts:[[1,"page-wrap"],[1,"banner"],[1,"d-flex","justify-content-center"],[1,"osrs-border-thick","px-5","py-4","mb-5",2,"height","695px"],[2,"width","500px"],[1,"col-12"],["for","teamSelect",1,"form-label"],["id","teamSelect",1,"form-control",3,"ngModelChange","change","ngModel","ngModelOptions"],["disabled","","selected","",3,"value"],[3,"value"],["for","password"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",3,"ngModel"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","custom-btn",3,"click"],[1,"btn","custom-btn",3,"routerLink"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","flex-row","justify-content-between"],[1,"mt-2","overflow-auto",2,"max-height","600px"],[1,"table","osrs-table","table-bordered"],[1,"sticky-top",2,"top","-1px","box-shadow","black 0px 1px 0px 0px"],["colspan","8"],[1,"tile-image",3,"src"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel","max"],[1,"btn","custom-btn","col-12",3,"click"]],template:function(n,r){n&1&&(E(0,"div",0),De(1,"div",1),E(2,"div",2)(3,"div",3)(4,"div",2),nt(5,k$,22,11,"form",4)(6,j$,31,4,"div"),C()()()()),n&2&&(O(5),rt(r.authenticated.authenticated?6:5))},dependencies:[qu,eS,qT,KT,QT,Pd,mv,Vd,UT,BT,yv,vv,gv,pv,Fa,Wo],encapsulation:2})};var U$=()=>["/edit-board"],B$=()=>[],gR=(e,t)=>({"rules-btn-selected":e,"rules-btn":t}),H$=(e,t)=>({"tile-selected":e,"tile-completed":t}),$$=(e,t)=>t.id;function W$(e,t){if(e&1&&(E(0,"div",22),A(1),De(2,"i",24),C()),e&2){let n=ie().$index;O(),ze("Column ",n+1," ")}}function z$(e,t){if(e&1&&(E(0,"div",23),A(1),C()),e&2){let n=ie().$index;O(),ze("Column ",n+1)}}function G$(e,t){if(e&1&&nt(0,W$,3,1,"div",22)(1,z$,2,1,"div",23),e&2){let n=t.$index,r=ie();rt(r.getTotalPoints()>0&&r.calculateColumnBonuses(n)>0?0:1)}}function q$(e,t){if(e&1&&(E(0,"div",25),A(1),De(2,"i",24),C()),e&2){let n=ie().$index;O(),ze("Row ",n+1," ")}}function Y$(e,t){if(e&1&&(E(0,"div",26),A(1),C()),e&2){let n=ie().$index;O(),ze("Row ",n+1)}}function K$(e,t){if(e&1&&(E(0,"div",29)(1,"div",32),De(2,"div",33),C()()),e&2){let n=ie().$implicit;O(),xu("width",n.itemsObtained/n.itemsRequired*100,"%"),Kn("aria-valuenow",n.itemsObtained)("aria-valuemax",n.itemsRequired)}}function Z$(e,t){if(e&1){let n=di();E(0,"button",28),Te("click",function(){let i=jt(n).$implicit,o=ie(2);return Ut(o.onTileClick(i))}),E(1,"div"),nt(2,K$,3,4,"div",29),De(3,"img",30),E(4,"p",31),A(5),C()()()}if(e&2){let n=t.$implicit,r=ie(2);ye("ngClass",aa(5,H$,n===r.selectedTile,n.itemsObtained>=n.itemsRequired)),O(2),rt(n.itemsObtained>=n.itemsRequired?-1:2),O(),ye("src",n.src,hr)("alt",n.alt),O(2),Rt(n.title)}}function Q$(e,t){if(e&1&&(E(0,"div",11),nt(1,q$,3,1,"div",25)(2,Y$,2,1,"div",26),Zn(3,Z$,6,8,"button",27,$$),C()),e&2){let n=t.$implicit,r=t.$index,i=ie();O(),rt(i.getTotalPoints()>0&&i.calculateRowBonuses(r)>0?1:2),O(2),Qn(n)}}function J$(e,t){if(e&1&&(E(0,"div"),A(1),C(),E(2,"div"),De(3,"img",34),C(),E(4,"div",35)(5,"div",36),A(6," Points: "),E(7,"p",37),A(8),C()(),E(9,"div"),A(10),C()()),e&2){let n=ie();O(),Rt(n.selectedTile.description),O(2),ye("src",n.selectedTile.bossSrc,hr)("alt",n.selectedTile.alt||""),O(5),ze(" ",n.selectedTile.points," "),O(2),ku(" ",n.selectedTile.itemsObtained," / ",n.selectedTile.itemsRequired," Obtained ")}}function X$(e,t){e&1&&(E(0,"p"),A(1,"Click on a tile!"),C())}function eW(e,t){if(e&1&&A(0),e&2){let n=ie().$implicit;ze(" ",n," ")}}function tW(e,t){if(e&1&&(E(0,"strong",38),A(1),C()),e&2){let n=ie().$implicit;O(),Rt(n.replace("-",""))}}function nW(e,t){if(e&1&&(E(0,"strong",39),A(1),C()),e&2){let n=ie().$implicit;O(),Rt(n.replace("+",""))}}function rW(e,t){if(e&1&&(E(0,"strong",40),A(1),C()),e&2){let n=ie().$implicit;O(),Rt(n)}}function iW(e,t){if(e&1&&(nt(0,eW,1,1)(1,tW,2,1,"strong",38)(2,nW,2,1,"strong",39)(3,rW,2,1,"strong",40),De(4,"br")),e&2){let n=t.$implicit;rt(n.includes("Excluded")||n.includes("Allowed")?0:n.includes("-")?1:n.includes("+")?2:3)}}function oW(e,t){if(e&1&&Zn(0,iW,5,1,null,null,ui),e&2){let n=ie();Qn(n.selectedTile==null?null:n.selectedTile.rules)}}function sW(e,t){if(e&1&&(E(0,"ul",19)(1,"li"),A(2,"Multiple accounts are allowed, but only one can be logged in at once."),C(),E(3,"li"),A(4,"The EXP tile will only be counted for ONE account. If you are playing with multiple."),C(),E(5,"li"),A(6),C(),E(7,"li"),A(8,"Tiles can be completed in any order."),C(),E(9,"li",39),A(10,"Good luck and have fun!"),C()()),e&2){let n=ie();O(6),ze("Complete a full row or column to earn a ",n.rowBonus," point bonus!")}}var Yf=class e{constructor(t,n){this.databaseService=t;this.platformId=n}teamEnum=jd;currentTeam=0;selectedTile=null;board=[];boardSize=6;columnBonus=5;rowBonus=5;bingoRulesOpened=!0;ngOnInit(){if(Ii.production===!1){let t=new Ci;this.board=t.board,this.generateBoard(this.board[this.currentTeam])}else No(this.platformId)&&this.loadTilesFromFirebase()}loadTilesFromFirebase(){this.databaseService.getTiles().subscribe({next:t=>{t&&t.length>0&&this.generateBoard(t[this.currentTeam])},error:t=>{console.error("Error loading tiles:",t)}})}generateBoard(t){this.board=[];let n=0;for(let r=0;r<this.boardSize;r++){this.board[r]=[];for(let i=0;i<this.boardSize;i++){if(n>=t.length)return;this.board[r][i]=x(v({},t[n]),{id:r*this.boardSize+i+1}),n++}}}onTileClick(t){this.selectedTile=t}switchTeam(t){if(this.currentTeam!==t)if(this.currentTeam=t,this.selectedTile=null,Ii.production===!1){let n=new Ci;this.board=n.board,this.generateBoard(this.board[this.currentTeam])}else this.loadTilesFromFirebase()}getTotalPoints(){let t=0;for(let n=0;n<this.board.length;n++){let r=this.board[n],i=!0;for(let o of r)o.itemsObtained>=o.itemsRequired?t+=o.points||0:i=!1;i&&(t+=5)}return t+=this.calculateColumnBonuses(),t}calculateColumnBonuses(t){let n=0,r=t!==void 0?[t]:Array.from({length:this.boardSize},(i,o)=>o);for(let i of r){let o=!0;for(let s=0;s<this.board.length;s++){let a=this.board[s][i];if(!a||a.itemsObtained<a.itemsRequired){o=!1;break}}o&&(n+=this.columnBonus)}return n}calculateRowBonuses(t){let n=0,r=t!==void 0?[t]:Array.from({length:this.board.length},(i,o)=>o);for(let i of r){let o=!0;for(let s of this.board[i])if(!s||s.itemsObtained<s.itemsRequired){o=!1;break}o&&(n+=this.rowBonus)}return console.log("Row bonuses:",n),n}static \u0275fac=function(n){return new(n||e)(V(gs),V(Xe))};static \u0275cmp=qn({type:e,selectors:[["app-cabbingo-board"]],decls:39,vars:16,consts:[[1,"page-wrap"],[1,"btn","button","position-fixed","mt-1","end-0","top-0","me-5",2,"z-index","1",3,"routerLink"],[1,"banner","d-flex","justify-content-end"],[1,"d-flex","justify-content-center"],[1,"osrs-border-thick","px-4","py-2"],[1,"row","teams","mb-2"],[1,"button","btn","col-md-5",3,"click","ngClass"],[1,"gap-2","d-flex","justify-content-center"],[1,"tiles","osrs-border","column","col-auto"],[1,"d-flex","align-items-center","gap-2"],[1,"d-flex","align-items-center","mx-2","me-0","row-tile"],[1,"d-flex","justify-content-left","px-2","py-1","gap-2"],[1,"infoArea","d-flex","justify-content-between","col-auto"],[1,"infobox","osrs-border","d-flex","flex-column","justify-content-between","align-items-center",2,"min-height","300px"],[1,"d-flex","flex-column","infobox","osrs-border-brighter","justify-content-center","align-items-center"],[1,"d-flex","d-row","justify-content-center","gap-2"],[1,"btn","row-tile",2,"width","115px","height","40px",3,"click","ngClass"],[2,"color","#FF9933","width","auto"],[1,"rulesbox","custom-scrollbar","overflow-y-scroll","osrs-border-darker"],[1,"px-2"],[1,"mt-2"],[1,"btn","button","disabled","float-bottom"],[1,"d-flex","justify-content-center","gap-2","column-tile","text-success"],[1,"d-flex","justify-content-center","gap-2","column-tile"],[1,"bi","bi-check-circle-fill"],[1,"d-flex","align-items-center","row-tile","text-success"],[1,"d-flex","align-items-center","row-tile"],[1,"btn","tile","d-flex","flex-column",3,"ngClass"],[1,"btn","tile","d-flex","flex-column",3,"click","ngClass"],[1,"progress",2,"height","5px"],[1,"tile-image","p-1",3,"src","alt"],[1,"tile-text"],["role","progressbar","aria-valuemin","0",1,"progress-bar","bg-success"],[2,"width","110px"],[1,"bossImage",3,"src","alt"],[1,"d-flex","flex-column","align-items-center"],[1,"d-flex","flex-row","pt-3"],[1,"mx-2",2,"color","rgb(8, 255, 8)"],[2,"color","#E40303"],[2,"color","#0CD90D"],[2,"color","#FF9933"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"a",1),A(2,"Log in as captain"),C(),De(3,"div",2),E(4,"div",3)(5,"div",4)(6,"div",5)(7,"button",6),Te("click",function(){return r.switchTeam(r.teamEnum.Team1)}),A(8," Team 1 "),C(),E(9,"button",6),Te("click",function(){return r.switchTeam(r.teamEnum.Team2)}),A(10," Team 2 "),C()(),E(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10),A(15,"."),C(),Zn(16,G$,2,1,null,null,Qg),C(),Zn(18,Q$,5,1,"div",11,ui),C(),E(20,"div",12)(21,"div")(22,"div",13),nt(23,J$,11,6)(24,X$,2,0,"p"),C(),E(25,"div",14)(26,"div",15)(27,"button",16),Te("click",function(){return r.bingoRulesOpened=!0}),E(28,"p",17),A(29,"Bingo Rulez"),C()(),E(30,"button",16),Te("click",function(){return r.bingoRulesOpened=!1}),E(31,"p",17),A(32,"Tile Rulez"),C()()(),E(33,"div",18),nt(34,oW,2,0)(35,sW,11,1,"ul",19),C()()(),E(36,"div",20)(37,"button",21),A(38),C()()()()()()()),n&2&&(O(),ye("routerLink",pr(8,U$)),O(6),ye("ngClass",r.currentTeam===r.teamEnum.Team1?"btn selected-team":""),O(2),ye("ngClass",r.currentTeam===r.teamEnum.Team2?"btn selected-team":""),O(7),Qn(pr(9,B$).constructor(r.boardSize)),O(2),Qn(r.board),O(5),rt(r.selectedTile?23:24),O(4),ye("ngClass",aa(10,gR,r.bingoRulesOpened,!r.bingoRulesOpened)),O(3),ye("ngClass",aa(13,gR,!r.bingoRulesOpened,r.bingoRulesOpened)),O(4),rt(r.bingoRulesOpened?35:34),O(4),ze(" Total points: ",r.getTotalPoints()," "))},dependencies:[mm,Fa,Wo],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar-button:single-button{background-color:#404040;display:block;background-size:10px;background-repeat:no-repeat}@font-face{font-family:Runescape;src:url("./media/RuneScape-Plain-12-T6CWJQYQ.otf") format("opentype")}@font-face{font-family:Runescape-Bold;font-weight:700;src:url("./media/RuneScape-Bold-12-YYN5KYKT.otf") format("opentype")}@font-face{font-family:Runescape-Quill;src:url("./media/RuneScape-Quill-2XBT7J23.otf") format("opentype")}.osrs-border[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#393228;background:url("./media/tiles-backdrop-Y5VRY7K2.png") repeat top center;background-size:700px}.osrs-border-brighter[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#3e3529;background-size:700px}.osrs-border-darker[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#332b21;background-size:700px}.osrs-border-thick[_ngcontent-%COMP%]{border:3px solid rgb(66,67,65);outline:6px solid rgb(14,14,12);background-color:#393228;background:url("./media/tiles-backdrop-Y5VRY7K2.png") repeat top center;background-size:700px;width:fit-content}.page-wrap[_ngcontent-%COMP%]{background:url("./media/bg2_upscaled-E25LY5MM.jpg") repeat-y center top;overflow:auto;background-size:contain}main[_ngcontent-%COMP%]{min-width:max-content;min-height:max-content}body[_ngcontent-%COMP%]{background:#000;color:#fff;font-family:Runescape-Bold;text-shadow:black 2px 2px 2px;font-size:16px;margin:0}.banner[_ngcontent-%COMP%]{background:url("./media/Logo-W5ERYSIZ.png") no-repeat center;background-size:contain;display:block;height:180px;text-align:center}.button[_ngcontent-%COMP%]{background:url("./media/button-UB2HKL6L.png") no-repeat top center;position:relative;width:243px;height:54px;font-family:Runescape-Bold;font-size:27px;align-content:center;text-align:center}.teams[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-evenly}.board[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;margin-top:30px;max-height:auto;height:650px}.bossImage[_ngcontent-%COMP%]{height:125px;filter:drop-shadow(5px 6px 6px #000000)}.tile-image[_ngcontent-%COMP%]{height:55px;object-fit:contain;filter:drop-shadow(3px 4px 2px #000000);z-index:0}.tile-text[_ngcontent-%COMP%]{color:#f93;font-size:16px;height:16px;max-width:120px;white-space:wrap;word-break:break-word;z-index:1;line-height:normal;text-shadow:black 2px 2px 2px}.tile[_ngcontent-%COMP%]{width:125px;height:105px;flex-wrap:nowrap;justify-content:space-between;border:1px solid rgb(46,43,35);outline:1px solid rgb(86,75,61);background-color:#483e33}.tile[_ngcontent-%COMP%]:focus-visible, .tile[_ngcontent-%COMP%]:active, .tile[_ngcontent-%COMP%]:hover{background-color:#645546;color:gold!important}.rules-btn[_ngcontent-%COMP%], .row-tile[_ngcontent-%COMP%], .column-tile[_ngcontent-%COMP%]{background-color:#483e33;text-align:center;border-radius:4px;height:auto;width:125px;border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12)}.rules-btn[_ngcontent-%COMP%], .row-tile[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;width:45px}.tile[_ngcontent-%COMP%]:hover{filter:drop-shadow(0px 0px .5mm gold)}.tile-selected[_ngcontent-%COMP%]{border:gold 2px solid}.tile-completed[_ngcontent-%COMP%]{background:url("./media/tile-background-completed-DUHXW4XJ.png") no-repeat top center}.rules-btn-selected[_ngcontent-%COMP%]{border:gold 2px solid}.rules-btn[_ngcontent-%COMP%]:focus-visible, .rules-btn[_ngcontent-%COMP%]:active, .rules-btn[_ngcontent-%COMP%]:hover{background-color:#645546;color:gold!important}.tiles[_ngcontent-%COMP%]{top:5px;width:auto;padding-top:10px;padding-bottom:10px;position:relative;align-items:center;align-content:center;flex-direction:column;justify-content:space-evenly}.infoArea[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:center;display:flex}.rulesbox[_ngcontent-%COMP%], .infobox[_ngcontent-%COMP%]{width:250px;min-height:240px;text-align:center;margin-top:5px;padding-left:8px;padding-right:8px}.rulesbox[_ngcontent-%COMP%]{text-align:left;height:300px;padding-left:8px;padding-right:8px}.btn[_ngcontent-%COMP%]{--bs-btn-color: var(white) !important;color:#fff!important;text-shadow:black 2px 2px 2px}.btn[_ngcontent-%COMP%]:hover{color:gold!important}.selected-team[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 1mm gold)}.progress[_ngcontent-%COMP%]{--bs-progress-bg: rgb(57, 50, 40);background-color:var(--bs-progress-bg)}.osrs-table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{--bs-table-color: #fff;--bs-table-bg: #212529;--bs-table-border-color: #4d5154;--bs-table-striped-bg: #2c3034;--bs-table-striped-color: #fff;--bs-table-active-bg: #373b3e;--bs-table-active-color: #fff;--bs-table-hover-bg: #323539;--bs-table-hover-color: #fff;border:1px solid rgb(14,14,12);--bs-table-bg: rgb(57, 50, 40);background-color:var(--bs-table-bg)}.custom-btn[_ngcontent-%COMP%]{background-color:#483e33;text-align:center;border-radius:4px;height:auto;min-width:40px;border:2px solid rgb(14,14,12)}.custom-btn[_ngcontent-%COMP%]:focus-visible, .custom-btn[_ngcontent-%COMP%]:active, .custom-btn[_ngcontent-%COMP%]:hover{border:2px solid rgb(14,14,12);background-color:#645546;color:gold!important}.custom-scrollbar[_ngcontent-%COMP%]{height:300px;overflow-y:scroll;scrollbar-width:thin;scrollbar-color:rgb(114,98,72) #27221B;scroll-behavior:smooth}']})};var mR=[{path:"edit-board",component:qf},{path:"",component:Yf},{path:"**",redirectTo:"",pathMatch:"full"}];var vR={production:!0,firebaseConfig:{apiKey:"AIzaSyB2e36wu47-6DOc2_rAuHfiFTq9vm6GBD0",authDomain:"cabbingo-db.firebaseapp.com",databaseURL:"https://cabbingo-db-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cabbingo-db",storageBucket:"cabbingo-db.firebasestorage.app",messagingSenderId:"684304316440",appId:"1:684304316440:web:0660b0d72a68752cadeb6d"}};var yR={providers:[ov(mR),CD(ID(),ED()),LS(()=>VS(vR.firebaseConfig)),cR(()=>uR())]};Am(Td,yR).catch(e=>console.error("Bootstrap error:",e));
