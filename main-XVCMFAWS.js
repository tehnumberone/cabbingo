var bR=Object.defineProperty,DR=Object.defineProperties;var TR=Object.getOwnPropertyDescriptors;var xc=Object.getOwnPropertySymbols;var V_=Object.prototype.hasOwnProperty,j_=Object.prototype.propertyIsEnumerable;var L_=(e,t,n)=>t in e?bR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||={})V_.call(t,n)&&L_(e,n,t[n]);if(xc)for(var n of xc(t))j_.call(t,n)&&L_(e,n,t[n]);return e},x=(e,t)=>DR(e,TR(t));var U_=(e,t)=>{var n={};for(var r in e)V_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xc)for(var r of xc(e))t.indexOf(r)<0&&j_.call(e,r)&&(n[r]=e[r]);return n};var m=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var Xf;function kc(){return Xf}function sn(e){let t=Xf;return Xf=e,t}var B_=Symbol("NotFound");function Wi(e){return e===B_||e?.name==="\u0275NotFound"}function jc(e,t){return Object.is(e,t)}var Le=null,Pc=!1,eh=1,SR=null,Ve=Symbol("SIGNAL");function k(e){let t=Le;return Le=e,t}function Uc(){return Le}var Or={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zi(e){if(Pc)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(e);let t=Le.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Le.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Le.producers,n!==void 0&&n.producer===e)){Le.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Le&&(!r||RR(i,Le)))return;let o=qi(Le),s={producer:e,consumer:Le,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Le.producersTail=s,t!==void 0?t.nextProducer=s:Le.producers=s,o&&$_(e,s)}function H_(){eh++}function Bc(e){if(!(qi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===eh)){if(!e.producerMustRecompute(e)&&!vs(e)){Vc(e);return}e.producerRecomputeValue(e),Vc(e)}}function th(e){if(e.consumers===void 0)return;let t=Pc;Pc=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||AR(r)}}finally{Pc=t}}function nh(){return Le?.consumerAllowSignalWrites!==!1}function AR(e){e.dirty=!0,th(e),e.consumerMarkedDirty?.(e)}function Vc(e){e.dirty=!1,e.lastCleanEpoch=eh}function xr(e){return e&&(e.producersTail=void 0,e.recomputing=!0),k(e)}function Gi(e,t){if(k(t),!e)return;e.recomputing=!1;let n=e.producersTail,r=n!==void 0?n.nextProducer:e.producers;if(r!==void 0){if(qi(e))do r=rh(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function vs(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Bc(n),r!==n.version))return!0}return!1}function ys(e){if(qi(e)){let t=e.producers;for(;t!==void 0;)t=rh(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function $_(e,t){let n=e.consumersTail,r=qi(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)$_(i.producer,i)}function rh(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!qi(t)){let o=t.producers;for(;o!==void 0;)o=rh(o)}return n}function qi(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Hc(e){SR?.(e)}function RR(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function $c(e,t){let n=Object.create(NR);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Bc(n),zi(n),n.value===ms)throw n.error;return n.value};return r[Ve]=n,Hc(n),r}var Fc=Symbol("UNSET"),Lc=Symbol("COMPUTING"),ms=Symbol("ERRORED"),NR=x(v({},Or),{value:Fc,dirty:!0,error:null,equal:jc,kind:"computed",producerMustRecompute(e){return e.value===Fc||e.value===Lc},producerRecomputeValue(e){if(e.value===Lc)throw new Error("");let t=e.value;e.value=Lc;let n=xr(e),r,i=!1;try{r=e.computation(),k(null),i=t!==Fc&&t!==ms&&r!==ms&&e.equal(t,r)}catch(o){r=ms,e.error=o}finally{Gi(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function MR(){throw new Error}var W_=MR;function z_(e){W_(e)}function ih(e){W_=e}var OR=null;function oh(e,t){let n=Object.create(Wc);n.value=e,t!==void 0&&(n.equal=t);let r=()=>G_(n);return r[Ve]=n,Hc(n),[r,s=>Yi(n,s),s=>sh(n,s)]}function G_(e){return zi(e),e.value}function Yi(e,t){nh()||z_(e),e.equal(e.value,t)||(e.value=t,xR(e))}function sh(e,t){nh()||z_(e),Yi(e,t(e.value))}var Wc=x(v({},Or),{equal:jc,value:void 0,kind:"signal"});function xR(e){e.version++,H_(),th(e),OR?.(e)}function F(e){return typeof e=="function"}function Ki(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var zc=Ki(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function kr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ue=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){t=o instanceof zc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{q_(o)}catch(s){t=t??[],s instanceof zc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new zc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)q_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&kr(n,t)}remove(t){let{_finalizers:n}=this;n&&kr(n,t),t instanceof e&&t._removeParent(this)}};ue.EMPTY=(()=>{let e=new ue;return e.closed=!0,e})();var ah=ue.EMPTY;function Gc(e){return e instanceof ue||e&&"closed"in e&&F(e.remove)&&F(e.add)&&F(e.unsubscribe)}function q_(e){F(e)?e():e.unsubscribe()}var xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zi={setTimeout(e,t,...n){let{delegate:r}=Zi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Zi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function qc(e){Zi.setTimeout(()=>{let{onUnhandledError:t}=xt;if(t)t(e);else throw e})}function _s(){}var Y_=ch("C",void 0,void 0);function K_(e){return ch("E",void 0,e)}function Z_(e){return ch("N",e,void 0)}function ch(e,t,n){return{kind:e,value:t,error:n}}var Pr=null;function Qi(e){if(xt.useDeprecatedSynchronousErrorHandling){let t=!Pr;if(t&&(Pr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Pr;if(Pr=null,n)throw r}}else e()}function Q_(e){xt.useDeprecatedSynchronousErrorHandling&&Pr&&(Pr.errorThrown=!0,Pr.error=e)}var Fr=class extends ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Gc(t)&&t.add(this)):this.destination=FR}static create(t,n,r){return new Ji(t,n,r)}next(t){this.isStopped?uh(Z_(t),this):this._next(t)}error(t){this.isStopped?uh(K_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?uh(Y_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kR=Function.prototype.bind;function lh(e,t){return kR.call(e,t)}var dh=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Yc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Yc(r)}else Yc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Yc(n)}}},Ji=class extends Fr{constructor(t,n,r){super();let i;if(F(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&xt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&lh(t.next,o),error:t.error&&lh(t.error,o),complete:t.complete&&lh(t.complete,o)}):i=t}this.destination=new dh(i)}};function Yc(e){xt.useDeprecatedSynchronousErrorHandling?Q_(e):qc(e)}function PR(e){throw e}function uh(e,t){let{onStoppedNotification:n}=xt;n&&Zi.setTimeout(()=>n(e,t))}var FR={closed:!0,next:_s,error:PR,complete:_s};var Xi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ct(e){return e}function fh(...e){return hh(e)}function hh(e){return e.length===0?ct:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var L=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=VR(n)?n:new Ji(n,r,i);return Qi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=J_(r),new r((i,o)=>{let s=new Ji({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Xi](){return this}pipe(...n){return hh(n)(this)}toPromise(n){return n=J_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function J_(e){var t;return(t=e??xt.Promise)!==null&&t!==void 0?t:Promise}function LR(e){return e&&F(e.next)&&F(e.error)&&F(e.complete)}function VR(e){return e&&e instanceof Fr||LR(e)&&Gc(e)}function ph(e){return F(e?.lift)}function Y(e){return t=>{if(ph(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(e,t,n,r,i){return new gh(e,t,n,r,i)}var gh=class extends Fr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function eo(){return Y((e,t)=>{let n=null;e._refCount++;let r=z(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var to=class extends L{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ph(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ue;let n=this.getSubject();t.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ue.EMPTY)}return t}refCount(){return eo()(this)}};var X_=Ki(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=(()=>{class e extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Kc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new X_}next(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ah:(this.currentObservers=null,o.push(n),new ue(()=>{this.currentObservers=null,kr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new L;return n.source=this,n}}return e.create=(t,n)=>new Kc(t,n),e})(),Kc=class extends Ee{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:ah}};var ke=class extends Ee{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var mh={now(){return(mh.delegate||Date).now()},delegate:void 0};var Zc=class extends ue{constructor(t,n){super()}schedule(t,n=0){return this}};var Es={setInterval(e,t,...n){let{delegate:r}=Es;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Es;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var no=class extends Zc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Es.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Es.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,kr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var ro=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};ro.now=mh.now;var io=class extends ro{constructor(t,n=ro.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var vh=new io(no);var Qc=class extends no{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var Jc=class extends io{};var yh=new Jc(Qc);var Je=new L(e=>e.complete());function eE(e){return e&&F(e.schedule)}function tE(e){return e[e.length-1]}function Xc(e){return F(tE(e))?e.pop():void 0}function nr(e){return eE(tE(e))?e.pop():void 0}function _h(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function rE(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function nE(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lr(e){return this instanceof Lr?(this.v=e,this):new Lr(e)}function iE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(y){return new Promise(function(w,T){o.push([h,y,w,T])>1||c(h,y)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(y){f(o[0][3],y)}}function l(h){h.value instanceof Lr?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function oE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof nE=="function"?nE(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var el=e=>e&&typeof e.length=="number"&&typeof e!="function";function tl(e){return F(e?.then)}function nl(e){return F(e[Xi])}function rl(e){return Symbol.asyncIterator&&F(e?.[Symbol.asyncIterator])}function il(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ol=jR();function sl(e){return F(e?.[ol])}function al(e){return iE(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Lr(n.read());if(i)return yield Lr(void 0);yield yield Lr(r)}}finally{n.releaseLock()}})}function cl(e){return F(e?.getReader)}function Ie(e){if(e instanceof L)return e;if(e!=null){if(nl(e))return UR(e);if(el(e))return BR(e);if(tl(e))return HR(e);if(rl(e))return sE(e);if(sl(e))return $R(e);if(cl(e))return WR(e)}throw il(e)}function UR(e){return new L(t=>{let n=e[Xi]();if(F(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BR(e){return new L(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function HR(e){return new L(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,qc)})}function $R(e){return new L(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function sE(e){return new L(t=>{zR(e,t).catch(n=>t.error(n))})}function WR(e){return sE(al(e))}function zR(e,t){var n,r,i,o;return rE(this,void 0,void 0,function*(){try{for(n=oE(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Xe(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function rr(e,t=0){return Y((n,r)=>{n.subscribe(z(r,i=>Xe(r,e,()=>r.next(i),t),()=>Xe(r,e,()=>r.complete(),t),i=>Xe(r,e,()=>r.error(i),t)))})}function ir(e,t=0){return Y((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function aE(e,t){return Ie(e).pipe(ir(t),rr(t))}function cE(e,t){return Ie(e).pipe(ir(t),rr(t))}function lE(e,t){return new L(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function uE(e,t){return new L(n=>{let r;return Xe(n,t,()=>{r=e[ol](),Xe(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function ll(e,t){if(!e)throw new Error("Iterable cannot be null");return new L(n=>{Xe(n,t,()=>{let r=e[Symbol.asyncIterator]();Xe(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dE(e,t){return ll(al(e),t)}function fE(e,t){if(e!=null){if(nl(e))return aE(e,t);if(el(e))return lE(e,t);if(tl(e))return cE(e,t);if(rl(e))return ll(e,t);if(sl(e))return uE(e,t);if(cl(e))return dE(e,t)}throw il(e)}function ae(e,t){return t?fE(e,t):Ie(e)}function N(...e){let t=nr(e);return ae(e,t)}function oo(e,t){let n=F(e)?e:()=>e,r=i=>i.error(n());return new L(t?i=>t.schedule(r,0,i):r)}function Eh(e){return!!e&&(e instanceof L||F(e.lift)&&F(e.subscribe))}var xn=Ki(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function G(e,t){return Y((n,r)=>{let i=0;n.subscribe(z(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:GR}=Array;function qR(e,t){return GR(t)?e(...t):e(t)}function ul(e){return G(t=>qR(e,t))}var{isArray:YR}=Array,{getPrototypeOf:KR,prototype:ZR,keys:QR}=Object;function dl(e){if(e.length===1){let t=e[0];if(YR(t))return{args:t,keys:null};if(JR(t)){let n=QR(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function JR(e){return e&&typeof e=="object"&&KR(e)===ZR}function fl(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Is(...e){let t=nr(e),n=Xc(e),{args:r,keys:i}=dl(e);if(r.length===0)return ae([],t);let o=new L(XR(r,t,i?s=>fl(i,s):ct));return n?o.pipe(ul(n)):o}function XR(e,t,n=ct){return r=>{hE(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)hE(t,()=>{let l=ae(e[c],t),u=!1;l.subscribe(z(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hE(e,t,n){e?Xe(n,e,t):t()}function pE(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=y=>l<r?p(y):c.push(y),p=y=>{o&&t.next(y),l++;let w=!1;Ie(n(y,u++)).subscribe(z(t,T=>{i?.(T),o?h(T):t.next(T)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){let T=c.shift();s?Xe(t,s,()=>p(T)):p(T)}f()}catch(T){t.error(T)}}))};return e.subscribe(z(t,h,()=>{d=!0,f()})),()=>{a?.()}}function ge(e,t,n=1/0){return F(t)?ge((r,i)=>G((o,s)=>t(r,o,i,s))(Ie(e(r,i))),n):(typeof t=="number"&&(n=t),Y((r,i)=>pE(r,i,e,n)))}function so(e=1/0){return ge(ct,e)}function gE(){return so(1)}function ao(...e){return gE()(ae(e,nr(e)))}function Cs(e){return new L(t=>{Ie(e()).subscribe(t)})}function Ih(...e){let t=Xc(e),{args:n,keys:r}=dl(e),i=new L(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ie(n[u]).subscribe(z(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?fl(r,a):a),o.complete())}))}});return t?i.pipe(ul(t)):i}function et(e,t){return Y((n,r)=>{let i=0;n.subscribe(z(r,o=>e.call(t,o,i++)&&r.next(o)))})}function kn(e){return Y((t,n)=>{let r=null,i=!1,o;r=t.subscribe(z(n,void 0,void 0,s=>{o=Ie(e(s,kn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function mE(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(z(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function or(e,t){return F(t)?ge(e,t,1):ge(e,1)}function sr(e){return Y((t,n)=>{let r=!1;t.subscribe(z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Pn(e){return e<=0?()=>Je:Y((t,n)=>{let r=0;t.subscribe(z(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function hl(e=eN){return Y((t,n)=>{let r=!1;t.subscribe(z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function eN(){return new xn}function ws(e){return Y((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Fn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?et((i,o)=>e(i,o,r)):ct,Pn(1),n?sr(t):hl(()=>new xn))}function co(e){return e<=0?()=>Je:Y((t,n)=>{let r=[];t.subscribe(z(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ch(e,t){let n=arguments.length>=2;return r=>r.pipe(e?et((i,o)=>e(i,o,r)):ct,co(1),n?sr(t):hl(()=>new xn))}function wh(e,t){return Y(mE(e,t,arguments.length>=2,!0))}function bh(...e){let t=nr(e);return Y((n,r)=>{(t?ao(e,n,t):ao(e,n)).subscribe(r)})}function Be(e,t){return Y((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(z(r,c=>{i?.unsubscribe();let l=0,u=o++;Ie(e(c,u)).subscribe(i=z(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function pl(e){return Y((t,n)=>{Ie(e).subscribe(z(n,()=>n.complete(),_s)),!n.closed&&t.subscribe(n)})}function Me(e,t,n){let r=F(e)||t||n?{next:e,error:t,complete:n}:e;return r?Y((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(z(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ct}function vE(e){let t=k(null);try{return e()}finally{k(t)}}var _l="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",b=class extends Error{code;constructor(t,n){super(Un(t,n)),this.code=t}};function tN(e){return`NG0${Math.abs(e)}`}function Un(e,t){return`${tN(e)}${t?": "+t:""}`}var uo=globalThis;function X(e){for(let t in e)if(e[t]===X)return t;throw Error("")}function EE(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Vn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Vn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Lh(e,t){return e?t?`${e} ${t}`:e:t||""}var nN=X({__forward_ref__:X});function dt(e){return e.__forward_ref__=dt,e.toString=function(){return Vn(this())},e}function Pe(e){return Vh(e)?e():e}function Vh(e){return typeof e=="function"&&e.hasOwnProperty(nN)&&e.__forward_ref__===dt}function IE(e,t){e==null&&jh(t,e,null,"!=")}function jh(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pt(e){return{providers:e.providers||[],imports:e.imports||[]}}function As(e){return rN(e,El)}function Uh(e){return As(e)!==null}function rN(e,t){return e.hasOwnProperty(t)&&e[t]||null}function iN(e){let t=e?.[El]??null;return t||null}function Th(e){return e&&e.hasOwnProperty(ml)?e[ml]:null}var El=X({\u0275prov:X}),ml=X({\u0275inj:X}),I=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Bh(e){return e&&!!e.\u0275providers}var Hh=X({\u0275cmp:X}),$h=X({\u0275dir:X}),Wh=X({\u0275pipe:X}),zh=X({\u0275mod:X}),Ts=X({\u0275fac:X}),$r=X({__NG_ELEMENT_ID__:X}),yE=X({__NG_ENV_ID__:X});function Wr(e){return typeof e=="string"?e:e==null?"":String(e)}function vl(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Wr(e)}var Gh=X({ngErrorCode:X}),CE=X({ngErrorMessage:X}),Ds=X({ngTokenPath:X});function qh(e,t){return wE("",-200,t)}function Il(e,t){throw new b(-201,!1)}function oN(e,t){e[Ds]??=[];let n=e[Ds],r;typeof t=="object"&&"multi"in t&&t?.multi===!0?(IE(t.provide,"Token with multi: true should have a provide property"),r=vl(t.provide)):r=vl(t),n[0]!==r&&e[Ds].unshift(r)}function sN(e,t){let n=e[Ds],r=e[Gh],i=e[CE]||e.message;return e.message=cN(i,r,n,t),e}function wE(e,t,n){let r=new b(t,e);return r[Gh]=t,r[CE]=e,n&&(r[Ds]=n),r}function aN(e){return e[Gh]}function cN(e,t,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Un(t,`${e}${o}${i}`)}var Sh;function bE(){return Sh}function lt(e){let t=Sh;return Sh=e,t}function Yh(e,t,n){let r=As(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Il(e,"Injector")}var lN={},Vr=lN,Ah="__NG_DI_FLAG__",Rh=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=jr(n)||0;try{return this.injector.get(t,r&8?null:Vr,r)}catch(i){if(Wi(i))return i;throw i}}};function uN(e,t=0){let n=kc();if(n===void 0)throw new b(-203,!1);if(n===null)return Yh(e,void 0,t);{let r=dN(t),i=n.retrieve(e,r);if(Wi(i)){if(r.optional)return null;throw i}return i}}function O(e,t=0){return(bE()||uN)(Pe(e),t)}function g(e,t){return O(e,jr(t))}function jr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function dN(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Nh(e){let t=[];for(let n=0;n<e.length;n++){let r=Pe(e[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=fN(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(O(i,o))}else t.push(O(r))}return t}function DE(e,t){return e[Ah]=t,e.prototype[Ah]=t,e}function fN(e){return e[Ah]}function Ur(e,t){let n=e.hasOwnProperty(Ts);return n?e[Ts]:null}function Cl(e,t){e.forEach(n=>Array.isArray(n)?Cl(n,t):t(n))}function Kh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Rs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function TE(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function SE(e,t,n){let r=fo(e,t);return r>=0?e[r|1]=n:(r=~r,TE(e,r,t,n)),r}function wl(e,t){let n=fo(e,t);if(n>=0)return e[n|1]}function fo(e,t){return hN(e,t,1)}function hN(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var cr={},ut=[],Ft=new I(""),Zh=new I("",-1),Qh=new I(""),Ss=class{get(t,n=Vr){if(n===Vr){let i=wE("",-201);throw i.name="\u0275NotFound",i}return n}};function Jh(e){return e[zh]||null}function an(e){return e[Hh]||null}function bl(e){return e[$h]||null}function Xh(e){return e[Wh]||null}function ft(e){return{\u0275providers:e}}function AE(...e){return{\u0275providers:Dl(!0,e),\u0275fromNgModule:!0}}function Dl(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Cl(t,s=>{let a=s;yl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&RE(i,o),n}function RE(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];ep(i,o=>{t(o,r)})}}function yl(e,t,n,r){if(e=Pe(e),!e)return!1;let i=null,o=Th(e),s=!o&&an(e);if(!o&&!s){let c=e.ngModule;if(o=Th(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)yl(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Cl(o.imports,u=>{yl(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&RE(l,t)}if(!a){let l=Ur(i)||(()=>new i);t({provide:i,useFactory:l,deps:ut},i),t({provide:Qh,useValue:i,multi:!0},i),t({provide:Ft,useValue:()=>O(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;ep(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function ep(e,t){for(let n of e)Bh(n)&&(n=n.\u0275providers),Array.isArray(n)?ep(n,t):t(n)}var pN=X({provide:String,useValue:X});function NE(e){return e!==null&&typeof e=="object"&&pN in e}function gN(e){return!!(e&&e.useExisting)}function mN(e){return!!(e&&e.useFactory)}function Br(e){return typeof e=="function"}function ME(e){return!!e.useClass}var Ns=new I(""),gl={},_E={},Dh;function Ms(){return Dh===void 0&&(Dh=new Ss),Dh}var de=class{},Hr=class extends de{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Oh(t,s=>this.processProvider(s)),this.records.set(Zh,lo(void 0,this)),i.has("environment")&&this.records.set(de,lo(void 0,this));let o=this.records.get(Ns);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Qh,ut,{self:!0}))}retrieve(t,n){let r=jr(n)||0;try{return this.get(t,Vr,r)}catch(i){if(Wi(i))return i;throw i}}destroy(){bs(this),this._destroyed=!0;let t=k(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),k(t)}}onDestroy(t){return bs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){bs(this);let n=sn(this),r=lt(void 0),i;try{return t()}finally{sn(n),lt(r)}}get(t,n=Vr,r){if(bs(this),t.hasOwnProperty(yE))return t[yE](this);let i=jr(r),o,s=sn(this),a=lt(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=IN(t)&&As(t);u&&this.injectableDefInScope(u)?l=lo(Mh(t),gl):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?Ms():this.parent;return n=i&8&&n===Vr?null:n,c.get(t,n)}catch(c){let l=aN(c);throw l===-200||l===-201?new b(l,null):c}finally{lt(a),sn(s)}}resolveInjectorInitializers(){let t=k(null),n=sn(this),r=lt(void 0),i;try{let o=this.get(Ft,ut,{self:!0});for(let s of o)s()}finally{sn(n),lt(r),k(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Vn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Pe(t);let n=Br(t)?t:Pe(t&&t.provide),r=yN(t);if(!Br(t)&&t.multi===!0){let i=this.records.get(n);i||(i=lo(void 0,gl,!0),i.factory=()=>Nh(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=k(null);try{if(n.value===_E)throw qh(Vn(t));return n.value===gl&&(n.value=_E,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&EN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{k(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Pe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Mh(e){let t=As(e),n=t!==null?t.factory:Ur(e);if(n!==null)return n;if(e instanceof I)throw new b(204,!1);if(e instanceof Function)return vN(e);throw new b(204,!1)}function vN(e){if(e.length>0)throw new b(204,!1);let n=iN(e);return n!==null?()=>n.factory(e):()=>new e}function yN(e){if(NE(e))return lo(void 0,e.useValue);{let t=tp(e);return lo(t,gl)}}function tp(e,t,n){let r;if(Br(e)){let i=Pe(e);return Ur(i)||Mh(i)}else if(NE(e))r=()=>Pe(e.useValue);else if(mN(e))r=()=>e.useFactory(...Nh(e.deps||[]));else if(gN(e))r=(i,o)=>O(Pe(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Pe(e&&(e.useClass||e.provide));if(_N(e))r=()=>new i(...Nh(e.deps));else return Ur(i)||Mh(i)}return r}function bs(e){if(e.destroyed)throw new b(205,!1)}function lo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function _N(e){return!!e.deps}function EN(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function IN(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Oh(e,t){for(let n of e)Array.isArray(n)?Oh(n,t):n&&Bh(n)?Oh(n.\u0275providers,t):t(n)}function me(e,t){let n;e instanceof Hr?(bs(e),n=e):n=new Rh(e);let r,i=sn(n),o=lt(void 0);try{return t()}finally{sn(i),lt(o)}}function OE(){return bE()!==void 0||kc()!=null}var He=0,R=1,P=2,Ce=3,Dt=4,Tt=5,tt=6,ho=7,ve=8,Lt=9,cn=10,te=11,po=12,np=13,zr=14,$e=15,Gr=16,qr=17,Yr=18,Os=19,rp=20,Ln=21,Tl=22,xs=23,ht=24,Kr=25,se=26,xE=1,Vt=6,ln=7,ks=8,Ps=9,Oe=10;function pt(e){return Array.isArray(e)&&typeof e[xE]=="object"}function gt(e){return Array.isArray(e)&&e[xE]===!0}function ip(e){return(e.flags&4)!==0}function Bn(e){return e.componentOffset>-1}function Sl(e){return(e.flags&1)===1}function un(e){return!!e.template}function Zr(e){return(e[P]&512)!==0}function lr(e){return(e[P]&256)===256}var kE="svg",PE="math";function mt(e){for(;Array.isArray(e);)e=e[He];return e}function op(e,t){return mt(t[e])}function St(e,t){return mt(t[e.index])}function Qr(e,t){return e.data[t]}function At(e,t){let n=t[e];return pt(n)?n:n[He]}function Al(e){return(e[P]&128)===128}function FE(e){return gt(e[Ce])}function ur(e,t){return t==null?null:e[t]}function sp(e){e[qr]=0}function ap(e){e[P]&1024||(e[P]|=1024,Al(e)&&go(e))}function LE(e,t){for(;e>0;)t=t[zr],e--;return t}function Fs(e){return!!(e[P]&9216||e[ht]?.dirty)}function Rl(e){e[cn].changeDetectionScheduler?.notify(8),e[P]&64&&(e[P]|=1024),Fs(e)&&go(e)}function go(e){e[cn].changeDetectionScheduler?.notify(0);let t=ar(e);for(;t!==null&&!(t[P]&8192||(t[P]|=8192,!Al(t)));)t=ar(t)}function cp(e,t){if(lr(e))throw new b(911,!1);e[Ln]===null&&(e[Ln]=[]),e[Ln].push(t)}function VE(e,t){if(e[Ln]===null)return;let n=e[Ln].indexOf(t);n!==-1&&e[Ln].splice(n,1)}function ar(e){let t=e[Ce];return gt(t)?t[Ce]:t}function jE(e){return e[ho]??=[]}function UE(e){return e.cleanup??=[]}var B={lFrame:rI(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ls=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(Ls||{}),CN=0,xh=!1;function BE(){return B.lFrame.elementDepthCount}function HE(){B.lFrame.elementDepthCount++}function $E(){B.lFrame.elementDepthCount--}function WE(){return B.bindingsEnabled}function lp(){return B.skipHydrationRootTNode!==null}function zE(e){return B.skipHydrationRootTNode===e}function GE(e){B.skipHydrationRootTNode=e}function qE(){B.skipHydrationRootTNode=null}function q(){return B.lFrame.lView}function We(){return B.lFrame.tView}function jt(e){return B.lFrame.contextLView=e,e[ve]}function Ut(e){return B.lFrame.contextLView=null,e}function ze(){let e=up();for(;e!==null&&e.type===64;)e=e.parent;return e}function up(){return B.lFrame.currentTNode}function YE(){let e=B.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function mo(e,t){let n=B.lFrame;n.currentTNode=e,n.isParent=t}function dp(){return B.lFrame.isParent}function KE(){B.lFrame.isParent=!1}function fp(e){jh("Must never be called in production mode"),CN=e}function hp(){return xh}function pp(e){let t=xh;return xh=e,t}function Nl(){let e=B.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ZE(){return B.lFrame.bindingIndex}function QE(e){return B.lFrame.bindingIndex=e}function Jr(){return B.lFrame.bindingIndex++}function gp(e){let t=B.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function JE(){return B.lFrame.inI18n}function XE(e,t){let n=B.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ml(t)}function eI(){return B.lFrame.currentDirectiveIndex}function Ml(e){B.lFrame.currentDirectiveIndex=e}function tI(e){let t=B.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function mp(e){B.lFrame.currentQueryIndex=e}function wN(e){let t=e[R];return t.type===2?t.declTNode:t.type===1?e[Tt]:null}function vp(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=wN(o),i===null||(o=o[zr],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=B.lFrame=nI();return r.currentTNode=t,r.lView=e,!0}function Ol(e){let t=nI(),n=e[R];B.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function nI(){let e=B.lFrame,t=e===null?null:e.child;return t===null?rI(e):t}function rI(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function iI(){let e=B.lFrame;return B.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var yp=iI;function xl(){let e=iI();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function oI(e){return(B.lFrame.contextLView=LE(e,B.lFrame.contextLView))[ve]}function Hn(){return B.lFrame.selectedIndex}function dr(e){B.lFrame.selectedIndex=e}function kl(){let e=B.lFrame;return Qr(e.tView,e.selectedIndex)}function _p(){return B.lFrame.currentNamespace}var sI=!0;function Pl(){return sI}function $n(e){sI=e}function kh(e,t=null,n=null,r){let i=Ep(e,t,n,r);return i.resolveInjectorInitializers(),i}function Ep(e,t=null,n=null,r,i=new Set){let o=[n||ut,AE(e)];return r=r||(typeof e=="object"?void 0:Vn(e)),new Hr(o,t||Ms(),r||null,i)}var fe=class e{static THROW_IF_NOT_FOUND=Vr;static NULL=new Ss;static create(t,n){if(Array.isArray(t))return kh({name:""},n,t,"");{let r=t.name??"";return kh({name:r},t.parent,t.providers,r)}}static \u0275prov=D({token:e,providedIn:"any",factory:()=>O(Zh)});static __NG_ELEMENT_ID__=-1},ye=new I(""),Bt=(()=>{class e{static __NG_ELEMENT_ID__=bN;static __NG_ENV_ID__=n=>n}return e})(),Ph=class extends Bt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return lr(this._lView)}onDestroy(t){let n=this._lView;return cp(n,t),()=>VE(n,t)}};function bN(){return new Ph(q())}var kt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},vt=new I("",{providedIn:"root",factory:()=>{let e=g(de),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(kt),t.handleError(n))}}}),aI={provide:Ft,useValue:()=>void g(kt),multi:!0};function Ip(e){return typeof e=="function"&&e[Ve]!==void 0}function yt(e,t){let[n,r,i]=oh(e,t?.equal),o=n,s=o[Ve];return o.set=r,o.update=i,o.asReadonly=cI.bind(o),o}function cI(){let e=this[Ve];if(e.readonlyFn===void 0){let t=()=>this();t[Ve]=e,e.readonlyFn=t}return e.readonlyFn}function Cp(e){return Ip(e)&&typeof e.set=="function"}var jn=class{},Vs=new I("",{providedIn:"root",factory:()=>!1});var wp=new I(""),bp=new I("");var Fl=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=DN}return e})();function DN(){return new Fl(q(),ze())}var Ht=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ke(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new L(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),fr=(()=>{class e{internalPendingTasks=g(Ht);scheduler=g(jn);errorHandler=g(vt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})();function js(...e){}var Dp=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new Fh})}return e})(),Fh=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var Ll={JSACTION:"jsaction"};function Do(e){return{toString:e}.toString()}var Vl="__parameters__";function kN(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function PN(e,t,n){return Do(()=>{let r=kN(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Vl)?c[Vl]:Object.defineProperty(c,Vl,{value:[]})[Vl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var hn=DE(PN("Optional"),8);function FN(e){return typeof e=="function"}var Gl=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ZI(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Gn=(()=>{let e=()=>QI;return e.ngInherit=!0,e})();function QI(e){return e.type.prototype.ngOnChanges&&(e.setInput=VN),LN}function LN(){let e=XI(this),t=e?.current;if(t){let n=e.previous;if(n===cr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function VN(e,t,n,r,i){let o=this.declaredInputs[r],s=XI(e)||jN(e,{previous:cr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Gl(l&&l.currentValue,n,c===cr),ZI(e,t,i,n)}var JI="__ngSimpleChanges__";function XI(e){return e[JI]||null}function jN(e,t){return e[JI]=t}var lI=[];var Z=function(e,t=null,n){for(let r=0;r<lI.length;r++){let i=lI[r];i(e,t,n)}};function UN(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=QI(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function BN(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Bl(e,t,n){eC(e,t,3,n)}function Hl(e,t,n,r){(e[P]&3)===n&&eC(e,t,n,r)}function Tp(e,t){let n=e[P];(n&3)===t&&(n&=16383,n+=1,e[P]=n)}function eC(e,t,n,r){let i=r!==void 0?e[qr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[qr]+=65536),(a<o||o==-1)&&(HN(e,n,t,c),e[qr]=(e[qr]&4294901760)+c+2),c++}function uI(e,t){Z(4,e,t);let n=k(null);try{t.call(e)}finally{k(n),Z(5,e,t)}}function HN(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[P]>>14<e[qr]>>16&&(e[P]&3)===t&&(e[P]+=16384,uI(a,o)):uI(a,o)}var yo=-1,ti=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function $N(e){return(e.flags&8)!==0}function WN(e){return(e.flags&16)!==0}function zN(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];GN(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function tC(e){return e===3||e===4||e===6}function GN(e){return e.charCodeAt(0)===64}function Hs(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?dI(e,n,i,null,t[++r]):dI(e,n,i,null,null))}}return e}function dI(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function nC(e){return e!==yo}function ql(e){return e&32767}function qN(e){return e>>16}function Yl(e,t){let n=qN(e),r=t;for(;n>0;)r=r[zr],n--;return r}var Up=!0;function fI(e){let t=Up;return Up=e,t}var YN=256,rC=YN-1,iC=5,KN=0,dn={};function ZN(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty($r)&&(r=n[$r]),r==null&&(r=n[$r]=KN++);let i=r&rC,o=1<<i;t.data[e+(i>>iC)]|=o}function Kl(e,t){let n=oC(e,t);if(n!==-1)return n;let r=t[R];r.firstCreatePass&&(e.injectorIndex=t.length,Sp(r.data,e),Sp(t,null),Sp(r.blueprint,null));let i=dg(e,t),o=e.injectorIndex;if(nC(i)){let s=ql(i),a=Yl(i,t),c=a[R].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Sp(e,t){e.push(0,0,0,0,0,0,0,0,t)}function oC(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function dg(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=uC(i),r===null)return yo;if(n++,i=i[zr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return yo}function Bp(e,t,n){ZN(e,t,n)}function QN(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(tC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function sC(e,t,n){if(n&8||e!==void 0)return e;Il(t,"NodeInjector")}function aC(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[Lt],o=lt(void 0);try{return i?i.get(t,r,n&8):Yh(t,r,n&8)}finally{lt(o)}}return sC(r,t,n)}function cC(e,t,n,r=0,i){if(e!==null){if(t[P]&2048&&!(r&2)){let s=nM(e,t,n,r,dn);if(s!==dn)return s}let o=lC(e,t,n,r,dn);if(o!==dn)return o}return aC(t,n,r,i)}function lC(e,t,n,r,i){let o=eM(n);if(typeof o=="function"){if(!vp(t,e,r))return r&1?sC(i,n,r):aC(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Il(n);else return s}finally{yp()}}else if(typeof o=="number"){let s=null,a=oC(e,t),c=yo,l=r&1?t[$e][Tt]:null;for((a===-1||r&4)&&(c=a===-1?dg(e,t):t[a+8],c===yo||!pI(r,!1)?a=-1:(s=t[R],a=ql(c),t=Yl(c,t)));a!==-1;){let u=t[R];if(hI(o,a,u.data)){let d=JN(a,t,n,s,r,l);if(d!==dn)return d}c=t[a+8],c!==yo&&pI(r,t[R].data[a+8]===l)&&hI(o,a,t)?(s=u,a=ql(c),t=Yl(c,t)):a=-1}}return i}function JN(e,t,n,r,i,o){let s=t[R],a=s.data[e+8],c=r==null?Bn(a)&&Up:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=XN(a,s,n,c,l);return u!==null?Zl(t,s,u,a,i):dn}function XN(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&un(h)&&h.type===n)return c}return null}function Zl(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof ti){let a=o;if(a.resolving){let h=vl(s[n]);throw qh(h)}let c=fI(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?lt(a.injectImpl):null,f=vp(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&UN(n,s[n],t)}finally{d!==null&&lt(d),fI(c),a.resolving=!1,yp()}}return o}function eM(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty($r)?e[$r]:void 0;return typeof t=="number"?t>=0?t&rC:tM:t}function hI(e,t,n){let r=1<<e;return!!(n[t+(e>>iC)]&r)}function pI(e,t){return!(e&2)&&!(e&1&&t)}var ei=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return cC(this._tNode,this._lView,t,jr(r),n)}};function tM(){return new ei(ze(),q())}function Wt(e){return Do(()=>{let t=e.prototype.constructor,n=t[Ts]||Hp(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Ts]||Hp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Hp(e){return Vh(e)?()=>{let t=Hp(Pe(e));return t&&t()}:Ur(e)}function nM(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[P]&2048&&!Zr(s);){let a=lC(o,s,n,r|2,dn);if(a!==dn)return a;let c=o.parent;if(!c){let l=s[rp];if(l){let u=l.get(n,dn,r);if(u!==dn)return u}c=uC(s),s=s[zr]}o=c}return i}function uC(e){let t=e[R],n=t.type;return n===2?t.declTNode:n===1?e[Tt]:null}function Ys(e){return QN(ze(),e)}function rM(){return fg(ze(),q())}function fg(e,t){return new Rt(St(e,t))}var Rt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=rM}return e})();var dC="ngSkipHydration",iM="ngskiphydration";function fC(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===iM)return!0}return!1}function hC(e){return e.hasAttribute(dC)}function Ql(e){return(e.flags&128)===128}function pC(e){if(Ql(e))return!0;let t=e.parent;for(;t;){if(Ql(e)||fC(t))return!0;t=t.parent}return!1}var hg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(hg||{}),gC=new Map,oM=0;function sM(){return oM++}function aM(e){gC.set(e[Os],e)}function $p(e){gC.delete(e[Os])}var gI="__ngContext__";function Io(e,t){pt(t)?(e[gI]=t[Os],aM(t)):e[gI]=t}function mC(e){return yC(e[po])}function vC(e){return yC(e[Dt])}function yC(e){for(;e!==null&&!gt(e);)e=e[Dt];return e}var Wp;function pg(e){Wp=e}function Ks(){if(Wp!==void 0)return Wp;if(typeof document<"u")return document;throw new b(210,!1)}var pn=new I("",{providedIn:"root",factory:()=>cM}),cM="ng",pu=new I(""),nt=new I("",{providedIn:"platform",factory:()=>"unknown"});var gu=new I("",{providedIn:"root",factory:()=>Ks().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function lM(){let e=new si;return e.store=_C(Ks(),g(pn)),e}var si=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:lM});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function _C(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var EC="h",IC="b",uM="f",dM="n",CC="e",wC="t",mu="c",gg="x",$s="r",bC="i",DC="n",mg="d";var TC="di",SC="s",AC="p";var Zs=new I(""),RC=!1,vg=new I("",{providedIn:"root",factory:()=>RC});var yg=new I(""),NC=!1,MC=new I(""),_g=new I("",{providedIn:"root",factory:()=>new Map});var Qs="ngb";var OC=(e,t,n)=>{let r=e,i=r.__jsaction_fns??new Map,o=i.get(t)??[];o.push(n),i.set(t,o),r.__jsaction_fns=i},xC=(e,t)=>{let n=e,r=n.getAttribute(Qs)??"",i=t.get(r)??new Set;i.has(n)||i.add(n),t.set(r,i)};var kC=e=>{e.removeAttribute(Ll.JSACTION),e.removeAttribute(Qs),e.__jsaction_fns=void 0},PC=new I("",{providedIn:"root",factory:()=>({})});function Eg(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var zp=new Map;function FC(e,t){return zp.set(e,t),()=>zp.delete(e)}var mI=!1,LC=(e,t,n,r)=>{};function fM(e,t,n,r){LC(e,t,n,r)}function VC(){mI||(LC=(e,t,n,r)=>{let i=e[Lt].get(pn);zp.get(i)?.(t,n,r)},mI=!0)}var vu=new I("");function yu(e){return(e.flags&32)===32}var hM="__nghData__",Ig=hM,pM="__nghDeferData__",jC=pM;var $l="ngh",UC="nghm",BC=()=>null;function gM(e,t,n=!1){let r=e.getAttribute($l);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=t.get(si,null,{optional:!0});u!==null&&(c=u.get(Ig,[])[Number(r)])}let l={data:c,firstChild:e.firstChild??null};return n&&(l.firstChild=e,_u(l,0,e.nextSibling)),a?e.setAttribute($l,a):e.removeAttribute($l),l}function HC(){BC=gM}function $C(e,t,n=!1){return BC(e,t,n)}function WC(e){let t=e._lView;return t[R].type===2?null:(Zr(t)&&(t=t[se]),t)}function mM(e){return e.textContent?.replace(/\s/gm,"")}function vM(e){let t=Ks(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=mM(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function _u(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Gp(e,t){return e.segmentHeads?.[t]??null}function zC(e){return e.get(MC,!1,{optional:!0})}function yM(e,t){let n=e.data,r=n[CC]?.[t]??null;return r===null&&n[mu]?.[t]&&(r=Cg(e,t)),r}function GC(e,t){return e.data[mu]?.[t]??null}function Cg(e,t){let n=GC(e,t)??[],r=0;for(let i of n)r+=i[$s]*(i[gg]??1);return r}function _M(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[mg];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function qC(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[mg];e.disconnectedNodes=n?new Set(n):null}return!!_M(e)?.has(t)}function Eu(e,t){let n=e[tt];return n!==null&&!lp()&&!yu(t)&&!qC(n,t.index-se)}function EM(e,t){let n=t.get(vu),i=t.get(si).get(jC,{}),o=!1,s=e,a=null,c=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}c.unshift(s),s=i[s][AC]}return{parentBlockPromise:a,hydrationQueue:c}}function Ap(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===UC}function vI(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function YC(e){for(let r of e.body.childNodes)if(Ap(r))return;let t=vI(e.body.previousSibling);if(Ap(t))return;let n=vI(e.head.lastChild);if(!Ap(n))throw new b(-507,!1)}function KC(e,t){let n=e.contentQueries;if(n!==null){let r=k(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];mp(o),a.contentQueries(2,t[s],s)}}}finally{k(r)}}}function qp(e,t,n){mp(0);let r=k(null);try{t(e,n)}finally{k(r)}}function ZC(e,t,n){if(ip(t)){let r=k(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{k(r)}}}var Wn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Wn||{});var jl;function IM(){if(jl===void 0&&(jl=null,uo.trustedTypes))try{jl=uo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return jl}function yI(e){return IM()?.createScriptURL(e)||e}var Jl=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_l})`}};function To(e){return e instanceof Jl?e.changingThisBreaksApplicationSecurity:e}function Iu(e,t){let n=QC(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${_l})`)}return n===t}function QC(e){return e instanceof Jl&&e.getTypeName()||null}var CM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wg(e){return e=String(e),e.match(CM)?e:"unsafe:"+e}var Js=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Js||{});function hr(e){let t=XC();return t?t.sanitize(Js.URL,e)||"":Iu(e,"URL")?To(e):wg(Wr(e))}function JC(e){let t=XC();if(t)return yI(t.sanitize(Js.RESOURCE_URL,e)||"");if(Iu(e,"ResourceURL"))return yI(To(e));throw new b(904,!1)}function wM(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?JC:hr}function bg(e,t,n){return wM(t,n)(e)}function XC(){let e=q();return e&&e[cn].sanitizer}var bM=/^>|^->|<!--|-->|--!>|<!-$/g,DM=/(<|>)/g,TM="\u200B$1\u200B";function SM(e){return e.replace(bM,t=>t.replace(DM,TM))}function ew(e){return e.ownerDocument.body}function tw(e){return e instanceof Function?e():e}function AM(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var nw="ng-template";function RM(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&AM(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Dg(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Dg(e){return e.type===4&&e.value!==nw}function NM(e,t,n){let r=e.type===4&&!n?nw:e.value;return t===r}function MM(e,t,n){let r=4,i=e.attrs,o=i!==null?kM(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!$t(r)&&!$t(c))return!1;if(s&&$t(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!NM(e,c,n)||c===""&&t.length===1){if($t(r))return!1;s=!0}}else if(r&8){if(i===null||!RM(e,i,c,n)){if($t(r))return!1;s=!0}}else{let l=t[++a],u=OM(c,i,Dg(e),n);if(u===-1){if($t(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if($t(r))return!1;s=!0}}}}return $t(r)||s}function $t(e){return(e&1)===0}function OM(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return PM(t,e)}function xM(e,t,n=!1){for(let r=0;r<t.length;r++)if(MM(e,t[r],n))return!0;return!1}function kM(e){for(let t=0;t<e.length;t++){let n=e[t];if(tC(n))return t}return e.length}function PM(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function _I(e,t){return e?":not("+t.trim()+")":t}function FM(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!$t(s)&&(t+=_I(o,i),i=""),r=s,o=o||!$t(r);n++}return i!==""&&(t+=_I(o,i)),t}function LM(e){return e.map(FM).join(",")}function VM(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!$t(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Et={};function rw(e,t){return e.createText(t)}function jM(e,t,n){e.setValue(t,n)}function iw(e,t){return e.createComment(SM(t))}function Tg(e,t,n){return e.createElement(t,n)}function Xl(e,t,n,r,i){e.insertBefore(t,n,r,i)}function ow(e,t,n){e.appendChild(t,n)}function EI(e,t,n,r,i){r!==null?Xl(e,t,n,r,i):ow(e,t,n)}function Sg(e,t,n){e.removeChild(null,t,n)}function sw(e){e.textContent=""}function UM(e,t,n){e.setAttribute(t,"style",n)}function BM(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function aw(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&zN(e,t,r),i!==null&&BM(e,t,i),o!==null&&UM(e,t,o)}function Ag(e,t,n,r,i,o,s,a,c,l,u){let d=se+r,f=d+i,h=HM(d,f),p=typeof l=="function"?l():l;return h[R]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function HM(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Et);return n}function $M(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Ag(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Rg(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[He]=i,d[P]=r|4|128|8|64|1024,(l!==null||e&&e[P]&2048)&&(d[P]|=2048),sp(d),d[Ce]=d[zr]=e,d[ve]=n,d[cn]=s||e&&e[cn],d[te]=a||e&&e[te],d[Lt]=c||e&&e[Lt]||null,d[Tt]=o,d[Os]=sM(),d[tt]=u,d[rp]=l,d[$e]=t.type==2?e[$e]:d,d}function WM(e,t,n){let r=St(t,e),i=$M(n),o=e[cn].rendererFactory,s=Ng(e,Rg(e,i,null,cw(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function cw(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function lw(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ng(e,t){return e[po]?e[np][Dt]=t:e[po]=t,e[np]=t,t}function S(e=1){uw(We(),q(),Hn()+e,!1)}function uw(e,t,n,r){if(!r)if((t[P]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Bl(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Hl(t,o,0,n)}dr(n)}var Cu=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Cu||{});function Yp(e,t,n,r){let i=k(null);try{let[o,s,a]=e.inputs[n],c=null;(s&Cu.SignalBased)!==0&&(c=t[o][Ve]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):ZI(t,c,o,r)}finally{k(i)}}var zn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(zn||{}),zM;function Mg(e,t){return zM(e,t)}function vo(e,t,n,r,i){if(r!=null){let o,s=!1;gt(r)?o=r:pt(r)&&(s=!0,r=r[He]);let a=mt(r);e===0&&n!==null?i==null?ow(t,n,a):Xl(t,n,a,i||null,!0):e===1&&n!==null?Xl(t,n,a,i||null,!0):e===2?Sg(t,a,s):e===3&&t.destroyNode(a),o!=null&&rO(t,e,o,n,i)}}function GM(e,t){dw(e,t),t[He]=null,t[Tt]=null}function qM(e,t,n,r,i,o){r[He]=i,r[Tt]=t,bu(e,r,n,1,i,o)}function dw(e,t){t[cn].changeDetectionScheduler?.notify(9),bu(e,t,t[te],2,null,null)}function YM(e){let t=e[po];if(!t)return Rp(e[R],e);for(;t;){let n=null;if(pt(t))n=t[po];else{let r=t[Oe];r&&(n=r)}if(!n){for(;t&&!t[Dt]&&t!==e;)pt(t)&&Rp(t[R],t),t=t[Ce];t===null&&(t=e),pt(t)&&Rp(t[R],t),n=t&&t[Dt]}t=n}}function Og(e,t){let n=e[Ps],r=n.indexOf(t);n.splice(r,1)}function wu(e,t){if(lr(t))return;let n=t[te];n.destroyNode&&bu(e,t,n,3,null,null),YM(t)}function Rp(e,t){if(lr(t))return;let n=k(null);try{t[P]&=-129,t[P]|=256,t[ht]&&ys(t[ht]),ZM(e,t),KM(e,t),t[R].type===1&&t[te].destroy();let r=t[Gr];if(r!==null&&gt(t[Ce])){r!==t[Ce]&&Og(r,t);let i=t[Yr];i!==null&&i.detachView(e)}$p(t)}finally{k(n)}}function KM(e,t){let n=e.cleanup,r=t[ho];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[ho]=null);let i=t[Ln];if(i!==null){t[Ln]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[xs];if(o!==null){t[xs]=null;for(let s of o)s.destroy()}}function ZM(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof ti)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Z(4,a,c);try{c.call(a)}finally{Z(5,a,c)}}else{Z(4,i,o);try{o.call(i)}finally{Z(5,i,o)}}}}}function QM(e,t,n){return JM(e,t.parent,n)}function JM(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[He];if(Bn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Wn.None||i===Wn.Emulated)return null}return St(r,n)}function XM(e,t,n){return tO(e,t,n)}function eO(e,t,n){return e.type&40?St(e,n):null}var tO=eO,II;function xg(e,t,n,r){let i=QM(e,r,t),o=t[te],s=r.parent||t[Tt],a=XM(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)EI(o,i,n[c],a,!1);else EI(o,i,n,a,!1);II!==void 0&&II(o,r,t,n,i)}function Us(e,t){if(t!==null){let n=t.type;if(n&3)return St(t,e);if(n&4)return Kp(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Us(e,r);{let i=e[t.index];return gt(i)?Kp(-1,i):mt(i)}}else{if(n&128)return Us(e,t.next);if(n&32)return Mg(t,e)()||mt(e[t.index]);{let r=fw(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=ar(e[$e]);return Us(i,r)}else return Us(e,t.next)}}}return null}function fw(e,t){if(t!==null){let r=e[$e][Tt],i=t.projection;return r.projection[i]}return null}function Kp(e,t){let n=Oe+e+1;if(n<t.length){let r=t[n],i=r[R].firstChild;if(i!==null)return Us(r,i)}return t[ln]}function kg(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Io(mt(a),r),n.flags|=2),!yu(n))if(c&8)kg(e,t,n.child,r,i,o,!1),vo(t,e,i,a,o);else if(c&32){let l=Mg(n,r),u;for(;u=l();)vo(t,e,i,u,o);vo(t,e,i,a,o)}else c&16?nO(e,t,r,n,i,o):vo(t,e,i,a,o);n=s?n.projectionNext:n.next}}function bu(e,t,n,r,i,o){kg(n,r,e.firstChild,t,i,o,!1)}function nO(e,t,n,r,i,o){let s=n[$e],c=s[Tt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];vo(t,e,i,u,o)}else{let l=c,u=s[Ce];Ql(r)&&(l.flags|=128),kg(e,t,l,u,i,o,!0)}}function rO(e,t,n,r,i){let o=n[ln],s=mt(n);o!==s&&vo(t,e,r,o,i);for(let a=Oe;a<n.length;a++){let c=n[a];bu(c[R],c,e,t,r,o)}}function iO(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:zn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zn.Important),e.setStyle(n,r,i,o))}}function hw(e,t,n,r,i){let o=Hn(),s=r&2;try{dr(-1),s&&t.length>se&&uw(e,t,se,!1),Z(s?2:0,i,n),n(r,i)}finally{dr(o),Z(s?3:1,i,n)}}function pw(e,t,n){dO(e,t,n),(n.flags&64)===64&&fO(e,t,n)}function gw(e,t,n=St){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function oO(e,t,n,r){let o=r.get(vg,RC)||n===Wn.ShadowDom,s=e.selectRootElement(t,o);return sO(s),s}function sO(e){mw(e)}var mw=()=>null;function aO(e){hC(e)?sw(e):vM(e)}function vw(){mw=aO}function cO(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function yw(e,t,n,r,i,o){let s=t[R];if(Fg(e,s,t,n,r)){Bn(e)&&uO(t,e.index);return}e.type&3&&(n=cO(n)),lO(e,t,n,r,i,o)}function lO(e,t,n,r,i,o){if(e.type&3){let s=St(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function uO(e,t){let n=At(t,e);n[P]&16||(n[P]|=64)}function dO(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Bn(n)&&WM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Kl(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Zl(t,e,s,n);if(Io(c,t),o!==null&&vO(t,s-r,c,a,n,o),un(a)){let l=At(n.index,t);l[ve]=Zl(t,e,s,n)}}}function fO(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=eI();try{dr(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];Ml(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&hO(c,l)}}finally{dr(-1),Ml(s)}}function hO(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function pO(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];xM(t,o.selectors,!1)&&(r??=[],un(o)?r.unshift(o):r.push(o))}return r}function gO(e,t,n,r,i,o){let s=St(e,t);mO(t[te],s,o,e.value,n,r,i)}function mO(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Wr(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function vO(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Yp(r,n,c,l)}}function yO(e,t,n,r,i){let o=se+n,s=t[R],a=i(s,t,e,r,n);t[o]=a,mo(e,!0);let c=e.type===2;return c?(aw(t[te],a,e),(BE()===0||Sl(e))&&Io(a,t),HE()):Io(a,t),Pl()&&(!c||!yu(e))&&xg(s,t,a,e),e}function _O(e){let t=e;return dp()?KE():(t=t.parent,mo(t,!1)),t}function Pg(e,t){let n=e[Lt];if(!n)return;n.get(vt,null)?.(t)}function Fg(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Yp(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];Yp(u,l,r,i),a=!0}return a}function EO(e,t){let n=At(t,e),r=n[R];IO(r,n);let i=n[He];i!==null&&n[tt]===null&&(n[tt]=$C(i,n[Lt])),Z(18),Lg(r,n,n[ve]),Z(19,n[ve])}function IO(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Lg(e,t,n){Ol(t);try{let r=e.viewQuery;r!==null&&qp(1,r,n);let i=e.template;i!==null&&hw(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Yr]?.finishViewCreation(e),e.staticContentQueries&&KC(e,t),e.staticViewQueries&&qp(2,e.viewQuery,n);let o=e.components;o!==null&&CO(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[P]&=-5,xl()}}function CO(e,t){for(let n=0;n<t.length;n++)EO(e,t[n])}function Du(e,t,n,r){let i=k(null);try{let o=t.tView,a=e[P]&4096?4096:16,c=Rg(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Gr]=l;let u=e[Yr];return u!==null&&(c[Yr]=u.createEmbeddedView(o)),Lg(o,c,n),c}finally{k(i)}}function Co(e,t){return!t||t.firstChild===null||Ql(e)}var CI=!1,wO=new I("");function Ws(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(mt(o)),gt(o)&&_w(o,r);let s=n.type;if(s&8)Ws(e,t,n.child,r);else if(s&32){let a=Mg(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=fw(t,n);if(Array.isArray(a))r.push(...a);else{let c=ar(t[$e]);Ws(c[R],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function _w(e,t){for(let n=Oe;n<e.length;n++){let r=e[n],i=r[R].firstChild;i!==null&&Ws(r[R],r,i,t)}e[ln]!==e[He]&&t.push(e[ln])}function Ew(e){if(e[Kr]!==null){for(let t of e[Kr])t.impl.addSequence(t);e[Kr].length=0}}var Iw=[];function bO(e){return e[ht]??DO(e)}function DO(e){let t=Iw.pop()??Object.create(SO);return t.lView=e,t}function TO(e){e.lView[ht]!==e&&(e.lView=null,Iw.push(e))}var SO=x(v({},Or),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{go(e.lView)},consumerOnSignalRead(){this.lView[ht]=this}});function AO(e){let t=e[ht]??Object.create(RO);return t.lView=e,t}var RO=x(v({},Or),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=ar(e.lView);for(;t&&!Cw(t[R]);)t=ar(t);t&&ap(t)},consumerOnSignalRead(){this.lView[ht]=this}});function Cw(e){return e.type!==2}function ww(e){if(e[xs]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[xs])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[P]&8192)}}var NO=100;function Vg(e,t=0){let r=e[cn].rendererFactory,i=!1;i||r.begin?.();try{MO(e,t)}finally{i||r.end?.()}}function MO(e,t){let n=hp();try{pp(!0),Zp(e,t);let r=0;for(;Fs(e);){if(r===NO)throw new b(103,!1);r++,Zp(e,1)}}finally{pp(n)}}function bw(e,t){fp(t?Ls.Exhaustive:Ls.OnlyDirtyViews);try{Vg(e)}finally{fp(Ls.Off)}}function OO(e,t,n,r){if(lr(t))return;let i=t[P],o=!1,s=!1;Ol(t);let a=!0,c=null,l=null;o||(Cw(e)?(l=bO(t),c=xr(l)):Uc()===null?(a=!1,l=AO(t),c=xr(l)):t[ht]&&(ys(t[ht]),t[ht]=null));try{sp(t),QE(e.bindingStartIndex),n!==null&&hw(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&Bl(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Hl(t,h,0,null),Tp(t,0)}if(s||xO(t),ww(t),Dw(t,0),e.contentQueries!==null&&KC(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&Bl(t,h)}else{let h=e.contentHooks;h!==null&&Hl(t,h,1),Tp(t,1)}PO(e,t);let d=e.components;d!==null&&Sw(t,d,0);let f=e.viewQuery;if(f!==null&&qp(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&Bl(t,h)}else{let h=e.viewHooks;h!==null&&Hl(t,h,2),Tp(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Tl]){for(let h of t[Tl])h();t[Tl]=null}o||(Ew(t),t[P]&=-73)}catch(u){throw o||go(t),u}finally{l!==null&&(Gi(l,c),a&&TO(l)),xl()}}function Dw(e,t){for(let n=mC(e);n!==null;n=vC(n))for(let r=Oe;r<n.length;r++){let i=n[r];Tw(i,t)}}function xO(e){for(let t=mC(e);t!==null;t=vC(t)){if(!(t[P]&2))continue;let n=t[Ps];for(let r=0;r<n.length;r++){let i=n[r];ap(i)}}}function kO(e,t,n){Z(18);let r=At(t,e);Tw(r,n),Z(19,r[ve])}function Tw(e,t){Al(e)&&Zp(e,t)}function Zp(e,t){let r=e[R],i=e[P],o=e[ht],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&vs(o)),s||=!1,o&&(o.dirty=!1),e[P]&=-9217,s)OO(r,e,r.template,e[ve]);else if(i&8192){let a=k(null);try{ww(e),Dw(e,1);let c=r.components;c!==null&&Sw(e,c,1),Ew(e)}finally{k(a)}}}function Sw(e,t,n){for(let r=0;r<t.length;r++)kO(e,t[r],n)}function PO(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)dr(~i);else{let o=i,s=n[++r],a=n[++r];XE(s,o);let c=t[o];Z(24,c),a(2,c),Z(25,c)}}}finally{dr(-1)}}function Tu(e,t){let n=hp()?64:1088;for(e[cn].changeDetectionScheduler?.notify(t);e;){e[P]|=n;let r=ar(e);if(Zr(e)&&!r)return e;e=r}return null}function Aw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Rw(e,t){let n=Oe+t;if(n<e.length)return e[n]}function Xs(e,t,n,r=!0){let i=t[R];if(FO(i,t,e,n),r){let s=Kp(n,e),a=t[te],c=a.parentNode(e[ln]);c!==null&&qM(i,e[Tt],a,t,c,s)}let o=t[tt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function jg(e,t){let n=zs(e,t);return n!==void 0&&wu(n[R],n),n}function zs(e,t){if(e.length<=Oe)return;let n=Oe+t,r=e[n];if(r){let i=r[Gr];i!==null&&i!==e&&Og(i,r),t>0&&(e[n-1][Dt]=r[Dt]);let o=Rs(e,Oe+t);GM(r[R],r);let s=o[Yr];s!==null&&s.detachView(o[R]),r[Ce]=null,r[Dt]=null,r[P]&=-129}return r}function FO(e,t,n,r){let i=Oe+r,o=n.length;r>0&&(n[i-1][Dt]=t),r<o-Oe?(t[Dt]=n[i],Kh(n,Oe+r,t)):(n.push(t),t[Dt]=null),t[Ce]=n;let s=t[Gr];s!==null&&n!==s&&Nw(s,t);let a=t[Yr];a!==null&&a.insertView(e),Rl(t),t[P]|=128}function Nw(e,t){let n=e[Ps],r=t[Ce];if(pt(r))e[P]|=2;else{let i=r[Ce][$e];t[$e]!==i&&(e[P]|=2)}n===null?e[Ps]=[t]:n.push(t)}var ni=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[R];return Ws(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ve]}set context(t){this._lView[ve]=t}get destroyed(){return lr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ce];if(gt(t)){let n=t[ks],r=n?n.indexOf(this):-1;r>-1&&(zs(t,r),Rs(n,r))}this._attachedToViewContainer=!1}wu(this._lView[R],this._lView)}onDestroy(t){cp(this._lView,t)}markForCheck(){Tu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){Rl(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,Vg(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Lt].get(wO,CI)}catch{this.exhaustive=CI}}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Zr(this._lView),n=this._lView[Gr];n!==null&&!t&&Og(n,this._lView),dw(this._lView[R],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=t;let n=Zr(this._lView),r=this._lView[Gr];r!==null&&!n&&Nw(r,this._lView),Rl(this._lView)}};function Ug(e,t,n,r,i){let o=e.data[t];if(o===null)o=LO(e,t,n,r,i),JE()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=YE();o.injectorIndex=s===null?-1:s.injectorIndex}return mo(o,!0),o}function LO(e,t,n,r,i){let o=up(),s=dp(),a=s?o:o&&o.parent,c=e.data[t]=jO(e,a,n,t,r,i);return VO(e,c,o,s),c}function VO(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function jO(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return lp()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var UO=new RegExp(`^(\\d+)*(${IC}|${EC})*(.*)`);function BO(e){let t=e.match(UO),[n,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function HO(e){return!e.prev&&e.parent?.type===8}function Np(e){return e.index-se}function $O(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function Su(e,t,n,r){let i=Np(r),o=$O(e,i);if(o===void 0){let s=e.data[DC];if(s?.[i])o=zO(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(HO(r)){let l=Np(r.parent);o=Gp(e,l)}else{let l=St(c,n);if(a)o=l.firstChild;else{let u=Np(c),d=Gp(e,u);if(c.type===2&&d){let h=Cg(e,u)+1;o=Au(h,d)}else o=l.nextSibling}}}}return o}function Au(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function WO(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case uM:n=n.firstChild;break;case dM:n=n.nextSibling;break}}return n}function zO(e,t){let[n,...r]=BO(e),i;if(n===EC)i=t[$e][He];else if(n===IC)i=ew(t[$e][He]);else{let o=Number(n);i=mt(t[o+se])}return WO(i,r)}var GO=!1;function Mw(e){GO=e}function qO(e){let t=e[tt];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let i=e[te];for(let o of r.values())YO(i,n,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function YO(e,t,n){for(let r of n.node.cases[n.case]){let i=t.get(r.index-se);i&&Sg(e,i,!1)}}function Ru(e){let t=e[Vt]??[],r=e[Ce][te],i=[];for(let o of t)o.data[TC]!==void 0?i.push(o):Ow(o,r);e[Vt]=i}function KO(e){let{lContainer:t}=e,n=t[Vt];if(n===null)return;let i=t[Ce][te];for(let o of n)Ow(o,i)}function Ow(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[$s];for(;n<i;){let o=r.nextSibling;Sg(t,r,!1),r=o,n++}}}function Nu(e){Ru(e);let t=e[He];pt(t)&&eu(t);for(let n=Oe;n<e.length;n++)eu(e[n])}function eu(e){qO(e);let t=e[R];for(let n=se;n<t.bindingStartIndex;n++)if(gt(e[n])){let r=e[n];Nu(r)}else pt(e[n])&&eu(e[n])}function Bg(e){let t=e._views;for(let n of t){let r=WC(n);r!==null&&r[He]!==null&&(pt(r)?eu(r):Nu(r))}}function ZO(e,t,n,r){e!==null&&(n.cleanup(t),Nu(e.lContainer),Bg(r))}function QO(e,t){let n=[];for(let r of t)for(let i=0;i<(r[gg]??1);i++){let o={data:r,firstChild:null};r[$s]>0&&(o.firstChild=e,e=Au(r[$s],e)),n.push(o)}return[e,n]}var xw=()=>null,kw=()=>null;function Pw(){xw=JO,kw=XO}function JO(e,t){return Lw(e,t)?e[Vt].shift():(Ru(e),null)}function tu(e,t){return xw(e,t)}function XO(e,t,n){if(t.tView.ssrId===null)return null;let r=tu(e,t.tView.ssrId);return n[R].firstUpdatePass&&r===null&&ex(n,t),r}function Fw(e,t,n){return kw(e,t,n)}function ex(e,t){let n=t;for(;n;){if(wI(e,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=t.next;n&&(n.flags&512)===512;){if(wI(e,n))return;n=n.next}}function Lw(e,t){let n=e[Vt];return!t||n===null||n.length===0?!1:n[0].data[bC]===t}function wI(e,t){let n=t.tView?.ssrId;if(n==null)return!1;let r=e[t.index];return gt(r)&&Lw(r,n)?(Ru(r),!0):!1}var Vw=class{},Mu=class{},Qp=class{resolveComponentFactory(t){throw new b(917,!1)}},ea=class{static NULL=new Qp},ri=class{},zt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>tx()}return e})();function tx(){let e=q(),t=ze(),n=At(t.index,e);return(pt(n)?n:e)[te]}var jw=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>null})}return e})();var Wl={},_o=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,Wl,r);return i!==Wl||n===Wl?i:this.parentInjector.get(t,n,r)}};function bI(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Lh(i,a);else if(o==2){let c=a,l=t[++s];r=Lh(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function V(e,t=0){let n=q();if(n===null)return O(e,t);let r=ze();return cC(r,n,Pe(e),t)}function Hg(){let e="invalid";throw new Error(e)}function nx(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}ox(e,t,n,a,o,c,l)}o!==null&&r!==null&&rx(n,r,o)}function rx(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new b(-301,!1);r.push(t[i],o)}}function ix(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function ox(e,t,n,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&un(h)&&(c=!0,ix(e,n,f)),Bp(Kl(n,t),e,h.type)}dx(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=lw(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=Hs(n.mergedAttrs,h.hostAttrs),ax(e,n,t,d,h),ux(d,h,i),s!==null&&s.has(h)){let[y,w]=s.get(h);n.directiveToIndex.set(h.type,[d,y+n.directiveStart,w+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}sx(e,n,o)}function sx(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))DI(0,t,i,r),DI(1,t,i,r),SI(t,r,!1);else{let o=n.get(i);TI(0,t,o,r),TI(1,t,o,r),SI(t,r,!0)}}}function DI(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Uw(t,o)}}function TI(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Uw(t,s)}}function Uw(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function SI(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Dg(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function ax(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Ur(i.type,!0)),s=new ti(o,un(i),V,null);e.blueprint[r]=s,n[r]=s,cx(e,t,r,lw(e,n,i.hostVars,Et),i)}function cx(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;lx(s)!=a&&s.push(a),s.push(n,r,o)}}function lx(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function ux(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;un(t)&&(n[""]=e)}}function dx(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Bw(e,t,n,r,i,o,s,a){let c=t[R],l=c.consts,u=ur(l,s),d=Ug(c,e,n,r,u);return o&&nx(c,t,d,ur(l,a),i),d.mergedAttrs=Hs(d.mergedAttrs,d.attrs),d.attrs!==null&&bI(d,d.attrs,!1),d.mergedAttrs!==null&&bI(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function Hw(e,t){BN(e,t),ip(t)&&e.queries.elementEnd(t)}function $g(e,t,n){return e[t]=n}function fx(e,t){return e[t]}function fn(e,t,n){if(n===Et)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function $w(e,t,n,r){let i=fn(e,t,n);return fn(e,t+1,r)||i}function Mp(e,t,n){return function r(i){let o=Bn(e)?At(e.index,t):t;Tu(o,5);let s=t[ve],a=AI(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=AI(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function AI(e,t,n,r){let i=k(null);try{return Z(6,t,n),n(r)!==!1}catch(o){return Pg(e,o),!1}finally{Z(7,t,n),k(i)}}function hx(e,t,n,r,i,o,s,a){let c=Sl(e),l=!1,u=null;if(!r&&c&&(u=px(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=St(e,n),f=r?r(d):d;fM(n,f,o,a);let h=i.listen(f,o,a),p=r?y=>r(mt(y[e.index])):e.index;Ww(p,t,n,o,a,h,!1)}return l}function px(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[ho],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Ww(e,t,n,r,i,o,s){let a=t.firstCreatePass?UE(t):null,c=jE(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function RI(e,t,n,r,i,o){let s=t[n],a=t[R],l=a.data[n].outputs[r],d=s[l].subscribe(o);Ww(e.index,a,t,i,o,d,!0)}var Jp=Symbol("BINDING");var nu=class extends ea{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=an(t);return new ii(n,this.ngModule)}};function gx(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Cu.SignalBased)!==0};return i&&(o.transform=i),o})}function mx(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function vx(e,t,n){let r=t instanceof de?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new _o(n,r):n}function yx(e){let t=e.get(ri,null);if(t===null)throw new b(407,!1);let n=e.get(jw,null),r=e.get(jn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function _x(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Tg(t,n,n==="svg"?kE:n==="math"?PE:null)}var ii=class extends Mu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=gx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=mx(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=LM(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){Z(22);let a=k(null);try{let c=this.componentDef,l=Ex(r,c,s,o),u=vx(c,i||this.ngModule,t),d=yx(u),f=d.rendererFactory.createRenderer(null,c),h=r?oO(f,r,c.encapsulation,u):_x(c,f),p=s?.some(NI)||o?.some(T=>typeof T!="function"&&T.bindings.some(NI)),y=Rg(null,l,null,512|cw(c),null,null,d,f,u,null,$C(h,u,!0));y[se]=h,Ol(y);let w=null;try{let T=Bw(se,y,2,"#host",()=>l.directiveRegistry,!0,0);h&&(aw(f,h,T),Io(h,y)),pw(l,y,T),ZC(l,T,y),Hw(l,T),n!==void 0&&Cx(T,this.ngContentSelectors,n),w=At(T.index,y),y[ve]=w[ve],Lg(l,y,null)}catch(T){throw w!==null&&$p(w),$p(y),T}finally{Z(23),xl()}return new ru(this.componentType,y,!!p)}finally{k(a)}}};function Ex(e,t,n,r){let i=e?["ng-version","20.1.7"]:VM(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Jp].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let f of d.bindings){a+=f[Jp].requiredVars;let h=u+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,f=bl(d);c.push(f)}return Ag(0,null,Ix(o,s),1,a,c,null,null,null,[i],null)}function Ix(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function NI(e){let t=e[Jp].kind;return t==="input"||t==="twoWay"}var ru=class extends Vw{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Qr(n[R],se),this.location=fg(this._tNode,n),this.instance=At(this._tNode.index,n)[ve],this.hostView=this.changeDetectorRef=new ni(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Fg(r,i[R],i,t,n);this.previousInputValues.set(t,n);let s=At(r.index,i);Tu(s,1)}get injector(){return new ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Cx(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ta=(()=>{class e{static __NG_ELEMENT_ID__=wx}return e})();function wx(){let e=ze();return Dx(e,q())}var bx=ta,zw=class extends bx{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return fg(this._hostTNode,this._hostLView)}get injector(){return new ei(this._hostTNode,this._hostLView)}get parentInjector(){let t=dg(this._hostTNode,this._hostLView);if(nC(t)){let n=Yl(t,this._hostLView),r=ql(t),i=n[R].data[r+8];return new ei(i,n)}else return new ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=MI(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Oe}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=tu(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Co(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!FN(t),l;if(c)l=n;else{let w=n||{};l=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef,s=w.directives,a=w.bindings}let u=c?t:new ii(an(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let T=(c?d:this.parentInjector).get(de,null);T&&(o=T)}let f=an(u.componentType??{}),h=tu(this._lContainer,f?.id??null),p=h?.firstChild??null,y=u.create(d,i,p,o,s,a);return this.insertImpl(y.hostView,l,Co(this._hostTNode,h)),y}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(FE(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Ce],l=new zw(c,c[Tt],c[Ce]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Xs(s,i,o,r),t.attachToViewContainerRef(),Kh(Op(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=MI(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=zs(this._lContainer,n);r&&(Rs(Op(this._lContainer),n),wu(r[R],r))}detach(t){let n=this._adjustIndex(t,-1),r=zs(this._lContainer,n);return r&&Rs(Op(this._lContainer),n)!=null?new ni(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function MI(e){return e[ks]}function Op(e){return e[ks]||(e[ks]=[])}function Dx(e,t){let n,r=t[e.index];return gt(r)?n=r:(n=Aw(r,t,null,e),t[e.index]=n,Ng(t,n)),Gw(n,t,e,r),new zw(n,e,t)}function Tx(e,t){let n=e[te],r=n.createComment(""),i=St(t,e),o=n.parentNode(i);return Xl(n,o,r,n.nextSibling(i),!1),r}var Gw=qw,Wg=()=>!1;function Sx(e,t,n){return Wg(e,t,n)}function qw(e,t,n,r){if(e[ln])return;let i;n.type&8?i=mt(r):i=Tx(t,n),e[ln]=i}function Ax(e,t,n){if(e[ln]&&e[Vt])return!0;let r=n[tt],i=t.index-se;if(!r||pC(t)||qC(r,i))return!1;let s=Gp(r,i),a=r.data[mu]?.[i],[c,l]=QO(s,a);return e[ln]=c,e[Vt]=l,!0}function Rx(e,t,n,r){Wg(e,n,t)||qw(e,t,n,r)}function Yw(){Gw=Rx,Wg=Ax}var OI=new Set;function rt(e){OI.has(e)||(OI.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var wo=class{},Ou=class{};var iu=class extends wo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new nu(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Jh(t);this._bootstrapComponents=tw(o.bootstrap),this._r3Injector=Ep(t,n,[{provide:wo,useValue:this},{provide:ea,useValue:this.componentFactoryResolver},...r],Vn(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ou=class extends Ou{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new iu(this.moduleType,t,[])}};var Gs=class extends wo{injector;componentFactoryResolver=new nu(this);instance=null;constructor(t){super();let n=new Hr([...t.providers,{provide:wo,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],t.parent||Ms(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ai(e,t,n=null){return new Gs({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Nx=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Dl(!1,n.type),i=r.length>0?ai([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(O(de))})}return e})();function qn(e){return Do(()=>{let t=Kw(e),n=x(v({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===hg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(Nx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Wn.Emulated,styles:e.styles||ut,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&rt("NgStandalone"),Zw(n);let r=e.dependencies;return n.directiveDefs=xI(r,Mx),n.pipeDefs=xI(r,Xh),n.id=kx(n),n})}function Mx(e){return an(e)||bl(e)}function gn(e){return Do(()=>({type:e.type,bootstrap:e.bootstrap||ut,declarations:e.declarations||ut,imports:e.imports||ut,exports:e.exports||ut,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ox(e,t){if(e==null)return cr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Cu.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function xx(e){if(e==null)return cr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ce(e){return Do(()=>{let t=Kw(e);return Zw(t),t})}function Kw(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||cr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ut,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Ox(e.inputs,t),outputs:xx(e.outputs),debugInfo:null}}function Zw(e){e.features?.forEach(t=>t(e))}function xI(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function kx(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Px(e){return Object.getPrototypeOf(e.prototype).constructor}function it(e){let t=Px(e.type),n=!0,r=[e];for(;t;){let i;if(un(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new b(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=xp(e.inputs),s.declaredInputs=xp(e.declaredInputs),s.outputs=xp(e.outputs);let a=i.hostBindings;a&&Ux(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Vx(e,c),l&&jx(e,l),Fx(e,i),EE(e.outputs,i.outputs),un(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===it&&(n=!1)}}t=Object.getPrototypeOf(t)}Lx(r)}function Fx(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function Lx(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Hs(i.hostAttrs,n=Hs(n,i.hostAttrs))}}function xp(e){return e===cr?{}:e===ut?[]:e}function Vx(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function jx(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function Ux(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function Bx(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Hs(e.mergedAttrs,e.attrs);let u=e.tView=Ag(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),mo(e,!1);let c=Qw(n,t,e,r);Pl()&&xg(n,t,c,e),Io(c,t);let l=Aw(c,t,c,e);t[r+se]=l,Ng(t,l),Sx(l,e,t)}function su(e,t,n,r,i,o,s,a,c,l,u){let d=n+se,f;if(t.firstCreatePass){if(f=Ug(t,d,4,s||null,a||null),l!=null){let h=ur(t.consts,l);f.localNames=[];for(let p=0;p<h.length;p+=2)f.localNames.push(h[p],-1)}}else f=t.data[d];return Bx(f,e,t,n,r,i,o,c),l!=null&&gw(e,f,u),f}var Qw=Jw;function Jw(e,t,n,r){return $n(!0),t[te].createComment("")}function Hx(e,t,n,r){let i=!Eu(t,n);$n(i);let o=t[tt]?.data[wC]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return Jw(e,t);let s=t[tt],a=Su(s,e,t,n);_u(s,r,a);let c=Cg(s,r);return Au(c,a)}function Xw(){Qw=Hx}var _t=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(_t||{}),kI=0,$x=1,we=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(we||{});var Wx=0,na=1;var zx=4,Gx=5;var qx=7,Eo=8,Yx=9,zg=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(zg||{});function zl(e,t){let n=Zx(e),r=t[n];if(r!==null){for(let i of r)i();t[n]=null}}function Kx(e){zl(1,e),zl(0,e),zl(2,e)}function Zx(e){let t=zx;return e===1?t=Gx:e===2&&(t=Yx),t}var xu=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(xu||{}),ci=new I(""),eb=!1,Xp=class extends Ee{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,OE()&&(this.destroyRef=g(Bt,{optional:!0})??void 0,this.pendingTasks=g(Ht,{optional:!0})??void 0)}emit(t){let n=k(null);try{super.next(t)}finally{k(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof ue&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},be=Xp;function tb(e){let t,n;function r(){e=js;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function PI(e){return queueMicrotask(()=>e()),()=>{e=js}}var Gg="isAngularZone",au=Gg+"_ID",Qx=0,ee=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new be(!1);onMicrotaskEmpty=new be(!1);onStable=new be(!1);onError=new be(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=eb}=t;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ek(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Gg)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new b(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Jx,js,js);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Jx={};function qg(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Xx(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){tb(()=>{e.callbackScheduled=!1,eg(e),e.isCheckStableRunning=!0,qg(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),eg(e)}function ek(e){let t=()=>{Xx(e)},n=Qx++;e._inner=e._inner.fork({name:"angular",properties:{[Gg]:!0,[au]:n,[au+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(tk(c))return r.invokeTask(o,s,a,c);try{return FI(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),LI(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return FI(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!nk(c)&&t(),LI(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,eg(e),qg(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function eg(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function FI(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function LI(e){e._nesting--,qg(e)}var cu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new be;onMicrotaskEmpty=new be;onStable=new be;onError=new be;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function tk(e){return nb(e,"__ignore_ng_zone__")}function nk(e){return nb(e,"__scheduler_tick__")}function nb(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Yg=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),rb=[0,1,2,3],ib=(()=>{class e{ngZone=g(ee);scheduler=g(jn);errorHandler=g(kt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(ci,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Z(16),this.executing=!0;for(let r of rb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Z(17)}register(n){let{view:r}=n;r!==void 0?((r[Kr]??=[]).push(n),go(r),r[P]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(xu.AFTER_NEXT_RENDER,n):n()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),lu=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Kr];t&&(this.view[Kr]=t.filter(n=>n!==this))}};function So(e,t){let n=t?.injector??g(fe);return rt("NgAfterNextRender"),ik(e,n,t,!0)}function rk(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function ik(e,t,n,r){let i=t.get(Yg);i.impl??=t.get(ib);let o=t.get(ci,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(Bt):null,a=t.get(Fl,null,{optional:!0}),c=new lu(i.impl,rk(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}function ob(e){return e+1}function Ao(e,t){let n=e[R],r=ob(t.index);return e[r]}function ra(e,t){let n=ob(t.index);return e.data[n]}function ok(e,t,n){let r=t[R],i=ra(r,n);switch(e){case we.Complete:return i.primaryTmplIndex;case we.Loading:return i.loadingTmplIndex;case we.Error:return i.errorTmplIndex;case we.Placeholder:return i.placeholderTmplIndex;default:return null}}function VI(e,t){return t===we.Placeholder?e.placeholderBlockConfig?.[kI]??null:t===we.Loading?e.loadingBlockConfig?.[kI]??null:null}function sk(e){return e.loadingBlockConfig?.[$x]??null}function jI(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function ak(e,t){let n=t.primaryTmplIndex+se;return Qr(e,n)}var ck=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?ai(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e})}return e})();var sb=new I("");function kp(e,t,n){return e.get(ck).getOrCreateInjector(t,e,n,"")}function lk(e,t,n){if(e instanceof _o){let i=e.injector,o=e.parentInjector,s=kp(o,t,n);return new _o(i,s)}let r=e.get(de);if(r!==e){let i=kp(r,t,n);return new _o(e,i)}return kp(e,t,n)}function Xr(e,t,n,r=!1){let i=n[Ce],o=i[R];if(lr(i))return;let s=Ao(i,t),a=s[na],c=s[qx];if(!(c!==null&&e<c)&&UI(a,e)&&UI(s[Wx]??-1,e)){let l=ra(o,t),d=!r&&!0&&(sk(l)!==null||VI(l,we.Loading)!==null||VI(l,we.Placeholder))?fk:dk;try{d(e,s,n,t,i)}catch(f){Pg(i,f)}}}function uk(e,t){let n=e[Vt]?.findIndex(i=>i.data[SC]===t[na])??-1;return{dehydratedView:n>-1?e[Vt][n]:null,dehydratedViewIx:n}}function dk(e,t,n,r,i){Z(20);let o=ok(e,i,r);if(o!==null){t[na]=e;let s=i[R],a=o+se,c=Qr(s,a),l=0;jg(n,l);let u;if(e===we.Complete){let p=ra(s,r),y=p.providers;y&&y.length>0&&(u=lk(i[Lt],p,y))}let{dehydratedView:d,dehydratedViewIx:f}=uk(n,t),h=Du(i,c,null,{injector:u,dehydratedView:d});if(Xs(n,h,l,Co(c,d)),Tu(h,2),f>-1&&n[Vt]?.splice(f,1),(e===we.Complete||e===we.Error)&&Array.isArray(t[Eo])){for(let p of t[Eo])p();t[Eo]=null}}Z(21)}function UI(e,t){return e<t}function BI(e,t,n){e.loadingPromise.then(()=>{e.loadingState===_t.COMPLETE?Xr(we.Complete,t,n):e.loadingState===_t.FAILED&&Xr(we.Error,t,n)})}var fk=null;var ku=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Kg=new I("");function li(e){return!!e&&typeof e.then=="function"}function ab(e){return!!e&&typeof e.subscribe=="function"}var Zg=new I("");function Pu(e){return ft([{provide:Zg,multi:!0,useValue:e}])}var Qg=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=g(Zg,{optional:!0})??[];injector=g(fe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=me(this.injector,i);if(li(o))n.push(o);else if(ab(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yn=new I("");function cb(){ih(()=>{let e="";throw new b(600,e)})}function lb(e){return e.isBoundToModule}var hk=10;var je=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(vt);afterRenderManager=g(Yg);zonelessEnabled=g(Vs);rootEffectScheduler=g(Dp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ee;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(Ht);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(G(n=>!n))}constructor(){g(ci,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=g(de);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=fe.NULL){return this._injector.get(ee).run(()=>{Z(10);let s=n instanceof Mu;if(!this._injector.get(Qg).done){let p="";throw new b(405,p)}let c;s?c=n:c=this._injector.get(ea).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=lb(c)?void 0:this._injector.get(wo),u=r||c.selector,d=c.create(i,[],u,l),f=d.location.nativeElement,h=d.injector.get(Kg,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Bs(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),Z(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Z(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(xu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new b(101,!1);let n=k(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,k(n),this.afterTick.next(),Z(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ri,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<hk;)Z(14),this.synchronizeOnce(),Z(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Fs(i))continue;let o=r&&!this.zonelessEnabled?0:1;Vg(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Fs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Bs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Yn,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Bs(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function ub(e,t,n){let r=t[Lt],i=t[R];if(e.loadingState!==_t.NOT_STARTED)return e.loadingPromise??Promise.resolve();let o=Ao(t,n),s=ak(i,e);e.loadingState=_t.IN_PROGRESS,zl(1,o);let a=e.dependencyResolverFn,c=r.get(fr).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(l=>{let u=!1,d=[],f=[];for(let h of l)if(h.status==="fulfilled"){let p=h.value,y=an(p)||bl(p);if(y)d.push(y);else{let w=Xh(p);w&&f.push(w)}}else{u=!0;break}if(u){if(e.loadingState=_t.FAILED,e.errorTmplIndex===null){let h="",p=new b(-750,!1);Pg(t,p)}}else{e.loadingState=_t.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=jI(h.directiveRegistry,d);let p=d.map(w=>w.type),y=Dl(!1,...p);e.providers=y}f.length>0&&(h.pipeRegistry=jI(h.pipeRegistry,f))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,c()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=_t.COMPLETE,c()}),e.loadingPromise)}function pk(e,t){return t[Lt].get(sb,null,{optional:!0})?.behavior!==zg.Manual}function gk(e,t,n){let r=t[R],i=t[n.index];if(!pk(e,t))return;let o=Ao(t,n),s=ra(r,n);switch(Kx(o),s.loadingState){case _t.NOT_STARTED:Xr(we.Loading,n,i),ub(s,t,n),s.loadingState===_t.IN_PROGRESS&&BI(s,n,i);break;case _t.IN_PROGRESS:Xr(we.Loading,n,i),BI(s,n,i);break;case _t.COMPLETE:Xr(we.Complete,n,i);break;case _t.FAILED:Xr(we.Error,n,i);break;default:}}function db(e,t,n){return m(this,null,function*(){let r=e.get(vu);if(r.hydrating.has(t))return;let{parentBlockPromise:o,hydrationQueue:s}=EM(t,e);if(s.length===0)return;o!==null&&s.shift(),yk(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield HI(e,s,n):r.awaitParentBlock(a,()=>m(null,null,function*(){return yield HI(e,s,n)}))})}function HI(e,t,n){return m(this,null,function*(){let r=e.get(vu),i=r.hydrating,o=e.get(Ht),s=o.add();for(let c=0;c<t.length;c++){let l=t[c],u=r.get(l);if(u!=null){if(yield Ek(u),yield _k(e),mk(u)){KO(u),$I(t.slice(c),r);break}i.get(l).resolve()}else{vk(c,t,r),$I(t.slice(c),r);break}}let a=t[t.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(t),ZO(r.get(a),t,r,e.get(je))})}function mk(e){return Ao(e.lView,e.tNode)[na]===we.Error}function vk(e,t,n){let r=e-1,i=r>-1?n.get(t[r]):null;i&&Nu(i.lContainer)}function $I(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function yk(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}function _k(e){return new Promise(t=>So(t,{injector:e}))}function Ek(e){return m(this,null,function*(){let{tNode:t,lView:n}=e,r=Ao(n,t);return new Promise(i=>{Ik(r,i),gk(2,n,t)})})}function Ik(e,t){Array.isArray(e[Eo])||(e[Eo]=[]),e[Eo].push(t)}function Kn(e,t,n,r){let i=q(),o=Jr();if(fn(i,o,t)){let s=We(),a=kl();gO(a,i,e,t,n,r)}return Kn}var tg=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function Pp(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function Ck(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=s&&o<=c;){let l=e.at(o),u=t[o],d=Pp(o,l,o,u,n);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let f=e.at(s),h=t[c],p=Pp(s,f,c,h,n);if(p!==0){p<0&&e.updateValue(s,h),s--,c--;continue}let y=n(o,l),w=n(s,f),T=n(o,u);if(Object.is(T,w)){let le=n(c,h);Object.is(le,y)?(e.swap(o,s),e.updateValue(s,h),c--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(r??=new uu,i??=zI(e,o,s,n),ng(e,r,o,T))e.updateValue(o,u),o++,s++;else if(i.has(T))r.set(y,e.detach(o)),s--;else{let le=e.create(o,t[o]);e.attach(o,le),o++,s++}}for(;o<=c;)WI(e,r,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=e.at(o),d=l.value,f=Pp(o,u,o,d,n);if(f!==0)f<0&&e.updateValue(o,d),o++,l=c.next();else{r??=new uu,i??=zI(e,o,s,n);let h=n(o,d);if(ng(e,r,o,h))e.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(h))e.attach(o,e.create(o,d)),o++,s++,l=c.next();else{let p=n(o,u);r.set(p,e.detach(o)),s--}}}for(;!l.done;)WI(e,r,n,e.length,l.value),l=c.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function ng(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function WI(e,t,n,r,i){if(ng(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function zI(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var uu=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function Ge(e,t,n,r,i,o,s,a){rt("NgControlFlow");let c=q(),l=We(),u=ur(l.consts,o);return su(c,l,e,t,n,r,i,u,256,s,a),Jg}function Jg(e,t,n,r,i,o,s,a){rt("NgControlFlow");let c=q(),l=We(),u=ur(l.consts,o);return su(c,l,e,t,n,r,i,u,512,s,a),Jg}function qe(e,t){rt("NgControlFlow");let n=q(),r=Jr(),i=n[r]!==Et?n[r]:-1,o=i!==-1?du(n,se+i):void 0,s=0;if(fn(n,r,e)){let a=k(null);try{if(o!==void 0&&jg(o,s),e!==-1){let c=se+e,l=du(n,c),u=sg(n[R],c),d=Fw(l,u,n),f=Du(n,u,t,{dehydratedView:d});Xs(l,f,s,Co(u,d))}}finally{k(a)}}else if(o!==void 0){let a=Rw(o,s);a!==void 0&&(a[ve]=t)}}var rg=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Oe}};function Xg(e){return e}function ui(e,t){return t}var ig=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Zn(e,t,n,r,i,o,s,a,c,l,u,d,f){rt("NgControlFlow");let h=q(),p=We(),y=c!==void 0,w=q(),T=a?s.bind(w[$e][ve]):s,le=new ig(y,T);w[se+e]=le,su(h,p,e+1,t,n,r,i,ur(p.consts,o),256),y&&su(h,p,e+2,c,l,u,d,ur(p.consts,f),512)}var og=class extends tg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Oe}at(t){return this.getLView(t)[ve].$implicit}attach(t,n){let r=n[tt];this.needsIndexUpdate||=t!==this.length,Xs(this.lContainer,n,t,Co(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,wk(this.lContainer,t)}create(t,n){let r=tu(this.lContainer,this.templateTNode.tView.ssrId),i=Du(this.hostLView,this.templateTNode,new rg(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){wu(t[R],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[ve].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ve].$index=t}getLView(t){return bk(this.lContainer,t)}};function Qn(e){let t=k(null),n=Hn();try{let r=q(),i=r[R],o=r[n],s=n+1,a=du(r,s);if(o.liveCollection===void 0){let l=sg(i,s);o.liveCollection=new og(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(Ck(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Jr(),u=c.length===0;if(fn(r,l,u)){let d=n+2,f=du(r,d);if(u){let h=sg(i,d),p=Fw(f,h,r),y=Du(r,h,void 0,{dehydratedView:p});Xs(f,y,0,Co(h,p))}else i.firstUpdatePass&&Ru(f),jg(f,0)}}}finally{k(t)}}function du(e,t){return e[t]}function wk(e,t){return zs(e,t)}function bk(e,t){return Rw(e,t)}function sg(e,t){return Qr(e,t)}function he(e,t,n){let r=q(),i=Jr();if(fn(r,i,t)){let o=We(),s=kl();yw(s,r,e,t,r[te],n)}return he}function GI(e,t,n,r,i){Fg(t,e,n,i?"class":"style",r)}function E(e,t,n,r){let i=q(),o=i[R],s=e+se,a=o.firstCreatePass?Bw(s,i,2,t,pO,WE(),n,r):o.data[s];if(yO(a,i,e,t,fb),Sl(a)){let c=i[R];pw(c,i,a),ZC(c,a,i)}return r!=null&&gw(i,a),E}function C(){let e=We(),t=ze(),n=_O(t);return e.firstCreatePass&&Hw(e,n),zE(n)&&qE(),$E(),n.classesWithoutHost!=null&&$N(n)&&GI(e,n,q(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&WN(n)&&GI(e,n,q(),n.stylesWithoutHost,!1),C}function Se(e,t,n,r){return E(e,t,n,r),C(),Se}var fb=(e,t,n,r,i)=>($n(!0),Tg(t[te],r,_p()));function Dk(e,t,n,r,i){let o=!Eu(t,n);if($n(o),o)return Tg(t[te],r,_p());let s=t[tt],a=Su(s,e,t,n);return GC(s,i)&&_u(s,i,a.nextSibling),s&&(fC(n)||hC(a))&&Bn(n)&&(GE(n),sw(a)),a}function hb(){fb=Dk}var Tk=(e,t,n,r,i)=>($n(!0),iw(t[te],""));function Sk(e,t,n,r,i){let o,s=!Eu(t,n);if($n(s),s)return iw(t[te],"");let a=t[tt],c=Su(a,e,t,n),l=yM(a,i);return _u(a,i,c),o=Au(l,c),o}function pb(){Tk=Sk}function di(){return q()}var ia="en-US";var Ak=ia;function gb(e){typeof e=="string"&&(Ak=e.toLowerCase().replace(/_/g,"-"))}function De(e,t,n){let r=q(),i=We(),o=ze();return mb(i,r,r[te],o,e,t,n),De}function mb(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Mp(r,t,o),hx(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],h=u[d+1];c??=Mp(r,t,o),RI(r,t,f,h,i,c)}if(l&&l.length)for(let d of l)c??=Mp(r,t,o),RI(r,t,d,i,i,c)}}function ne(e=1){return oI(e)}function Ul(e,t){return e<<17|t<<2}function oi(e){return e>>17&32767}function Rk(e){return(e&2)==2}function Nk(e,t){return e&131071|t<<17}function ag(e){return e|2}function bo(e){return(e&131068)>>2}function Fp(e,t){return e&-131069|t<<2}function Mk(e){return(e&1)===1}function cg(e){return e|1}function Ok(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=oi(s),c=bo(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||fo(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=oi(e[a+1]);e[r+1]=Ul(f,a),f!==0&&(e[f+1]=Fp(e[f+1],r)),e[a+1]=Nk(e[a+1],r)}else e[r+1]=Ul(a,0),a!==0&&(e[a+1]=Fp(e[a+1],r)),a=r;else e[r+1]=Ul(c,0),a===0?a=r:e[c+1]=Fp(e[c+1],r),c=r;l&&(e[r+1]=ag(e[r+1])),qI(e,u,r,!0),qI(e,u,r,!1),xk(t,u,e,r,o),s=Ul(a,c),o?t.classBindings=s:t.styleBindings=s}function xk(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&fo(o,t)>=0&&(n[r+1]=cg(n[r+1]))}function qI(e,t,n,r){let i=e[n+1],o=t===null,s=r?oi(i):bo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];kk(c,t)&&(a=!0,e[s+1]=r?cg(l):ag(l)),s=r?oi(l):bo(l)}a&&(e[n+1]=r?ag(i):cg(i))}function kk(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?fo(e,t)>=0:!1}function Fu(e,t,n){return vb(e,t,n,!1),Fu}function oa(e,t){return vb(e,t,null,!0),oa}function vb(e,t,n,r){let i=q(),o=We(),s=gp(2);if(o.firstUpdatePass&&Fk(o,e,s,r),t!==Et&&fn(i,s,t)){let a=o.data[Hn()];Bk(o,a,i,i[te],e,i[s+1]=Hk(t,n),r,s)}}function Pk(e,t){return t>=e.expandoStartIndex}function Fk(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Hn()],s=Pk(e,n);$k(o,r)&&t===null&&!s&&(t=!1),t=Lk(i,o,t,r),Ok(i,o,t,n,s,r)}}function Lk(e,t,n,r){let i=tI(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Lp(null,e,t,n,r),n=qs(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Lp(i,e,t,n,r),o===null){let c=Vk(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Lp(null,e,t,c[1],r),c=qs(c,t.attrs,r),jk(e,t,r,c))}else o=Uk(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function Vk(e,t,n){let r=n?t.classBindings:t.styleBindings;if(bo(r)!==0)return e[oi(r)]}function jk(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[oi(i)]=r}function Uk(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=qs(r,s,n)}return qs(r,t.attrs,n)}function Lp(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=qs(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function qs(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),SE(e,s,n?!0:t[++o]))}return e===void 0?null:e}function Bk(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=Mk(l)?YI(c,t,n,i,bo(l),s):void 0;if(!fu(u)){fu(o)||Rk(l)&&(o=YI(c,null,n,i,a,s));let d=op(Hn(),n);iO(r,s,d,i,o)}}function YI(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===Et&&(f=d?ut:void 0);let h=d?wl(f,r):u===r?f:void 0;if(l&&!fu(h)&&(h=wl(c,r)),fu(h)&&(a=h,s))return a;let p=e[i+1];i=s?oi(p):bo(p)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=wl(c,r))}return a}function fu(e){return e!==void 0}function Hk(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Vn(To(e)))),e}function $k(e,t){return(e.flags&(t?8:16))!==0}function A(e,t=""){let n=q(),r=We(),i=e+se,o=r.firstCreatePass?Ug(r,i,1,t,null):r.data[i],s=yb(r,n,o,t,e);n[i]=s,Pl()&&xg(r,n,s,o),mo(o,!1)}var yb=(e,t,n,r,i)=>($n(!0),rw(t[te],r));function Wk(e,t,n,r,i){let o=!Eu(t,n);if($n(o),o)return rw(t[te],r);let s=t[tt];return Su(s,e,t,n)}function _b(){yb=Wk}function zk(e,t,n,r=""){return fn(e,Jr(),n)?t+Wr(n)+r:Et}function Gk(e,t,n,r,i,o=""){let s=ZE(),a=$w(e,s,n,i);return gp(2),a?t+Wr(n)+r+Wr(i)+o:Et}function Ye(e){return Fe("",e),Ye}function Fe(e,t,n){let r=q(),i=zk(r,e,t,n);return i!==Et&&Eb(r,Hn(),i),Fe}function Lu(e,t,n,r,i){let o=q(),s=Gk(o,e,t,n,r,i);return s!==Et&&Eb(o,Hn(),s),Lu}function Eb(e,t,n){let r=op(t,e);jM(e[te],r,n)}function Ro(e,t,n){Cp(t)&&(t=t());let r=q(),i=Jr();if(fn(r,i,t)){let o=We(),s=kl();yw(s,r,e,t,r[te],n)}return Ro}function sa(e,t){let n=Cp(e);return n&&e.set(t),n}function No(e,t){let n=q(),r=We(),i=ze();return mb(r,n,n[te],i,e,t),No}function qk(e,t,n){let r=We();if(r.firstCreatePass){let i=un(e);lg(n,r.data,r.blueprint,i,!0),lg(t,r.data,r.blueprint,i,!1)}}function lg(e,t,n,r,i){if(e=Pe(e),Array.isArray(e))for(let o=0;o<e.length;o++)lg(e[o],t,n,r,i);else{let o=We(),s=q(),a=ze(),c=Br(e)?e:Pe(e.provide),l=tp(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Br(e)||!e.multi){let h=new ti(l,i,V,null),p=jp(c,t,i?u:u+f,d);p===-1?(Bp(Kl(a,s),o,c),Vp(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=jp(c,t,u+f,d),p=jp(c,t,u,u+f),y=h>=0&&n[h],w=p>=0&&n[p];if(i&&!w||!i&&!y){Bp(Kl(a,s),o,c);let T=Zk(i?Kk:Yk,n.length,i,r,l,e);!i&&w&&(n[p].providerFactory=T),Vp(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=Ib(n[i?p:h],l,!i&&r);Vp(o,e,h>-1?h:p,T)}!i&&r&&w&&n[p].componentProviders++}}}function Vp(e,t,n,r){let i=Br(t),o=ME(t);if(i||o){let c=(o?Pe(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Ib(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function jp(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Yk(e,t,n,r,i){return ug(this.multi,[])}function Kk(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Zl(r,r[R],this.providerFactory.index,i);s=c.slice(0,a),ug(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],ug(o,s);return s}function ug(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function Zk(e,t,n,r,i,o){let s=new ti(e,n,V,null);return s.multi=[],s.index=t,s.componentProviders=0,Ib(s,i,r&&!n),s}function mn(e,t=[]){return n=>{n.providersResolver=(r,i)=>qk(r,i?i(e):e,t)}}function pr(e,t,n){let r=Nl()+e,i=q();return i[r]===Et?$g(i,r,n?t.call(n):t()):fx(i,r)}function em(e,t,n,r){return Qk(q(),Nl(),e,t,n,r)}function aa(e,t,n,r,i){return Jk(q(),Nl(),e,t,n,r,i)}function Cb(e,t){let n=e[t];return n===Et?void 0:n}function Qk(e,t,n,r,i,o){let s=t+n;return fn(e,s,i)?$g(e,s+1,o?r.call(o,i):r(i)):Cb(e,s+1)}function Jk(e,t,n,r,i,o,s){let a=t+n;return $w(e,a,i,o)?$g(e,a+2,s?r.call(s,i,o):r(i,o)):Cb(e,a+2)}var hu=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},tm=(()=>{class e{compileModuleSync(n){return new ou(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Jh(n),o=tw(i.declarations).reduce((s,a)=>{let c=an(a);return c&&s.push(new ii(c)),s},[]);return new hu(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xk=(()=>{class e{zone=g(ee);changeDetectionScheduler=g(jn);applicationRef=g(je);applicationErrorHandler=g(vt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wb({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ee(x(v({},bb()),{scheduleInRootZone:n})),[{provide:ee,useFactory:e},{provide:Ft,multi:!0,useFactory:()=>{let r=g(Xk,{optional:!0});return()=>r.initialize()}},{provide:Ft,multi:!0,useFactory:()=>{let r=g(eP);return()=>{r.initialize()}}},t===!0?{provide:wp,useValue:!0}:[],{provide:bp,useValue:n??eb},{provide:vt,useFactory:()=>{let r=g(ee),i=g(de),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(kt),o.handleError(s))})}}}]}function bb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var eP=(()=>{class e{subscription=new ue;initialized=!1;zone=g(ee);pendingTasks=g(Ht);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Db=(()=>{class e{applicationErrorHandler=g(vt);appRef=g(je);taskService=g(Ht);ngZone=g(ee);zonelessEnabled=g(Vs);tracing=g(ci,{optional:!0});disableScheduling=g(wp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(au):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(bp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?PI:tb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(au+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,PI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tP(){return typeof $localize<"u"&&$localize.locale||ia}var nm=new I("",{providedIn:"root",factory:()=>g(nm,{optional:!0,skipSelf:!0})||tP()});function Gt(e){return vE(e)}function fi(e,t){return $c(e,t?.equal)}var Tb=class{[Ve];constructor(t){this[Ve]=t}destroy(){this[Ve].destroy()}};var am={JSACTION:"__jsaction",OWNER:"__owner"},Nb={};function nP(e){return e[am.JSACTION]}function Sb(e,t){e[am.JSACTION]=t}function rP(e){return Nb[e]}function iP(e,t){Nb[e]=t}var M={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},oP=[M.MOUSEENTER,M.MOUSELEAVE,"pointerenter","pointerleave"],C5=[M.CLICK,M.DBLCLICK,M.FOCUSIN,M.FOCUSOUT,M.KEYDOWN,M.KEYUP,M.KEYPRESS,M.MOUSEOVER,M.MOUSEOUT,M.SUBMIT,M.TOUCHSTART,M.TOUCHEND,M.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],sP=[M.FOCUS,M.BLUR,M.ERROR,M.LOAD,M.TOGGLE],cm=e=>sP.indexOf(e)>=0;function aP(e){return e===M.MOUSEENTER?M.MOUSEOVER:e===M.MOUSELEAVE?M.MOUSEOUT:e===M.POINTERENTER?M.POINTEROVER:e===M.POINTERLEAVE?M.POINTEROUT:e}function cP(e,t,n,r){let i=!1;cm(t)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return e.addEventListener(t,n,o),{eventType:t,handler:n,capture:i,passive:r}}function lP(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function uP(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var Ab=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function dP(e){return e.which===2||e.which==null&&e.button===4}function fP(e){return Ab&&e.metaKey||!Ab&&e.ctrlKey||dP(e)||e.shiftKey}function hP(e,t,n){let r=e.relatedTarget;return(e.type===M.MOUSEOVER&&t===M.MOUSEENTER||e.type===M.MOUSEOUT&&t===M.MOUSELEAVE||e.type===M.POINTEROVER&&t===M.POINTERENTER||e.type===M.POINTEROUT&&t===M.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function pP(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let i=r,o=e[i];typeof o!="function"&&(n[i]=o)}return e.type===M.MOUSEOVER?n.type=M.MOUSEENTER:e.type===M.MOUSEOUT?n.type=M.MOUSELEAVE:e.type===M.POINTEROVER?n.type=M.POINTERENTER:n.type=M.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var gP=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Bu=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){gP&&(this.element.style.cursor="pointer"),this.handlerInfos.push(cP(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)lP(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},mP={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function gr(e){return e.eventType}function lm(e,t){e.eventType=t}function ju(e){return e.event}function Mb(e,t){e.event=t}function Ob(e){return e.targetElement}function xb(e,t){e.targetElement=t}function kb(e){return e.eic}function vP(e,t){e.eic=t}function yP(e){return e.timeStamp}function _P(e,t){e.timeStamp=t}function Uu(e){return e.eia}function Pb(e,t,n){e.eia=[t,n]}function rm(e){e.eia=void 0}function Vu(e){return e[1]}function EP(e){return e.eirp}function Fb(e,t){e.eirp=t}function Lb(e){return e.eir}function Vb(e,t){e.eir=t}function jb(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function IP(e,t,n,r,i,o,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var im=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return gr(this.eventInfo)}setEventType(t){lm(this.eventInfo,t)}getEvent(){return ju(this.eventInfo)}setEvent(t){Mb(this.eventInfo,t)}getTargetElement(){return Ob(this.eventInfo)}setTargetElement(t){xb(this.eventInfo,t)}getContainer(){return kb(this.eventInfo)}setContainer(t){vP(this.eventInfo,t)}getTimestamp(){return yP(this.eventInfo)}setTimestamp(t){_P(this.eventInfo,t)}getAction(){let t=Uu(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){rm(this.eventInfo);return}Pb(this.eventInfo,t.name,t.element)}getIsReplay(){return EP(this.eventInfo)}setIsReplay(t){Fb(this.eventInfo,t)}getResolved(){return Lb(this.eventInfo)}setResolved(t){Vb(this.eventInfo,t)}clone(){return new e(jb(this.eventInfo))}},CP={},wP=/\s*;\s*/,bP=M.CLICK,om=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&gr(t)===M.CLICK&&fP(ju(t))?lm(t,M.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){Lb(t)||(this.populateAction(t,Ob(t)),Vb(t,!0))}resolveParentAction(t){let n=Uu(t),r=n&&Vu(n);rm(t);let i=r&&this.getParentNode(r);i&&this.populateAction(t,i)}populateAction(t,n){let r=n;for(;r&&r!==kb(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!Uu(t));)r=this.getParentNode(r);let i=Uu(t);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(gr(t)===M.MOUSEENTER||gr(t)===M.MOUSELEAVE||gr(t)===M.POINTERENTER||gr(t)===M.POINTERLEAVE)))if(hP(ju(t),gr(t),Vu(i))){let o=pP(ju(t),Vu(i));Mb(t,o),xb(t,Vu(i))}else rm(t)}getParentNode(t){let n=t[am.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),i=r[gr(n)];i!==void 0&&Pb(n,i,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=nP(t);if(!n){let r=t.getAttribute(Ll.JSACTION);if(!r)n=CP,Sb(t,n);else{if(n=rP(r),!n){n={};let i=r.split(wP);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(mP.EVENT_ACTION_SEPARATOR),c=a!==-1,l=c?s.substr(0,a).trim():bP,u=c?s.substr(a+1).trim():s;n[l]=u}iP(r,n)}Sb(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},Ub=function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e}(Ub||{}),sm=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new im(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&DP(r.element,n)&&uP(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function DP(e,t){return e.tagName==="A"&&(t.getEventType()===M.CLICK||t.getEventType()===M.CLICKMOD)}var Bb=Symbol.for("propagationStopped"),um={REPLAY:101};var TP="`preventDefault` called during event replay.";var SP="`composedPath` called during event replay.",Hu=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new om({clickModSupport:n}),this.dispatcher=new sm(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&NP(t),AP(t);t.getAction();){if(MP(t),cm(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),RP(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function AP(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[Bb]=!0,n()};hi(t,"stopPropagation",r),hi(t,"stopImmediatePropagation",r)}function RP(e){return!!e.getEvent()[Bb]}function NP(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);hi(t,"target",n),hi(t,"eventPhase",um.REPLAY),hi(t,"preventDefault",()=>{throw r(),new Error(TP+"")}),hi(t,"composedPath",()=>{throw new Error(SP+"")})}function MP(e){let t=e.getEvent(),n=e.getAction()?.element;n&&hi(t,"currentTarget",n,{configurable:!0})}function hi(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function Hb(e,t){e.ecrd(n=>{t.dispatch(n)},Ub.I_AM_THE_JSACTION_FRAMEWORK)}function OP(e){return e?.q??[]}function xP(e){e&&(Rb(e.c,e.et,e.h),Rb(e.c,e.etc,e.h,!0))}function Rb(e,t,n,r){for(let i=0;i<t.length;i++)e.removeEventListener(t[i],n,r)}var kP=!1,$b=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=kP;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=IP(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){Fb(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&oP.indexOf(n)>=0)return;let o=(a,c,l)=>{this.handleEvent(a,c,l)};this.eventHandlers[n]=o;let s=aP(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(n,c,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),xP(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=jb(i);lm(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return e})();function Wb(e,t=window){return OP(t._ejsas?.[e])}function dm(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var Zb=Symbol("InputSignalNode#UNSET"),i1=x(v({},Wc),{transformFn:void 0,applyValueToInputSignal(e,t){Yi(e,t)}});function Qb(e,t){let n=Object.create(i1);n.value=e,n.transformFn=t?.transform;function r(){if(zi(n),n.value===Zb){let i=null;throw new b(-950,i)}return n.value}return r[Ve]=n,r}var Gu=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Ys(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},o1=new I("");o1.__NG_ELEMENT_ID__=e=>{let t=ze();if(t===null)throw new b(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new b(204,!1)};function zb(e,t){return Qb(e,t)}function s1(e){return Qb(Zb,e)}var Jb=(zb.required=s1,zb);var mr=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Xb=new mr("20.1.7");var fm=new I(""),a1=new I("");function ca(e){return!e.moduleRef}function c1(e){let t=ca(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ee);return n.run(()=>{ca(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(vt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),ca(e)){let o=()=>t.destroy(),s=e.platformInjector.get(fm);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(fm);s.add(o),e.moduleRef.onDestroy(()=>{Bs(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return u1(r,n,()=>{let o=t.get(Ht),s=o.add(),a=t.get(Qg);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(nm,ia);if(gb(c||ia),!t.get(a1,!0))return ca(e)?t.get(je):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ca(e)){let u=t.get(je);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return l1?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var l1;function u1(e,t,n){try{let r=n();return li(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Wu=null;function d1(e=[],t){return fe.create({name:t,providers:[{provide:Ns,useValue:"platform"},{provide:fm,useValue:new Set([()=>Wu=null])},...e]})}function f1(e=[]){if(Wu)return Wu;let t=d1(e);return Wu=t,cb(),h1(t),t}function h1(e){let t=e.get(pu,null);me(e,()=>{t?.forEach(n=>n())})}function pm(){return!1}var vr=(()=>{class e{static __NG_ELEMENT_ID__=p1}return e})();function p1(e){return g1(ze(),q(),(e&16)===16)}function g1(e,t,n){if(Bn(e)&&!n){let r=At(e.index,t);return new ni(r,r)}else if(e.type&175){let r=t[$e];return new ni(r,t)}return null}function eD(e){Z(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=f1(r),o=[wb({}),{provide:jn,useExisting:Db},aI,...n||[]],s=new Gs({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return c1({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Z(9)}}var $u=new WeakSet,Gb="",zu=[];function qb(e){return e.get(yg,NC)}function tD(){let e=[{provide:yg,useFactory:()=>{let t=!0;{let n=g(pn);t=!!window._ejsas?.[n]}return t&&rt("NgEventReplay"),t}}];return e.push({provide:Ft,useValue:()=>{let t=g(je),{injector:n}=t;if(!$u.has(t)){let r=g(_g);if(qb(n)){VC();let i=n.get(pn),o=FC(i,(s,a,c)=>{s.nodeType===Node.ELEMENT_NODE&&(OC(s,a,c),xC(s,r))});t.onDestroy(o)}}},multi:!0},{provide:Yn,useFactory:()=>{let t=g(je),{injector:n}=t;return()=>{if(!qb(n)||$u.has(t))return;$u.add(t);let r=n.get(pn);t.onDestroy(()=>{$u.delete(t),dm(r)}),t.whenStable().then(()=>{if(t.destroyed)return;let i=n.get(PC);m1(i,n);let o=n.get(_g);o.get(Gb)?.forEach(kC),o.delete(Gb);let s=i.instance;zC(n)?t.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),e}var m1=(e,t)=>{let n=t.get(pn),r=window._ejsas[n],i=e.instance=new $b(new Bu(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=Wb(n);i.replayEarlyEventInfos(o),dm(n);let s=new Hu(a=>{v1(t,a,a.currentTarget)});Hb(i,s)};function v1(e,t,n){let r=(n&&n.getAttribute(Qs))??"";/d\d+/.test(r)?y1(r,e,t,n):t.eventPhase===um.REPLAY&&Eg(t,n)}function y1(e,t,n,r){zu.push({event:n,currentTarget:r}),db(t,e,_1)}function _1(e){let t=[...zu],n=new Set(e);zu=[];for(let{event:r,currentTarget:i}of t){let o=i.getAttribute(Qs);n.has(o)?Eg(r,i):zu.push({event:r,currentTarget:i})}}var Yb=!1;function E1(){Yb||(Yb=!0,HC(),hb(),_b(),pb(),Xw(),Yw(),Pw(),vw())}function I1(e){return e.whenStable()}function nD(){let e=[{provide:Zs,useFactory:()=>{let t=!0;return t=!!g(si,{optional:!0})?.get(Ig,null),t&&rt("NgHydration"),t}},{provide:Ft,useValue:()=>{Mw(!1),g(Zs)&&(YC(Ks()),E1())},multi:!0}];return e.push({provide:vg,useFactory:()=>g(Zs)},{provide:Yn,useFactory:()=>{if(g(Zs)){let t=g(je);return()=>{I1(t).then(()=>{t.destroyed||Bg(t)})}}return()=>{}},multi:!0}),ft(e)}function pi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function rD(e){let t=an(e);if(!t)return null;let n=new ii(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var sD=null;function Nt(){return sD}function gm(e){sD??=e}var la=class{},ua=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(aD),providedIn:"platform"})}return e})(),mm=new I(""),aD=(()=>{class e extends ua{_location;_history;_doc=g(ye);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nt().getBaseHref(this._doc)}onPopState(n){let r=Nt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Nt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function qu(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function iD(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function qt(e){return e&&e[0]!=="?"?`?${e}`:e}var Yt=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(Ku),providedIn:"root"})}return e})(),Yu=new I(""),Ku=(()=>{class e extends Yt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return qu(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+qt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(O(ua),O(Yu,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yr=(()=>{class e{_subject=new Ee;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=b1(iD(oD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+qt(r))}normalize(n){return e.stripTrailingSlash(w1(this._basePath,oD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=qt;static joinWithSlash=qu;static stripTrailingSlash=iD;static \u0275fac=function(r){return new(r||e)(O(Yt))};static \u0275prov=D({token:e,factory:()=>C1(),providedIn:"root"})}return e})();function C1(){return new yr(O(Yt))}function w1(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function oD(e){return e.replace(/\/index.html$/,"")}function b1(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var ym=(()=>{class e extends Yt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=qu(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(O(ua),O(Yu,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();var vm=/\s+/,cD=[],da=(()=>{class e{_ngEl;_renderer;initialClasses=cD;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(vm):cD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(vm):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(vm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(V(Rt),V(zt))};static \u0275dir=ce({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Zu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=gn({type:e});static \u0275inj=Pt({})}return e})();function _m(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var fa=class{};var Im="browser";function gi(e){return e===Im}var lD=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new Em(g(ye),window)})}return e})(),Em=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(x(v({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=T1(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Un(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(x(v({},n),{left:i-s[0],top:o-s[1]}))}};function T1(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Ju=new I(""),Tm=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(O(Ju),O(ee))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),ha=class{_doc;constructor(t){this._doc=t}manager},Cm="ng-app-id";function dD(e){for(let t of e)t.remove()}function fD(e,t){let n=t.createElement("style");return n.textContent=e,n}function S1(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Cm}="${t}"],link[${Cm}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Cm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function bm(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Sm=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,S1(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,fD);r?.forEach(i=>this.addUsage(i,this.external,bm))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(dD(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])dD(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,fD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,bm(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(O(ye),O(pn),O(gu,8),O(nt))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),wm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Am=/%COMP%/g;var pD="%COMP%",A1=`_nghost-${pD}`,R1=`_ngcontent-${pD}`,N1=!0,M1=new I("",{providedIn:"root",factory:()=>N1});function O1(e){return R1.replace(Am,e)}function x1(e){return A1.replace(Am,e)}function gD(e,t){return t.map(n=>n.replace(Am,e))}var Rm=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new pa(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Qu?i.applyToHost(n):i instanceof ga&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case Wn.Emulated:o=new Qu(c,l,r,this.appId,u,s,a,d,f);break;case Wn.ShadowDom:return new Dm(c,l,n,r,s,a,this.nonce,d,f);default:o=new ga(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(O(Tm),O(Sm),O(pn),O(M1),O(ye),O(nt),O(ee),O(gu),O(ci,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),pa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(wm[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(hD(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(hD(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=wm[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=wm[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(zn.DashCase|zn.Important)?t.style.setProperty(n,r,i&zn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&zn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Nt().getGlobalEventTarget(this.doc,t),!t))throw new b(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function hD(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Dm=class extends pa{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=gD(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=bm(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ga=class extends pa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?gD(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Qu=class extends ga{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,l,u),this.contentAttr=O1(u),this.hostAttr=x1(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Xu=class e extends la{supportsDOMEvents=!0;static makeCurrent(){gm(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=k1();return n==null?null:P1(n)}resetBaseElement(){ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return _m(document.cookie,t)}},ma=null;function k1(){return ma=ma||document.head.querySelector("base"),ma?ma.getAttribute("href"):null}function P1(e){return new URL(e,document.baseURI).pathname}var F1=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),vD=(()=>{class e extends ha{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(O(ye))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),mD=["alt","control","meta","shift"],L1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},V1={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},yD=(()=>{class e extends ha{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),mD.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=L1[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),mD.forEach(s=>{if(s!==i){let a=V1[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(O(ye))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function Nm(e,t){let n=v({rootComponent:e},j1(t));return eD(n)}function j1(e){return{appProviders:[...W1,...e?.providers??[]],platformProviders:$1}}function U1(){Xu.makeCurrent()}function B1(){return new kt}function H1(){return pg(document),document}var $1=[{provide:nt,useValue:Im},{provide:pu,useValue:U1,multi:!0},{provide:ye,useFactory:H1}];var W1=[{provide:Ns,useValue:"root"},{provide:kt,useFactory:B1},{provide:Ju,useClass:vD,multi:!0,deps:[ye]},{provide:Ju,useClass:yD,multi:!0,deps:[ye]},Rm,Sm,Tm,{provide:ri,useExisting:Rm},{provide:fa,useClass:F1},[]];var va=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var z1="X-Request-URL",G1="text/plain",q1="application/json",TJ=`${q1}, ${G1}, */*`;var Om=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Om||{}),Mm=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new va,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var ed=class e extends Mm{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Om.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var _D=new I("");var SJ=RegExp(`^${z1}:`,"m");var Y1=new I(""),K1="b",Z1="h",Q1="s",J1="st",X1="u",eF="rt",xm=new I(""),tF=["GET","HEAD"];function nF(e,t){let h=g(xm),{isCacheActive:n}=h,r=U_(h,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!tF.includes(o)||!r.includeRequestsWithAuthHeaders&&rF(e)||r.filter?.(e)===!1)return t(e);let s=g(si);if(g(Y1,{optional:!0}))throw new b(2803,!1);let c=e.url,l=iF(e,c),u=s.get(l,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[K1]:p,[eF]:y,[Z1]:w,[Q1]:T,[J1]:le,[X1]:Ne}=u,on=p;switch(y){case"arraybuffer":on=new TextEncoder().encode(p).buffer;break;case"blob":on=new Blob([p]);break}let Oc=new va(w);return N(new ed({body:on,headers:Oc,status:T,statusText:le,url:Ne}))}return t(e)}function rF(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function ED(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function iF(e,t){let{params:n,method:r,responseType:i}=e,o=ED(n),s=e.serializeBody();s instanceof URLSearchParams?s=ED(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),c=oF(a);return c}function oF(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function ID(e){return[{provide:xm,useFactory:()=>(rt("NgHttpTransferCache"),v({isCacheActive:!0},e))},{provide:_D,useValue:nF,multi:!0},{provide:Yn,multi:!0,useFactory:()=>{let t=g(je),n=g(xm);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var CD=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(O(ye))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ya=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e}(ya||{});function wD(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function bD(){return wD(ya.NoHttpTransferCache)}function DD(){return wD(ya.EventReplay,tD())}function TD(...e){let t=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);let r=n.has(ya.HttpTransferCacheOptions);return ft([[],nD(),n.has(ya.NoHttpTransferCache)||r?[]:ID({}),t])}var j="primary",Ma=Symbol("RouteTitle"),Vm=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function yi(e){return new Vm(e)}function kD(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function aF(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!vn(e[n],t[n]))return!1;return!0}function vn(e,t){let n=e?jm(e):void 0,r=t?jm(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!PD(e[i],t[i]))return!1;return!0}function jm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function PD(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function FD(e){return e.length>0?e[e.length-1]:null}function Jn(e){return Eh(e)?e:li(e)?ae(Promise.resolve(e)):N(e)}var cF={exact:VD,subset:jD},LD={exact:lF,subset:uF,ignored:()=>!0};function SD(e,t,n){return cF[n.paths](e.root,t.root,n.matrixParams)&&LD[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function lF(e,t){return vn(e,t)}function VD(e,t,n){if(!mi(e.segments,t.segments)||!rd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!VD(e.children[r],t.children[r],n))return!1;return!0}function uF(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>PD(e[n],t[n]))}function jD(e,t,n){return UD(e,t,t.segments,n)}function UD(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!mi(i,n)||t.hasChildren()||!rd(i,n,r))}else if(e.segments.length===n.length){if(!mi(e.segments,n)||!rd(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!jD(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!mi(e.segments,i)||!rd(e.segments,i,r)||!e.children[j]?!1:UD(e.children[j],t,o,r)}}function rd(e,t,n){return t.every((r,i)=>LD[n](e[i].parameters,r.parameters))}var _n=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Q([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=yi(this.queryParams),this._queryParamMap}toString(){return hF.serialize(this)}},Q=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return id(this)}},_r=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=yi(this.parameters),this._parameterMap}toString(){return HD(this)}};function dF(e,t){return mi(e,t)&&e.every((n,r)=>vn(n.parameters,t[r].parameters))}function mi(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function fF(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===j&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==j&&(n=n.concat(t(i,r)))}),n}var _i=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new Er,providedIn:"root"})}return e})(),Er=class{parse(t){let n=new Bm(t);return new _n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${_a(t.root,!0)}`,r=mF(t.queryParams),i=typeof t.fragment=="string"?`#${pF(t.fragment)}`:"";return`${n}${r}${i}`}},hF=new Er;function id(e){return e.segments.map(t=>HD(t)).join("/")}function _a(e,t){if(!e.hasChildren())return id(e);if(t){let n=e.children[j]?_a(e.children[j],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==j&&r.push(`${i}:${_a(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=fF(e,(r,i)=>i===j?[_a(e.children[j],!1)]:[`${i}:${_a(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[j]!=null?`${id(e)}/${n[0]}`:`${id(e)}/(${n.join("//")})`}}function BD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function td(e){return BD(e).replace(/%3B/gi,";")}function pF(e){return encodeURI(e)}function Um(e){return BD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function od(e){return decodeURIComponent(e)}function AD(e){return od(e.replace(/\+/g,"%20"))}function HD(e){return`${Um(e.path)}${gF(e.parameters)}`}function gF(e){return Object.entries(e).map(([t,n])=>`;${Um(t)}=${Um(n)}`).join("")}function mF(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${td(n)}=${td(i)}`).join("&"):`${td(n)}=${td(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var vF=/^[^\/()?;#]+/;function km(e){let t=e.match(vF);return t?t[0]:""}var yF=/^[^\/()?;=#]+/;function _F(e){let t=e.match(yF);return t?t[0]:""}var EF=/^[^=?&#]+/;function IF(e){let t=e.match(EF);return t?t[0]:""}var CF=/^[^&#]+/;function wF(e){let t=e.match(CF);return t?t[0]:""}var Bm=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[j]=new Q(t,n)),r}parseSegment(){let t=km(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(t),new _r(od(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=_F(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=km(this.remaining);i&&(r=i,this.capture(r))}t[od(n)]=od(r)}parseQueryParam(t){let n=IF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=wF(this.remaining);s&&(r=s,this.capture(r))}let i=AD(n),o=AD(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=km(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=j);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[j]:new Q([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new b(4011,!1)}};function $D(e){return e.segments.length>0?new Q([],{[j]:e}):e}function WD(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=WD(i);if(r===j&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Q(e.segments,t);return bF(n)}function bF(e){if(e.numberOfChildren===1&&e.children[j]){let t=e.children[j];return new Q(e.segments.concat(t.segments),t.children)}return e}function Ir(e){return e instanceof _n}function zD(e,t,n=null,r=null){let i=GD(e);return qD(i,t,n,r)}function GD(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Q(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=$D(r);return t??i}function qD(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Pm(i,i,i,n,r);let o=DF(t);if(o.toRoot())return Pm(i,i,new Q([],{}),n,r);let s=TF(o,i,e),a=s.processChildren?Ia(s.segmentGroup,s.index,o.commands):KD(s.segmentGroup,s.index,o.commands);return Pm(i,s.segmentGroup,a,n,r)}function sd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function wa(e){return typeof e=="object"&&e!=null&&e.outlets}function Pm(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=YD(e,t,n);let a=$D(WD(s));return new _n(a,o,i)}function YD(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=YD(o,t,n)}),new Q(e.segments,r)}var ad=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&sd(r[0]))throw new b(4003,!1);let i=r.find(wa);if(i&&i!==FD(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DF(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ad(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ad(n,t,r)}var xo=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function TF(e,t,n){if(e.isAbsolute)return new xo(t,!0,0);if(!n)return new xo(t,!1,NaN);if(n.parent===null)return new xo(n,!0,0);let r=sd(e.commands[0])?0:1,i=n.segments.length-1+r;return SF(n,i,e.numberOfDoubleDots)}function SF(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new xo(r,!1,i-o)}function AF(e){return wa(e[0])?e[0].outlets:{[j]:e}}function KD(e,t,n){if(e??=new Q([],{}),e.segments.length===0&&e.hasChildren())return Ia(e,t,n);let r=RF(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Q(e.segments.slice(0,r.pathIndex),{});return o.children[j]=new Q(e.segments.slice(r.pathIndex),e.children),Ia(o,0,i)}else return r.match&&i.length===0?new Q(e.segments,{}):r.match&&!e.hasChildren()?Hm(e,t,n):r.match?Ia(e,0,i):Hm(e,t,n)}function Ia(e,t,n){if(n.length===0)return new Q(e.segments,{});{let r=AF(n),i={};if(Object.keys(r).some(o=>o!==j)&&e.children[j]&&e.numberOfChildren===1&&e.children[j].segments.length===0){let o=Ia(e.children[j],t,n);return new Q(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=KD(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Q(e.segments,i)}}function RF(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(wa(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!ND(c,l,s))return o;r+=2}else{if(!ND(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Hm(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(wa(o)){let c=NF(o.outlets);return new Q(r,c)}if(i===0&&sd(n[0])){let c=e.segments[t];r.push(new _r(c.path,RD(n[0]))),i++;continue}let s=wa(o)?o.outlets[j]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&sd(a)?(r.push(new _r(s,RD(a))),i+=2):(r.push(new _r(s,{})),i++)}return new Q(r,{})}function NF(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Hm(new Q([],{}),0,r))}),t}function RD(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function ND(e,t,n){return e==n.path&&vn(t,n.parameters)}var ko="imperative",Ae=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ae||{}),wt=class{id;url;constructor(t,n){this.id=t,this.url=n}},Cr=class extends wt{type=Ae.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mt=class extends wt{urlAfterRedirects;type=Ae.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ke=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Ke||{}),Fo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Fo||{}),yn=class extends wt{reason;code;type=Ae.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},En=class extends wt{reason;code;type=Ae.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Lo=class extends wt{error;target;type=Ae.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ba=class extends wt{urlAfterRedirects;state;type=Ae.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cd=class extends wt{urlAfterRedirects;state;type=Ae.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ld=class extends wt{urlAfterRedirects;state;shouldActivate;type=Ae.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ud=class extends wt{urlAfterRedirects;state;type=Ae.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dd=class extends wt{urlAfterRedirects;state;type=Ae.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fd=class{route;type=Ae.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hd=class{route;type=Ae.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pd=class{snapshot;type=Ae.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gd=class{snapshot;type=Ae.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},md=class{snapshot;type=Ae.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vd=class{snapshot;type=Ae.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vo=class{routerEvent;position;anchor;type=Ae.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Da=class{},jo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function MF(e){return!(e instanceof Da)&&!(e instanceof jo)}function OF(e,t){return e.providers&&!e._injector&&(e._injector=ai(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Kt(e){return e.outlet||j}function xF(e,t){let n=e.filter(r=>Kt(r)===t);return n.push(...e.filter(r=>Kt(r)!==t)),n}function Ho(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var yd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ho(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ei(this.rootInjector)}},Ei=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new yd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(O(de))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_d=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=$m(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=$m(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Wm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Wm(t,this._root).map(n=>n.value)}};function $m(e,t){if(e===t.value)return t;for(let n of t.children){let r=$m(e,n);if(r)return r}return null}function Wm(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Wm(e,n);if(r.length)return r.unshift(t),r}return[]}var Ct=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Oo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Ta=class extends _d{snapshot;constructor(t,n){super(t),this.snapshot=n,Jm(this,t)}toString(){return this.snapshot.toString()}};function ZD(e){let t=kF(e),n=new ke([new _r("",{})]),r=new ke({}),i=new ke({}),o=new ke({}),s=new ke(""),a=new In(n,r,o,s,i,j,e,t.root);return a.snapshot=t.root,new Ta(new Ct(a,[]),t)}function kF(e){let t={},n={},r={},i="",o=new vi([],t,r,i,n,j,e,null,{});return new Sa("",new Ct(o,[]))}var In=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(G(l=>l[Ma]))??N(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(t=>yi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(t=>yi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ed(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:v(v({},t.params),e.params),data:v(v({},t.data),e.data),resolve:v(v(v(v({},e.data),t.data),i?.data),e._resolvedData)}:r={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},i&&JD(i)&&(r.resolve[Ma]=i.title),r}var vi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ma]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=yi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=yi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Sa=class extends _d{url;constructor(t,n){super(n),this.url=t,Jm(this,n)}toString(){return QD(this._root)}};function Jm(e,t){t.value._routerState=e,t.children.forEach(n=>Jm(e,n))}function QD(e){let t=e.children.length>0?` { ${e.children.map(QD).join(", ")} } `:"";return`${e.value}${t}`}function Fm(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,vn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),vn(t.params,n.params)||e.paramsSubject.next(n.params),aF(t.url,n.url)||e.urlSubject.next(n.url),vn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function zm(e,t){let n=vn(e.params,t.params)&&dF(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||zm(e.parent,t.parent))}function JD(e){return typeof e.title=="string"||e.title===null}var XD=new I(""),Oa=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=j;activateEvents=new be;deactivateEvents=new be;attachEvents=new be;detachEvents=new be;routerOutletData=Jb(void 0);parentContexts=g(Ei);location=g(ta);changeDetector=g(vr);inputBinder=g(xa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Gm(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Gn]})}return e})(),Gm=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===In?this.route:t===Ei?this.childContexts:t===XD?this.outletData:this.parent.get(t,n)}},xa=new I(""),Xm=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Is([r.queryParams,r.params,r.data]).pipe(Be(([o,s,a],c)=>(a=v(v(v({},o),s),a),c===0?N(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=rD(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),ev=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=qn({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Se(0,"router-outlet")},dependencies:[Oa],encapsulation:2})}return e})();function tv(e){let t=e.children&&e.children.map(tv),n=t?x(v({},e),{children:t}):v({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=ev),n}function PF(e,t,n){let r=Aa(e,t._root,n?n._root:void 0);return new Ta(r,t)}function Aa(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=FF(e,t,n);return new Ct(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Aa(e,a)),s}}let r=LF(t.value),i=t.children.map(o=>Aa(e,o));return new Ct(r,i)}}function FF(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Aa(e,r,i);return Aa(e,r)})}function LF(e){return new In(new ke(e.url),new ke(e.params),new ke(e.queryParams),new ke(e.fragment),new ke(e.data),e.outlet,e.component,e)}var Uo=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},eT="ngNavigationCancelingError";function Id(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Ir(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=tT(!1,Ke.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function tT(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[eT]=!0,n.cancellationCode=t,n}function VF(e){return nT(e)&&Ir(e.url)}function nT(e){return!!e&&e[eT]}var jF=(e,t,n,r)=>G(i=>(new qm(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),qm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Fm(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Oo(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Oo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Oo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Oo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new vd(o.value.snapshot))}),t.children.length&&this.forwardEvent(new gd(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Fm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Fm(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Cd=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Po=class{component;route;constructor(t,n){this.component=t,this.route=n}};function UF(e,t,n){let r=e._root,i=t?t._root:null;return Ea(r,i,n,[r.value])}function BF(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function $o(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Uh(e)?e:t.get(e):r}function Ea(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Oo(t);return e.children.forEach(s=>{HF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ca(a,n.getContext(s),i)),i}function HF(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=$F(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Cd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ea(e,t,a?a.children:null,r,i):Ea(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Po(a.outlet.component,s))}else s&&Ca(t,a,i),i.canActivateChecks.push(new Cd(r)),o.component?Ea(e,null,a?a.children:null,r,i):Ea(e,null,n,r,i);return i}function $F(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!mi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!mi(e.url,t.url)||!vn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zm(e,t)||!vn(e.queryParams,t.queryParams);case"paramsChange":default:return!zm(e,t)}}function Ca(e,t,n){let r=Oo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Ca(s,t.children.getContext(o),n):Ca(s,null,n):Ca(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Po(t.outlet.component,i)):n.canDeactivateChecks.push(new Po(null,i)):n.canDeactivateChecks.push(new Po(null,i))}function ka(e){return typeof e=="function"}function WF(e){return typeof e=="boolean"}function zF(e){return e&&ka(e.canLoad)}function GF(e){return e&&ka(e.canActivate)}function qF(e){return e&&ka(e.canActivateChild)}function YF(e){return e&&ka(e.canDeactivate)}function KF(e){return e&&ka(e.canMatch)}function rT(e){return e instanceof xn||e?.name==="EmptyError"}var nd=Symbol("INITIAL_VALUE");function Bo(){return Be(e=>Is(e.map(t=>t.pipe(Pn(1),bh(nd)))).pipe(G(t=>{for(let n of t)if(n!==!0){if(n===nd)return nd;if(n===!1||ZF(n))return n}return!0}),et(t=>t!==nd),Pn(1)))}function ZF(e){return Ir(e)||e instanceof Uo}function QF(e,t){return ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?N(x(v({},n),{guardsResult:!0})):JF(s,r,i,e).pipe(ge(a=>a&&WF(a)?XF(r,o,e,t):N(a)),G(a=>x(v({},n),{guardsResult:a})))})}function JF(e,t,n,r){return ae(e).pipe(ge(i=>iL(i.component,i.route,n,t,r)),Fn(i=>i!==!0,!0))}function XF(e,t,n,r){return ae(t).pipe(or(i=>ao(tL(i.route.parent,r),eL(i.route,r),rL(e,i.path,n),nL(e,i.route,n))),Fn(i=>i!==!0,!0))}function eL(e,t){return e!==null&&t&&t(new md(e)),N(!0)}function tL(e,t){return e!==null&&t&&t(new pd(e)),N(!0)}function nL(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(o=>Cs(()=>{let s=Ho(t)??n,a=$o(o,s),c=GF(a)?a.canActivate(t,e):me(s,()=>a(t,e));return Jn(c).pipe(Fn())}));return N(i).pipe(Bo())}function rL(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>BF(s)).filter(s=>s!==null).map(s=>Cs(()=>{let a=s.guards.map(c=>{let l=Ho(s.node)??n,u=$o(c,l),d=qF(u)?u.canActivateChild(r,e):me(l,()=>u(r,e));return Jn(d).pipe(Fn())});return N(a).pipe(Bo())}));return N(o).pipe(Bo())}function iL(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return N(!0);let s=o.map(a=>{let c=Ho(t)??i,l=$o(a,c),u=YF(l)?l.canDeactivate(e,t,n,r):me(c,()=>l(e,t,n,r));return Jn(u).pipe(Fn())});return N(s).pipe(Bo())}function oL(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return N(!0);let o=i.map(s=>{let a=$o(s,e),c=zF(a)?a.canLoad(t,n):me(e,()=>a(t,n));return Jn(c)});return N(o).pipe(Bo(),iT(r))}function iT(e){return fh(Me(t=>{if(typeof t!="boolean")throw Id(e,t)}),G(t=>t===!0))}function sL(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return N(!0);let o=i.map(s=>{let a=$o(s,e),c=KF(a)?a.canMatch(t,n):me(e,()=>a(t,n));return Jn(c)});return N(o).pipe(Bo(),iT(r))}var Ra=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Na=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Mo(e){return oo(new Ra(e))}function aL(e){return oo(new b(4e3,!1))}function cL(e){return oo(tT(!1,Ke.GuardRejected))}var Ym=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[j])return aL(`${t.redirectTo}`);i=i.children[j]}}applyRedirectCommands(t,n,r,i,o){return lL(n,i,o).pipe(G(s=>{if(s instanceof _n)throw new Na(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Na(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new _n(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new Q(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function lL(e,t,n){if(typeof e=="string")return N(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return Jn(me(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var Km={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uL(e,t,n,r,i){let o=oT(e,t,n);return o.matched?(r=OF(t,r),sL(r,t,n,i).pipe(G(s=>s===!0?o:v({},Km)))):N(o)}function oT(e,t,n){if(t.path==="**")return dL(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?v({},Km):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||kD)(n,e,t);if(!i)return v({},Km);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function dL(e){return{matched:!0,parameters:e.length>0?FD(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function MD(e,t,n,r){return n.length>0&&pL(e,n,r)?{segmentGroup:new Q(t,hL(r,new Q(n,e.children))),slicedSegments:[]}:n.length===0&&gL(e,n,r)?{segmentGroup:new Q(e.segments,fL(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Q(e.segments,e.children),slicedSegments:n}}function fL(e,t,n,r){let i={};for(let o of n)if(bd(e,t,o)&&!r[Kt(o)]){let s=new Q([],{});i[Kt(o)]=s}return v(v({},r),i)}function hL(e,t){let n={};n[j]=t;for(let r of e)if(r.path===""&&Kt(r)!==j){let i=new Q([],{});n[Kt(r)]=i}return n}function pL(e,t,n){return n.some(r=>bd(e,t,r)&&Kt(r)!==j)}function gL(e,t,n){return n.some(r=>bd(e,t,r))}function bd(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function mL(e,t,n){return t.length===0&&!e.children[n]}var Zm=class{};function vL(e,t,n,r,i,o,s="emptyOnly"){return new Qm(e,t,n,r,i,s,o).recognize()}var yL=31,Qm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ym(this.urlSerializer,this.urlTree)}noMatchError(t){return new b(4002,`'${t.segmentGroup}'`)}recognize(){let t=MD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(G(({children:n,rootSnapshot:r})=>{let i=new Ct(r,n),o=new Sa("",i),s=zD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new vi([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),j,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,j,n).pipe(G(r=>({children:r,rootSnapshot:n})),kn(r=>{if(r instanceof Na)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ra?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(G(s=>s instanceof Ct?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ae(o).pipe(or(s=>{let a=r.children[s],c=xF(n,s);return this.processSegmentGroup(t,c,a,s,i)}),wh((s,a)=>(s.push(...a),s)),sr(null),Ch(),ge(s=>{if(s===null)return Mo(r);let a=sT(s);return _L(a),N(a)}))}processSegment(t,n,r,i,o,s,a){return ae(n).pipe(or(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(kn(l=>{if(l instanceof Ra)return N(null);throw l}))),Fn(c=>!!c),kn(c=>{if(rT(c))return mL(r,i,o)?N(new Zm):Mo(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return Kt(r)!==s&&(s===j||!bd(i,o,r))?Mo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):Mo(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=oT(n,i,o);if(!c)return Mo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yL&&(this.allowRedirects=!1));let h=new vi(o,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,OD(i),Kt(i),i.component??i._loadedComponent??null,i,xD(i)),p=Ed(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(p.params),h.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t).pipe(Be(w=>this.applyRedirects.lineralizeSegments(i,w)),ge(w=>this.processSegment(t,r,n,w.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=uL(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Be(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Be(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new vi(f,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,OD(r),Kt(r),r.component??r._loadedComponent??null,r,xD(r)),y=Ed(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let{segmentGroup:w,slicedSegments:T}=MD(n,f,h,l);if(T.length===0&&w.hasChildren())return this.processChildren(u,l,w,p).pipe(G(Ne=>new Ct(p,Ne)));if(l.length===0&&T.length===0)return N(new Ct(p,[]));let le=Kt(r)===o;return this.processSegment(u,l,w,T,le?j:o,!0,p).pipe(G(Ne=>new Ct(p,Ne instanceof Ct?[Ne]:[])))}))):Mo(n)))}getChildConfig(t,n,r){return n.children?N({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):oL(t,n,r,this.urlSerializer).pipe(ge(i=>i?this.configLoader.loadChildren(t,n).pipe(Me(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):cL(n))):N({routes:[],injector:t})}};function _L(e){e.sort((t,n)=>t.value.outlet===j?-1:n.value.outlet===j?1:t.value.outlet.localeCompare(n.value.outlet))}function EL(e){let t=e.value.routeConfig;return t&&t.path===""}function sT(e){let t=[],n=new Set;for(let r of e){if(!EL(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=sT(r.children);t.push(new Ct(r.value,i))}return t.filter(r=>!n.has(r))}function OD(e){return e.data||{}}function xD(e){return e.resolve||{}}function IL(e,t,n,r,i,o){return ge(s=>vL(e,t,n,r,s.extractedUrl,i,o).pipe(G(({state:a,tree:c})=>x(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function CL(e,t){return ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of aT(c))s.add(l);let a=0;return ae(s).pipe(or(c=>o.has(c)?wL(c,r,e,t):(c.data=Ed(c,c.parent,e).resolve,N(void 0))),Me(()=>a++),co(1),ge(c=>a===s.size?N(n):Je))})}function aT(e){let t=e.children.map(n=>aT(n)).flat();return[e,...t]}function wL(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!JD(i)&&(o[Ma]=i.title),Cs(()=>(e.data=Ed(e,e.parent,n).resolve,bL(o,e,t,r).pipe(G(s=>(e._resolvedData=s,e.data=v(v({},e.data),s),null)))))}function bL(e,t,n,r){let i=jm(e);if(i.length===0)return N({});let o={};return ae(i).pipe(ge(s=>DL(e[s],t,n,r).pipe(Fn(),Me(a=>{if(a instanceof Uo)throw Id(new Er,a);o[s]=a}))),co(1),G(()=>o),kn(s=>rT(s)?Je:oo(s)))}function DL(e,t,n,r){let i=Ho(t)??r,o=$o(e,i),s=o.resolve?o.resolve(t,n):me(i,()=>o(t,n));return Jn(s)}function Lm(e){return Be(t=>{let n=e(t);return n?ae(n).pipe(G(()=>t)):N(t)})}var nv=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===j);return r}getResolvedTitleForRoute(n){return n.data[Ma]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(cT),providedIn:"root"})}return e})(),cT=(()=>{class e extends nv{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(O(CD))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wr=new I("",{providedIn:"root",factory:()=>({})}),Ii=new I(""),Dd=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(tm);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Jn(me(n,()=>r.loadComponent())).pipe(G(uT),Be(dT),Me(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ws(()=>{this.componentLoaders.delete(r)})),o=new to(i,()=>new Ee).pipe(eo());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=lT(r,this.compiler,n,this.onLoadEndListener).pipe(ws(()=>{this.childrenLoaders.delete(r)})),s=new to(o,()=>new Ee).pipe(eo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lT(e,t,n,r){return Jn(me(n,()=>e.loadChildren())).pipe(G(uT),Be(dT),ge(i=>i instanceof Ou||Array.isArray(i)?N(i):ae(t.compileModuleAsync(i))),G(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ii,[],{optional:!0,self:!0}).flat()),{routes:s.map(tv),injector:o}}))}function TL(e){return e&&typeof e=="object"&&"default"in e}function uT(e){return TL(e)?e.default:e}function dT(e){return N(e)}var Td=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(SL),providedIn:"root"})}return e})(),SL=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rv=new I(""),iv=new I("");function fT(e,t,n){let r=e.get(iv),i=e.get(ye);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),AL(e)));a.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&me(e,()=>c({transition:a,from:t,to:n})),s}function AL(e){return new Promise(t=>{So({read:()=>setTimeout(t)},{injector:e})})}var ov=new I(""),Sd=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ee;transitionAbortWithErrorSubject=new Ee;configLoader=g(Dd);environmentInjector=g(de);destroyRef=g(Bt);urlSerializer=g(_i);rootContexts=g(Ei);location=g(yr);inputBindingEnabled=g(xa,{optional:!0})!==null;titleStrategy=g(nv);options=g(wr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(Td);createViewTransition=g(rv,{optional:!0});navigationErrorHandler=g(ov,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>N(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new fd(i)),r=i=>this.events.next(new hd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(x(v({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new ke(null),this.transitions.pipe(et(r=>r!==null),Be(r=>{let i=!1;return N(r).pipe(Be(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ke.SupersededByNewNavigation),Je;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?x(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new En(o.id,this.urlSerializer.serialize(o.rawUrl),c,Fo.IgnoredSameUrlNavigation)),o.resolve(!1),Je}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return N(o).pipe(Be(c=>(this.events.next(new Cr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Je:Promise.resolve(c))),IL(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Me(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=x(v({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new ba(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:f}=o,h=new Cr(c,this.urlSerializer.serialize(l),u,d);this.events.next(h);let p=ZD(this.rootComponentType).snapshot;return this.currentTransition=r=x(v({},o),{targetSnapshot:p,urlAfterRedirects:l,extras:x(v({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,N(r)}else{let c="";return this.events.next(new En(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Fo.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Je}}),Me(o=>{let s=new cd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),G(o=>(this.currentTransition=r=x(v({},o),{guards:UF(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),QF(this.environmentInjector,o=>this.events.next(o)),Me(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Id(this.urlSerializer,o.guardsResult);let s=new ld(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),et(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ke.GuardRejected),!1)),Lm(o=>{if(o.guards.canActivateChecks.length!==0)return N(o).pipe(Me(s=>{let a=new ud(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Be(s=>{let a=!1;return N(s).pipe(CL(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ke.NoDataFromResolver)}}))}),Me(s=>{let a=new dd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Lm(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let l=Ho(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Me(u=>{a.component=u}),G(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Is(s(o.targetSnapshot.root)).pipe(sr(null),Pn(1))}),Lm(()=>this.afterPreactivation()),Be(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ae(a).pipe(G(()=>r)):N(r)}),G(o=>{let s=PF(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=x(v({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Me(()=>{this.events.next(new Da)}),jF(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Pn(1),pl(new L(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(et(()=>!i&&!r.targetRouterState),Me(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ke.Aborted)}))),Me({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),pl(this.transitionAbortWithErrorSubject.pipe(Me(o=>{throw o}))),ws(()=>{i||this.cancelNavigationTransition(r,"",Ke.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),kn(o=>{if(this.destroyed)return r.resolve(!1),Je;if(i=!0,nT(o))this.events.next(new yn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),VF(o)?this.events.next(new jo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Lo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=me(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Uo){let{message:c,cancellationCode:l}=Id(this.urlSerializer,a);this.events.next(new yn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new jo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Je}))}))}cancelNavigationTransition(n,r,i){let o=new yn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RL(e){return e!==ko}var hT=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(NL),providedIn:"root"})}return e})(),wd=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},NL=(()=>{class e extends wd{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pT=(()=>{class e{urlSerializer=g(_i);options=g(wr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(yr);urlHandlingStrategy=g(Td);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new _n;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof _n?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=ZD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(ML),providedIn:"root"})}return e})(),ML=(()=>{class e extends pT{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Cr?this.updateStateMemento():n instanceof En?this.commitTransition(r):n instanceof ba?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Da?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof yn&&n.code!==Ke.SupersededByNewNavigation&&n.code!==Ke.Redirect?this.restoreHistory(r):n instanceof Lo?this.restoreHistory(r,!0):n instanceof Mt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=v(v({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=v(v({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ad(e,t){e.events.pipe(et(n=>n instanceof Mt||n instanceof yn||n instanceof Lo||n instanceof En),G(n=>n instanceof Mt||n instanceof En?0:(n instanceof yn?n.code===Ke.Redirect||n.code===Ke.SupersededByNewNavigation:!1)?2:1),et(n=>n!==2),Pn(1)).subscribe(()=>{t()})}var OL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Cn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(ku);stateManager=g(pT);options=g(wr,{optional:!0})||{};pendingTasks=g(Ht);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(Sd);urlSerializer=g(_i);location=g(yr);urlHandlingStrategy=g(Td);injector=g(de);_events=new Ee;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(hT);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(Ii,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(xa,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ue;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yn&&r.code!==Ke.Redirect&&r.code!==Ke.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Mt)this.navigated=!0;else if(r instanceof jo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=v({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||RL(i.source)},s);this.scheduleNavigation(a,ko,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}MF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ko,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=v({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(vt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(tv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=GD(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return qD(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ir(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ko,null,r)}navigate(n,r={skipLocationChange:!1}){return kL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=v({},OL):r===!1?i=v({},xL):i=r,Ir(n))return SD(this.currentUrlTree,n,i);let o=this.parseUrl(n);return SD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return Ad(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kL(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new b(4008,!1)}var Wo=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=yt(null);get href(){return Gt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ee;applicationErrorHandler=g(vt);options=g(wr,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(g(new Gu("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Mt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ir(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Ir(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(V(Cn),V(In),Ys("tabindex"),V(zt),V(Rt),V(Yt))};static \u0275dir=ce({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&De("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Kn("href",i.reactiveHref(),bg)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",pi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",pi],replaceUrl:[2,"replaceUrl","replaceUrl",pi],routerLink:"routerLink"},features:[Gn]})}return e})();var Pa=class{};var gT=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(et(n=>n instanceof Mt),or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ai(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ae(i).pipe(so())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=N(null);let o=i.pipe(ge(s=>s===null?N(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return ae([o,s]).pipe(so())}else return o})}static \u0275fac=function(r){return new(r||e)(O(Cn),O(de),O(Pa),O(Dd))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mT=new I(""),PL=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ko;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Cr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Mt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof En&&n.code===Fo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Vo&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>m(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Vo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Hg()};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function av(e,...t){return ft([{provide:Ii,multi:!0,useValue:e},[],{provide:In,useFactory:vT,deps:[Cn]},{provide:Yn,multi:!0,useFactory:yT},t.map(n=>n.\u0275providers)])}function vT(e){return e.routerState.root}function Fa(e,t){return{\u0275kind:e,\u0275providers:t}}function yT(){let e=g(fe);return t=>{let n=e.get(je);if(t!==n.components[0])return;let r=e.get(Cn),i=e.get(_T);e.get(cv)===1&&r.initialNavigation(),e.get(CT,null,{optional:!0})?.setUpPreloading(),e.get(mT,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _T=new I("",{factory:()=>new Ee}),cv=new I("",{providedIn:"root",factory:()=>1});function ET(){let e=[{provide:cv,useValue:0},Pu(()=>{let t=g(fe);return t.get(mm,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(Cn),o=t.get(_T);Ad(i,()=>{r(!0)}),t.get(Sd).afterPreactivation=()=>(r(!0),o.closed?N(void 0):o),i.initialNavigation()}))})];return Fa(2,e)}function IT(){let e=[Pu(()=>{g(Cn).setUpLocationChangeListener()}),{provide:cv,useValue:2}];return Fa(3,e)}var CT=new I("");function wT(e){return Fa(0,[{provide:CT,useExisting:gT},{provide:Pa,useExisting:e}])}function bT(){return Fa(8,[Xm,{provide:xa,useExisting:Xm}])}function DT(e){rt("NgRouterViewTransitions");let t=[{provide:rv,useValue:fT},{provide:iv,useValue:v({skipNextTransition:!!e?.skipInitialTransition},e)}];return Fa(9,t)}var TT=[yr,{provide:_i,useClass:Er},Cn,Ei,{provide:In,useFactory:vT,deps:[Cn]},Dd,[]],La=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[TT,[],{provide:Ii,multi:!0,useValue:n},[],r?.errorHandler?{provide:ov,useValue:r.errorHandler}:[],{provide:wr,useValue:r||{}},r?.useHash?LL():VL(),FL(),r?.preloadingStrategy?wT(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?jL(r):[],r?.bindToComponentInputs?bT().\u0275providers:[],r?.enableViewTransitions?DT().\u0275providers:[],UL()]}}static forChild(n){return{ngModule:e,providers:[{provide:Ii,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=gn({type:e});static \u0275inj=Pt({})}return e})();function FL(){return{provide:mT,useFactory:()=>{let e=g(lD),t=g(ee),n=g(wr),r=g(Sd),i=g(_i);return n.scrollOffset&&e.setOffset(n.scrollOffset),new PL(i,r,e,t,n)}}}function LL(){return{provide:Yt,useClass:ym}}function VL(){return{provide:Yt,useClass:Ku}}function jL(e){return[e.initialNavigation==="disabled"?IT().\u0275providers:[],e.initialNavigation==="enabledBlocking"?ET().\u0275providers:[]]}var sv=new I("");function UL(){return[{provide:sv,useFactory:yT},{provide:Yn,multi:!0,useExisting:sv}]}var Rd=class e{title=yt("cabbingo");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=qn({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&(E(0,"main"),Se(1,"router-outlet"),C())},dependencies:[Oa],encapsulation:2})};var LT=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(V(zt),V(Rt))};static \u0275dir=ce({type:e})}return e})(),Ld=(()=>{class e extends LT{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,features:[it]})}return e})(),Wa=new I("");var BL={provide:Wa,useExisting:dt(()=>Vd),multi:!0};function HL(){let e=Nt()?Nt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var $L=new I(""),Vd=(()=>{class e extends LT{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!HL())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(V(zt),V(Rt),V($L,8))};static \u0275dir=ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&De("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[mn([BL]),it]})}return e})();var jd=new I(""),VT=new I("");function WL(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function zL(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function AT(e){return null}function jT(e){return e!=null}function UT(e){return li(e)?ae(e):e}function BT(e){let t={};return e.forEach(n=>{t=n!=null?v(v({},t),n):t}),Object.keys(t).length===0?null:t}function HT(e,t){return t.map(n=>n(e))}function GL(e){return!e.validate}function $T(e){return e.map(t=>GL(t)?t:n=>t.validate(n))}function qL(e){if(!e)return null;let t=e.filter(jT);return t.length==0?null:function(n){return BT(HT(n,t))}}function fv(e){return e!=null?qL($T(e)):null}function YL(e){if(!e)return null;let t=e.filter(jT);return t.length==0?null:function(n){let r=HT(n,t).map(UT);return Ih(r).pipe(G(BT))}}function hv(e){return e!=null?YL($T(e)):null}function RT(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function KL(e){return e._rawValidators}function ZL(e){return e._rawAsyncValidators}function lv(e){return e?Array.isArray(e)?e:[e]:[]}function Md(e,t){return Array.isArray(e)?e.includes(t):e===t}function NT(e,t){let n=lv(t);return lv(e).forEach(i=>{Md(n,i)||n.push(i)}),n}function MT(e,t){return lv(t).filter(n=>!Md(e,n))}var Od=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=fv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=hv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},qo=class extends Od{name;get formDirective(){return null}get path(){return null}},$a=class extends Od{_parent=null;name=null;valueAccessor=null},xd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},QL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lee=x(v({},QL),{"[class.ng-submitted]":"isSubmitted"}),WT=(()=>{class e extends xd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(V($a,2))};static \u0275dir=ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&oa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[it]})}return e})(),zT=(()=>{class e extends xd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(V(qo,10))};static \u0275dir=ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&oa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[it]})}return e})();var Va="VALID",Nd="INVALID",zo="PENDING",ja="DISABLED",br=class{},kd=class extends br{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ba=class extends br{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Ha=class extends br{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Go=class extends br{status;source;constructor(t,n){super(),this.status=t,this.source=n}},uv=class extends br{source;constructor(t){super(),this.source=t}},dv=class extends br{source;constructor(t){super(),this.source=t}};function GT(e){return(Ud(e)?e.validators:e)||null}function JL(e){return Array.isArray(e)?fv(e):e||null}function qT(e,t){return(Ud(t)?t.asyncValidators:e)||null}function XL(e){return Array.isArray(e)?hv(e):e||null}function Ud(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function eV(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function tV(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var Pd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Gt(this.statusReactive)}set status(t){Gt(()=>this.statusReactive.set(t))}_status=fi(()=>this.statusReactive());statusReactive=yt(void 0);get valid(){return this.status===Va}get invalid(){return this.status===Nd}get pending(){return this.status==zo}get disabled(){return this.status===ja}get enabled(){return this.status!==ja}errors;get pristine(){return Gt(this.pristineReactive)}set pristine(t){Gt(()=>this.pristineReactive.set(t))}_pristine=fi(()=>this.pristineReactive());pristineReactive=yt(!0);get dirty(){return!this.pristine}get touched(){return Gt(this.touchedReactive)}set touched(t){Gt(()=>this.touchedReactive.set(t))}_touched=fi(()=>this.touchedReactive());touchedReactive=yt(!1);get untouched(){return!this.touched}_events=new Ee;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(NT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(NT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(MT(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(MT(t,this._rawAsyncValidators))}hasValidator(t){return Md(this._rawValidators,t)}hasAsyncValidator(t){return Md(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(x(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ha(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ha(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(x(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ba(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ba(!0,r))}markAsPending(t={}){this.status=zo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Go(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(x(v({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ja,this.errors=null,this._forEachChild(i=>{i.disable(x(v({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new kd(this.value,r)),this._events.next(new Go(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(x(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Va,this._forEachChild(r=>{r.enable(x(v({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(x(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Va||this.status===zo)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new kd(this.value,n)),this._events.next(new Go(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(x(v({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ja:Va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=zo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=UT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Go(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new be,this.statusChanges=new be}_calculateStatus(){return this._allControlsDisabled()?ja:this.errors?Nd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zo)?zo:this._anyControlsHaveStatus(Nd)?Nd:Va}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Ba(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ha(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ud(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=JL(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=XL(this._rawAsyncValidators)}},Fd=class extends Pd{constructor(t,n,r){super(GT(n),qT(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){tV(this,!0,t),Object.keys(t).forEach(r=>{eV(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var pv=new I("",{providedIn:"root",factory:()=>gv}),gv="always";function nV(e,t){return[...t.path,e]}function YT(e,t,n=gv){KT(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),iV(e,t),sV(e,t),oV(e,t),rV(e,t)}function OT(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function rV(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function KT(e,t){let n=KL(e);t.validator!==null?e.setValidators(RT(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=ZL(e);t.asyncValidator!==null?e.setAsyncValidators(RT(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();OT(t._rawValidators,i),OT(t._rawAsyncValidators,i)}function iV(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&ZT(e,t)})}function oV(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&ZT(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function ZT(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function sV(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function aV(e,t){e==null,KT(e,t)}function cV(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function lV(e){return Object.getPrototypeOf(e.constructor)===Ld}function uV(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function dV(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Vd?n=o:lV(o)?r=o:i=o}),i||r||n||null}var fV={provide:qo,useExisting:dt(()=>mv)},Ua=Promise.resolve(),mv=(()=>{class e extends qo{callSetDisabledState;get submitted(){return Gt(this.submittedReactive)}_submitted=fi(()=>this.submittedReactive());submittedReactive=yt(!1);_directives=new Set;form;ngSubmit=new be;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Fd({},fv(n),hv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ua.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),YT(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ua.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ua.then(()=>{let r=this._findContainer(n.path),i=new Fd({});aV(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ua.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ua.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),uV(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new uv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new dv(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(V(jd,10),V(VT,10),V(pv,8))};static \u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&De("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mn([fV]),it]})}return e})();function xT(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function kT(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var hV=class extends Pd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(GT(n),qT(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ud(n)&&(n.nonNullable||n.initialValueIsDefault)&&(kT(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){xT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){xT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){kT(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var pV={provide:$a,useExisting:dt(()=>vv)},PT=Promise.resolve(),vv=(()=>{class e extends $a{_changeDetectorRef;callSetDisabledState;control=new hV;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new be;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=dV(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),cV(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){YT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){PT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&pi(r);PT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?nV(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(V(qo,9),V(jd,10),V(VT,10),V(Wa,10),V(vr,8),V(pv,8))};static \u0275dir=ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[mn([pV]),it,Gn]})}return e})();var QT=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),gV={provide:Wa,useExisting:dt(()=>yv),multi:!0},yv=(()=>{class e extends Ld{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&De("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[mn([gV]),it]})}return e})();var mV={provide:Wa,useExisting:dt(()=>Bd),multi:!0};function JT(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function vV(e){return e.split(":")[0]}var Bd=(()=>{class e extends Ld{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=g(je).injector;destroyRef=g(Bt);cdr=g(vr);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,So({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=JT(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=vV(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&De("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[mn([mV]),it]})}return e})(),XT=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(JT(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(V(Rt),V(zt),V(Bd,9))};static \u0275dir=ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),yV={provide:Wa,useExisting:dt(()=>eS),multi:!0};function FT(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function _V(e){return e.split(":")[0]}var eS=(()=>{class e extends Ld{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=_V(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&De("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[mn([yV]),it]})}return e})(),tS=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(FT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(FT(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(V(Rt),V(zt),V(eS,9))};static \u0275dir=ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function nS(e){return typeof e=="number"?e:parseFloat(e)}var rS=(()=>{class e{_validator=AT;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):AT,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,features:[Gn]})}return e})(),EV={provide:jd,useExisting:dt(()=>_v),multi:!0},_v=(()=>{class e extends rS{max;inputName="max";normalizeInput=n=>nS(n);createValidator=n=>zL(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Kn("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[mn([EV]),it]})}return e})(),IV={provide:jd,useExisting:dt(()=>Ev),multi:!0},Ev=(()=>{class e extends rS{min;inputName="min";normalizeInput=n=>nS(n);createValidator=n=>WL(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Wt(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Kn("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[mn([IV]),it]})}return e})();var CV=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=gn({type:e});static \u0275inj=Pt({})}return e})();var iS=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:pv,useValue:n.callSetDisabledState??gv}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=gn({type:e});static \u0275inj=Pt({imports:[CV]})}return e})();var Ci={production:!0,firebaseConfig:{apiKey:"AIzaSyB2e36wu47-6DOc2_rAuHfiFTq9vm6GBD0",authDomain:"cabbingo-db.firebaseapp.com",databaseURL:"https://cabbingo-db-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cabbingo-db",storageBucket:"cabbingo-db.firebasestorage.app",messagingSenderId:"684304316440",appId:"1:684304316440:web:0660b0d72a68752cadeb6d"}};var wi=class{mockTiles1=[{id:1,title:"Draconic Visage",src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Foldschool.runescape.wiki%2Fimages%2Fthumb%2FDraconic_visage_detail.png%2F640px-Draconic_visage_detail.png%3F6edab&f=1&nofb=1&ipt=9aa9374a957e7a5a937b233244e3cfde042354fa7459254f457e7188786b5690",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)"]},{id:2,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:3,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:4,title:"Any megarare",src:"https://oldschool.runescape.wiki/images/thumb/Twisted_bow_detail.png/150px-Twisted_bow_detail.png?7aa10",bossSrc:"./assets/raids.png",alt:"Twisted Bow",description:"Obtain any megarare drop from any raid",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:5,title:"5 Venator Shards",src:"./assets/venator_shards.png",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:6,title:"Ultor Vestige",src:"https://oldschool.runescape.wiki/images/thumb/Ultor_vestige_detail.png/130px-Ultor_vestige_detail.png?99817",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Vardorvis.png/200px-Vardorvis.png?48af8",alt:"Ultor Vestige",description:"Obtain an Ultor Vestige from Vardorvis",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:7,title:"Draconic Visage",src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Foldschool.runescape.wiki%2Fimages%2Fthumb%2FDraconic_visage_detail.png%2F640px-Draconic_visage_detail.png%3F6edab&f=1&nofb=1&ipt=9aa9374a957e7a5a937b233244e3cfde042354fa7459254f457e7188786b5690",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:8,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:9,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:10,title:"3 Blood shards",src:"./assets/blood_shards.png",bossSrc:"./assets/raids.png",alt:"Blood Shard",description:"Obtain 3 Blood Shards from vyres",itemsRequired:3,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:11,title:"5 Venator Shards",src:"https://oldschool.runescape.wiki/images/thumb/Venator_shard_detail.png/130px-Venator_shard_detail.png?3ad3e",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:12,title:"Moons of perilus",src:"./assets/moons_set.png",bossSrc:"./assets/moons_bosses.png",alt:"Moons of perilus",description:"Obtain a Moons of perilus from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]}];mockTiles2=[{id:1,title:"Draconic Visage",src:"https://oldschool.runescape.wiki/images/thumb/Draconic_visage_detail.png/130px-Draconic_visage_detail.png?6edab",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:2,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:3,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:4,title:"Any megarare",src:"https://oldschool.runescape.wiki/images/thumb/Twisted_bow_detail.png/150px-Twisted_bow_detail.png?7aa10",bossSrc:"./assets/raids.png",alt:"Twisted Bow",description:"Obtain any megarare drop from any raid",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:5,title:"5 Venator Shards",src:"https://oldschool.runescape.wiki/images/thumb/Venator_shard_detail.png/130px-Venator_shard_detail.png?3ad3e",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:5,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:6,title:"Ultor Vestige",src:"https://oldschool.runescape.wiki/images/thumb/Ultor_vestige_detail.png/130px-Ultor_vestige_detail.png?99817",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Vardorvis.png/200px-Vardorvis.png?48af8",alt:"Ultor Vestige",description:"Obtain an Ultor Vestige from Vardorvis",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]}];board=[this.mockTiles1,this.mockTiles2]};var Hd=(n=>(n[n.Team1=0]="Team1",n[n.Team2=1]="Team2",n))(Hd||{});var oS=()=>{};var Cv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var _=function(e,t){if(!e)throw bi(t)},bi=function(e){return new Error("Firebase Database ("+Cv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var cS=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},bV=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Zo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):bV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new wv;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},wv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Dv=function(e){let t=cS(e);return Zo.encodeByteArray(t,!0)},Ga=function(e){return Dv(e).replace(/\./g,"")},Yo=function(e){try{return Zo.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function lS(e){return uS(void 0,e)}function uS(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!DV(n)||(e[n]=uS(e[n],t[n]));return e}function DV(e){return e!=="__proto__"}function dS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var TV=()=>dS().__FIREBASE_DEFAULTS__,SV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},AV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Yo(e[1]);return t&&JSON.parse(t)},Tv=()=>{try{return oS()||TV()||SV()||AV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},fS=e=>{var t,n;return(n=(t=Tv())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},hS=e=>{let t=fS(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Sv=()=>{var e;return(e=Tv())===null||e===void 0?void 0:e.config},pS=e=>{var t;return(t=Tv())===null||t===void 0?void 0:t[`_${e}`]};var Zt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function Di(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function Av(e){return m(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}function gS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ga(JSON.stringify(n)),Ga(JSON.stringify(s)),""].join(".")}var za={};function RV(){let e={prod:[],emulator:[]};for(let t of Object.keys(za))za[t]?e.emulator.push(t):e.prod.push(t);return e}function NV(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var sS=!1;function Rv(e,t){if(typeof window>"u"||typeof document>"u"||!Di(window.location.host)||za[e]===t||za[e]||sS)return;za[e]=t;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=RV().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{sS=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=NV(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),T=n("preprendIcon"),le=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let Ne=f.element;a(Ne),u(w,y);let on=l();c(le,T),Ne.append(le,p,w,on),document.body.appendChild(Ne)}o?(p.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qa(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vS(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Wd(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bn(){return Cv.NODE_CLIENT===!0||Cv.NODE_ADMIN===!0}function zd(){try{return typeof indexedDB=="object"}catch{return!1}}function yS(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var MV="FirebaseError",wn=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=MV,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qt.prototype.create)}},Qt=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?OV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new wn(i,a,r)}};function OV(e,t){return e.replace(xV,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var xV=/\{\$([^}]+)}/g;function Ko(e){return JSON.parse(e)}function Te(e){return JSON.stringify(e)}var _S=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=Ko(Yo(o[0])||""),n=Ko(Yo(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var ES=function(e){let t=_S(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},IS=function(e){let t=_S(e).claims;return typeof t=="object"&&t.admin===!0};function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ti(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Gd(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ya(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Si(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(aS(o)&&aS(s)){if(!Si(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function aS(e){return e!==null&&typeof e=="object"}function Ka(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}var $d=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function CS(e,t){let n=new bv(e,t);return n.subscribe.bind(n)}var bv=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kV(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Iv),i.error===void 0&&(i.error=Iv),i.complete===void 0&&(i.complete=Iv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function kV(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Iv(){}function qd(e,t){return`${e} failed: ${t} argument `}var wS=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,_(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Za=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var vee=4*60*60*1e3;function bt(e){return e&&e._delegate?e._delegate:e}var Ze=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Ai="[DEFAULT]";var Yd=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new Zt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FV(t))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Ai){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return m(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Ai){return this.instances.has(t)}getOptions(t=Ai){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PV(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ai){return this.component?this.component.multipleInstances?t:Ai:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PV(e){return e===Ai?void 0:e}function FV(e){return e.instantiationMode==="EAGER"}var Qa=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Yd(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var LV=[],re=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(re||{}),VV={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},jV=re.INFO,UV={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},BV=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=UV[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Tn=class{constructor(t){this.name=t,this._logLevel=jV,this._logHandler=BV,this._userLogHandler=null,LV.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?VV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}};var HV=(e,t)=>t.some(n=>e instanceof n),bS,DS;function $V(){return bS||(bS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WV(){return DS||(DS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var TS=new WeakMap,Mv=new WeakMap,SS=new WeakMap,Nv=new WeakMap,xv=new WeakMap;function zV(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Sn(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&TS.set(n,e)}).catch(()=>{}),xv.set(t,e),t}function GV(e){if(Mv.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Mv.set(e,t)}var Ov={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Mv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||SS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function AS(e){Ov=e(Ov)}function qV(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(Kd(this),t,...n);return SS.set(r,t.sort?t.sort():[t]),Sn(r)}:WV().includes(e)?function(...t){return e.apply(Kd(this),t),Sn(TS.get(this))}:function(...t){return Sn(e.apply(Kd(this),t))}}function YV(e){return typeof e=="function"?qV(e):(e instanceof IDBTransaction&&GV(e),HV(e,$V())?new Proxy(e,Ov):e)}function Sn(e){if(e instanceof IDBRequest)return zV(e);if(Nv.has(e))return Nv.get(e);let t=YV(e);return t!==e&&(Nv.set(e,t),xv.set(t,e)),t}var Kd=e=>xv.get(e);function NS(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=Sn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Sn(s.result),c.oldVersion,c.newVersion,Sn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var KV=["get","getKey","getAll","getAllKeys","count"],ZV=["put","add","delete","clear"],kv=new Map;function RS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(kv.get(t))return kv.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=ZV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KV.includes(n)))return;let o=function(s,...a){return m(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return kv.set(t,o),o}AS(e=>x(v({},e),{get:(t,n,r)=>RS(t,n)||e.get(t,n,r),has:(t,n)=>!!RS(t,n)||e.has(t,n)}));var Fv=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function QV(e){let t=e.getComponent();return t?.type==="VERSION"}var Lv="@firebase/app",MS="0.13.2";var Xn=new Tn("@firebase/app"),JV="@firebase/app-compat",XV="@firebase/analytics-compat",ej="@firebase/analytics",tj="@firebase/app-check-compat",nj="@firebase/app-check",rj="@firebase/auth",ij="@firebase/auth-compat",oj="@firebase/database",sj="@firebase/data-connect",aj="@firebase/database-compat",cj="@firebase/functions",lj="@firebase/functions-compat",uj="@firebase/installations",dj="@firebase/installations-compat",fj="@firebase/messaging",hj="@firebase/messaging-compat",pj="@firebase/performance",gj="@firebase/performance-compat",mj="@firebase/remote-config",vj="@firebase/remote-config-compat",yj="@firebase/storage",_j="@firebase/storage-compat",Ej="@firebase/firestore",Ij="@firebase/ai",Cj="@firebase/firestore-compat",wj="firebase",bj="11.10.0";var Vv="[DEFAULT]",Dj={[Lv]:"fire-core",[JV]:"fire-core-compat",[ej]:"fire-analytics",[XV]:"fire-analytics-compat",[nj]:"fire-app-check",[tj]:"fire-app-check-compat",[rj]:"fire-auth",[ij]:"fire-auth-compat",[oj]:"fire-rtdb",[sj]:"fire-data-connect",[aj]:"fire-rtdb-compat",[cj]:"fire-fn",[lj]:"fire-fn-compat",[uj]:"fire-iid",[dj]:"fire-iid-compat",[fj]:"fire-fcm",[hj]:"fire-fcm-compat",[pj]:"fire-perf",[gj]:"fire-perf-compat",[mj]:"fire-rc",[vj]:"fire-rc-compat",[yj]:"fire-gcs",[_j]:"fire-gcs-compat",[Ej]:"fire-fst",[Cj]:"fire-fst-compat",[Ij]:"fire-vertex","fire-js":"fire-js",[wj]:"fire-js-all"};var Ja=new Map,Tj=new Map,jv=new Map;function OS(e,t){try{e.container.addComponent(t)}catch(n){Xn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Xt(e){let t=e.name;if(jv.has(t))return Xn.debug(`There were multiple attempts to register component ${t}.`),!1;jv.set(t,e);for(let n of Ja.values())OS(n,e);for(let n of Tj.values())OS(n,e);return!0}function Zd(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function er(e){return e==null?!1:e.settings!==void 0}var Sj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Qt("app","Firebase",Sj);var Uv=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ze("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};var Qo=bj;function $v(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:Vv,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=Sv()),!n)throw Dr.create("no-options");let o=Ja.get(i);if(o){if(Si(n,o.options)&&Si(r,o.config))return o;throw Dr.create("duplicate-app",{appName:i})}let s=new Qa(i);for(let c of jv.values())s.addComponent(c);let a=new Uv(n,r,s);return Ja.set(i,a),a}function Jo(e=Vv){let t=Ja.get(e);if(!t&&e===Vv&&Sv())return $v();if(!t)throw Dr.create("no-app",{appName:e});return t}function Qd(){return Array.from(Ja.values())}function _e(e,t,n){var r;let i=(r=Dj[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xn.warn(a.join(" "));return}Xt(new Ze(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var Aj="firebase-heartbeat-database",Rj=1,Xa="firebase-heartbeat-store",Pv=null;function FS(){return Pv||(Pv=NS(Aj,Rj,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Xa)}catch(n){console.warn(n)}}}}).catch(e=>{throw Dr.create("idb-open",{originalErrorMessage:e.message})})),Pv}function Nj(e){return m(this,null,function*(){try{let n=(yield FS()).transaction(Xa),r=yield n.objectStore(Xa).get(LS(e));return yield n.done,r}catch(t){if(t instanceof wn)Xn.warn(t.message);else{let n=Dr.create("idb-get",{originalErrorMessage:t?.message});Xn.warn(n.message)}}})}function xS(e,t){return m(this,null,function*(){try{let r=(yield FS()).transaction(Xa,"readwrite");yield r.objectStore(Xa).put(t,LS(e)),yield r.done}catch(n){if(n instanceof wn)Xn.warn(n.message);else{let r=Dr.create("idb-set",{originalErrorMessage:n?.message});Xn.warn(r.message)}}})}function LS(e){return`${e.name}!${e.options.appId}`}var Mj=1024,Oj=30,Bv=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Hv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kS();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Oj){let s=kj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xn.warn(r)}})}getHeartbeatsHeader(){return m(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=kS(),{heartbeatsToSend:r,unsentEntries:i}=xj(this._heartbeatsCache.heartbeats),o=Ga(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Xn.warn(n),""}})}};function kS(){return new Date().toISOString().substring(0,10)}function xj(e,t=Mj){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),PS(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PS(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Hv=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return zd()?yS().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Nj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function PS(e){return Ga(JSON.stringify({version:2,heartbeats:e})).length}function kj(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Pj(e){Xt(new Ze("platform-logger",t=>new Fv(t),"PRIVATE")),Xt(new Ze("heartbeat",t=>new Bv(t),"PRIVATE")),_e(Lv,MS,e),_e(Lv,MS,"esm2017"),_e("fire-js","")}Pj("");var Fj="firebase",Lj="11.10.0";_e(Fj,Lj,"app");function VS(e){e===void 0&&(e=g(fe));let t=e.get(fr);return n=>new L(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ni=new mr("ANGULARFIRE2_VERSION");function Xd(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var es=(e,t)=>{let n=t?[t]:Qd(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Xo=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(Xo||{}),jS=pm()&&typeof Zone<"u"?Xo.WARN:Xo.SILENT;var Jd=class{zone;delegate;constructor(t,n=yh){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Mi=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=g(ee);this.outsideAngular=n.runOutsideAngular(()=>new Jd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Jd(typeof Zone>"u"?void 0:Zone.current,vh))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),US=!1;function Vj(e,t){!US&&(jS>Xo.SILENT||pm())&&(US=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),jS>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function jj(e){let t=g(ee,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function Ri(e){let t=g(ee,{optional:!0});return t?t.run(()=>e()):e()}var Uj=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),me(n,()=>Ri(()=>e.apply(void 0,r)))),An=(e,t,n)=>(n||=t?Xo.WARN:Xo.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=g(Mi),s=g(fr),a=g(de)}catch{return Vj(e,n),e.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(t&&(r||=Ri(()=>s.add())),i[l]=Uj(i[l],r,a));let c=jj(()=>e.apply(this,i));return t?c instanceof L?c.pipe(ir(o.outsideAngular),rr(o.insideAngular),VS(a)):c instanceof Promise?Ri(()=>{let l=s.add();return new Promise((u,d)=>{c.then(f=>me(a,()=>Ri(()=>u(f))),f=>me(a,()=>Ri(()=>d(f)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Ri(()=>c):c instanceof L?c.pipe(ir(o.outsideAngular),rr(o.insideAngular)):Ri(()=>c)});var Oi=class{constructor(t){return t}},ec=class{constructor(){return Qd()}};function Bj(e){return e&&e.length===1?e[0]:new Oi(Jo())}var Wv=new I("angularfire2._apps"),Hj={provide:Oi,useFactory:Bj,deps:[[new hn,Wv]]},$j={provide:ec,deps:[[new hn,Wv]]};function Wj(e){return(t,n)=>{let r=n.get(nt);_e("angularfire",Ni.full,"core"),_e("angularfire",Ni.full,"app"),_e("angular",Xb.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new Oi(i)}}function BS(e,...t){return ft([Hj,$j,{provide:Wv,useFactory:Wj(e),multi:!0,deps:[ee,fe,Mi,...t]}])}var HS=An($v,!0);var zj=new Map,Gj={activated:!1,tokenObservers:[]},qj={initialized:!1,enabled:!1};function en(e){return zj.get(e)||Object.assign({},Gj)}function GS(){return qj}var Yj="https://content-firebaseappcheck.googleapis.com/v1";var Kj="exchangeDebugToken",$S={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Ete=24*60*60*1e3;var qv=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return m(this,null,function*(){this.stop();try{this.pending=new Zt,this.pending.promise.catch(n=>{}),yield Zj(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Zt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Zj(e){return new Promise(t=>{setTimeout(t,e)})}var Qj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Tr=new Qt("appCheck","AppCheck",Qj);function qS(e){if(!en(e).activated)throw Tr.create("use-before-activation",{appName:e.name})}function YS(r,i){return m(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(h){throw Tr.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw Tr.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw Tr.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Tr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function KS(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Yj}/projects/${n}/apps/${r}:${Kj}?key=${i}`,body:{debug_token:t}}}var Jj="firebase-app-check-database",Xj=1,Yv="firebase-app-check-store";var ef=null;function eU(){return ef||(ef=new Promise((e,t)=>{try{let n=indexedDB.open(Jj,Xj);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Tr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Yv,{keyPath:"compositeKey"})}}}catch(n){t(Tr.create("storage-open",{originalErrorMessage:n?.message}))}}),ef)}function tU(e,t){return nU(rU(e),t)}function nU(e,t){return m(this,null,function*(){let r=(yield eU()).transaction(Yv,"readwrite"),o=r.objectStore(Yv).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Tr.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function rU(e){return`${e.options.appId}-${e.name}`}var tc=new Tn("@firebase/app-check");function zv(e,t){return zd()?tU(e,t).catch(n=>{tc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ZS(){return GS().enabled}function QS(){return m(this,null,function*(){let e=GS();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var iU={error:"UNKNOWN_ERROR"};function oU(e){return Zo.encodeString(JSON.stringify(e),!1)}function Kv(e,t=!1,n=!1){return m(this,null,function*(){let r=e.app;qS(r);let i=en(r),o=i.token,s;if(o&&!nc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(nc(l)?o=l:yield zv(r,void 0))}if(!t&&o&&nc(o))return{token:o.token};let a=!1;if(ZS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=YS(KS(r,yield QS()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield zv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?tc.warn(l.message):n&&tc.error(l),Gv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield en(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?tc.warn(l.message):n&&tc.error(l),s=l}let c;return o?s?nc(o)?c={token:o.token,internalError:s}:c=Gv(s):(c={token:o.token},i.token=o,yield zv(r,o)):c=Gv(s),a&&lU(r,c),c})}function sU(e){return m(this,null,function*(){let t=e.app;qS(t);let{provider:n}=en(t);if(ZS()){let r=yield QS(),{token:i}=yield YS(KS(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function aU(e,t,n,r){let{app:i}=e,o=en(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&nc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),WS(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>WS(e))}function JS(e,t){let n=en(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function WS(e){let{app:t}=e,n=en(t),r=n.tokenRefresher;r||(r=cU(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function cU(e){let{app:t}=e;return new qv(()=>m(null,null,function*(){let n=en(t),r;if(n.token?r=yield Kv(e,!0):r=yield Kv(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=en(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},$S.RETRIAL_MIN_WAIT,$S.RETRIAL_MAX_WAIT)}function lU(e,t){let n=en(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function nc(e){return e.expireTimeMillis-Date.now()>0}function Gv(e){return{token:oU(iU),error:e}}var Zv=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=en(this.app);for(let n of t)JS(this.app,n.next);return Promise.resolve()}};function uU(e,t){return new Zv(e,t)}function dU(e){return{getToken:t=>Kv(e,t),getLimitedUseToken:()=>sU(e),addTokenListener:t=>aU(e,"INTERNAL",t),removeTokenListener:t=>JS(e.app,t)}}var fU="@firebase/app-check",hU="0.10.1";var pU="app-check",zS="app-check-internal";function gU(){Xt(new Ze(pU,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return uU(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(zS).initialize()})),Xt(new Ze(zS,e=>{let t=e.getProvider("app-check").getImmediate();return dU(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),_e(fU,hU)}gU();var mU="app-check";var tf=class{constructor(){return es(mU)}};var vU=["localhost","0.0.0.0","127.0.0.1"],xte=typeof window<"u"&&vU.includes(window.location.hostname);function s0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var a0=s0,c0=new Qt("auth","Firebase",s0());var sf=new Tn("@firebase/auth");function yU(e,...t){sf.logLevel<=re.WARN&&sf.warn(`Auth (${Qo}): ${e}`,...t)}function rf(e,...t){sf.logLevel<=re.ERROR&&sf.error(`Auth (${Qo}): ${e}`,...t)}function XS(e,...t){throw cy(e,...t)}function ay(e,...t){return cy(e,...t)}function l0(e,t,n){let r=Object.assign(Object.assign({},a0()),{[t]:n});return new Qt("auth","Firebase",r).create(t,{appName:e.name})}function of(e){return l0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cy(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return c0.create(e,...t)}function J(e,t,...n){if(!e)throw cy(t,...n)}function rc(e){let t="INTERNAL ASSERTION FAILED: "+e;throw rf(t),new Error(t)}function af(e,t){e||rc(t)}function _U(){return e0()==="http:"||e0()==="https:"}function e0(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function EU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_U()||vS()||"connection"in navigator)?navigator.onLine:!0}function IU(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Pi=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,af(n>t,"Short delay should be less than long delay!"),this.isMobile=qa()||Wd()}get(){return EU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function CU(e,t){af(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var cf=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var wU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var bU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DU=new Pi(3e4,6e4);function u0(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function hf(o,s,a,c){return m(this,arguments,function*(e,t,n,r,i={}){return d0(e,i,()=>m(null,null,function*(){let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});let d=Ka(Object.assign({key:e.config.apiKey},u)).slice(1),f=yield e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:f},l);return mS()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Di(e.emulatorConfig.host)&&(h.credentials="include"),cf.fetch()(yield f0(e,e.config.apiHost,n,d),h)}))})}function d0(e,t,n){return m(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},wU),t);try{let i=new Xv(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw nf(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw nf(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw nf(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw nf(e,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw l0(e,u,l);XS(e,u)}}catch(i){if(i instanceof wn)throw i;XS(e,"network-request-failed",{message:String(i)})}})}function f0(e,t,n,r){return m(this,null,function*(){let i=`${t}${n}?${r}`,o=e,s=o.config.emulator?CU(e.config,i):`${e.config.apiScheme}://${i}`;return bU.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Xv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ay(this.auth,"network-request-failed")),DU.get())})}};function nf(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ay(e,t,r);return i.customData._tokenResponse=n,i}function TU(e,t){return m(this,null,function*(){return hf(e,"POST","/v1/accounts:delete",t)})}function lf(e,t){return m(this,null,function*(){return hf(e,"POST","/v1/accounts:lookup",t)})}function ic(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function ly(e,t=!1){return m(this,null,function*(){let n=bt(e),r=yield n.getIdToken(t),i=h0(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ic(Qv(i.auth_time)),issuedAtTime:ic(Qv(i.iat)),expirationTime:ic(Qv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Qv(e){return Number(e)*1e3}function h0(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Yo(n);return i?JSON.parse(i):(rf("Failed to decode base64 JWT payload"),null)}catch(i){return rf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function t0(e){let t=h0(e);return J(t,"internal-error"),J(typeof t.exp<"u","internal-error"),J(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function ey(e,t,n=!1){return m(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof wn&&SU(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function SU({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var ty=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var sc=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function uf(e){return m(this,null,function*(){var t;let n=e.auth,r=yield e.getIdToken(),i=yield ey(e,lf(n,{idToken:r}));J(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?p0(o.providerUserInfo):[],a=AU(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new sc(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function uy(e){return m(this,null,function*(){let t=bt(e);yield uf(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function AU(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function p0(e){return e.map(t=>{var{providerId:n}=t,r=_h(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function RU(e,t){return m(this,null,function*(){let n=yield d0(e,{},()=>m(null,null,function*(){let r=Ka({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=yield f0(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return e.emulatorConfig&&Di(e.emulatorConfig.host)&&(c.credentials="include"),cf.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function NU(e,t){return m(this,null,function*(){return hf(e,"POST","/v2/accounts:revokeToken",u0(e,t))})}var oc=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){J(t.idToken,"internal-error"),J(typeof t.idToken<"u","internal-error"),J(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):t0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){J(t.length!==0,"internal-error");let n=t0(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return m(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield RU(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(J(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return rc("not implemented")}};function Sr(e,t){J(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var xi=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=_h(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ty(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return m(this,null,function*(){let n=yield ey(this,this.stsTokenManager.getToken(this.auth,t));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return ly(this,t)}reload(){return uy(this)}_assign(t){this!==t&&(J(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return m(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield uf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(er(this.auth.app))return Promise.reject(of(this.auth));let t=yield this.getIdToken();return yield ey(this,TU(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(l=n.createdAt)!==null&&l!==void 0?l:void 0,le=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:Ne,emailVerified:on,isAnonymous:Oc,providerData:Qf,stsTokenManager:F_}=n;J(Ne&&F_,t,"internal-error");let CR=oc.fromJSON(this.name,F_);J(typeof Ne=="string",t,"internal-error"),Sr(d,t.name),Sr(f,t.name),J(typeof on=="boolean",t,"internal-error"),J(typeof Oc=="boolean",t,"internal-error"),Sr(h,t.name),Sr(p,t.name),Sr(y,t.name),Sr(w,t.name),Sr(T,t.name),Sr(le,t.name);let Jf=new e({uid:Ne,auth:t,email:f,emailVerified:on,displayName:d,isAnonymous:Oc,photoURL:p,phoneNumber:h,tenantId:y,stsTokenManager:CR,createdAt:T,lastLoginAt:le});return Qf&&Array.isArray(Qf)&&(Jf.providerData=Qf.map(wR=>Object.assign({},wR))),w&&(Jf._redirectEventId=w),Jf}static _fromIdTokenResponse(t,n,r=!1){return m(this,null,function*(){let i=new oc;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield uf(o),o})}static _fromGetAccountInfoResponse(t,n,r){return m(this,null,function*(){let i=n.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?p0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new oc;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new sc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var n0=new Map;function ki(e){af(e instanceof Function,"Expected a class definition");let t=n0.get(e);return t?(af(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,n0.set(e,t),t)}var MU=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),ny=MU;function Jv(e,t,n){return`firebase:${e}:${t}:${n}`}var df=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Jv(this.userKey,i.apiKey,o),this.fullPersistenceKey=Jv("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return m(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=yield lf(this.auth,{idToken:t}).catch(()=>{});return n?xi._fromGetAccountInfoResponse(this.auth,n,t):null}return xi._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return m(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new e(ki(ny),t,r);let i=(yield Promise.all(n.map(l=>m(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ki(ny),s=Jv(r,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield lf(t,{idToken:u}).catch(()=>{});if(!f)break;d=yield xi._fromGetAccountInfoResponse(t,f,u)}else d=xi._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>m(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,r))})}};function r0(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PU(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(OU(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(LU(t))return"Blackberry";if(VU(t))return"Webos";if(xU(t))return"Safari";if((t.includes("chrome/")||kU(t))&&!t.includes("edge/"))return"Chrome";if(FU(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function OU(e=Jt()){return/firefox\//i.test(e)}function xU(e=Jt()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kU(e=Jt()){return/crios\//i.test(e)}function PU(e=Jt()){return/iemobile/i.test(e)}function FU(e=Jt()){return/android/i.test(e)}function LU(e=Jt()){return/blackberry/i.test(e)}function VU(e=Jt()){return/webos/i.test(e)}function g0(e,t=[]){let n;switch(e){case"Browser":n=r0(Jt());break;case"Worker":n=`${r0(Jt())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${r}`}var ry=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return m(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function jU(n){return m(this,arguments,function*(e,t={}){return hf(e,"GET","/v2/passwordPolicy",u0(e,t))})}var UU=6,iy=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:UU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var oy=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ff(this),this.idTokenSubscription=new ff(this),this.beforeStateQueue=new ry(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield df.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return m(this,null,function*(){try{let n=yield lf(this,{idToken:t}),r=yield xi._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return m(this,null,function*(){var n;if(er(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return m(this,null,function*(){try{yield uf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=IU()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return m(this,null,function*(){if(er(this.app))return Promise.reject(of(this));let n=t?bt(t):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return m(this,null,function*(){if(!this._deleted)return t&&J(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return er(this.app)?Promise.reject(of(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return er(this.app)?Promise.reject(of(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(ki(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let t=yield jU(this),n=new iy(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Qt("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield NU(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&ki(t)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield df.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return m(this,null,function*(){if(t===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return m(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=g0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var t;if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&yU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function BU(e){return bt(e)}var ff=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=CS(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var HU={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $U(e){HU=e}function WU(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function zU(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ki);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}var zte=WU("rcb"),Gte=new Pi(3e4,6e4);var qte=new Pi(2e3,1e4);var Yte=10*60*1e3;var Kte=new Pi(3e4,6e4);var Zte=new Pi(5e3,15e3);var Qte=encodeURIComponent("fac");var i0="@firebase/auth",o0="1.10.8";var sy=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function GU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qU(e){Xt(new Ze("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g0(e)},l=new oy(r,i,o,c);return zU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Xt(new Ze("auth-internal",t=>{let n=BU(t.getProvider("auth").getImmediate());return(r=>new sy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_e(i0,o0,GU(e)),_e(i0,o0,"esm2017")}var YU=5*60,Jte=pS("authIdTokenMaxAge")||YU;function KU(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}$U({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=ay("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",KU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qU("Browser");var qB="auth";var pf=class{constructor(){return es(qB)}};var m0="@firebase/database",v0="1.0.20";var d_="";function YB(e){d_=e}var yy=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Te(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ko(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var _y=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Dn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var K0=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new yy(t)}}catch{}return new _y},Li=K0("localStorage"),Ey=K0("sessionStorage");var rs=new Tn("@firebase/database"),KB=function(){let e=1;return function(){return e++}}(),Z0=function(e){let t=wS(e),n=new $d;n.update(t);let r=n.digest();return Zo.encodeByteArray(r)},Dc=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Dc.apply(null,r):typeof r=="object"?t+=Te(r):t+=r,t+=" "}return t},ji=null,y0=!0,ZB=function(e,t){_(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(rs.logLevel=re.VERBOSE,ji=rs.log.bind(rs),t&&Ey.set("logging_enabled",!0)):typeof e=="function"?ji=e:(ji=null,Ey.remove("logging_enabled"))},Ue=function(...e){if(y0===!0&&(y0=!1,ji===null&&Ey.get("logging_enabled")===!0&&ZB(!0)),ji){let t=Dc.apply(null,e);ji(t)}},Tc=function(e){return function(...t){Ue(e,...t)}},Iy=function(...e){let t="FIREBASE INTERNAL ERROR: "+Dc(...e);rs.error(t)},tr=function(...e){let t=`FIREBASE FATAL ERROR: ${Dc(...e)}`;throw rs.error(t),new Error(t)},ot=function(...e){let t="FIREBASE WARNING: "+Dc(...e);rs.warn(t)},QB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ot("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Q0=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},JB=function(e){if(bn()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},os="[MIN_NAME]",Ui="[MAX_NAME]",fs=function(e,t){if(e===t)return 0;if(e===os||t===Ui)return-1;if(t===os||e===Ui)return 1;{let n=_0(e),r=_0(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},XB=function(e,t){return e===t?0:e<t?-1:1},ac=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Te(t))},f_=function(e){if(typeof e!="object"||e===null)return Te(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Te(t[r]),n+=":",n+=f_(e[t[r]]);return n+="}",n},J0=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function st(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var X0=function(e){_(!Q0(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},e2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},t2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function n2(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var r2=new RegExp("^-?(0*)\\d{1,10}$"),i2=-2147483648,o2=2147483647,_0=function(e){if(r2.test(e)){let t=Number(e);if(t>=i2&&t<=o2)return t}return null},hs=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw ot("Exception was thrown by user callback.",n),t},Math.floor(0))}},s2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fc=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Cy=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,er(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){ot(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var wy=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ot(t)}},hc=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),mf="5",eA="v",tA="s",nA="r",rA="f",iA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oA="ls",sA="p",by="ac",aA="websocket",cA="long_polling";var vf=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Li.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Li.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function a2(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function lA(e,t,n){_(typeof t=="string","typeof type must == string"),_(typeof n=="object","typeof params must == object");let r;if(t===aA)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===cA)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);a2(e)&&(n.ns=e.namespace);let i=[];return st(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Dy=class{constructor(){this.counters_={}}incrementCounter(t,n=1){Dn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return lS(this.counters_)}};var dy={},fy={};function h_(e){let t=e.toString();return dy[t]||(dy[t]=new Dy),dy[t]}function c2(e,t){let n=e.toString();return fy[n]||(fy[n]=t()),fy[n]}var Ty=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&hs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var E0="start",l2="close",u2="pLPCommand",d2="pRTLPCB",uA="id",dA="pw",fA="ser",f2="cb",h2="seg",p2="ts",g2="d",m2="dframe",hA=1870,pA=30,v2=hA-pA,y2=25e3,_2=3e4,Sy=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Tc(t),this.stats_=h_(n),this.urlFn=c=>(this.appCheckToken&&(c[by]=this.appCheckToken),lA(n,cA,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ty(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_2)),JB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ay((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===E0)this.id=a,this.password=c;else if(s===l2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[E0]="t",r[fA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[f2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[eA]=mf,this.transportSessionId&&(r[tA]=this.transportSessionId),this.lastSessionId&&(r[oA]=this.lastSessionId),this.applicationId&&(r[sA]=this.applicationId),this.appCheckToken&&(r[by]=this.appCheckToken),typeof location<"u"&&location.hostname&&iA.test(location.hostname)&&(r[nA]=rA);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return bn()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!e2()&&!t2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=Te(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Dv(n),i=J0(r,v2);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(bn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[m2]="t",r[uA]=t,r[dA]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=Te(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Ay=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,bn())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=KB(),window[u2+this.uniqueCallbackIdentifier]=t,window[d2+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ue("frame writing exception"),a.stack&&Ue(a.stack),Ue(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ue("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[uA]=this.myID,t[dA]=this.myPW,t[fA]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+pA+r.length<=hA;){let s=this.pendingSegs.shift();r=r+"&"+h2+i+"="+s.seg+"&"+p2+i+"="+s.ts+"&"+g2+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(y2)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){bn()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ue("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var E2=16384,I2=45e3,yf=null;typeof MozWebSocket<"u"?yf=MozWebSocket:typeof WebSocket<"u"&&(yf=WebSocket);var cc=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Tc(this.connId),this.stats_=h_(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[eA]=mf,!bn()&&typeof location<"u"&&location.hostname&&iA.test(location.hostname)&&(a[nA]=rA),r&&(a[tA]=r),i&&(a[oA]=i),o&&(a[by]=o),s&&(a[sA]=s),lA(n,aA,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Li.set("previous_websocket_failure",!0);try{let i;if(bn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${mf}/${d_}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new yf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&yf!==null&&!e.forceDisallow_}static previouslyFailed(){return Li.isInMemoryStorage||Li.get("previous_websocket_failure")===!0}markConnectionHealthy(){Li.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Ko(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Te(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=J0(r,E2);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(I2))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),C2=(()=>{class e{static get ALL_TRANSPORTS(){return[Sy,cc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=cc&&cc.isAvailable(),i=r&&!cc.previouslyFailed();if(n.webSocketOnly&&(r||ot("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[cc];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),w2=6e4,b2=5e3,D2=10*1024,T2=100*1024,hy="t",I0="d",S2="s",C0="r",A2="e",w0="o",b0="a",D0="n",T0="p",R2="h",Ry=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Tc("c:"+this.id+":"),this.transportManager_=new C2(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=fc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>T2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>D2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(hy in t){let n=t[hy];n===b0?this.upgradeIfSecondaryHealthy_():n===C0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===w0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=ac("t",t),r=ac("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:T0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:b0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:D0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=ac("t",t),r=ac("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=ac(hy,t);if(I0 in t){let r=t[I0];if(n===R2){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===D0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===S2?this.onConnectionShutdown_(r):n===C0?this.onReset_(r):n===A2?Iy("Server Error: "+r):n===w0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Iy("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),mf!==r&&ot("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),fc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(w2))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(b2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:T0,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Li.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var _f=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var Ef=class{constructor(t){this.allowedEvents_=t,this.listeners_={},_(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){_(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var If=class e extends Ef{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qa()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return _(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var S0=32,A0=768,ie=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function K(){return new ie("")}function H(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Nr(e){return e.pieces_.length-e.pieceNum_}function oe(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ie(e.pieces_,t)}function gA(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function N2(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function mA(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function vA(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ie(t,0)}function Re(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ie)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ie(n,0)}function W(e){return e.pieceNum_>=e.pieces_.length}function Qe(e,t){let n=H(e),r=H(t);if(n===null)return t;if(n===r)return Qe(oe(e),oe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function p_(e,t){if(Nr(e)!==Nr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function nn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Nr(e)>Nr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ny=class{constructor(t,n){this.errorPrefix_=n,this.parts_=mA(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Za(this.parts_[r]);yA(this)}};function M2(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Za(t),yA(e)}function O2(e){let t=e.parts_.pop();e.byteLength_-=Za(t),e.parts_.length>0&&(e.byteLength_-=1)}function yA(e){if(e.byteLength_>A0)throw new Error(e.errorPrefix_+"has a key path longer than "+A0+" bytes ("+e.byteLength_+").");if(e.parts_.length>S0)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+S0+") or object contains a cycle "+Fi(e))}function Fi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var My=class e extends Ef{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return _(t==="visible","Unknown event type: "+t),[this.visible_]}};var lc=1e3,x2=60*5*1e3,R0=30*1e3,k2=1.3,P2=3e4,F2="server_kill",N0=3,g_=(()=>{class e extends _f{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=Tc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=lc,this.maxReconnectDelay_=x2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!bn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");My.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&If.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Te(s)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Zt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Dn(n,"w")){let i=Ti(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ot(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||IS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=R0)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=ES(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Te(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Iy("Unrecognized action received from server: "+Te(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=lc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=lc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>P2&&(this.reconnectDelay_=lc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*k2)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){_(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new Ry(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{ot(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(F2)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ot(f),l())}}})}interrupt(n){Ue("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ue("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Gd(this.interruptReasons_)&&(this.reconnectDelay_=lc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>f_(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ie(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ue("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=N0&&(this.reconnectDelay_=R0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ue("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=N0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";bn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+d_.replace(/\./g,"-")]=1,qa()?n["framework.cordova"]=1:Wd()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=If.getInstance().currentlyOnline();return Gd(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),$=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var ss=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new $(os,t),i=new $(os,n);return this.compare(r,i)!==0}minPost(){return $.MIN}};var gf,Cf=class extends ss{static get __EMPTY_NODE(){return gf}static set __EMPTY_NODE(t){gf=t}compare(t,n){return fs(t.name,n.name)}isDefinedOn(t){throw bi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return $.MIN}maxPost(){return new $(Ui,gf)}makePost(t,n){return _(typeof t=="string","KeyIndex indexValue must always be a string."),new $(t,gf)}toString(){return".key"}},is=new Cf;var ns=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},tn=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Ot.EMPTY_NODE,this.right=s??Ot.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ot.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ot.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Oy=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new tn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ot=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,tn.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,tn.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ns(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ns(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ns(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ns(this.root_,null,this.comparator_,!0,t)}};Ot.EMPTY_NODE=new Oy;function L2(e,t){return fs(e.name,t.name)}function m_(e,t){return fs(e,t)}var xy;function V2(e){xy=e}var _A=function(e){return typeof e=="number"?"number:"+X0(e):"string:"+e},EA=function(e){if(e.isLeafNode()){let t=e.val();_(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Dn(t,".sv"),"Priority must be a string or number.")}else _(e===xy||e.isEmpty(),"priority of unexpected type.");_(e===xy||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var M0,as=(()=>{class e{static set __childrenNodeConstructor(n){M0=n}static get __childrenNodeConstructor(){return M0}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),EA(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return W(n)?this:H(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=H(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(_(i!==".priority"||Nr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(oe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+_A(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=X0(this.value_):n+=this.value_,this.lazyHash_=Z0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(_(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return _(o>=0,"Unknown leaf type: "+r),_(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),IA,CA;function j2(e){IA=e}function U2(e){CA=e}var ky=class extends ss{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?fs(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return $.MIN}maxPost(){return new $(Ui,new as("[PRIORITY-POST]",CA))}makePost(t,n){let r=IA(t);return new $(n,new as("[PRIORITY-POST]",r))}toString(){return".priority"}},pe=new ky;var B2=Math.log(2),Py=class{constructor(t){let n=o=>parseInt(Math.log(o)/B2,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},wf=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new tn(f,d.node,tn.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),y=i(h+1,l);return d=e[h],f=n?n(d):d,new tn(f,d.node,tn.BLACK,p,y)}},o=function(c){let l=null,u=null,d=e.length,f=function(p,y){let w=d-p,T=d;d-=p;let le=i(w+1,T),Ne=e[w],on=n?n(Ne):Ne;h(new tn(on,Ne.node,y,null,le))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let y=c.nextBitIsOne(),w=Math.pow(2,c.count-(p+1));y?f(w,tn.BLACK):(f(w,tn.BLACK),f(w,tn.RED))}return u},s=new Py(e.length),a=o(s);return new Ot(r||t,a)};var py,ts={},cs=class e{static get Default(){return _(ts&&pe,"ChildrenNode.ts has not been loaded"),py=py||new e({".priority":ts},{".priority":pe}),py}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=Ti(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ot?n:null}hasIndex(t){return Dn(this.indexSet_,t.toString())}addIndex(t,n){_(t!==is,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator($.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=wf(r,t.getCompare()):a=ts;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=Ya(this.indexes_,(i,o)=>{let s=Ti(this.indexSet_,o);if(_(s,"Missing index implementation for "+o),i===ts)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator($.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),wf(a,s.getCompare())}else return ts;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new $(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=Ya(this.indexes_,i=>{if(i===ts)return i;{let o=n.get(t.name);return o?i.remove(new $(t.name,o)):i}});return new e(r,this.indexSet_)}};var uc,U=(()=>{class e{static get EMPTY_NODE(){return uc||(uc=new e(new Ot(m_),null,cs.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&EA(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||uc}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?uc:r}}getChild(n){let r=H(n);return r===null?this:this.getImmediateChild(r).getChild(oe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(_(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new $(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?uc:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=H(n);if(i===null)return r;{_(H(n)!==".priority"||Nr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(oe(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(pe,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+_A(this.getPriority().val())+":"),this.forEachChild(pe,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":Z0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new $(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new $(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new $(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,$.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,$.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Sc?-1:0}withIndex(n){if(n===is||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===is||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(pe),o=r.getIterator(pe),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===is?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Fy=class extends U{constructor(){super(new Ot(m_),U.EMPTY_NODE,cs.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return U.EMPTY_NODE}isEmpty(){return!1}},Sc=new Fy;Object.defineProperties($,{MIN:{value:new $(os,U.EMPTY_NODE)},MAX:{value:new $(Ui,Sc)}});Cf.__EMPTY_NODE=U.EMPTY_NODE;as.__childrenNodeConstructor=U;V2(Sc);U2(Sc);var H2=!0;function xe(e,t=null){if(e===null)return U.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),_(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new as(n,xe(t))}if(!(e instanceof Array)&&H2){let n=[],r=!1;if(st(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=xe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new $(s,c)))}}),n.length===0)return U.EMPTY_NODE;let o=wf(n,L2,s=>s.name,m_);if(r){let s=wf(n,pe.getCompare());return new U(o,xe(t),new cs({".priority":s},{".priority":pe}))}else return new U(o,xe(t),cs.Default)}else{let n=U.EMPTY_NODE;return st(e,(r,i)=>{if(Dn(e,r)&&r.substring(0,1)!=="."){let o=xe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(xe(t))}}j2(xe);var Ly=class extends ss{constructor(t){super(),this.indexPath_=t,_(!W(t)&&H(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?fs(t.name,n.name):o}makePost(t,n){let r=xe(t),i=U.EMPTY_NODE.updateChild(this.indexPath_,r);return new $(n,i)}maxPost(){let t=U.EMPTY_NODE.updateChild(this.indexPath_,Sc);return new $(Ui,t)}toString(){return mA(this.indexPath_,0).join("/")}};var Vy=class extends ss{compare(t,n){let r=t.node.compareTo(n.node);return r===0?fs(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(t,n){let r=xe(t);return new $(n,r)}toString(){return".value"}},$2=new Vy;function wA(e){return{type:"value",snapshotNode:e}}function ls(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function vc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function yc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function W2(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var _c=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){_(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(vc(n,a)):_(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ls(n,r)):s.trackChildChange(yc(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(pe,(i,o)=>{n.hasChild(i)||r.trackChildChange(vc(i,o))}),n.isLeafNode()||n.forEachChild(pe,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(yc(i,o,s))}else r.trackChildChange(ls(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?U.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var bf=class e{constructor(t){this.indexedFilter_=new _c(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new $(n,r))||(r=U.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=U.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(U.EMPTY_NODE);let o=this;return n.forEachChild(pe,(s,a)=>{o.matches(new $(s,a))||(i=i.updateImmediateChild(s,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var jy=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new bf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new $(n,r))||(r=U.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=U.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(U.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;_(a.numChildren()===this.limit_,"");let c=new $(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(yc(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(vc(n,d));let y=a.updateImmediateChild(n,U.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(ls(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?t:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(vc(l.name,l.node)),o.trackChildChange(ls(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,U.EMPTY_NODE)):t}};var Uy=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:os}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ui}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pe}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function z2(e){return e.loadsAllData()?new _c(e.getIndex()):e.hasLimit()?new jy(e):new bf(e)}function O0(e){let t={};if(e.isDefault())return t;let n;if(e.index_===pe?n="$priority":e.index_===$2?n="$value":e.index_===is?n="$key":(_(e.index_ instanceof Ly,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Te(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=Te(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Te(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Te(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Te(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function x0(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==pe&&(t.i=e.index_.toString()),t}var By=class e extends _f{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(_(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Tc("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=O0(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Ti(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=O0(t._queryParams),r=t._path.toString(),i=new Zt;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ka(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Ko(a.responseText)}catch{ot("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&ot("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Hy=class{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function Df(){return{value:null,children:new Map}}function bA(e,t,n){if(W(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=H(t);e.children.has(r)||e.children.set(r,Df());let i=e.children.get(r);t=oe(t),bA(i,t,n)}}function $y(e,t,n){e.value!==null?n(t,e.value):G2(e,(r,i)=>{let o=new ie(t.toString()+"/"+r);$y(i,o,n)})}function G2(e,t){e.children.forEach((n,r)=>{t(r,n)})}var Wy=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&st(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var k0=10*1e3,q2=30*1e3,Y2=5*60*1e3,zy=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Wy(t);let r=k0+(q2-k0)*Math.random();fc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;st(t,(i,o)=>{o>0&&Dn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),fc(this.reportStats_.bind(this),Math.floor(Math.random()*2*Y2))}};var Rn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Rn||{});function DA(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function v_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function y_(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Gy=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Rn.ACK_USER_WRITE,this.source=DA()}operationForChild(t){if(W(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ie(t));return new e(K(),n,this.revert)}}else return _(H(this.path)===t,"operationForChild called for unrelated child."),new e(oe(this.path),this.affectedTree,this.revert)}};var Tf=class e{constructor(t,n){this.source=t,this.path=n,this.type=Rn.LISTEN_COMPLETE}operationForChild(t){return W(this.path)?new e(this.source,K()):new e(this.source,oe(this.path))}};var us=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Rn.OVERWRITE}operationForChild(t){return W(this.path)?new e(this.source,K(),this.snap.getImmediateChild(t)):new e(this.source,oe(this.path),this.snap)}};var Sf=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Rn.MERGE}operationForChild(t){if(W(this.path)){let n=this.children.subtree(new ie(t));return n.isEmpty()?null:n.value?new us(this.source,K(),n.value):new e(this.source,K(),n)}else return _(H(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Nn=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(W(t))return this.isFullyInitialized()&&!this.filtered_;let n=H(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var qy=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function K2(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(W2(s.childName,s.snapshotNode))}),dc(e,i,"child_removed",t,r,n),dc(e,i,"child_added",t,r,n),dc(e,i,"child_moved",o,r,n),dc(e,i,"child_changed",t,r,n),dc(e,i,"value",t,r,n),i}function dc(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>Q2(e,a,c)),s.forEach(a=>{let c=Z2(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function Z2(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Q2(e,t,n){if(t.childName==null||n.childName==null)throw bi("Should only compare child_ events.");let r=new $(t.childName,t.snapshotNode),i=new $(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function Bf(e,t){return{eventCache:e,serverCache:t}}function pc(e,t,n,r){return Bf(new Nn(t,n,r),e.serverCache)}function TA(e,t,n,r){return Bf(e.eventCache,new Nn(t,n,r))}function Af(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Bi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var gy,J2=()=>(gy||(gy=new Ot(XB)),gy),at=class e{static fromObject(t){let n=new e(null);return st(t,(r,i)=>{n=n.set(new ie(r),i)}),n}constructor(t,n=J2()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(W(t))return null;{let r=H(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(oe(t),n);return o!=null?{path:Re(new ie(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(W(t))return this;{let n=H(t),r=this.children.get(n);return r!==null?r.subtree(oe(t)):new e(null)}}set(t,n){if(W(t))return new e(n,this.children);{let r=H(t),o=(this.children.get(r)||new e(null)).set(oe(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(W(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=H(t),r=this.children.get(n);if(r){let i=r.remove(oe(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(W(t))return this.value;{let n=H(t),r=this.children.get(n);return r?r.get(oe(t)):null}}setTree(t,n){if(W(t))return n;{let r=H(t),o=(this.children.get(r)||new e(null)).setTree(oe(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(K(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Re(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,K(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(W(t))return null;{let o=H(t),s=this.children.get(o);return s?s.findOnPath_(oe(t),Re(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,K(),n)}foreachOnPath_(t,n,r){if(W(t))return this;{this.value&&r(n,this.value);let i=H(t),o=this.children.get(i);return o?o.foreachOnPath_(oe(t),Re(n,i),r):new e(null)}}foreach(t){this.foreach_(K(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Re(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var rn=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new at(null))}};function gc(e,t,n){if(W(t))return new rn(new at(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=Qe(i,t);return o=o.updateChild(s,n),new rn(e.writeTree_.set(i,o))}else{let i=new at(n),o=e.writeTree_.setTree(t,i);return new rn(o)}}}function P0(e,t,n){let r=e;return st(n,(i,o)=>{r=gc(r,Re(t,i),o)}),r}function F0(e,t){if(W(t))return rn.empty();{let n=e.writeTree_.setTree(t,new at(null));return new rn(n)}}function Yy(e,t){return Hi(e,t)!=null}function Hi(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Qe(n.path,t)):null}function L0(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pe,(r,i)=>{t.push(new $(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new $(r,i.value))}),t}function Ar(e,t){if(W(t))return e;{let n=Hi(e,t);return n!=null?new rn(new at(n)):new rn(e.writeTree_.subtree(t))}}function Ky(e){return e.writeTree_.isEmpty()}function ds(e,t){return SA(K(),e.writeTree_,t)}function SA(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(_(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=SA(Re(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Re(e,".priority"),r)),n}}function Hf(e,t){return MA(t,e)}function X2(e,t,n,r,i){_(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=gc(e.visibleWrites,t,n)),e.lastWriteId=r}function eH(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function tH(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);_(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&nH(a,r.path)?i=!1:nn(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return rH(e),!0;if(r.snap)e.visibleWrites=F0(e.visibleWrites,r.path);else{let a=r.children;st(a,c=>{e.visibleWrites=F0(e.visibleWrites,Re(r.path,c))})}return!0}else return!1}function nH(e,t){if(e.snap)return nn(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&nn(Re(e.path,n),t))return!0;return!1}function rH(e){e.visibleWrites=AA(e.allWrites,iH,K()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function iH(e){return e.visible}function AA(e,t,n){let r=rn.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)nn(n,s)?(a=Qe(n,s),r=gc(r,a,o.snap)):nn(s,n)&&(a=Qe(s,n),r=gc(r,K(),o.snap.getChild(a)));else if(o.children){if(nn(n,s))a=Qe(n,s),r=P0(r,a,o.children);else if(nn(s,n))if(a=Qe(s,n),W(a))r=P0(r,K(),o.children);else{let c=Ti(o.children,H(a));if(c){let l=c.getChild(oe(a));r=gc(r,K(),l)}}}else throw bi("WriteRecord should have .snap or .children")}}return r}function RA(e,t,n,r,i){if(!r&&!i){let o=Hi(e.visibleWrites,t);if(o!=null)return o;{let s=Ar(e.visibleWrites,t);if(Ky(s))return n;if(n==null&&!Yy(s,K()))return null;{let a=n||U.EMPTY_NODE;return ds(s,a)}}}else{let o=Ar(e.visibleWrites,t);if(!i&&Ky(o))return n;if(!i&&n==null&&!Yy(o,K()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(nn(l.path,t)||nn(t,l.path))},a=AA(e.allWrites,s,t),c=n||U.EMPTY_NODE;return ds(a,c)}}}function oH(e,t,n){let r=U.EMPTY_NODE,i=Hi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(pe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Ar(e.visibleWrites,t);return n.forEachChild(pe,(s,a)=>{let c=ds(Ar(o,new ie(s)),a);r=r.updateImmediateChild(s,c)}),L0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Ar(e.visibleWrites,t);return L0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function sH(e,t,n,r,i){_(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Re(t,n);if(Yy(e.visibleWrites,o))return null;{let s=Ar(e.visibleWrites,o);return Ky(s)?i.getChild(n):ds(s,i.getChild(n))}}function aH(e,t,n,r){let i=Re(t,n),o=Hi(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Ar(e.visibleWrites,i);return ds(s,r.getNode().getImmediateChild(n))}else return null}function cH(e,t){return Hi(e.visibleWrites,t)}function lH(e,t,n,r,i,o,s){let a,c=Ar(e.visibleWrites,t),l=Hi(c,K());if(l!=null)a=l;else if(n!=null)a=ds(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function uH(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function Rf(e,t,n,r){return RA(e.writeTree,e.treePath,t,n,r)}function __(e,t){return oH(e.writeTree,e.treePath,t)}function V0(e,t,n,r){return sH(e.writeTree,e.treePath,t,n,r)}function Nf(e,t){return cH(e.writeTree,Re(e.treePath,t))}function dH(e,t,n,r,i,o){return lH(e.writeTree,e.treePath,t,n,r,i,o)}function E_(e,t,n){return aH(e.writeTree,e.treePath,t,n)}function NA(e,t){return MA(Re(e.treePath,t),e.writeTree)}function MA(e,t){return{treePath:e,writeTree:t}}var Zy=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;_(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,yc(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,vc(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ls(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,yc(r,t.snapshotNode,i.oldSnap));else throw bi("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Qy=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},OA=new Qy,Ec=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new Nn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return E_(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Bi(this.viewCache_),o=dH(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function fH(e){return{filter:e}}function hH(e,t){_(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),_(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function pH(e,t,n,r,i){let o=new Zy,s,a;if(n.type===Rn.OVERWRITE){let l=n;l.source.fromUser?s=Jy(e,t,l.path,l.snap,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!W(l.path),s=Mf(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Rn.MERGE){let l=n;l.source.fromUser?s=mH(e,t,l.path,l.children,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Xy(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Rn.ACK_USER_WRITE){let l=n;l.revert?s=_H(e,t,l.path,r,i,o):s=vH(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===Rn.LISTEN_COMPLETE)s=yH(e,t,n.path,r,o);else throw bi("Unknown operation type: "+n.type);let c=o.getChanges();return gH(t,s,c),{viewCache:s,changes:c}}function gH(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Af(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(wA(Af(t)))}}function xA(e,t,n,r,i,o){let s=t.eventCache;if(Nf(r,n)!=null)return t;{let a,c;if(W(n))if(_(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=Bi(t),u=l instanceof U?l:U.EMPTY_NODE,d=__(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=Rf(r,Bi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=H(n);if(l===".priority"){_(Nr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=V0(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=oe(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let f=V0(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=E_(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return pc(t,a,s.isFullyInitialized()||W(n),e.filter.filtersNodes())}}function Mf(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(W(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=H(n);if(!c.isCompleteForPath(n)&&Nr(n)>1)return t;let p=oe(n),w=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),w):l=u.updateChild(c.getNode(),h,w,p,OA,null)}let d=TA(t,l,c.isFullyInitialized()||W(n),u.filtersNodes()),f=new Ec(i,d,o);return xA(e,d,n,i,f,a)}function Jy(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new Ec(i,t,o);if(W(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=pc(t,l,!0,e.filter.filtersNodes());else{let d=H(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=pc(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=oe(n),h=a.getNode().getImmediateChild(d),p;if(W(f))p=r;else{let y=u.getCompleteChild(d);y!=null?gA(f)===".priority"&&y.getChild(vA(f)).isEmpty()?p=y:p=y.updateChild(f,r):p=U.EMPTY_NODE}if(h.equals(p))c=t;else{let y=e.filter.updateChild(a.getNode(),d,p,f,u,s);c=pc(t,y,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function j0(e,t){return e.eventCache.isCompleteForChild(t)}function mH(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=Re(n,c);j0(t,H(u))&&(a=Jy(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Re(n,c);j0(t,H(u))||(a=Jy(e,a,u,l,i,o,s))}),a}function U0(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Xy(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;W(n)?l=r:l=new at(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=U0(e,h,f);c=Mf(e,c,new ie(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),y=U0(e,p,f);c=Mf(e,c,new ie(d),y,i,o,s,a)}}),c}function vH(e,t,n,r,i,o,s){if(Nf(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(W(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Mf(e,t,n,c.getNode().getChild(n),i,o,a,s);if(W(n)){let l=new at(null);return c.getNode().forEachChild(is,(u,d)=>{l=l.set(new ie(u),d)}),Xy(e,t,n,l,i,o,a,s)}else return t}else{let l=new at(null);return r.foreach((u,d)=>{let f=Re(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Xy(e,t,n,l,i,o,a,s)}}function yH(e,t,n,r,i){let o=t.serverCache,s=TA(t,o.getNode(),o.isFullyInitialized()||W(n),o.isFiltered());return xA(e,s,n,r,OA,i)}function _H(e,t,n,r,i,o){let s;if(Nf(r,n)!=null)return t;{let a=new Ec(r,t,i),c=t.eventCache.getNode(),l;if(W(n)||H(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Rf(r,Bi(t));else{let d=t.serverCache.getNode();_(d instanceof U,"serverChildren would be complete if leaf node"),u=__(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=H(n),d=E_(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,oe(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,U.EMPTY_NODE,oe(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Rf(r,Bi(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||Nf(r,K())!=null,pc(t,l,s,e.filter.filtersNodes())}}var e_=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new _c(r.getIndex()),o=z2(r);this.processor_=fH(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(U.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(U.EMPTY_NODE,a.getNode(),null),u=new Nn(c,s.isFullyInitialized(),i.filtersNodes()),d=new Nn(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Bf(d,u),this.eventGenerator_=new qy(this.query_)}get query(){return this.query_}};function EH(e){return e.viewCache_.serverCache.getNode()}function IH(e){return Af(e.viewCache_)}function CH(e,t){let n=Bi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!W(t)&&!n.getImmediateChild(H(t)).isEmpty())?n.getChild(t):null}function B0(e){return e.eventRegistrations_.length===0}function wH(e,t){e.eventRegistrations_.push(t)}function H0(e,t,n){let r=[];if(n){_(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function $0(e,t,n,r){t.type===Rn.MERGE&&t.source.queryId!==null&&(_(Bi(e.viewCache_),"We should always have a full cache before handling merges"),_(Af(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=pH(e.processor_,i,t,n,r);return hH(e.processor_,o.viewCache),_(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,kA(e,o.changes,o.viewCache.eventCache.getNode(),null)}function bH(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pe,(o,s)=>{r.push(ls(o,s))}),n.isFullyInitialized()&&r.push(wA(n.getNode())),kA(e,r,n.getNode(),t)}function kA(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return K2(e.eventGenerator_,t,n,i)}var Of,xf=class{constructor(){this.views=new Map}};function DH(e){_(!Of,"__referenceConstructor has already been defined"),Of=e}function TH(){return _(Of,"Reference.ts has not been loaded"),Of}function SH(e){return e.views.size===0}function I_(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return _(o!=null,"SyncTree gave us an op for an invalid query."),$0(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat($0(s,t,n,r));return o}}function PA(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=Rf(n,i?r:null),c=!1;a?c=!0:r instanceof U?(a=__(n,r),c=!1):(a=U.EMPTY_NODE,c=!1);let l=Bf(new Nn(a,c,!1),new Nn(r,i,!1));return new e_(t,l)}return s}function AH(e,t,n,r,i,o){let s=PA(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),wH(s,n),bH(s,n)}function RH(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=Mr(e);if(i==="default")for(let[c,l]of e.views.entries())s=s.concat(H0(l,n,r)),B0(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(i);c&&(s=s.concat(H0(c,n,r)),B0(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Mr(e)&&o.push(new(TH())(t._repo,t._path)),{removed:o,events:s}}function FA(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Rr(e,t){let n=null;for(let r of e.views.values())n=n||CH(r,t);return n}function LA(e,t){if(t._queryParams.loadsAllData())return $f(e);{let r=t._queryIdentifier;return e.views.get(r)}}function VA(e,t){return LA(e,t)!=null}function Mr(e){return $f(e)!=null}function $f(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var kf;function NH(e){_(!kf,"__referenceConstructor has already been defined"),kf=e}function MH(){return _(kf,"Reference.ts has not been loaded"),kf}var OH=1,Pf=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new at(null),this.pendingWriteTree_=uH(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function jA(e,t,n,r,i){return X2(e.pendingWriteTree_,t,n,r,i),i?Rc(e,new us(DA(),t,n)):[]}function Vi(e,t,n=!1){let r=eH(e.pendingWriteTree_,t);if(tH(e.pendingWriteTree_,t)){let o=new at(null);return r.snap!=null?o=o.set(K(),!0):st(r.children,s=>{o=o.set(new ie(s),!0)}),Rc(e,new Gy(r.path,o,n))}else return[]}function Ac(e,t,n){return Rc(e,new us(v_(),t,n))}function xH(e,t,n){let r=at.fromObject(n);return Rc(e,new Sf(v_(),t,r))}function kH(e,t){return Rc(e,new Tf(v_(),t))}function PH(e,t,n){let r=w_(e,n);if(r){let i=b_(r),o=i.path,s=i.queryId,a=Qe(o,t),c=new Tf(y_(s),a);return D_(e,o,c)}else return[]}function Ff(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||VA(s,t))){let c=RH(s,t,n,r);SH(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>Mr(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=VH(f);for(let p=0;p<h.length;++p){let y=h[p],w=y.query,T=$A(e,y);e.listenProvider_.startListening(mc(w),Ic(e,w),T.hashFn,T.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(mc(t),null):l.forEach(f=>{let h=e.queryToTagMap.get(Wf(f));e.listenProvider_.stopListening(mc(f),h)}))}jH(e,l)}return a}function UA(e,t,n,r){let i=w_(e,r);if(i!=null){let o=b_(i),s=o.path,a=o.queryId,c=Qe(s,t),l=new us(y_(a),c,n);return D_(e,s,l)}else return[]}function FH(e,t,n,r){let i=w_(e,r);if(i){let o=b_(i),s=o.path,a=o.queryId,c=Qe(s,t),l=at.fromObject(n),u=new Sf(y_(a),c,l);return D_(e,s,u)}else return[]}function t_(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Qe(f,i);o=o||Rr(h,p),s=s||Mr(h)});let a=e.syncPointTree_.get(i);a?(s=s||Mr(a),o=o||Rr(a,K())):(a=new xf,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=U.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let y=Rr(p,K());y&&(o=o.updateImmediateChild(h,y))}));let l=VA(a,t);if(!l&&!t._queryParams.loadsAllData()){let f=Wf(t);_(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=UH();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=Hf(e.pendingWriteTree_,i),d=AH(a,t,n,u,o,c);if(!l&&!s&&!r){let f=LA(a,t);d=d.concat(BH(e,t,f))}return d}function C_(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=Qe(s,t),l=Rr(a,c);if(l)return l});return RA(i,t,o,n,!0)}function LH(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=Qe(l,n);r=r||Rr(u,d)});let i=e.syncPointTree_.get(n);i?r=r||Rr(i,K()):(i=new xf,e.syncPointTree_=e.syncPointTree_.set(n,i));let o=r!=null,s=o?new Nn(r,!0,!1):null,a=Hf(e.pendingWriteTree_,t._path),c=PA(i,t,a,o?s.getNode():U.EMPTY_NODE,o);return IH(c)}function Rc(e,t){return BA(t,e.syncPointTree_,null,Hf(e.pendingWriteTree_,K()))}function BA(e,t,n,r){if(W(e.path))return HA(e,t,n,r);{let i=t.get(K());n==null&&i!=null&&(n=Rr(i,K()));let o=[],s=H(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=NA(r,s);o=o.concat(BA(a,c,l,u))}return i&&(o=o.concat(I_(i,e,r,n))),o}}function HA(e,t,n,r){let i=t.get(K());n==null&&i!=null&&(n=Rr(i,K()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=NA(r,s),u=e.operationForChild(s);u&&(o=o.concat(HA(u,a,c,l)))}),i&&(o=o.concat(I_(i,e,r,n))),o}function $A(e,t){let n=t.query,r=Ic(e,n);return{hashFn:()=>(EH(t)||U.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?PH(e,n._path,r):kH(e,n._path);{let o=n2(i,n);return Ff(e,n,null,o)}}}}function Ic(e,t){let n=Wf(t);return e.queryToTagMap.get(n)}function Wf(e){return e._path.toString()+"$"+e._queryIdentifier}function w_(e,t){return e.tagToQueryMap.get(t)}function b_(e){let t=e.indexOf("$");return _(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ie(e.substr(0,t))}}function D_(e,t,n){let r=e.syncPointTree_.get(t);_(r,"Missing sync point for query tag that we're tracking");let i=Hf(e.pendingWriteTree_,t);return I_(r,n,i,null)}function VH(e){return e.fold((t,n,r)=>{if(n&&Mr(n))return[$f(n)];{let i=[];return n&&(i=FA(n)),st(r,(o,s)=>{i=i.concat(s)}),i}})}function mc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(MH())(e._repo,e._path):e}function jH(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=Wf(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function UH(){return OH++}function BH(e,t,n){let r=t._path,i=Ic(e,t),o=$A(e,n),s=e.listenProvider_.startListening(mc(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)_(!Mr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!W(l)&&u&&Mr(u))return[$f(u).query];{let f=[];return u&&(f=f.concat(FA(u).map(h=>h.query))),st(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(mc(u),Ic(e,u))}}return s}var n_=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},r_=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=Re(this.path_,t);return new e(this.syncTree_,n)}node(){return C_(this.syncTree_,this.path_)}},HH=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},W0=function(e,t,n){if(!e||typeof e!="object")return e;if(_(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return $H(e[".sv"],t,n);if(typeof e[".sv"]=="object")return WH(e[".sv"],t);_(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},$H=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:_(!1,"Unexpected server value: "+e)}},WH=function(e,t,n){e.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&_(!1,"Unexpected increment value: "+r);let i=t.node();if(_(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},zH=function(e,t,n,r){return T_(t,new r_(n,e),r)},WA=function(e,t,n){return T_(e,new n_(t),n)};function T_(e,t,n){let r=e.getPriority().val(),i=W0(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=W0(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new as(a,xe(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new as(i))),s.forEachChild(pe,(a,c)=>{let l=T_(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Cc=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function S_(e,t){let n=t instanceof ie?t:new ie(t),r=e,i=H(n);for(;i!==null;){let o=Ti(r.node.children,i)||{children:{},childCount:0};r=new Cc(i,r,o),n=oe(n),i=H(n)}return r}function ps(e){return e.node.value}function zA(e,t){e.node.value=t,i_(e)}function GA(e){return e.node.childCount>0}function GH(e){return ps(e)===void 0&&!GA(e)}function zf(e,t){st(e.node.children,(n,r)=>{t(new Cc(n,e,r))})}function qA(e,t,n,r){n&&!r&&t(e),zf(e,i=>{qA(i,t,!0,r)}),n&&r&&t(e)}function qH(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Nc(e){return new ie(e.parent===null?e.name:Nc(e.parent)+"/"+e.name)}function i_(e){e.parent!==null&&YH(e.parent,e.name,e)}function YH(e,t,n){let r=GH(n),i=Dn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,i_(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,i_(e))}var KH=/[\[\].#$\/\u0000-\u001F\u007F]/,ZH=/[\[\].#$\u0000-\u001F\u007F]/,my=10*1024*1024,YA=function(e){return typeof e=="string"&&e.length!==0&&!KH.test(e)},KA=function(e){return typeof e=="string"&&e.length!==0&&!ZH.test(e)},QH=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),KA(e)};var JH=function(e,t,n,r){r&&t===void 0||A_(qd(e,"value"),t,n)},A_=function(e,t,n){let r=n instanceof ie?new Ny(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Fi(r));if(typeof t=="function")throw new Error(e+"contains a function "+Fi(r)+" with contents = "+t.toString());if(Q0(t))throw new Error(e+"contains "+t.toString()+" "+Fi(r));if(typeof t=="string"&&t.length>my/3&&Za(t)>my)throw new Error(e+"contains a string greater than "+my+" utf8 bytes "+Fi(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(st(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!YA(s)))throw new Error(e+" contains an invalid key ("+s+") "+Fi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);M2(r,s),A_(e,a,r),O2(r)}),i&&o)throw new Error(e+' contains ".value" child '+Fi(r)+" in addition to actual children.")}};var ZA=function(e,t,n,r){if(!(r&&n===void 0)&&!KA(n))throw new Error(qd(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},XH=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ZA(e,t,n,r)},e$=function(e,t){if(H(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},t$=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!YA(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!QH(n))throw new Error(qd(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var o_=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function R_(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!p_(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function QA(e,t,n){R_(e,n),JA(e,r=>p_(r,t))}function Mn(e,t,n){R_(e,n),JA(e,r=>nn(r,t)||nn(t,r))}function JA(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(n$(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function n$(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();ji&&Ue("event: "+n.toString()),hs(r)}}}var r$="repo_interrupt",i$=25,s_=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new o_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Df(),this.transactionQueueTree_=new Cc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function o$(e,t,n){if(e.stats_=h_(e.repoInfo_),e.forceRestClient_||s2())e.server_=new By(e.repoInfo_,(r,i,o,s)=>{z0(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>G0(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Te(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new g_(e.repoInfo_,t,(r,i,o,s)=>{z0(e,r,i,o,s)},r=>{G0(e,r)},r=>{a$(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=c2(e.repoInfo_,()=>new zy(e.stats_,e.server_)),e.infoData_=new Hy,e.infoSyncTree_=new Pf({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=Ac(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),M_(e,"connected",!1),e.serverSyncTree_=new Pf({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Mn(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function s$(e){let n=e.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function N_(e){return HH({timestamp:s$(e)})}function z0(e,t,n,r,i){e.dataUpdateCount++;let o=new ie(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=Ya(n,l=>xe(l));s=FH(e.serverSyncTree_,o,c,i)}else{let c=xe(n);s=UA(e.serverSyncTree_,o,c,i)}else if(r){let c=Ya(n,l=>xe(l));s=xH(e.serverSyncTree_,o,c)}else{let c=xe(n);s=Ac(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=qf(e,o)),Mn(e.eventQueue_,a,s)}function G0(e,t){M_(e,"connected",t),t===!1&&u$(e)}function a$(e,t){st(t,(n,r)=>{M_(e,n,r)})}function M_(e,t,n){let r=new ie("/.info/"+t),i=xe(n);e.infoData_.updateSnapshot(r,i);let o=Ac(e.infoSyncTree_,r,i);Mn(e.eventQueue_,r,o)}function XA(e){return e.nextWriteId_++}function c$(e,t,n){let r=LH(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{let o=xe(i).withIndex(t._queryParams.getIndex());t_(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=Ac(e.serverSyncTree_,t._path,o);else{let a=Ic(e.serverSyncTree_,t);s=UA(e.serverSyncTree_,t._path,o,a)}return Mn(e.eventQueue_,t._path,s),Ff(e.serverSyncTree_,t,n,null,!0),o},i=>(Gf(e,"get for query "+Te(t)+" failed: "+i),Promise.reject(new Error(i))))}function l$(e,t,n,r,i){Gf(e,"set",{path:t.toString(),value:n,priority:r});let o=N_(e),s=xe(n,r),a=C_(e.serverSyncTree_,t),c=WA(s,a,o),l=XA(e),u=jA(e.serverSyncTree_,t,c,l,!0);R_(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||ot("set at "+t+" failed: "+f);let y=Vi(e.serverSyncTree_,l,!p);Mn(e.eventQueue_,t,y),h$(e,i,f,h)});let d=iR(e,t);qf(e,d),Mn(e.eventQueue_,d,[])}function u$(e){Gf(e,"onDisconnectEvents");let t=N_(e),n=Df();$y(e.onDisconnect_,K(),(i,o)=>{let s=zH(i,o,e.serverSyncTree_,t);bA(n,i,s)});let r=[];$y(n,K(),(i,o)=>{r=r.concat(Ac(e.serverSyncTree_,i,o));let s=iR(e,i);qf(e,s)}),e.onDisconnect_=Df(),Mn(e.eventQueue_,K(),r)}function d$(e,t,n){let r;H(t._path)===".info"?r=t_(e.infoSyncTree_,t,n):r=t_(e.serverSyncTree_,t,n),QA(e.eventQueue_,t._path,r)}function q0(e,t,n){let r;H(t._path)===".info"?r=Ff(e.infoSyncTree_,t,n):r=Ff(e.serverSyncTree_,t,n),QA(e.eventQueue_,t._path,r)}function f$(e){e.persistentConnection_&&e.persistentConnection_.interrupt(r$)}function Gf(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ue(n,...t)}function h$(e,t,n,r){t&&hs(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function eR(e,t,n){return C_(e.serverSyncTree_,t,n)||U.EMPTY_NODE}function O_(e,t=e.transactionQueueTree_){if(t||Yf(e,t),ps(t)){let n=nR(e,t);_(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&p$(e,Nc(t),n)}else GA(t)&&zf(t,n=>{O_(e,n)})}function p$(e,t,n){let r=n.map(l=>l.currentWriteId),i=eR(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Qe(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{Gf(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Vi(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Yf(e,S_(e.transactionQueueTree_,t)),O_(e,e.transactionQueueTree_),Mn(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)hs(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ot("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}qf(e,t)}},s)}function qf(e,t){let n=tR(e,t),r=Nc(n),i=nR(e,n);return g$(e,i,r),r}function g$(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=Qe(n,c.path),u=!1,d;if(_(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Vi(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=i$)u=!0,d="maxretry",i=i.concat(Vi(e.serverSyncTree_,c.currentWriteId,!0));else{let f=eR(e,c.path,s);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){A_("transaction failed: Data returned ",h,c.path);let p=xe(h);typeof h=="object"&&h!=null&&Dn(h,".priority")||(p=p.updatePriority(f.getPriority()));let w=c.currentWriteId,T=N_(e),le=WA(p,f,T);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=le,c.currentWriteId=XA(e),s.splice(s.indexOf(w),1),i=i.concat(jA(e.serverSyncTree_,c.path,le,c.currentWriteId,c.applyLocally)),i=i.concat(Vi(e.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(Vi(e.serverSyncTree_,c.currentWriteId,!0))}Mn(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Yf(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)hs(r[a]);O_(e,e.transactionQueueTree_)}function tR(e,t){let n,r=e.transactionQueueTree_;for(n=H(t);n!==null&&ps(r)===void 0;)r=S_(r,n),t=oe(t),n=H(t);return r}function nR(e,t){let n=[];return rR(e,t,n),n.sort((r,i)=>r.order-i.order),n}function rR(e,t,n){let r=ps(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);zf(t,i=>{rR(e,i,n)})}function Yf(e,t){let n=ps(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,zA(t,n.length>0?n:void 0)}zf(t,r=>{Yf(e,r)})}function iR(e,t){let n=Nc(tR(e,t)),r=S_(e.transactionQueueTree_,t);return qH(r,i=>{vy(e,i)}),vy(e,r),qA(r,i=>{vy(e,i)}),n}function vy(e,t){let n=ps(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(_(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(_(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Vi(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?zA(t,void 0):n.length=o+1,Mn(e.eventQueue_,Nc(t),i);for(let s=0;s<r.length;s++)hs(r[s])}}function m$(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function v$(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ot(`Invalid query segment '${n}' in query '${e}'`)}return t}var Y0=function(e,t){let n=y$(e),r=n.namespace;n.domain==="firebase.com"&&tr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&tr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||QB();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new vf(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ie(n.pathString)}},y$=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=m$(e.substring(u,d)));let f=v$(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Lf=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Te(this.snapshot.exportVal())}},Vf=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var jf=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return _(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var a_=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return W(this._path)?null:gA(this._path)}get ref(){return new On(this._repo,this._path)}get _queryIdentifier(){let t=x0(this._queryParams),n=f_(t);return n==="{}"?"default":n}get _queryObject(){return x0(this._queryParams)}isEqual(t){if(t=bt(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=p_(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+N2(this._path)}};var On=class e extends a_{constructor(t,n){super(t,n,new Uy,!1)}get parent(){let t=vA(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},wc=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new ie(t),r=bc(this.ref,t);return new e(this._node.getChild(n),r,pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,bc(this.ref,r),pe)))}hasChild(t){let n=new ie(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function oR(e,t){return e=bt(e),e._checkNotDeleted("ref"),t!==void 0?bc(e._root,t):e._root}function bc(e,t){return e=bt(e),H(e._path)===null?XH("child","path",t,!1):ZA("child","path",t,!1),new On(e._repo,Re(e._path,t))}function sR(e,t){e=bt(e),e$("set",e._path),JH("set",t,e._path,!1);let n=new Zt;return l$(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function aR(e){e=bt(e);let t=new jf(()=>{}),n=new Uf(t);return c$(e._repo,e,n).then(r=>new wc(r,new On(e._repo,e._path),e._queryParams.getIndex()))}var Uf=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new Lf("value",this,new wc(t.snapshotNode,new On(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Vf(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},c_=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Vf(this,t,n):null}createEvent(t,n){_(t.childName!=null,"Child events should have a childName.");let r=bc(new On(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Lf(t.type,this,new wc(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function _$(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{q0(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new jf(n,o||void 0),a=t==="value"?new Uf(s):new c_(t,s);return d$(e._repo,e,a),()=>q0(e._repo,e,a)}function cR(e,t,n,r){return _$(e,"value",t,n,r)}DH(On);NH(On);var E$="FIREBASE_DATABASE_EMULATOR_HOST",l_={},I$=!1;function C$(e,t,n,r){let i=t.lastIndexOf(":"),o=t.substring(0,i),s=Di(o);e.repoInfo_=new vf(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function w$(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||tr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=Y0(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[E$]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=Y0(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new hc(hc.OWNER):new wy(e.name,e.options,t);t$("Invalid Firebase Database URL",s),W(s.path)||tr("Database URL must point to the root of a Firebase Database (not including a child path).");let d=D$(a,e,u,new Cy(e,n));return new u_(d,e)}function b$(e,t){let n=l_[t];(!n||n[e.key]!==e)&&tr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),f$(e),delete n[e.key]}function D$(e,t,n,r){let i=l_[t.name];i||(i={},l_[t.name]=i);let o=i[e.toURLString()];return o&&tr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new s_(e,I$,n,r),i[e.toURLString()]=o,o}var u_=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(o$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new On(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(b$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&tr("Cannot call "+t+" on a deleted database.")}};function lR(e=Jo(),t){let n=Zd(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=hS("database");r&&uR(n,...r)}return n}function uR(e,t,n,r={}){e=bt(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Si(r,o.repoInfo_.emulatorOptions))return;tr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&tr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new hc(hc.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:gS(r.mockUserToken,e.app.options.projectId);s=new hc(a)}Di(t)&&(Av(t),Rv("Database",!0)),C$(o,i,r,s)}function T$(e){YB(Qo),Xt(new Ze("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return w$(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),_e(m0,v0,e),_e(m0,v0,"esm2017")}g_.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};g_.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};T$();var $i=class{constructor(t){return t}},dR="database",x_=class{constructor(){return es(dR)}};var k_=new I("angularfire2.database-instances");function S$(e,t){let n=Xd(dR,e,t);return n&&new $i(n)}function A$(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new $i(r)}}var R$={provide:x_,deps:[[new hn,k_]]},N$={provide:$i,useFactory:S$,deps:[[new hn,k_],Oi]};function fR(e,...t){return _e("angularfire",Ni.full,"rtdb"),ft([N$,R$,{provide:k_,useFactory:A$(e),multi:!0,deps:[ee,fe,Mi,ec,[new hn,pf],[new hn,tf],...t]}])}var P_=An(aR,!0),hR=An(lR,!0);var pR=An(cR,!0);var Mc=An(oR,!0,2);var gR=An(sR,!0,2);var gs=class e{constructor(t,n){this.database=t;this.platformId=n}getTiles(){return gi(this.platformId)?new L(t=>{let n=Mc(this.database,"Boards"),r=pR(n,i=>{let o=i.val();if(o){let s=[];for(let a in o){let c=[];for(let l in o[a])if(o[a].hasOwnProperty(l)){let u=o[a][l];c.push(u)}s.push(c)}t.next(s)}else t.next([])},i=>{t.error(i)});return()=>{r()}}):N([])}updateTile(t,n,r){let i=Mc(this.database,`Boards/Team ${t+1}/${r}`);return gR(i,n)}getTeamCredentials(t){let n=Mc(this.database,`LoginCredentials/Team ${t+1}`);return P_(n)}getTeamNames(){return m(this,null,function*(){if(!gi(this.platformId))return[];let t=[],n=1;for(;;){let r=Mc(this.database,`LoginCredentials/Team ${n}/name`),i=yield P_(r);if(!i.exists())break;let o=i.val();t.push(typeof o=="string"?o:String(o)),n++}return t})}static \u0275fac=function(n){return new(n||e)(O($i),O(nt))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var O$=()=>({standalone:!0}),vR=()=>[""],x$=e=>({"is-invalid":e});function k$(e,t){e&1&&(E(0,"label",10),A(1,"Team 1 Password:"),C())}function P$(e,t){e&1&&(E(0,"label",10),A(1,"Team 2 Password:"),C())}function F$(e,t){if(e&1){let n=di();E(0,"input",16),No("ngModelChange",function(i){jt(n);let o=ne(2);return sa(o.password,i)||(o.password=i),Ut(i)}),C()}if(e&2){let n=ne(2);he("ngClass",em(2,x$,n.errorMessage!=="")),Ro("ngModel",n.password)}}function L$(e,t){if(e&1&&(E(0,"div",12),A(1),C()),e&2){let n=ne(2);S(),Ye(n.errorMessage)}}function V$(e,t){e&1&&Se(0,"br")}function j$(e,t){if(e&1){let n=di();E(0,"form",4)(1,"div",5)(2,"label",6),A(3,"Choose your team"),C(),E(4,"select",7),No("ngModelChange",function(i){jt(n);let o=ne();return sa(o.selectedTeam,i)||(o.selectedTeam=i),Ut(i)}),De("change",function(){jt(n);let i=ne();return Ut(i.onTeamSelect(i.selectedTeam))}),E(5,"option",8),A(6,"Select Team"),C(),E(7,"option",9),A(8),C(),E(9,"option",9),A(10),C()()(),Se(11,"br"),E(12,"div",5),Ge(13,k$,2,0,"label",10),Ge(14,P$,2,0,"label",10),Ge(15,F$,1,4,"input",11),C(),Ge(16,L$,2,1,"div",12)(17,V$,1,0,"br"),E(18,"div",13)(19,"button",14),De("click",function(){jt(n);let i=ne();return Ut(i.validatePassword())}),A(20,"Log in"),C(),E(21,"button",15),A(22,"Return to board"),C()()()}if(e&2){let n=ne();S(4),Ro("ngModel",n.selectedTeam),he("ngModelOptions",pr(12,O$)),S(),he("value",-1),S(2),he("value",0),S(),Ye(n.teamNames[0]),S(),he("value",1),S(),Ye(n.teamNames[1]),S(3),qe(n.selectedTeam===0?13:-1),S(),qe(n.selectedTeam===1?14:-1),S(),qe(n.selectedTeam!==-1?15:-1),S(),qe(n.errorMessage!==""?16:17),S(5),he("routerLink",pr(13,vR))}}function U$(e,t){e&1&&(E(0,"tr")(1,"td",21),A(2,"No tiles available"),C()())}function B$(e,t){if(e&1){let n=di();E(0,"tr")(1,"td"),A(2),C(),E(3,"td")(4,"div"),Se(5,"img",22),C()(),E(6,"td")(7,"div"),Se(8,"img",22),C()(),E(9,"td"),A(10),C(),E(11,"td"),A(12),C(),E(13,"td"),A(14),C(),E(15,"td")(16,"input",23),No("ngModelChange",function(i){let o=jt(n).$implicit;return sa(o.itemsObtained,i)||(o.itemsObtained=i),Ut(i)}),C()(),E(17,"td")(18,"button",24),De("click",function(){let i=jt(n).$implicit,o=ne(4);return Ut(o.saveTile(i,i.id-1))}),A(19,"Save"),C()()()}if(e&2){let n=t.$implicit;S(2),Fe(" ",n.title," "),S(3),he("src",n.src,hr),S(3),he("src",n.bossSrc,hr),S(2),Ye(n.points),S(2),Ye(n.description),S(2),Ye(n.itemsRequired),S(2),Ro("ngModel",n.itemsObtained),he("max",n.itemsRequired)}}function H$(e,t){if(e&1&&Zn(0,B$,20,8,"tr",null,ui),e&2){let n=t.$implicit;Qn(n)}}function $$(e,t){if(e&1&&Zn(0,H$,2,0,null,null,ui),e&2){let n=ne(2);Qn(n.board)}}function W$(e,t){if(e&1&&(E(0,"div")(1,"div",17)(2,"h2"),A(3),C(),E(4,"p"),A(5,"This is where you can edit your board!"),C(),E(6,"button",15),A(7,"Return to board"),C()(),E(8,"div",18)(9,"table",19)(10,"thead")(11,"tr",20)(12,"th"),A(13,"Tile title"),C(),E(14,"th"),A(15,"Image"),C(),E(16,"th"),A(17,"Boss image"),C(),E(18,"th"),A(19,"Points"),C(),E(20,"th"),A(21,"Description"),C(),E(22,"th"),A(23,"Required"),C(),E(24,"th"),A(25,"Obtained"),C(),E(26,"th"),A(27,"Actions"),C()()(),E(28,"tbody"),Ge(29,U$,3,0,"tr")(30,$$,2,0),C()()()()),e&2){let n=ne();S(3),Fe("Welcome ",n.teamNames[n.authenticated.team],"!"),S(3),he("routerLink",pr(3,vR)),S(23),qe(n.board.length===0?29:30)}}var Kf=class e{constructor(t,n){this.databaseService=t;this.platformId=n}selectedTeam=-1;boardSize=6;password="";authenticated={team:0,authenticated:!1};board=[[]];teamNames=["Team 1","Team 2"];errorMessage="";ngOnInit(){this.databaseService.getTeamNames().then(t=>{this.teamNames[0]=t[0]||"Team 1",this.teamNames[1]=t[1]||"Team 2"})}onTeamSelect(t){this.selectedTeam=parseInt(t),this.loadTilesFromFirebase()}loadTilesFromFirebase(){this.databaseService.getTiles().subscribe({next:t=>{t&&t.length>0&&this.generateBoard(t[this.selectedTeam])},error:t=>{console.error("Error loading tiles:",t)}})}validatePassword(){if(Ci.production===!0&&this.selectedTeam!==-1)this.databaseService.getTeamCredentials(this.selectedTeam).then(t=>{let n=t.val()?JSON.stringify(t.val().password):"";if(this.selectedTeam===0&&n===JSON.stringify(this.password))return this.errorMessage="",this.loginForTeam(0);if(this.selectedTeam===1&&n===JSON.stringify(this.password))return this.errorMessage="",this.loginForTeam(1);this.errorMessage="Incorrect password. Please try again."});else if(Ci.production===!1)return this.loginForTeam(this.selectedTeam)}loginForTeam(t){t===0?this.authenticated={team:0,authenticated:!0}:t===1&&(this.authenticated={team:1,authenticated:!0}),this.generateTableArray()}saveTile(t,n){this.databaseService.updateTile(this.selectedTeam,t,n).catch(r=>{console.error("Error saving tile:",r)})}generateBoard(t){this.board=[];let n=0;for(let r=0;r<this.boardSize;r++){this.board[r]=[];for(let i=0;i<this.boardSize;i++){if(n>=t.length)return;this.board[r][i]=x(v({},t[n]),{id:r*this.boardSize+i+1}),n++}}}generateTableArray(){if(Ci.production===!1){let t=new wi;this.board=t.board,this.generateBoard(this.board[this.selectedTeam])}else gi(this.platformId)&&this.loadTilesFromFirebase()}static \u0275fac=function(n){return new(n||e)(V(gs),V(nt))};static \u0275cmp=qn({type:e,selectors:[["app-cabbingo-edit-board"]],decls:7,vars:1,consts:[[1,"page-wrap"],[1,"banner"],[1,"d-flex","justify-content-center"],[1,"osrs-border-thick","px-5","py-4","mb-5",2,"height","695px"],[2,"width","500px"],[1,"col-12"],["for","teamSelect",1,"form-label"],["id","teamSelect",1,"form-control",3,"ngModelChange","change","ngModel","ngModelOptions"],["disabled","","selected","",3,"value"],[3,"value"],["for","password"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",3,"ngClass","ngModel"],[1,"text-danger","mt-2"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","custom-btn",3,"click"],[1,"btn","custom-btn",3,"routerLink"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",3,"ngModelChange","ngClass","ngModel"],[1,"d-flex","flex-row","justify-content-between"],[1,"mt-2","overflow-auto",2,"max-height","600px"],[1,"table","osrs-table","table-bordered"],[1,"sticky-top",2,"top","-1px","box-shadow","black 0px 1px 0px 0px"],["colspan","8"],[1,"tile-image",3,"src"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel","max"],[1,"btn","custom-btn","col-12",3,"click"]],template:function(n,r){n&1&&(E(0,"div",0),Se(1,"div",1),E(2,"div",2)(3,"div",3)(4,"div",2),Ge(5,j$,23,14,"form",4)(6,W$,31,4,"div"),C()()()()),n&2&&(S(5),qe(r.authenticated.authenticated?6:5))},dependencies:[Zu,da,iS,QT,XT,tS,Vd,yv,Bd,WT,zT,Ev,_v,vv,mv,La,Wo],encapsulation:2})};var z$=()=>["/edit-board"],G$=()=>[],yR=(e,t)=>({"rules-btn-selected":e,"rules-btn":t}),q$=(e,t)=>({"tile-selected":e,"tile-completed":t}),Y$=(e,t)=>t.id;function K$(e,t){if(e&1&&(E(0,"div",22),A(1),Se(2,"i",24),C()),e&2){let n=ne().$index;S(),Fe("Column ",n+1," ")}}function Z$(e,t){if(e&1&&(E(0,"div",23),A(1),C()),e&2){let n=ne().$index;S(),Fe("Column ",n+1)}}function Q$(e,t){if(e&1&&Ge(0,K$,3,1,"div",22)(1,Z$,2,1,"div",23),e&2){let n=t.$index,r=ne();qe(r.getTotalPoints()>0&&r.calculateColumnBonuses(n)>0?0:1)}}function J$(e,t){if(e&1&&(E(0,"div",25),A(1),Se(2,"i",24),C()),e&2){let n=ne().$index;S(),Fe("Row ",n+1," ")}}function X$(e,t){if(e&1&&(E(0,"div",26),A(1),C()),e&2){let n=ne().$index;S(),Fe("Row ",n+1)}}function e3(e,t){if(e&1&&(E(0,"div",29)(1,"div",32),Se(2,"div",33),C()()),e&2){let n=ne().$implicit;S(),Fu("width",n.itemsObtained/n.itemsRequired*100,"%"),Kn("aria-valuenow",n.itemsObtained)("aria-valuemax",n.itemsRequired)}}function t3(e,t){if(e&1){let n=di();E(0,"button",28),De("click",function(){let i=jt(n).$implicit,o=ne(2);return Ut(o.onTileClick(i))}),E(1,"div"),Ge(2,e3,3,4,"div",29),Se(3,"img",30),E(4,"p",31),A(5),C()()()}if(e&2){let n=t.$implicit,r=ne(2);he("ngClass",aa(5,q$,n===r.selectedTile,n.itemsObtained>=n.itemsRequired)),S(2),qe(n.itemsObtained>=n.itemsRequired?-1:2),S(),he("src",n.src,hr)("alt",n.alt),S(2),Ye(n.title)}}function n3(e,t){if(e&1&&(E(0,"div",11),Ge(1,J$,3,1,"div",25)(2,X$,2,1,"div",26),Zn(3,t3,6,8,"button",27,Y$),C()),e&2){let n=t.$implicit,r=t.$index,i=ne();S(),qe(i.getTotalPoints()>0&&i.calculateRowBonuses(r)>0?1:2),S(2),Qn(n)}}function r3(e,t){if(e&1&&(E(0,"div"),A(1),C(),E(2,"div"),Se(3,"img",34),C(),E(4,"div",35)(5,"div",36),A(6," Points: "),E(7,"p",37),A(8),C()(),E(9,"div"),A(10),C()()),e&2){let n=ne();S(),Ye(n.selectedTile.description),S(2),he("src",n.selectedTile.bossSrc,hr)("alt",n.selectedTile.alt||""),S(5),Fe(" ",n.selectedTile.points," "),S(2),Lu(" ",n.selectedTile.itemsObtained," / ",n.selectedTile.itemsRequired," Obtained ")}}function i3(e,t){e&1&&(E(0,"p"),A(1,"Click on a tile!"),C())}function o3(e,t){if(e&1&&A(0),e&2){let n=ne().$implicit;Fe(" ",n," ")}}function s3(e,t){if(e&1&&(E(0,"strong",38),A(1),C()),e&2){let n=ne().$implicit;S(),Ye(n.replace("-",""))}}function a3(e,t){if(e&1&&(E(0,"strong",39),A(1),C()),e&2){let n=ne().$implicit;S(),Ye(n.replace("+",""))}}function c3(e,t){if(e&1&&(E(0,"strong",40),A(1),C()),e&2){let n=ne().$implicit;S(),Ye(n)}}function l3(e,t){if(e&1&&(Ge(0,o3,1,1)(1,s3,2,1,"strong",38)(2,a3,2,1,"strong",39)(3,c3,2,1,"strong",40),Se(4,"br")),e&2){let n=t.$implicit;qe(n.includes("Excluded")||n.includes("Allowed")?0:n.includes("-")?1:n.includes("+")?2:3)}}function u3(e,t){if(e&1&&Zn(0,l3,5,1,null,null,ui),e&2){let n=ne();Qn(n.selectedTile==null?null:n.selectedTile.rules)}}function d3(e,t){if(e&1&&(E(0,"ul",19)(1,"li"),A(2,"Multiple accounts are allowed, but only one can be logged in at once."),C(),E(3,"li"),A(4,"The EXP tile will only be counted for ONE account. If you are playing with multiple. "),C(),E(5,"li"),A(6),C(),E(7,"li"),A(8,"Tiles can be completed in any order."),C(),E(9,"li",39),A(10,"Good luck and have fun!"),C()()),e&2){let n=ne();S(6),Fe("Complete a full row or column to earn a ",n.rowBonus," point bonus!")}}var Zf=class e{constructor(t,n){this.databaseService=t;this.platformId=n}teamEnum=Hd;currentTeam=0;selectedTile=void 0;board=[];boardSize=6;columnBonus=5;rowBonus=5;bingoRulesOpened=!0;teamNames=["Team 1","Team 2"];ngOnInit(){if(Ci.production===!1){let t=new wi;this.board=t.board,this.generateBoard(this.board[this.currentTeam])}else gi(this.platformId)&&(this.databaseService.getTeamNames().then(t=>{this.teamNames[0]=t[0]||"Team 1",this.teamNames[1]=t[1]||"Team 2"}),this.loadTilesFromFirebase())}loadTilesFromFirebase(){this.databaseService.getTiles().subscribe({next:t=>{t&&t.length>0&&(this.generateBoard(t[this.currentTeam]),this.selectedTile&&(this.selectedTile=this.board[this.currentTeam][this.selectedTile?.id-1]))},error:t=>{console.error("Error loading tiles:",t)}})}generateBoard(t){this.board=[];let n=0;for(let r=0;r<this.boardSize;r++){this.board[r]=[];for(let i=0;i<this.boardSize;i++){if(n>=t.length)return;this.board[r][i]=x(v({},t[n]),{id:r*this.boardSize+i+1}),n++}}}onTileClick(t){this.selectedTile=t,this.bingoRulesOpened=!1}switchTeam(t){if(this.currentTeam!==t)if(this.currentTeam=t,this.selectedTile=void 0,this.bingoRulesOpened=!0,Ci.production===!1){let n=new wi;this.board=n.board,this.generateBoard(this.board[this.currentTeam])}else this.loadTilesFromFirebase()}getTotalPoints(){let t=0;for(let n=0;n<this.board.length;n++){let r=this.board[n],i=!0;for(let o of r)o.itemsObtained>=o.itemsRequired?t+=o.points||0:i=!1;i&&(t+=5)}return t+=this.calculateColumnBonuses(),t}calculateColumnBonuses(t){let n=0,r=t!==void 0?[t]:Array.from({length:this.boardSize},(i,o)=>o);for(let i of r){let o=!0;for(let s=0;s<this.board.length;s++){let a=this.board[s][i];if(!a||a.itemsObtained<a.itemsRequired){o=!1;break}}o&&(n+=this.columnBonus)}return n}calculateRowBonuses(t){let n=0,r=t!==void 0?[t]:Array.from({length:this.board.length},(i,o)=>o);for(let i of r){let o=!0;for(let s of this.board[i])if(!s||s.itemsObtained<s.itemsRequired){o=!1;break}o&&(n+=this.rowBonus)}return n}static \u0275fac=function(n){return new(n||e)(V(gs),V(nt))};static \u0275cmp=qn({type:e,selectors:[["app-cabbingo-board"]],decls:39,vars:18,consts:[[1,"page-wrap"],[1,"w-100"],[1,"d-flex","justify-content-center","align-items-center","w-100","banner"],[1,"btn","button","login-btn",3,"routerLink"],[1,"osrs-border-thick","px-4","py-2"],[1,"row","teams","mb-2"],[1,"button","btn","col-md-5",3,"click","ngClass"],[1,"gap-2","d-flex","justify-content-center"],[1,"tiles","osrs-border","column","col-auto"],[1,"d-flex","align-items-center","gap-2"],[1,"d-flex","align-items-center","mx-2","me-0","row-tile"],[1,"d-flex","justify-content-left","px-2","py-1","gap-2"],[1,"infoArea","d-flex","justify-content-between","col-auto"],[1,"infobox","osrs-border","d-flex","flex-column","justify-content-between","align-items-center",2,"min-height","300px"],[1,"d-flex","flex-column","infobox","osrs-border-brighter","justify-content-center","align-items-center"],[1,"d-flex","d-row","justify-content-center","gap-2","py-1","m-0"],[1,"btn","row-tile",2,"width","115px","height","40px",3,"click","ngClass"],[2,"color","#FF9933","width","auto"],[1,"rulesbox","custom-scrollbar","overflow-y-scroll","osrs-border-darker"],[1,"px-2"],[1,"mt-2"],[1,"btn","button","disabled","float-bottom"],[1,"d-flex","justify-content-center","gap-2","column-tile","text-success"],[1,"d-flex","justify-content-center","gap-2","column-tile"],[1,"bi","bi-check-circle-fill"],[1,"d-flex","align-items-center","row-tile","text-success"],[1,"d-flex","align-items-center","row-tile"],[1,"btn","tile","d-flex","flex-column",3,"ngClass"],[1,"btn","tile","d-flex","flex-column",3,"click","ngClass"],[1,"progress",2,"height","5px"],[1,"tile-image","p-1",3,"src","alt"],[1,"tile-text"],["role","progressbar","aria-valuemin","0",1,"progress-bar","bg-success"],[2,"width","110px"],[1,"bossImage",3,"src","alt"],[1,"d-flex","flex-column","align-items-center"],[1,"d-flex","flex-row","pt-3"],[1,"mx-2",2,"color","rgb(8, 255, 8)"],[2,"color","#E40303"],[2,"color","#0CD90D"],[2,"color","#FF9933"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),A(4," Log in as captain "),C()()(),E(5,"div",4)(6,"div",5)(7,"button",6),De("click",function(){return r.switchTeam(r.teamEnum.Team1)}),A(8),C(),E(9,"button",6),De("click",function(){return r.switchTeam(r.teamEnum.Team2)}),A(10),C()(),E(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10),A(15,"."),C(),Zn(16,Q$,2,1,null,null,Xg),C(),Zn(18,n3,5,1,"div",11,ui),C(),E(20,"div",12)(21,"div")(22,"div",13),Ge(23,r3,11,6)(24,i3,2,0,"p"),C(),E(25,"div",14)(26,"div",15)(27,"button",16),De("click",function(){return r.bingoRulesOpened=!0}),E(28,"p",17),A(29,"Bingo Rulez"),C()(),E(30,"button",16),De("click",function(){return r.bingoRulesOpened=!1}),E(31,"p",17),A(32,"Tile Rulez"),C()()(),E(33,"div",18),Ge(34,u3,2,0)(35,d3,11,1,"ul",19),C()()(),E(36,"div",20)(37,"button",21),A(38),C()()()()()()),n&2&&(S(3),he("routerLink",pr(10,z$)),S(4),he("ngClass",r.currentTeam===r.teamEnum.Team1?"btn selected-team":""),S(),Fe(" ",r.teamNames[0]," "),S(),he("ngClass",r.currentTeam===r.teamEnum.Team2?"btn selected-team":""),S(),Fe(" ",r.teamNames[1]," "),S(6),Qn(pr(11,G$).constructor(r.boardSize)),S(2),Qn(r.board),S(5),qe(r.selectedTile?23:24),S(4),he("ngClass",aa(12,yR,r.bingoRulesOpened,!r.bingoRulesOpened)),S(3),he("ngClass",aa(15,yR,!r.bingoRulesOpened,r.bingoRulesOpened)),S(4),qe(r.bingoRulesOpened?35:34),S(4),Fe(" Total points: ",r.getTotalPoints()," "))},dependencies:[da,La,Wo],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar-button:single-button{background-color:#404040;display:block;background-size:10px;background-repeat:no-repeat}@font-face{font-family:Runescape;src:url("./media/RuneScape-Plain-12-T6CWJQYQ.otf") format("opentype")}@font-face{font-family:Runescape-Bold;font-weight:700;src:url("./media/RuneScape-Bold-12-YYN5KYKT.otf") format("opentype")}@font-face{font-family:Runescape-Quill;src:url("./media/RuneScape-Quill-2XBT7J23.otf") format("opentype")}.osrs-border[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#393228;background:url("./media/tiles-backdrop-Y5VRY7K2.png") repeat top center;background-size:700px}.osrs-border-brighter[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#3e3529;background-size:700px}.osrs-border-darker[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#332b21;background-size:700px}.osrs-border-thick[_ngcontent-%COMP%]{border:3px solid rgb(66,67,65);outline:6px solid rgb(14,14,12);background-color:#393228;background:url("./media/tiles-backdrop-Y5VRY7K2.png") repeat top center;background-size:700px;width:fit-content}.page-wrap[_ngcontent-%COMP%] > .osrs-border-thick[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%}.page-wrap[_ngcontent-%COMP%]{background:url("./media/bg2_upscaled-E25LY5MM.jpg") repeat-y center top;overflow:auto;background-size:100%;min-width:90vw;min-width:90dvw;min-height:100vh;min-height:100dvh}main[_ngcontent-%COMP%]{width:100%;min-height:100%}body[_ngcontent-%COMP%]{background:#000;color:#fff;font-family:Runescape-Bold;text-shadow:black 2px 2px 2px;font-size:16px;margin:0}.banner[_ngcontent-%COMP%]{background:url("./media/Logo-W5ERYSIZ.png") no-repeat center;background-size:contain;display:block;position:relative;height:180px;text-align:center}.button[_ngcontent-%COMP%]{background:url("./media/button-UB2HKL6L.png") no-repeat top center;position:relative;width:243px;height:54px;font-family:Runescape-Bold;font-size:27px;align-content:center;text-align:center}.teams[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-evenly}.board[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;margin-top:30px;max-height:auto;height:650px}.bossImage[_ngcontent-%COMP%]{height:125px;filter:drop-shadow(5px 6px 6px #000000)}.tile-image[_ngcontent-%COMP%]{height:55px;object-fit:contain;filter:drop-shadow(3px 4px 2px #000000);z-index:0}.tile-text[_ngcontent-%COMP%]{color:#f93;font-size:16px;height:16px;max-width:120px;white-space:wrap;word-break:break-word;z-index:1;line-height:normal;text-shadow:black 2px 2px 2px}.tile[_ngcontent-%COMP%]{width:125px;height:105px;flex-wrap:nowrap;justify-content:space-between;border:1px solid rgb(46,43,35);outline:1px solid rgb(86,75,61);background-color:#483e33}.tile[_ngcontent-%COMP%]:focus-visible, .tile[_ngcontent-%COMP%]:active, .tile[_ngcontent-%COMP%]:hover{background-color:#645546;color:gold!important}.rules-btn[_ngcontent-%COMP%], .row-tile[_ngcontent-%COMP%], .column-tile[_ngcontent-%COMP%]{background-color:#483e33;text-align:center;border-radius:4px;height:auto;width:125px;border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12)}.rules-btn[_ngcontent-%COMP%], .row-tile[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;width:45px}.tile[_ngcontent-%COMP%]:hover{filter:drop-shadow(0px 0px .5mm gold)}.tile-selected[_ngcontent-%COMP%]{border:gold 2px solid}.tile-completed[_ngcontent-%COMP%]{background:#364732}.tile-completed[_ngcontent-%COMP%]:hover{background:#475e42}.rules-btn-selected[_ngcontent-%COMP%]{border:gold 2px solid}.rules-btn[_ngcontent-%COMP%]:focus-visible, .rules-btn[_ngcontent-%COMP%]:active, .rules-btn[_ngcontent-%COMP%]:hover{background-color:#645546;color:gold!important}.tiles[_ngcontent-%COMP%]{top:5px;width:auto;padding-top:10px;padding-bottom:10px;position:relative;align-items:center;align-content:center;flex-direction:column;justify-content:space-evenly}.infoArea[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:center;display:flex}.rulesbox[_ngcontent-%COMP%], .infobox[_ngcontent-%COMP%]{width:250px;min-height:240px;text-align:center;margin-top:5px;padding-left:8px;padding-right:8px}.rulesbox[_ngcontent-%COMP%]{text-align:left;height:300px;padding-left:8px;padding-right:8px}.btn[_ngcontent-%COMP%]{--bs-btn-color: var(white) !important;color:#fff!important;text-shadow:black 2px 2px 2px}.btn[_ngcontent-%COMP%]:hover{color:gold!important}.selected-team[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 1mm gold)}.progress[_ngcontent-%COMP%]{--bs-progress-bg: rgb(57, 50, 40);background-color:var(--bs-progress-bg)}.osrs-table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{--bs-table-color: #fff;--bs-table-bg: #212529;--bs-table-border-color: #4d5154;--bs-table-striped-bg: #2c3034;--bs-table-striped-color: #fff;--bs-table-active-bg: #373b3e;--bs-table-active-color: #fff;--bs-table-hover-bg: #323539;--bs-table-hover-color: #fff;border:1px solid rgb(14,14,12);--bs-table-bg: rgb(57, 50, 40);background-color:var(--bs-table-bg)}.custom-btn[_ngcontent-%COMP%]{background-color:#483e33;text-align:center;border-radius:4px;height:auto;min-width:40px;border:2px solid rgb(14,14,12)}.custom-btn[_ngcontent-%COMP%]:focus-visible, .custom-btn[_ngcontent-%COMP%]:active, .custom-btn[_ngcontent-%COMP%]:hover{border:2px solid rgb(14,14,12);background-color:#645546;color:gold!important}.custom-scrollbar[_ngcontent-%COMP%]{height:300px;overflow-y:scroll;scrollbar-width:thin;scrollbar-color:rgb(114,98,72) #27221B;scroll-behavior:smooth}.login-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;z-index:1050}@media (max-width: 420px){.login-btn[_ngcontent-%COMP%]{transform:scale(.85);transform-origin:top right;right:6px;top:6px}}']})};var _R=[{path:"edit-board",component:Kf},{path:"",component:Zf},{path:"**",redirectTo:"",pathMatch:"full"}];var ER={production:!0,firebaseConfig:{apiKey:"AIzaSyB2e36wu47-6DOc2_rAuHfiFTq9vm6GBD0",authDomain:"cabbingo-db.firebaseapp.com",databaseURL:"https://cabbingo-db-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cabbingo-db",storageBucket:"cabbingo-db.firebasestorage.app",messagingSenderId:"684304316440",appId:"1:684304316440:web:0660b0d72a68752cadeb6d"}};var IR={providers:[av(_R),TD(DD(),bD()),BS(()=>HS(ER.firebaseConfig)),fR(()=>hR())]};Nm(Rd,IR).catch(e=>console.error("Bootstrap error:",e));
