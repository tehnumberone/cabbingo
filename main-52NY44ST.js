var yR=Object.defineProperty,_R=Object.defineProperties;var ER=Object.getOwnPropertyDescriptors;var Nc=Object.getOwnPropertySymbols;var P_=Object.prototype.hasOwnProperty,x_=Object.prototype.propertyIsEnumerable;var k_=(e,t,n)=>t in e?yR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||={})P_.call(t,n)&&k_(e,n,t[n]);if(Nc)for(var n of Nc(t))x_.call(t,n)&&k_(e,n,t[n]);return e},O=(e,t)=>_R(e,ER(t));var F_=(e,t)=>{var n={};for(var r in e)P_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Nc)for(var r of Nc(e))t.indexOf(r)<0&&x_.call(e,r)&&(n[r]=e[r]);return n};var m=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var Zf;function Mc(){return Zf}function tn(e){let t=Zf;return Zf=e,t}var L_=Symbol("NotFound");function Ui(e){return e===L_||e?.name==="\u0275NotFound"}function Fc(e,t){return Object.is(e,t)}var xe=null,Oc=!1,Qf=1,IR=null,Fe=Symbol("SIGNAL");function M(e){let t=xe;return xe=e,t}function Lc(){return xe}var Nr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Bi(e){if(Oc)throw new Error("");if(xe===null)return;xe.consumerOnSignalRead(e);let t=xe.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=xe.recomputing;if(r&&(n=t!==void 0?t.nextProducer:xe.producers,n!==void 0&&n.producer===e)){xe.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===xe&&(!r||CR(i,xe)))return;let o=$i(xe),s={producer:e,consumer:xe,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};xe.producersTail=s,t!==void 0?t.nextProducer=s:xe.producers=s,o&&j_(e,s)}function V_(){Qf++}function Vc(e){if(!($i(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Qf)){if(!e.producerMustRecompute(e)&&!vs(e)){xc(e);return}e.producerRecomputeValue(e),xc(e)}}function Jf(e){if(e.consumers===void 0)return;let t=Oc;Oc=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||wR(r)}}finally{Oc=t}}function Xf(){return xe?.consumerAllowSignalWrites!==!1}function wR(e){e.dirty=!0,Jf(e),e.consumerMarkedDirty?.(e)}function xc(e){e.dirty=!1,e.lastCleanEpoch=Qf}function Mr(e){return e&&(e.producersTail=void 0,e.recomputing=!0),M(e)}function Hi(e,t){if(M(t),!e)return;e.recomputing=!1;let n=e.producersTail,r=n!==void 0?n.nextProducer:e.producers;if(r!==void 0){if($i(e))do r=eh(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function vs(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Vc(n),r!==n.version))return!0}return!1}function ys(e){if($i(e)){let t=e.producers;for(;t!==void 0;)t=eh(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function j_(e,t){let n=e.consumersTail,r=$i(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)j_(i.producer,i)}function eh(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!$i(t)){let o=t.producers;for(;o!==void 0;)o=eh(o)}return n}function $i(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function jc(e){IR?.(e)}function CR(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Uc(e,t){let n=Object.create(DR);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Vc(n),Bi(n),n.value===ms)throw n.error;return n.value};return r[Fe]=n,jc(n),r}var kc=Symbol("UNSET"),Pc=Symbol("COMPUTING"),ms=Symbol("ERRORED"),DR=O(v({},Nr),{value:kc,dirty:!0,error:null,equal:Fc,kind:"computed",producerMustRecompute(e){return e.value===kc||e.value===Pc},producerRecomputeValue(e){if(e.value===Pc)throw new Error("");let t=e.value;e.value=Pc;let n=Mr(e),r,i=!1;try{r=e.computation(),M(null),i=t!==kc&&t!==ms&&r!==ms&&e.equal(t,r)}catch(o){r=ms,e.error=o}finally{Hi(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function bR(){throw new Error}var U_=bR;function B_(e){U_(e)}function th(e){U_=e}var TR=null;function nh(e,t){let n=Object.create(Bc);n.value=e,t!==void 0&&(n.equal=t);let r=()=>H_(n);return r[Fe]=n,jc(n),[r,s=>Wi(n,s),s=>rh(n,s)]}function H_(e){return Bi(e),e.value}function Wi(e,t){Xf()||B_(e),e.equal(e.value,t)||(e.value=t,SR(e))}function rh(e,t){Xf()||B_(e),Wi(e,t(e.value))}var Bc=O(v({},Nr),{equal:Fc,value:void 0,kind:"signal"});function SR(e){e.version++,V_(),Jf(e),TR?.(e)}function P(e){return typeof e=="function"}function zi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Hc=zi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Or(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var le=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(P(r))try{r()}catch(o){t=o instanceof Hc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{$_(o)}catch(s){t=t??[],s instanceof Hc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Hc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)$_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Or(n,t)}remove(t){let{_finalizers:n}=this;n&&Or(n,t),t instanceof e&&t._removeParent(this)}};le.EMPTY=(()=>{let e=new le;return e.closed=!0,e})();var ih=le.EMPTY;function $c(e){return e instanceof le||e&&"closed"in e&&P(e.remove)&&P(e.add)&&P(e.unsubscribe)}function $_(e){P(e)?e():e.unsubscribe()}var Mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Gi={setTimeout(e,t,...n){let{delegate:r}=Gi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Gi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Wc(e){Gi.setTimeout(()=>{let{onUnhandledError:t}=Mt;if(t)t(e);else throw e})}function _s(){}var W_=oh("C",void 0,void 0);function z_(e){return oh("E",void 0,e)}function G_(e){return oh("N",e,void 0)}function oh(e,t,n){return{kind:e,value:t,error:n}}var kr=null;function qi(e){if(Mt.useDeprecatedSynchronousErrorHandling){let t=!kr;if(t&&(kr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=kr;if(kr=null,n)throw r}}else e()}function q_(e){Mt.useDeprecatedSynchronousErrorHandling&&kr&&(kr.errorThrown=!0,kr.error=e)}var Pr=class extends le{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,$c(t)&&t.add(this)):this.destination=NR}static create(t,n,r){return new Ki(t,n,r)}next(t){this.isStopped?ah(G_(t),this):this._next(t)}error(t){this.isStopped?ah(z_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ah(W_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},AR=Function.prototype.bind;function sh(e,t){return AR.call(e,t)}var ch=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){zc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){zc(r)}else zc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){zc(n)}}},Ki=class extends Pr{constructor(t,n,r){super();let i;if(P(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Mt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&sh(t.next,o),error:t.error&&sh(t.error,o),complete:t.complete&&sh(t.complete,o)}):i=t}this.destination=new ch(i)}};function zc(e){Mt.useDeprecatedSynchronousErrorHandling?q_(e):Wc(e)}function RR(e){throw e}function ah(e,t){let{onStoppedNotification:n}=Mt;n&&Gi.setTimeout(()=>n(e,t))}var NR={closed:!0,next:_s,error:RR,complete:_s};var Yi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function it(e){return e}function lh(...e){return uh(e)}function uh(e){return e.length===0?it:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var x=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=OR(n)?n:new Ki(n,r,i);return qi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=K_(r),new r((i,o)=>{let s=new Ki({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Yi](){return this}pipe(...n){return uh(n)(this)}toPromise(n){return n=K_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function K_(e){var t;return(t=e??Mt.Promise)!==null&&t!==void 0?t:Promise}function MR(e){return e&&P(e.next)&&P(e.error)&&P(e.complete)}function OR(e){return e&&e instanceof Pr||MR(e)&&$c(e)}function dh(e){return P(e?.lift)}function q(e){return t=>{if(dh(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(e,t,n,r,i){return new fh(e,t,n,r,i)}var fh=class extends Pr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Zi(){return q((e,t)=>{let n=null;e._refCount++;let r=z(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Qi=class extends x{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,dh(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new le;let n=this.getSubject();t.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=le.EMPTY)}return t}refCount(){return Zi()(this)}};var Y_=zi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=(()=>{class e extends x{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Gc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Y_}next(n){qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ih:(this.currentObservers=null,o.push(n),new le(()=>{this.currentObservers=null,Or(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new x;return n.source=this,n}}return e.create=(t,n)=>new Gc(t,n),e})(),Gc=class extends ye{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:ih}};var ke=class extends ye{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var hh={now(){return(hh.delegate||Date).now()},delegate:void 0};var qc=class extends le{constructor(t,n){super()}schedule(t,n=0){return this}};var Es={setInterval(e,t,...n){let{delegate:r}=Es;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Es;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Ji=class extends qc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Es.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Es.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Or(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Xi=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Xi.now=hh.now;var eo=class extends Xi{constructor(t,n=Xi.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var ph=new eo(Ji);var Kc=class extends Ji{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var Yc=class extends eo{};var gh=new Yc(Kc);var Ke=new x(e=>e.complete());function Z_(e){return e&&P(e.schedule)}function Q_(e){return e[e.length-1]}function Zc(e){return P(Q_(e))?e.pop():void 0}function er(e){return Z_(Q_(e))?e.pop():void 0}function mh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function X_(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function J_(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xr(e){return this instanceof xr?(this.v=e,this):new xr(e)}function eE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(y){return new Promise(function(I,b){o.push([h,y,I,b])>1||c(h,y)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(y){f(o[0][3],y)}}function l(h){h.value instanceof xr?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function tE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof J_=="function"?J_(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Qc=e=>e&&typeof e.length=="number"&&typeof e!="function";function Jc(e){return P(e?.then)}function Xc(e){return P(e[Yi])}function el(e){return Symbol.asyncIterator&&P(e?.[Symbol.asyncIterator])}function tl(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nl=kR();function rl(e){return P(e?.[nl])}function il(e){return eE(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield xr(n.read());if(i)return yield xr(void 0);yield yield xr(r)}}finally{n.releaseLock()}})}function ol(e){return P(e?.getReader)}function _e(e){if(e instanceof x)return e;if(e!=null){if(Xc(e))return PR(e);if(Qc(e))return xR(e);if(Jc(e))return FR(e);if(el(e))return nE(e);if(rl(e))return LR(e);if(ol(e))return VR(e)}throw tl(e)}function PR(e){return new x(t=>{let n=e[Yi]();if(P(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xR(e){return new x(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function FR(e){return new x(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Wc)})}function LR(e){return new x(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function nE(e){return new x(t=>{jR(e,t).catch(n=>t.error(n))})}function VR(e){return nE(il(e))}function jR(e,t){var n,r,i,o;return X_(this,void 0,void 0,function*(){try{for(n=tE(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ye(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function tr(e,t=0){return q((n,r)=>{n.subscribe(z(r,i=>Ye(r,e,()=>r.next(i),t),()=>Ye(r,e,()=>r.complete(),t),i=>Ye(r,e,()=>r.error(i),t)))})}function nr(e,t=0){return q((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function rE(e,t){return _e(e).pipe(nr(t),tr(t))}function iE(e,t){return _e(e).pipe(nr(t),tr(t))}function oE(e,t){return new x(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function sE(e,t){return new x(n=>{let r;return Ye(n,t,()=>{r=e[nl](),Ye(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}function sl(e,t){if(!e)throw new Error("Iterable cannot be null");return new x(n=>{Ye(n,t,()=>{let r=e[Symbol.asyncIterator]();Ye(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function aE(e,t){return sl(il(e),t)}function cE(e,t){if(e!=null){if(Xc(e))return rE(e,t);if(Qc(e))return oE(e,t);if(Jc(e))return iE(e,t);if(el(e))return sl(e,t);if(rl(e))return sE(e,t);if(ol(e))return aE(e,t)}throw tl(e)}function se(e,t){return t?cE(e,t):_e(e)}function A(...e){let t=er(e);return se(e,t)}function to(e,t){let n=P(e)?e:()=>e,r=i=>i.error(n());return new x(t?i=>t.schedule(r,0,i):r)}function vh(e){return!!e&&(e instanceof x||P(e.lift)&&P(e.subscribe))}var An=zi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function G(e,t){return q((n,r)=>{let i=0;n.subscribe(z(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:UR}=Array;function BR(e,t){return UR(t)?e(...t):e(t)}function al(e){return G(t=>BR(e,t))}var{isArray:HR}=Array,{getPrototypeOf:$R,prototype:WR,keys:zR}=Object;function cl(e){if(e.length===1){let t=e[0];if(HR(t))return{args:t,keys:null};if(GR(t)){let n=zR(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function GR(e){return e&&typeof e=="object"&&$R(e)===WR}function ll(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Is(...e){let t=er(e),n=Zc(e),{args:r,keys:i}=cl(e);if(r.length===0)return se([],t);let o=new x(qR(r,t,i?s=>ll(i,s):it));return n?o.pipe(al(n)):o}function qR(e,t,n=it){return r=>{lE(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)lE(t,()=>{let l=se(e[c],t),u=!1;l.subscribe(z(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lE(e,t,n){e?Ye(n,e,t):t()}function uE(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=y=>l<r?p(y):c.push(y),p=y=>{o&&t.next(y),l++;let I=!1;_e(n(y,u++)).subscribe(z(t,b=>{i?.(b),o?h(b):t.next(b)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<r;){let b=c.shift();s?Ye(t,s,()=>p(b)):p(b)}f()}catch(b){t.error(b)}}))};return e.subscribe(z(t,h,()=>{d=!0,f()})),()=>{a?.()}}function he(e,t,n=1/0){return P(t)?he((r,i)=>G((o,s)=>t(r,o,i,s))(_e(e(r,i))),n):(typeof t=="number"&&(n=t),q((r,i)=>uE(r,i,e,n)))}function no(e=1/0){return he(it,e)}function dE(){return no(1)}function ro(...e){return dE()(se(e,er(e)))}function ws(e){return new x(t=>{_e(e()).subscribe(t)})}function yh(...e){let t=Zc(e),{args:n,keys:r}=cl(e),i=new x(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;_e(n[u]).subscribe(z(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?ll(r,a):a),o.complete())}))}});return t?i.pipe(al(t)):i}function Ze(e,t){return q((n,r)=>{let i=0;n.subscribe(z(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Rn(e){return q((t,n)=>{let r=null,i=!1,o;r=t.subscribe(z(n,void 0,void 0,s=>{o=_e(e(s,Rn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function fE(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(z(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function rr(e,t){return P(t)?he(e,t,1):he(e,1)}function ir(e){return q((t,n)=>{let r=!1;t.subscribe(z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Nn(e){return e<=0?()=>Ke:q((t,n)=>{let r=0;t.subscribe(z(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ul(e=KR){return q((t,n)=>{let r=!1;t.subscribe(z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function KR(){return new An}function Cs(e){return q((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Mn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ze((i,o)=>e(i,o,r)):it,Nn(1),n?ir(t):ul(()=>new An))}function io(e){return e<=0?()=>Ke:q((t,n)=>{let r=[];t.subscribe(z(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function _h(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ze((i,o)=>e(i,o,r)):it,io(1),n?ir(t):ul(()=>new An))}function Eh(e,t){return q(fE(e,t,arguments.length>=2,!0))}function Ih(...e){let t=er(e);return q((n,r)=>{(t?ro(e,n,t):ro(e,n)).subscribe(r)})}function je(e,t){return q((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(z(r,c=>{i?.unsubscribe();let l=0,u=o++;_e(e(c,u)).subscribe(i=z(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function dl(e){return q((t,n)=>{_e(e).subscribe(z(n,()=>n.complete(),_s)),!n.closed&&t.subscribe(n)})}function Se(e,t,n){let r=P(e)||t||n?{next:e,error:t,complete:n}:e;return r?q((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(z(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):it}function hE(e){let t=M(null);try{return e()}finally{M(t)}}var ml="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",w=class extends Error{code;constructor(t,n){super(xn(t,n)),this.code=t}};function YR(e){return`NG0${Math.abs(e)}`}function xn(e,t){return`${YR(e)}${t?": "+t:""}`}var so=globalThis;function X(e){for(let t in e)if(e[t]===X)return t;throw Error("")}function mE(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function kn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(kn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Ph(e,t){return e?t?`${e} ${t}`:e:t||""}var ZR=X({__forward_ref__:X});function at(e){return e.__forward_ref__=at,e.toString=function(){return kn(this())},e}function Pe(e){return xh(e)?e():e}function xh(e){return typeof e=="function"&&e.hasOwnProperty(ZR)&&e.__forward_ref__===at}function vE(e,t){e==null&&Fh(t,e,null,"!=")}function Fh(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function C(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function kt(e){return{providers:e.providers||[],imports:e.imports||[]}}function As(e){return QR(e,vl)}function Lh(e){return As(e)!==null}function QR(e,t){return e.hasOwnProperty(t)&&e[t]||null}function JR(e){let t=e?.[vl]??null;return t||null}function Ch(e){return e&&e.hasOwnProperty(hl)?e[hl]:null}var vl=X({\u0275prov:X}),hl=X({\u0275inj:X}),E=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=C({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vh(e){return e&&!!e.\u0275providers}var jh=X({\u0275cmp:X}),Uh=X({\u0275dir:X}),Bh=X({\u0275pipe:X}),Hh=X({\u0275mod:X}),Ts=X({\u0275fac:X}),Br=X({__NG_ELEMENT_ID__:X}),pE=X({__NG_ENV_ID__:X});function Hr(e){return typeof e=="string"?e:e==null?"":String(e)}function pl(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Hr(e)}var $h=X({ngErrorCode:X}),yE=X({ngErrorMessage:X}),bs=X({ngTokenPath:X});function Wh(e,t){return _E("",-200,t)}function yl(e,t){throw new w(-201,!1)}function XR(e,t){e[bs]??=[];let n=e[bs],r;typeof t=="object"&&"multi"in t&&t?.multi===!0?(vE(t.provide,"Token with multi: true should have a provide property"),r=pl(t.provide)):r=pl(t),n[0]!==r&&e[bs].unshift(r)}function eN(e,t){let n=e[bs],r=e[$h],i=e[yE]||e.message;return e.message=nN(i,r,n,t),e}function _E(e,t,n){let r=new w(t,e);return r[$h]=t,r[yE]=e,n&&(r[bs]=n),r}function tN(e){return e[$h]}function nN(e,t,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return xn(t,`${e}${o}${i}`)}var Dh;function EE(){return Dh}function ot(e){let t=Dh;return Dh=e,t}function zh(e,t,n){let r=As(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;yl(e,"Injector")}var rN={},Fr=rN,bh="__NG_DI_FLAG__",Th=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Lr(n)||0;try{return this.injector.get(t,r&8?null:Fr,r)}catch(i){if(Ui(i))return i;throw i}}};function iN(e,t=0){let n=Mc();if(n===void 0)throw new w(-203,!1);if(n===null)return zh(e,void 0,t);{let r=oN(t),i=n.retrieve(e,r);if(Ui(i)){if(r.optional)return null;throw i}return i}}function N(e,t=0){return(EE()||iN)(Pe(e),t)}function g(e,t){return N(e,Lr(t))}function Lr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function oN(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Sh(e){let t=[];for(let n=0;n<e.length;n++){let r=Pe(e[n]);if(Array.isArray(r)){if(r.length===0)throw new w(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=sN(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(N(i,o))}else t.push(N(r))}return t}function IE(e,t){return e[bh]=t,e.prototype[bh]=t,e}function sN(e){return e[bh]}function Vr(e,t){let n=e.hasOwnProperty(Ts);return n?e[Ts]:null}function _l(e,t){e.forEach(n=>Array.isArray(n)?_l(n,t):t(n))}function Gh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Rs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function wE(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function CE(e,t,n){let r=ao(e,t);return r>=0?e[r|1]=n:(r=~r,wE(e,r,t,n)),r}function El(e,t){let n=ao(e,t);if(n>=0)return e[n|1]}function ao(e,t){return aN(e,t,1)}function aN(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var sr={},st=[],Pt=new E(""),qh=new E("",-1),Kh=new E(""),Ss=class{get(t,n=Fr){if(n===Fr){let i=_E("",-201);throw i.name="\u0275NotFound",i}return n}};function Yh(e){return e[Hh]||null}function nn(e){return e[jh]||null}function Il(e){return e[Uh]||null}function Zh(e){return e[Bh]||null}function ct(e){return{\u0275providers:e}}function DE(...e){return{\u0275providers:wl(!0,e),\u0275fromNgModule:!0}}function wl(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return _l(t,s=>{let a=s;gl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&bE(i,o),n}function bE(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Qh(i,o=>{t(o,r)})}}function gl(e,t,n,r){if(e=Pe(e),!e)return!1;let i=null,o=Ch(e),s=!o&&nn(e);if(!o&&!s){let c=e.ngModule;if(o=Ch(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)gl(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{_l(o.imports,u=>{gl(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&bE(l,t)}if(!a){let l=Vr(i)||(()=>new i);t({provide:i,useFactory:l,deps:st},i),t({provide:Kh,useValue:i,multi:!0},i),t({provide:Pt,useValue:()=>N(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Qh(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Qh(e,t){for(let n of e)Vh(n)&&(n=n.\u0275providers),Array.isArray(n)?Qh(n,t):t(n)}var cN=X({provide:String,useValue:X});function TE(e){return e!==null&&typeof e=="object"&&cN in e}function lN(e){return!!(e&&e.useExisting)}function uN(e){return!!(e&&e.useFactory)}function jr(e){return typeof e=="function"}function SE(e){return!!e.useClass}var Ns=new E(""),fl={},gE={},wh;function Ms(){return wh===void 0&&(wh=new Ss),wh}var ue=class{},Ur=class extends ue{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Rh(t,s=>this.processProvider(s)),this.records.set(qh,oo(void 0,this)),i.has("environment")&&this.records.set(ue,oo(void 0,this));let o=this.records.get(Ns);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Kh,st,{self:!0}))}retrieve(t,n){let r=Lr(n)||0;try{return this.get(t,Fr,r)}catch(i){if(Ui(i))return i;throw i}}destroy(){Ds(this),this._destroyed=!0;let t=M(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),M(t)}}onDestroy(t){return Ds(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Ds(this);let n=tn(this),r=ot(void 0),i;try{return t()}finally{tn(n),ot(r)}}get(t,n=Fr,r){if(Ds(this),t.hasOwnProperty(pE))return t[pE](this);let i=Lr(r),o,s=tn(this),a=ot(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=gN(t)&&As(t);u&&this.injectableDefInScope(u)?l=oo(Ah(t),fl):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?Ms():this.parent;return n=i&8&&n===Fr?null:n,c.get(t,n)}catch(c){let l=tN(c);throw l===-200||l===-201?new w(l,null):c}finally{ot(a),tn(s)}}resolveInjectorInitializers(){let t=M(null),n=tn(this),r=ot(void 0),i;try{let o=this.get(Pt,st,{self:!0});for(let s of o)s()}finally{tn(n),ot(r),M(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(kn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Pe(t);let n=jr(t)?t:Pe(t&&t.provide),r=fN(t);if(!jr(t)&&t.multi===!0){let i=this.records.get(n);i||(i=oo(void 0,fl,!0),i.factory=()=>Sh(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=M(null);try{if(n.value===gE)throw Wh(kn(t));return n.value===fl&&(n.value=gE,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&pN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{M(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Pe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ah(e){let t=As(e),n=t!==null?t.factory:Vr(e);if(n!==null)return n;if(e instanceof E)throw new w(204,!1);if(e instanceof Function)return dN(e);throw new w(204,!1)}function dN(e){if(e.length>0)throw new w(204,!1);let n=JR(e);return n!==null?()=>n.factory(e):()=>new e}function fN(e){if(TE(e))return oo(void 0,e.useValue);{let t=Jh(e);return oo(t,fl)}}function Jh(e,t,n){let r;if(jr(e)){let i=Pe(e);return Vr(i)||Ah(i)}else if(TE(e))r=()=>Pe(e.useValue);else if(uN(e))r=()=>e.useFactory(...Sh(e.deps||[]));else if(lN(e))r=(i,o)=>N(Pe(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Pe(e&&(e.useClass||e.provide));if(hN(e))r=()=>new i(...Sh(e.deps));else return Vr(i)||Ah(i)}return r}function Ds(e){if(e.destroyed)throw new w(205,!1)}function oo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function hN(e){return!!e.deps}function pN(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function gN(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Rh(e,t){for(let n of e)Array.isArray(n)?Rh(n,t):n&&Vh(n)?Rh(n.\u0275providers,t):t(n)}function pe(e,t){let n;e instanceof Ur?(Ds(e),n=e):n=new Th(e);let r,i=tn(n),o=ot(void 0);try{return t()}finally{tn(i),ot(o)}}function AE(){return EE()!==void 0||Mc()!=null}var Ue=0,T=1,k=2,Ee=3,It=4,wt=5,Qe=6,co=7,ge=8,xt=9,rn=10,te=11,lo=12,Xh=13,$r=14,Be=15,Wr=16,zr=17,Gr=18,Os=19,ep=20,On=21,Cl=22,ks=23,lt=24,qr=25,oe=26,RE=1,Ft=6,on=7,Ps=8,xs=9,Ae=10;function ut(e){return Array.isArray(e)&&typeof e[RE]=="object"}function dt(e){return Array.isArray(e)&&e[RE]===!0}function tp(e){return(e.flags&4)!==0}function Fn(e){return e.componentOffset>-1}function Dl(e){return(e.flags&1)===1}function sn(e){return!!e.template}function Kr(e){return(e[k]&512)!==0}function ar(e){return(e[k]&256)===256}var NE="svg",ME="math";function ft(e){for(;Array.isArray(e);)e=e[Ue];return e}function np(e,t){return ft(t[e])}function Ct(e,t){return ft(t[e.index])}function Yr(e,t){return e.data[t]}function Dt(e,t){let n=t[e];return ut(n)?n:n[Ue]}function bl(e){return(e[k]&128)===128}function OE(e){return dt(e[Ee])}function cr(e,t){return t==null?null:e[t]}function rp(e){e[zr]=0}function ip(e){e[k]&1024||(e[k]|=1024,bl(e)&&uo(e))}function kE(e,t){for(;e>0;)t=t[$r],e--;return t}function Fs(e){return!!(e[k]&9216||e[lt]?.dirty)}function Tl(e){e[rn].changeDetectionScheduler?.notify(8),e[k]&64&&(e[k]|=1024),Fs(e)&&uo(e)}function uo(e){e[rn].changeDetectionScheduler?.notify(0);let t=or(e);for(;t!==null&&!(t[k]&8192||(t[k]|=8192,!bl(t)));)t=or(t)}function op(e,t){if(ar(e))throw new w(911,!1);e[On]===null&&(e[On]=[]),e[On].push(t)}function PE(e,t){if(e[On]===null)return;let n=e[On].indexOf(t);n!==-1&&e[On].splice(n,1)}function or(e){let t=e[Ee];return dt(t)?t[Ee]:t}function xE(e){return e[co]??=[]}function FE(e){return e.cleanup??=[]}var j={lFrame:XE(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ls=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(Ls||{}),mN=0,Nh=!1;function LE(){return j.lFrame.elementDepthCount}function VE(){j.lFrame.elementDepthCount++}function jE(){j.lFrame.elementDepthCount--}function UE(){return j.bindingsEnabled}function sp(){return j.skipHydrationRootTNode!==null}function BE(e){return j.skipHydrationRootTNode===e}function HE(e){j.skipHydrationRootTNode=e}function $E(){j.skipHydrationRootTNode=null}function K(){return j.lFrame.lView}function He(){return j.lFrame.tView}function bt(e){return j.lFrame.contextLView=e,e[ge]}function Tt(e){return j.lFrame.contextLView=null,e}function $e(){let e=ap();for(;e!==null&&e.type===64;)e=e.parent;return e}function ap(){return j.lFrame.currentTNode}function WE(){let e=j.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function fo(e,t){let n=j.lFrame;n.currentTNode=e,n.isParent=t}function cp(){return j.lFrame.isParent}function zE(){j.lFrame.isParent=!1}function lp(e){Fh("Must never be called in production mode"),mN=e}function up(){return Nh}function dp(e){let t=Nh;return Nh=e,t}function fp(){let e=j.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function GE(){return j.lFrame.bindingIndex}function qE(e){return j.lFrame.bindingIndex=e}function Zr(){return j.lFrame.bindingIndex++}function hp(e){let t=j.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function KE(){return j.lFrame.inI18n}function YE(e,t){let n=j.lFrame;n.bindingIndex=n.bindingRootIndex=e,Sl(t)}function ZE(){return j.lFrame.currentDirectiveIndex}function Sl(e){j.lFrame.currentDirectiveIndex=e}function QE(e){let t=j.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function pp(e){j.lFrame.currentQueryIndex=e}function vN(e){let t=e[T];return t.type===2?t.declTNode:t.type===1?e[wt]:null}function gp(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=vN(o),i===null||(o=o[$r],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=j.lFrame=JE();return r.currentTNode=t,r.lView=e,!0}function Al(e){let t=JE(),n=e[T];j.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function JE(){let e=j.lFrame,t=e===null?null:e.child;return t===null?XE(e):t}function XE(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function eI(){let e=j.lFrame;return j.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var mp=eI;function Rl(){let e=eI();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function tI(e){return(j.lFrame.contextLView=kE(e,j.lFrame.contextLView))[ge]}function Ln(){return j.lFrame.selectedIndex}function lr(e){j.lFrame.selectedIndex=e}function Nl(){let e=j.lFrame;return Yr(e.tView,e.selectedIndex)}function vp(){return j.lFrame.currentNamespace}var nI=!0;function Ml(){return nI}function Vn(e){nI=e}function Mh(e,t=null,n=null,r){let i=yp(e,t,n,r);return i.resolveInjectorInitializers(),i}function yp(e,t=null,n=null,r,i=new Set){let o=[n||st,DE(e)];return r=r||(typeof e=="object"?void 0:kn(e)),new Ur(o,t||Ms(),r||null,i)}var de=class e{static THROW_IF_NOT_FOUND=Fr;static NULL=new Ss;static create(t,n){if(Array.isArray(t))return Mh({name:""},n,t,"");{let r=t.name??"";return Mh({name:r},t.parent,t.providers,r)}}static \u0275prov=C({token:e,providedIn:"any",factory:()=>N(qh)});static __NG_ELEMENT_ID__=-1},me=new E(""),Lt=(()=>{class e{static __NG_ELEMENT_ID__=yN;static __NG_ENV_ID__=n=>n}return e})(),Oh=class extends Lt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return ar(this._lView)}onDestroy(t){let n=this._lView;return op(n,t),()=>PE(n,t)}};function yN(){return new Oh(K())}var Ot=class{_console=console;handleError(t){this._console.error("ERROR",t)}},ht=new E("",{providedIn:"root",factory:()=>{let e=g(ue),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Ot),t.handleError(n))}}}),rI={provide:Pt,useValue:()=>void g(Ot),multi:!0};function _p(e){return typeof e=="function"&&e[Fe]!==void 0}function pt(e,t){let[n,r,i]=nh(e,t?.equal),o=n,s=o[Fe];return o.set=r,o.update=i,o.asReadonly=iI.bind(o),o}function iI(){let e=this[Fe];if(e.readonlyFn===void 0){let t=()=>this();t[Fe]=e,e.readonlyFn=t}return e.readonlyFn}function Ep(e){return _p(e)&&typeof e.set=="function"}var Pn=class{},Vs=new E("",{providedIn:"root",factory:()=>!1});var Ip=new E(""),wp=new E("");var Ol=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=_N}return e})();function _N(){return new Ol(K(),$e())}var Vt=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ke(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new x(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})(),ur=(()=>{class e{internalPendingTasks=g(Vt);scheduler=g(Pn);errorHandler=g(ht);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})();function js(...e){}var Cp=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:()=>new kh})}return e})(),kh=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var kl={JSACTION:"jsaction"};function Io(e){return{toString:e}.toString()}var Pl="__parameters__";function AN(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function RN(e,t,n){return Io(()=>{let r=AN(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Pl)?c[Pl]:Object.defineProperty(c,Pl,{value:[]})[Pl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var cn=IE(RN("Optional"),8);function NN(e){return typeof e=="function"}var Hl=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function GI(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Hn=(()=>{let e=()=>qI;return e.ngInherit=!0,e})();function qI(e){return e.type.prototype.ngOnChanges&&(e.setInput=ON),MN}function MN(){let e=YI(this),t=e?.current;if(t){let n=e.previous;if(n===sr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function ON(e,t,n,r,i){let o=this.declaredInputs[r],s=YI(e)||kN(e,{previous:sr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Hl(l&&l.currentValue,n,c===sr),GI(e,t,i,n)}var KI="__ngSimpleChanges__";function YI(e){return e[KI]||null}function kN(e,t){return e[KI]=t}var oI=[];var Z=function(e,t=null,n){for(let r=0;r<oI.length;r++){let i=oI[r];i(e,t,n)}};function PN(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=qI(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function xN(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Ll(e,t,n){ZI(e,t,3,n)}function Vl(e,t,n,r){(e[k]&3)===n&&ZI(e,t,n,r)}function Dp(e,t){let n=e[k];(n&3)===t&&(n&=16383,n+=1,e[k]=n)}function ZI(e,t,n,r){let i=r!==void 0?e[zr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[zr]+=65536),(a<o||o==-1)&&(FN(e,n,t,c),e[zr]=(e[zr]&4294901760)+c+2),c++}function sI(e,t){Z(4,e,t);let n=M(null);try{t.call(e)}finally{M(n),Z(5,e,t)}}function FN(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[k]>>14<e[zr]>>16&&(e[k]&3)===t&&(e[k]+=16384,sI(a,o)):sI(a,o)}var po=-1,Xr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function LN(e){return(e.flags&8)!==0}function VN(e){return(e.flags&16)!==0}function jN(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];UN(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function QI(e){return e===3||e===4||e===6}function UN(e){return e.charCodeAt(0)===64}function Hs(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?aI(e,n,i,null,t[++r]):aI(e,n,i,null,null))}}return e}function aI(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function JI(e){return e!==po}function $l(e){return e&32767}function BN(e){return e>>16}function Wl(e,t){let n=BN(e),r=t;for(;n>0;)r=r[$r],n--;return r}var Vp=!0;function cI(e){let t=Vp;return Vp=e,t}var HN=256,XI=HN-1,ew=5,$N=0,an={};function WN(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Br)&&(r=n[Br]),r==null&&(r=n[Br]=$N++);let i=r&XI,o=1<<i;t.data[e+(i>>ew)]|=o}function zl(e,t){let n=tw(e,t);if(n!==-1)return n;let r=t[T];r.firstCreatePass&&(e.injectorIndex=t.length,bp(r.data,e),bp(t,null),bp(r.blueprint,null));let i=lg(e,t),o=e.injectorIndex;if(JI(i)){let s=$l(i),a=Wl(i,t),c=a[T].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function bp(e,t){e.push(0,0,0,0,0,0,0,0,t)}function tw(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function lg(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=sw(i),r===null)return po;if(n++,i=i[$r],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return po}function jp(e,t,n){WN(e,t,n)}function zN(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(QI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function nw(e,t,n){if(n&8||e!==void 0)return e;yl(t,"NodeInjector")}function rw(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[xt],o=ot(void 0);try{return i?i.get(t,r,n&8):zh(t,r,n&8)}finally{ot(o)}}return nw(r,t,n)}function iw(e,t,n,r=0,i){if(e!==null){if(t[k]&2048&&!(r&2)){let s=ZN(e,t,n,r,an);if(s!==an)return s}let o=ow(e,t,n,r,an);if(o!==an)return o}return rw(t,n,r,i)}function ow(e,t,n,r,i){let o=KN(n);if(typeof o=="function"){if(!gp(t,e,r))return r&1?nw(i,n,r):rw(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))yl(n);else return s}finally{mp()}}else if(typeof o=="number"){let s=null,a=tw(e,t),c=po,l=r&1?t[Be][wt]:null;for((a===-1||r&4)&&(c=a===-1?lg(e,t):t[a+8],c===po||!uI(r,!1)?a=-1:(s=t[T],a=$l(c),t=Wl(c,t)));a!==-1;){let u=t[T];if(lI(o,a,u.data)){let d=GN(a,t,n,s,r,l);if(d!==an)return d}c=t[a+8],c!==po&&uI(r,t[T].data[a+8]===l)&&lI(o,a,t)?(s=u,a=$l(c),t=Wl(c,t)):a=-1}}return i}function GN(e,t,n,r,i,o){let s=t[T],a=s.data[e+8],c=r==null?Fn(a)&&Vp:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=qN(a,s,n,c,l);return u!==null?Gl(t,s,u,a,i):an}function qN(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&sn(h)&&h.type===n)return c}return null}function Gl(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Xr){let a=o;if(a.resolving){let h=pl(s[n]);throw Wh(h)}let c=cI(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?ot(a.injectImpl):null,f=gp(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&PN(n,s[n],t)}finally{d!==null&&ot(d),cI(c),a.resolving=!1,mp()}}return o}function KN(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Br)?e[Br]:void 0;return typeof t=="number"?t>=0?t&XI:YN:t}function lI(e,t,n){let r=1<<e;return!!(n[t+(e>>ew)]&r)}function uI(e,t){return!(e&2)&&!(e&1&&t)}var Jr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return iw(this._tNode,this._lView,t,Lr(r),n)}};function YN(){return new Jr($e(),K())}function Ut(e){return Io(()=>{let t=e.prototype.constructor,n=t[Ts]||Up(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Ts]||Up(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Up(e){return xh(e)?()=>{let t=Up(Pe(e));return t&&t()}:Vr(e)}function ZN(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[k]&2048&&!Kr(s);){let a=ow(o,s,n,r|2,an);if(a!==an)return a;let c=o.parent;if(!c){let l=s[ep];if(l){let u=l.get(n,an,r);if(u!==an)return u}c=sw(s),s=s[$r]}o=c}return i}function sw(e){let t=e[T],n=t.type;return n===2?t.declTNode:n===1?e[wt]:null}function Ks(e){return zN($e(),e)}function QN(){return ug($e(),K())}function ug(e,t){return new St(Ct(e,t))}var St=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=QN}return e})();var aw="ngSkipHydration",JN="ngskiphydration";function cw(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===JN)return!0}return!1}function lw(e){return e.hasAttribute(aw)}function ql(e){return(e.flags&128)===128}function uw(e){if(ql(e))return!0;let t=e.parent;for(;t;){if(ql(e)||cw(t))return!0;t=t.parent}return!1}var dg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(dg||{}),dw=new Map,XN=0;function eM(){return XN++}function tM(e){dw.set(e[Os],e)}function Bp(e){dw.delete(e[Os])}var dI="__ngContext__";function vo(e,t){ut(t)?(e[dI]=t[Os],tM(t)):e[dI]=t}function fw(e){return pw(e[lo])}function hw(e){return pw(e[It])}function pw(e){for(;e!==null&&!dt(e);)e=e[It];return e}var Hp;function fg(e){Hp=e}function Ys(){if(Hp!==void 0)return Hp;if(typeof document<"u")return document;throw new w(210,!1)}var ln=new E("",{providedIn:"root",factory:()=>nM}),nM="ng",uu=new E(""),Je=new E("",{providedIn:"platform",factory:()=>"unknown"});var du=new E("",{providedIn:"root",factory:()=>Ys().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function rM(){let e=new ii;return e.store=gw(Ys(),g(ln)),e}var ii=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:rM});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function gw(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var mw="h",vw="b",iM="f",oM="n",yw="e",_w="t",fu="c",hg="x",$s="r",Ew="i",Iw="n",pg="d";var ww="di",Cw="s",Dw="p";var Zs=new E(""),bw=!1,gg=new E("",{providedIn:"root",factory:()=>bw});var mg=new E(""),Tw=!1,Sw=new E(""),vg=new E("",{providedIn:"root",factory:()=>new Map});var Qs="ngb";var Aw=(e,t,n)=>{let r=e,i=r.__jsaction_fns??new Map,o=i.get(t)??[];o.push(n),i.set(t,o),r.__jsaction_fns=i},Rw=(e,t)=>{let n=e,r=n.getAttribute(Qs)??"",i=t.get(r)??new Set;i.has(n)||i.add(n),t.set(r,i)};var Nw=e=>{e.removeAttribute(kl.JSACTION),e.removeAttribute(Qs),e.__jsaction_fns=void 0},Mw=new E("",{providedIn:"root",factory:()=>({})});function yg(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var $p=new Map;function Ow(e,t){return $p.set(e,t),()=>$p.delete(e)}var fI=!1,kw=(e,t,n,r)=>{};function sM(e,t,n,r){kw(e,t,n,r)}function Pw(){fI||(kw=(e,t,n,r)=>{let i=e[xt].get(ln);$p.get(i)?.(t,n,r)},fI=!0)}var hu=new E("");function pu(e){return(e.flags&32)===32}var aM="__nghData__",_g=aM,cM="__nghDeferData__",xw=cM;var jl="ngh",Fw="nghm",Lw=()=>null;function lM(e,t,n=!1){let r=e.getAttribute(jl);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=t.get(ii,null,{optional:!0});u!==null&&(c=u.get(_g,[])[Number(r)])}let l={data:c,firstChild:e.firstChild??null};return n&&(l.firstChild=e,gu(l,0,e.nextSibling)),a?e.setAttribute(jl,a):e.removeAttribute(jl),l}function Vw(){Lw=lM}function jw(e,t,n=!1){return Lw(e,t,n)}function Uw(e){let t=e._lView;return t[T].type===2?null:(Kr(t)&&(t=t[oe]),t)}function uM(e){return e.textContent?.replace(/\s/gm,"")}function dM(e){let t=Ys(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=uM(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function gu(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Wp(e,t){return e.segmentHeads?.[t]??null}function Bw(e){return e.get(Sw,!1,{optional:!0})}function fM(e,t){let n=e.data,r=n[yw]?.[t]??null;return r===null&&n[fu]?.[t]&&(r=Eg(e,t)),r}function Hw(e,t){return e.data[fu]?.[t]??null}function Eg(e,t){let n=Hw(e,t)??[],r=0;for(let i of n)r+=i[$s]*(i[hg]??1);return r}function hM(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[pg];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function $w(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[pg];e.disconnectedNodes=n?new Set(n):null}return!!hM(e)?.has(t)}function mu(e,t){let n=e[Qe];return n!==null&&!sp()&&!pu(t)&&!$w(n,t.index-oe)}function pM(e,t){let n=t.get(hu),i=t.get(ii).get(xw,{}),o=!1,s=e,a=null,c=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}c.unshift(s),s=i[s][Dw]}return{parentBlockPromise:a,hydrationQueue:c}}function Tp(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===Fw}function hI(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function Ww(e){for(let r of e.body.childNodes)if(Tp(r))return;let t=hI(e.body.previousSibling);if(Tp(t))return;let n=hI(e.head.lastChild);if(!Tp(n))throw new w(-507,!1)}function zw(e,t){let n=e.contentQueries;if(n!==null){let r=M(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];pp(o),a.contentQueries(2,t[s],s)}}}finally{M(r)}}}function zp(e,t,n){pp(0);let r=M(null);try{t(e,n)}finally{M(r)}}function Gw(e,t,n){if(tp(t)){let r=M(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{M(r)}}}var jn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(jn||{});var xl;function gM(){if(xl===void 0&&(xl=null,so.trustedTypes))try{xl=so.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return xl}function pI(e){return gM()?.createScriptURL(e)||e}var Kl=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ml})`}};function wo(e){return e instanceof Kl?e.changingThisBreaksApplicationSecurity:e}function vu(e,t){let n=qw(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${ml})`)}return n===t}function qw(e){return e instanceof Kl&&e.getTypeName()||null}var mM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ig(e){return e=String(e),e.match(mM)?e:"unsafe:"+e}var Js=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Js||{});function dr(e){let t=Yw();return t?t.sanitize(Js.URL,e)||"":vu(e,"URL")?wo(e):Ig(Hr(e))}function Kw(e){let t=Yw();if(t)return pI(t.sanitize(Js.RESOURCE_URL,e)||"");if(vu(e,"ResourceURL"))return pI(wo(e));throw new w(904,!1)}function vM(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Kw:dr}function wg(e,t,n){return vM(t,n)(e)}function Yw(){let e=K();return e&&e[rn].sanitizer}var yM=/^>|^->|<!--|-->|--!>|<!-$/g,_M=/(<|>)/g,EM="\u200B$1\u200B";function IM(e){return e.replace(yM,t=>t.replace(_M,EM))}function Zw(e){return e.ownerDocument.body}function Qw(e){return e instanceof Function?e():e}function wM(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Jw="ng-template";function CM(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&wM(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Cg(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Cg(e){return e.type===4&&e.value!==Jw}function DM(e,t,n){let r=e.type===4&&!n?Jw:e.value;return t===r}function bM(e,t,n){let r=4,i=e.attrs,o=i!==null?AM(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!jt(r)&&!jt(c))return!1;if(s&&jt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!DM(e,c,n)||c===""&&t.length===1){if(jt(r))return!1;s=!0}}else if(r&8){if(i===null||!CM(e,i,c,n)){if(jt(r))return!1;s=!0}}else{let l=t[++a],u=TM(c,i,Cg(e),n);if(u===-1){if(jt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(jt(r))return!1;s=!0}}}}return jt(r)||s}function jt(e){return(e&1)===0}function TM(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return RM(t,e)}function SM(e,t,n=!1){for(let r=0;r<t.length;r++)if(bM(e,t[r],n))return!0;return!1}function AM(e){for(let t=0;t<e.length;t++){let n=e[t];if(QI(n))return t}return e.length}function RM(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function gI(e,t){return e?":not("+t.trim()+")":t}function NM(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!jt(s)&&(t+=gI(o,i),i=""),r=s,o=o||!jt(r);n++}return i!==""&&(t+=gI(o,i)),t}function MM(e){return e.map(NM).join(",")}function OM(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!jt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var mt={};function Xw(e,t){return e.createText(t)}function kM(e,t,n){e.setValue(t,n)}function eC(e,t){return e.createComment(IM(t))}function Dg(e,t,n){return e.createElement(t,n)}function Yl(e,t,n,r,i){e.insertBefore(t,n,r,i)}function tC(e,t,n){e.appendChild(t,n)}function mI(e,t,n,r,i){r!==null?Yl(e,t,n,r,i):tC(e,t,n)}function bg(e,t,n){e.removeChild(null,t,n)}function nC(e){e.textContent=""}function PM(e,t,n){e.setAttribute(t,"style",n)}function xM(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function rC(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&jN(e,t,r),i!==null&&xM(e,t,i),o!==null&&PM(e,t,o)}function Tg(e,t,n,r,i,o,s,a,c,l,u){let d=oe+r,f=d+i,h=FM(d,f),p=typeof l=="function"?l():l;return h[T]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function FM(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:mt);return n}function LM(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Tg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Sg(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[Ue]=i,d[k]=r|4|128|8|64|1024,(l!==null||e&&e[k]&2048)&&(d[k]|=2048),rp(d),d[Ee]=d[$r]=e,d[ge]=n,d[rn]=s||e&&e[rn],d[te]=a||e&&e[te],d[xt]=c||e&&e[xt]||null,d[wt]=o,d[Os]=eM(),d[Qe]=u,d[ep]=l,d[Be]=t.type==2?e[Be]:d,d}function VM(e,t,n){let r=Ct(t,e),i=LM(n),o=e[rn].rendererFactory,s=Ag(e,Sg(e,i,null,iC(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function iC(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function oC(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ag(e,t){return e[lo]?e[Xh][It]=t:e[lo]=t,e[Xh]=t,t}function $(e=1){sC(He(),K(),Ln()+e,!1)}function sC(e,t,n,r){if(!r)if((t[k]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ll(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Vl(t,o,0,n)}lr(n)}var yu=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(yu||{});function Gp(e,t,n,r){let i=M(null);try{let[o,s,a]=e.inputs[n],c=null;(s&yu.SignalBased)!==0&&(c=t[o][Fe]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):GI(t,c,o,r)}finally{M(i)}}var Un=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Un||{}),jM;function Rg(e,t){return jM(e,t)}function ho(e,t,n,r,i){if(r!=null){let o,s=!1;dt(r)?o=r:ut(r)&&(s=!0,r=r[Ue]);let a=ft(r);e===0&&n!==null?i==null?tC(t,n,a):Yl(t,n,a,i||null,!0):e===1&&n!==null?Yl(t,n,a,i||null,!0):e===2?bg(t,a,s):e===3&&t.destroyNode(a),o!=null&&QM(t,e,o,n,i)}}function UM(e,t){aC(e,t),t[Ue]=null,t[wt]=null}function BM(e,t,n,r,i,o){r[Ue]=i,r[wt]=t,Eu(e,r,n,1,i,o)}function aC(e,t){t[rn].changeDetectionScheduler?.notify(9),Eu(e,t,t[te],2,null,null)}function HM(e){let t=e[lo];if(!t)return Sp(e[T],e);for(;t;){let n=null;if(ut(t))n=t[lo];else{let r=t[Ae];r&&(n=r)}if(!n){for(;t&&!t[It]&&t!==e;)ut(t)&&Sp(t[T],t),t=t[Ee];t===null&&(t=e),ut(t)&&Sp(t[T],t),n=t&&t[It]}t=n}}function Ng(e,t){let n=e[xs],r=n.indexOf(t);n.splice(r,1)}function _u(e,t){if(ar(t))return;let n=t[te];n.destroyNode&&Eu(e,t,n,3,null,null),HM(t)}function Sp(e,t){if(ar(t))return;let n=M(null);try{t[k]&=-129,t[k]|=256,t[lt]&&ys(t[lt]),WM(e,t),$M(e,t),t[T].type===1&&t[te].destroy();let r=t[Wr];if(r!==null&&dt(t[Ee])){r!==t[Ee]&&Ng(r,t);let i=t[Gr];i!==null&&i.detachView(e)}Bp(t)}finally{M(n)}}function $M(e,t){let n=e.cleanup,r=t[co];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[co]=null);let i=t[On];if(i!==null){t[On]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[ks];if(o!==null){t[ks]=null;for(let s of o)s.destroy()}}function WM(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Xr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Z(4,a,c);try{c.call(a)}finally{Z(5,a,c)}}else{Z(4,i,o);try{o.call(i)}finally{Z(5,i,o)}}}}}function zM(e,t,n){return GM(e,t.parent,n)}function GM(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Ue];if(Fn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===jn.None||i===jn.Emulated)return null}return Ct(r,n)}function qM(e,t,n){return YM(e,t,n)}function KM(e,t,n){return e.type&40?Ct(e,n):null}var YM=KM,vI;function Mg(e,t,n,r){let i=zM(e,r,t),o=t[te],s=r.parent||t[wt],a=qM(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)mI(o,i,n[c],a,!1);else mI(o,i,n,a,!1);vI!==void 0&&vI(o,r,t,n,i)}function Us(e,t){if(t!==null){let n=t.type;if(n&3)return Ct(t,e);if(n&4)return qp(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Us(e,r);{let i=e[t.index];return dt(i)?qp(-1,i):ft(i)}}else{if(n&128)return Us(e,t.next);if(n&32)return Rg(t,e)()||ft(e[t.index]);{let r=cC(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=or(e[Be]);return Us(i,r)}else return Us(e,t.next)}}}return null}function cC(e,t){if(t!==null){let r=e[Be][wt],i=t.projection;return r.projection[i]}return null}function qp(e,t){let n=Ae+e+1;if(n<t.length){let r=t[n],i=r[T].firstChild;if(i!==null)return Us(r,i)}return t[on]}function Og(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&vo(ft(a),r),n.flags|=2),!pu(n))if(c&8)Og(e,t,n.child,r,i,o,!1),ho(t,e,i,a,o);else if(c&32){let l=Rg(n,r),u;for(;u=l();)ho(t,e,i,u,o);ho(t,e,i,a,o)}else c&16?ZM(e,t,r,n,i,o):ho(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Eu(e,t,n,r,i,o){Og(n,r,e.firstChild,t,i,o,!1)}function ZM(e,t,n,r,i,o){let s=n[Be],c=s[wt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];ho(t,e,i,u,o)}else{let l=c,u=s[Ee];ql(r)&&(l.flags|=128),Og(e,t,l,u,i,o,!0)}}function QM(e,t,n,r,i){let o=n[on],s=ft(n);o!==s&&ho(t,e,r,o,i);for(let a=Ae;a<n.length;a++){let c=n[a];Eu(c[T],c,e,t,r,o)}}function JM(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Un.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Un.Important),e.setStyle(n,r,i,o))}}function lC(e,t,n,r,i){let o=Ln(),s=r&2;try{lr(-1),s&&t.length>oe&&sC(e,t,oe,!1),Z(s?2:0,i,n),n(r,i)}finally{lr(o),Z(s?3:1,i,n)}}function uC(e,t,n){oO(e,t,n),(n.flags&64)===64&&sO(e,t,n)}function dC(e,t,n=Ct){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function XM(e,t,n,r){let o=r.get(gg,bw)||n===jn.ShadowDom,s=e.selectRootElement(t,o);return eO(s),s}function eO(e){fC(e)}var fC=()=>null;function tO(e){lw(e)?nC(e):dM(e)}function hC(){fC=tO}function nO(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function pC(e,t,n,r,i,o){let s=t[T];if(Pg(e,s,t,n,r)){Fn(e)&&iO(t,e.index);return}e.type&3&&(n=nO(n)),rO(e,t,n,r,i,o)}function rO(e,t,n,r,i,o){if(e.type&3){let s=Ct(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function iO(e,t){let n=Dt(t,e);n[k]&16||(n[k]|=64)}function oO(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Fn(n)&&VM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||zl(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Gl(t,e,s,n);if(vo(c,t),o!==null&&dO(t,s-r,c,a,n,o),sn(a)){let l=Dt(n.index,t);l[ge]=Gl(t,e,s,n)}}}function sO(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ZE();try{lr(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];Sl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&aO(c,l)}}finally{lr(-1),Sl(s)}}function aO(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function cO(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];SM(t,o.selectors,!1)&&(r??=[],sn(o)?r.unshift(o):r.push(o))}return r}function lO(e,t,n,r,i,o){let s=Ct(e,t);uO(t[te],s,o,e.value,n,r,i)}function uO(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Hr(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function dO(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Gp(r,n,c,l)}}function fO(e,t,n,r,i){let o=oe+n,s=t[T],a=i(s,t,e,r,n);t[o]=a,fo(e,!0);let c=e.type===2;return c?(rC(t[te],a,e),(LE()===0||Dl(e))&&vo(a,t),VE()):vo(a,t),Ml()&&(!c||!pu(e))&&Mg(s,t,a,e),e}function hO(e){let t=e;return cp()?zE():(t=t.parent,fo(t,!1)),t}function kg(e,t){let n=e[xt];if(!n)return;n.get(ht,null)?.(t)}function Pg(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Gp(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];Gp(u,l,r,i),a=!0}return a}function pO(e,t){let n=Dt(t,e),r=n[T];gO(r,n);let i=n[Ue];i!==null&&n[Qe]===null&&(n[Qe]=jw(i,n[xt])),Z(18),xg(r,n,n[ge]),Z(19,n[ge])}function gO(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function xg(e,t,n){Al(t);try{let r=e.viewQuery;r!==null&&zp(1,r,n);let i=e.template;i!==null&&lC(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Gr]?.finishViewCreation(e),e.staticContentQueries&&zw(e,t),e.staticViewQueries&&zp(2,e.viewQuery,n);let o=e.components;o!==null&&mO(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[k]&=-5,Rl()}}function mO(e,t){for(let n=0;n<t.length;n++)pO(e,t[n])}function Iu(e,t,n,r){let i=M(null);try{let o=t.tView,a=e[k]&4096?4096:16,c=Sg(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Wr]=l;let u=e[Gr];return u!==null&&(c[Gr]=u.createEmbeddedView(o)),xg(o,c,n),c}finally{M(i)}}function yo(e,t){return!t||t.firstChild===null||ql(e)}var yI=!1,vO=new E("");function Ws(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(ft(o)),dt(o)&&gC(o,r);let s=n.type;if(s&8)Ws(e,t,n.child,r);else if(s&32){let a=Rg(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=cC(t,n);if(Array.isArray(a))r.push(...a);else{let c=or(t[Be]);Ws(c[T],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function gC(e,t){for(let n=Ae;n<e.length;n++){let r=e[n],i=r[T].firstChild;i!==null&&Ws(r[T],r,i,t)}e[on]!==e[Ue]&&t.push(e[on])}function mC(e){if(e[qr]!==null){for(let t of e[qr])t.impl.addSequence(t);e[qr].length=0}}var vC=[];function yO(e){return e[lt]??_O(e)}function _O(e){let t=vC.pop()??Object.create(IO);return t.lView=e,t}function EO(e){e.lView[lt]!==e&&(e.lView=null,vC.push(e))}var IO=O(v({},Nr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{uo(e.lView)},consumerOnSignalRead(){this.lView[lt]=this}});function wO(e){let t=e[lt]??Object.create(CO);return t.lView=e,t}var CO=O(v({},Nr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=or(e.lView);for(;t&&!yC(t[T]);)t=or(t);t&&ip(t)},consumerOnSignalRead(){this.lView[lt]=this}});function yC(e){return e.type!==2}function _C(e){if(e[ks]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[ks])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[k]&8192)}}var DO=100;function Fg(e,t=0){let r=e[rn].rendererFactory,i=!1;i||r.begin?.();try{bO(e,t)}finally{i||r.end?.()}}function bO(e,t){let n=up();try{dp(!0),Kp(e,t);let r=0;for(;Fs(e);){if(r===DO)throw new w(103,!1);r++,Kp(e,1)}}finally{dp(n)}}function EC(e,t){lp(t?Ls.Exhaustive:Ls.OnlyDirtyViews);try{Fg(e)}finally{lp(Ls.Off)}}function TO(e,t,n,r){if(ar(t))return;let i=t[k],o=!1,s=!1;Al(t);let a=!0,c=null,l=null;o||(yC(e)?(l=yO(t),c=Mr(l)):Lc()===null?(a=!1,l=wO(t),c=Mr(l)):t[lt]&&(ys(t[lt]),t[lt]=null));try{rp(t),qE(e.bindingStartIndex),n!==null&&lC(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&Ll(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Vl(t,h,0,null),Dp(t,0)}if(s||SO(t),_C(t),IC(t,0),e.contentQueries!==null&&zw(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&Ll(t,h)}else{let h=e.contentHooks;h!==null&&Vl(t,h,1),Dp(t,1)}RO(e,t);let d=e.components;d!==null&&CC(t,d,0);let f=e.viewQuery;if(f!==null&&zp(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&Ll(t,h)}else{let h=e.viewHooks;h!==null&&Vl(t,h,2),Dp(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Cl]){for(let h of t[Cl])h();t[Cl]=null}o||(mC(t),t[k]&=-73)}catch(u){throw o||uo(t),u}finally{l!==null&&(Hi(l,c),a&&EO(l)),Rl()}}function IC(e,t){for(let n=fw(e);n!==null;n=hw(n))for(let r=Ae;r<n.length;r++){let i=n[r];wC(i,t)}}function SO(e){for(let t=fw(e);t!==null;t=hw(t)){if(!(t[k]&2))continue;let n=t[xs];for(let r=0;r<n.length;r++){let i=n[r];ip(i)}}}function AO(e,t,n){Z(18);let r=Dt(t,e);wC(r,n),Z(19,r[ge])}function wC(e,t){bl(e)&&Kp(e,t)}function Kp(e,t){let r=e[T],i=e[k],o=e[lt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&vs(o)),s||=!1,o&&(o.dirty=!1),e[k]&=-9217,s)TO(r,e,r.template,e[ge]);else if(i&8192){let a=M(null);try{_C(e),IC(e,1);let c=r.components;c!==null&&CC(e,c,1),mC(e)}finally{M(a)}}}function CC(e,t,n){for(let r=0;r<t.length;r++)AO(e,t[r],n)}function RO(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)lr(~i);else{let o=i,s=n[++r],a=n[++r];YE(s,o);let c=t[o];Z(24,c),a(2,c),Z(25,c)}}}finally{lr(-1)}}function wu(e,t){let n=up()?64:1088;for(e[rn].changeDetectionScheduler?.notify(t);e;){e[k]|=n;let r=or(e);if(Kr(e)&&!r)return e;e=r}return null}function DC(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function bC(e,t){let n=Ae+t;if(n<e.length)return e[n]}function Xs(e,t,n,r=!0){let i=t[T];if(NO(i,t,e,n),r){let s=qp(n,e),a=t[te],c=a.parentNode(e[on]);c!==null&&BM(i,e[wt],a,t,c,s)}let o=t[Qe];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Lg(e,t){let n=zs(e,t);return n!==void 0&&_u(n[T],n),n}function zs(e,t){if(e.length<=Ae)return;let n=Ae+t,r=e[n];if(r){let i=r[Wr];i!==null&&i!==e&&Ng(i,r),t>0&&(e[n-1][It]=r[It]);let o=Rs(e,Ae+t);UM(r[T],r);let s=o[Gr];s!==null&&s.detachView(o[T]),r[Ee]=null,r[It]=null,r[k]&=-129}return r}function NO(e,t,n,r){let i=Ae+r,o=n.length;r>0&&(n[i-1][It]=t),r<o-Ae?(t[It]=n[i],Gh(n,Ae+r,t)):(n.push(t),t[It]=null),t[Ee]=n;let s=t[Wr];s!==null&&n!==s&&TC(s,t);let a=t[Gr];a!==null&&a.insertView(e),Tl(t),t[k]|=128}function TC(e,t){let n=e[xs],r=t[Ee];if(ut(r))e[k]|=2;else{let i=r[Ee][Be];t[Be]!==i&&(e[k]|=2)}n===null?e[xs]=[t]:n.push(t)}var ei=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[T];return Ws(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ge]}set context(t){this._lView[ge]=t}get destroyed(){return ar(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ee];if(dt(t)){let n=t[Ps],r=n?n.indexOf(this):-1;r>-1&&(zs(t,r),Rs(n,r))}this._attachedToViewContainer=!1}_u(this._lView[T],this._lView)}onDestroy(t){op(this._lView,t)}markForCheck(){wu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){Tl(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,Fg(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[xt].get(vO,yI)}catch{this.exhaustive=yI}}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Kr(this._lView),n=this._lView[Wr];n!==null&&!t&&Ng(n,this._lView),aC(this._lView[T],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=t;let n=Kr(this._lView),r=this._lView[Wr];r!==null&&!n&&TC(r,this._lView),Tl(this._lView)}};function Vg(e,t,n,r,i){let o=e.data[t];if(o===null)o=MO(e,t,n,r,i),KE()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=WE();o.injectorIndex=s===null?-1:s.injectorIndex}return fo(o,!0),o}function MO(e,t,n,r,i){let o=ap(),s=cp(),a=s?o:o&&o.parent,c=e.data[t]=kO(e,a,n,t,r,i);return OO(e,c,o,s),c}function OO(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function kO(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return sp()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var PO=new RegExp(`^(\\d+)*(${vw}|${mw})*(.*)`);function xO(e){let t=e.match(PO),[n,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function FO(e){return!e.prev&&e.parent?.type===8}function Ap(e){return e.index-oe}function LO(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function Cu(e,t,n,r){let i=Ap(r),o=LO(e,i);if(o===void 0){let s=e.data[Iw];if(s?.[i])o=jO(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(FO(r)){let l=Ap(r.parent);o=Wp(e,l)}else{let l=Ct(c,n);if(a)o=l.firstChild;else{let u=Ap(c),d=Wp(e,u);if(c.type===2&&d){let h=Eg(e,u)+1;o=Du(h,d)}else o=l.nextSibling}}}}return o}function Du(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function VO(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case iM:n=n.firstChild;break;case oM:n=n.nextSibling;break}}return n}function jO(e,t){let[n,...r]=xO(e),i;if(n===mw)i=t[Be][Ue];else if(n===vw)i=Zw(t[Be][Ue]);else{let o=Number(n);i=ft(t[o+oe])}return VO(i,r)}var UO=!1;function SC(e){UO=e}function BO(e){let t=e[Qe];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let i=e[te];for(let o of r.values())HO(i,n,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function HO(e,t,n){for(let r of n.node.cases[n.case]){let i=t.get(r.index-oe);i&&bg(e,i,!1)}}function bu(e){let t=e[Ft]??[],r=e[Ee][te],i=[];for(let o of t)o.data[ww]!==void 0?i.push(o):AC(o,r);e[Ft]=i}function $O(e){let{lContainer:t}=e,n=t[Ft];if(n===null)return;let i=t[Ee][te];for(let o of n)AC(o,i)}function AC(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[$s];for(;n<i;){let o=r.nextSibling;bg(t,r,!1),r=o,n++}}}function Tu(e){bu(e);let t=e[Ue];ut(t)&&Zl(t);for(let n=Ae;n<e.length;n++)Zl(e[n])}function Zl(e){BO(e);let t=e[T];for(let n=oe;n<t.bindingStartIndex;n++)if(dt(e[n])){let r=e[n];Tu(r)}else ut(e[n])&&Zl(e[n])}function jg(e){let t=e._views;for(let n of t){let r=Uw(n);r!==null&&r[Ue]!==null&&(ut(r)?Zl(r):Tu(r))}}function WO(e,t,n,r){e!==null&&(n.cleanup(t),Tu(e.lContainer),jg(r))}function zO(e,t){let n=[];for(let r of t)for(let i=0;i<(r[hg]??1);i++){let o={data:r,firstChild:null};r[$s]>0&&(o.firstChild=e,e=Du(r[$s],e)),n.push(o)}return[e,n]}var RC=()=>null,NC=()=>null;function MC(){RC=GO,NC=qO}function GO(e,t){return kC(e,t)?e[Ft].shift():(bu(e),null)}function Ql(e,t){return RC(e,t)}function qO(e,t,n){if(t.tView.ssrId===null)return null;let r=Ql(e,t.tView.ssrId);return n[T].firstUpdatePass&&r===null&&KO(n,t),r}function OC(e,t,n){return NC(e,t,n)}function KO(e,t){let n=t;for(;n;){if(_I(e,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=t.next;n&&(n.flags&512)===512;){if(_I(e,n))return;n=n.next}}function kC(e,t){let n=e[Ft];return!t||n===null||n.length===0?!1:n[0].data[Ew]===t}function _I(e,t){let n=t.tView?.ssrId;if(n==null)return!1;let r=e[t.index];return dt(r)&&kC(r,n)?(bu(r),!0):!1}var PC=class{},Su=class{},Yp=class{resolveComponentFactory(t){throw new w(917,!1)}},ea=class{static NULL=new Yp},ti=class{},Bt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>YO()}return e})();function YO(){let e=K(),t=$e(),n=Dt(t.index,e);return(ut(n)?n:e)[te]}var xC=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:()=>null})}return e})();var Ul={},go=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,Ul,r);return i!==Ul||n===Ul?i:this.parentInjector.get(t,n,r)}};function EI(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Ph(i,a);else if(o==2){let c=a,l=t[++s];r=Ph(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function F(e,t=0){let n=K();if(n===null)return N(e,t);let r=$e();return iw(r,n,Pe(e),t)}function Ug(){let e="invalid";throw new Error(e)}function ZO(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}XO(e,t,n,a,o,c,l)}o!==null&&r!==null&&QO(n,r,o)}function QO(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new w(-301,!1);r.push(t[i],o)}}function JO(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function XO(e,t,n,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&sn(h)&&(c=!0,JO(e,n,f)),jp(zl(n,t),e,h.type)}ok(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=oC(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=Hs(n.mergedAttrs,h.hostAttrs),tk(e,n,t,d,h),ik(d,h,i),s!==null&&s.has(h)){let[y,I]=s.get(h);n.directiveToIndex.set(h.type,[d,y+n.directiveStart,I+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}ek(e,n,o)}function ek(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))II(0,t,i,r),II(1,t,i,r),CI(t,r,!1);else{let o=n.get(i);wI(0,t,o,r),wI(1,t,o,r),CI(t,r,!0)}}}function II(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),FC(t,o)}}function wI(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),FC(t,s)}}function FC(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function CI(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Cg(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function tk(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Vr(i.type,!0)),s=new Xr(o,sn(i),F,null);e.blueprint[r]=s,n[r]=s,nk(e,t,r,oC(e,n,i.hostVars,mt),i)}function nk(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;rk(s)!=a&&s.push(a),s.push(n,r,o)}}function rk(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function ik(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;sn(t)&&(n[""]=e)}}function ok(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function LC(e,t,n,r,i,o,s,a){let c=t[T],l=c.consts,u=cr(l,s),d=Vg(c,e,n,r,u);return o&&ZO(c,t,d,cr(l,a),i),d.mergedAttrs=Hs(d.mergedAttrs,d.attrs),d.attrs!==null&&EI(d,d.attrs,!1),d.mergedAttrs!==null&&EI(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function VC(e,t){xN(e,t),tp(t)&&e.queries.elementEnd(t)}function jC(e,t,n){return e[t]=n}function sk(e,t){return e[t]}function Bn(e,t,n){if(n===mt)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function UC(e,t,n,r){let i=Bn(e,t,n);return Bn(e,t+1,r)||i}function Rp(e,t,n){return function r(i){let o=Fn(e)?Dt(e.index,t):t;wu(o,5);let s=t[ge],a=DI(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=DI(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function DI(e,t,n,r){let i=M(null);try{return Z(6,t,n),n(r)!==!1}catch(o){return kg(e,o),!1}finally{Z(7,t,n),M(i)}}function ak(e,t,n,r,i,o,s,a){let c=Dl(e),l=!1,u=null;if(!r&&c&&(u=ck(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=Ct(e,n),f=r?r(d):d;sM(n,f,o,a);let h=i.listen(f,o,a),p=r?y=>r(ft(y[e.index])):e.index;BC(p,t,n,o,a,h,!1)}return l}function ck(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[co],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function BC(e,t,n,r,i,o,s){let a=t.firstCreatePass?FE(t):null,c=xE(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function bI(e,t,n,r,i,o){let s=t[n],a=t[T],l=a.data[n].outputs[r],d=s[l].subscribe(o);BC(e.index,a,t,i,o,d,!0)}var Zp=Symbol("BINDING");var Jl=class extends ea{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=nn(t);return new ni(n,this.ngModule)}};function lk(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&yu.SignalBased)!==0};return i&&(o.transform=i),o})}function uk(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function dk(e,t,n){let r=t instanceof ue?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new go(n,r):n}function fk(e){let t=e.get(ti,null);if(t===null)throw new w(407,!1);let n=e.get(xC,null),r=e.get(Pn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function hk(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Dg(t,n,n==="svg"?NE:n==="math"?ME:null)}var ni=class extends Su{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=lk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=uk(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=MM(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){Z(22);let a=M(null);try{let c=this.componentDef,l=pk(r,c,s,o),u=dk(c,i||this.ngModule,t),d=fk(u),f=d.rendererFactory.createRenderer(null,c),h=r?XM(f,r,c.encapsulation,u):hk(c,f),p=s?.some(TI)||o?.some(b=>typeof b!="function"&&b.bindings.some(TI)),y=Sg(null,l,null,512|iC(c),null,null,d,f,u,null,jw(h,u,!0));y[oe]=h,Al(y);let I=null;try{let b=LC(oe,y,2,"#host",()=>l.directiveRegistry,!0,0);h&&(rC(f,h,b),vo(h,y)),uC(l,y,b),Gw(l,b,y),VC(l,b),n!==void 0&&mk(b,this.ngContentSelectors,n),I=Dt(b.index,y),y[ge]=I[ge],xg(l,y,null)}catch(b){throw I!==null&&Bp(I),Bp(y),b}finally{Z(23),Rl()}return new Xl(this.componentType,y,!!p)}finally{M(a)}}};function pk(e,t,n,r){let i=e?["ng-version","20.1.7"]:OM(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Zp].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let f of d.bindings){a+=f[Zp].requiredVars;let h=u+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,f=Il(d);c.push(f)}return Tg(0,null,gk(o,s),1,a,c,null,null,null,[i],null)}function gk(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function TI(e){let t=e[Zp].kind;return t==="input"||t==="twoWay"}var Xl=class extends PC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Yr(n[T],oe),this.location=ug(this._tNode,n),this.instance=Dt(this._tNode.index,n)[ge],this.hostView=this.changeDetectorRef=new ei(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Pg(r,i[T],i,t,n);this.previousInputValues.set(t,n);let s=Dt(r.index,i);wu(s,1)}get injector(){return new Jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function mk(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ta=(()=>{class e{static __NG_ELEMENT_ID__=vk}return e})();function vk(){let e=$e();return _k(e,K())}var yk=ta,HC=class extends yk{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ug(this._hostTNode,this._hostLView)}get injector(){return new Jr(this._hostTNode,this._hostLView)}get parentInjector(){let t=lg(this._hostTNode,this._hostLView);if(JI(t)){let n=Wl(t,this._hostLView),r=$l(t),i=n[T].data[r+8];return new Jr(i,n)}else return new Jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=SI(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Ae}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ql(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,yo(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!NN(t),l;if(c)l=n;else{let I=n||{};l=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef,s=I.directives,a=I.bindings}let u=c?t:new ni(nn(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let b=(c?d:this.parentInjector).get(ue,null);b&&(o=b)}let f=nn(u.componentType??{}),h=Ql(this._lContainer,f?.id??null),p=h?.firstChild??null,y=u.create(d,i,p,o,s,a);return this.insertImpl(y.hostView,l,yo(this._hostTNode,h)),y}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(OE(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Ee],l=new HC(c,c[wt],c[Ee]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Xs(s,i,o,r),t.attachToViewContainerRef(),Gh(Np(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=SI(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=zs(this._lContainer,n);r&&(Rs(Np(this._lContainer),n),_u(r[T],r))}detach(t){let n=this._adjustIndex(t,-1),r=zs(this._lContainer,n);return r&&Rs(Np(this._lContainer),n)!=null?new ei(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function SI(e){return e[Ps]}function Np(e){return e[Ps]||(e[Ps]=[])}function _k(e,t){let n,r=t[e.index];return dt(r)?n=r:(n=DC(r,t,null,e),t[e.index]=n,Ag(t,n)),$C(n,t,e,r),new HC(n,e,t)}function Ek(e,t){let n=e[te],r=n.createComment(""),i=Ct(t,e),o=n.parentNode(i);return Yl(n,o,r,n.nextSibling(i),!1),r}var $C=WC,Bg=()=>!1;function Ik(e,t,n){return Bg(e,t,n)}function WC(e,t,n,r){if(e[on])return;let i;n.type&8?i=ft(r):i=Ek(t,n),e[on]=i}function wk(e,t,n){if(e[on]&&e[Ft])return!0;let r=n[Qe],i=t.index-oe;if(!r||uw(t)||$w(r,i))return!1;let s=Wp(r,i),a=r.data[fu]?.[i],[c,l]=zO(s,a);return e[on]=c,e[Ft]=l,!0}function Ck(e,t,n,r){Bg(e,n,t)||WC(e,t,n,r)}function zC(){$C=Ck,Bg=wk}var AI=new Set;function Xe(e){AI.has(e)||(AI.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var _o=class{},Au=class{};var eu=class extends _o{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Jl(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Yh(t);this._bootstrapComponents=Qw(o.bootstrap),this._r3Injector=yp(t,n,[{provide:_o,useValue:this},{provide:ea,useValue:this.componentFactoryResolver},...r],kn(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},tu=class extends Au{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new eu(this.moduleType,t,[])}};var Gs=class extends _o{injector;componentFactoryResolver=new Jl(this);instance=null;constructor(t){super();let n=new Ur([...t.providers,{provide:_o,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],t.parent||Ms(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function oi(e,t,n=null){return new Gs({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Dk=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=wl(!1,n.type),i=r.length>0?oi([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=C({token:e,providedIn:"environment",factory:()=>new e(N(ue))})}return e})();function $n(e){return Io(()=>{let t=GC(e),n=O(v({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===dg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(Dk).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||jn.Emulated,styles:e.styles||st,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Xe("NgStandalone"),qC(n);let r=e.dependencies;return n.directiveDefs=RI(r,bk),n.pipeDefs=RI(r,Zh),n.id=Ak(n),n})}function bk(e){return nn(e)||Il(e)}function un(e){return Io(()=>({type:e.type,bootstrap:e.bootstrap||st,declarations:e.declarations||st,imports:e.imports||st,exports:e.exports||st,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Tk(e,t){if(e==null)return sr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=yu.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function Sk(e){if(e==null)return sr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ae(e){return Io(()=>{let t=GC(e);return qC(t),t})}function GC(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||sr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||st,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Tk(e.inputs,t),outputs:Sk(e.outputs),debugInfo:null}}function qC(e){e.features?.forEach(t=>t(e))}function RI(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function Ak(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Rk(e){return Object.getPrototypeOf(e.prototype).constructor}function et(e){let t=Rk(e.type),n=!0,r=[e];for(;t;){let i;if(sn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new w(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Mp(e.inputs),s.declaredInputs=Mp(e.declaredInputs),s.outputs=Mp(e.outputs);let a=i.hostBindings;a&&Pk(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Ok(e,c),l&&kk(e,l),Nk(e,i),mE(e.outputs,i.outputs),sn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===et&&(n=!1)}}t=Object.getPrototypeOf(t)}Mk(r)}function Nk(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function Mk(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Hs(i.hostAttrs,n=Hs(n,i.hostAttrs))}}function Mp(e){return e===sr?{}:e===st?[]:e}function Ok(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function kk(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function Pk(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function xk(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Hs(e.mergedAttrs,e.attrs);let u=e.tView=Tg(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),fo(e,!1);let c=KC(n,t,e,r);Ml()&&Mg(n,t,c,e),vo(c,t);let l=DC(c,t,c,e);t[r+oe]=l,Ag(t,l),Ik(l,e,t)}function nu(e,t,n,r,i,o,s,a,c,l,u){let d=n+oe,f;if(t.firstCreatePass){if(f=Vg(t,d,4,s||null,a||null),l!=null){let h=cr(t.consts,l);f.localNames=[];for(let p=0;p<h.length;p+=2)f.localNames.push(h[p],-1)}}else f=t.data[d];return xk(f,e,t,n,r,i,o,c),l!=null&&dC(e,f,u),f}var KC=YC;function YC(e,t,n,r){return Vn(!0),t[te].createComment("")}function Fk(e,t,n,r){let i=!mu(t,n);Vn(i);let o=t[Qe]?.data[_w]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return YC(e,t);let s=t[Qe],a=Cu(s,e,t,n);gu(s,r,a);let c=Eg(s,r);return Du(c,a)}function ZC(){KC=Fk}var gt=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(gt||{}),NI=0,Lk=1,Ie=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(Ie||{});var Vk=0,na=1;var jk=4,Uk=5;var Bk=7,mo=8,Hk=9,Hg=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(Hg||{});function Bl(e,t){let n=Wk(e),r=t[n];if(r!==null){for(let i of r)i();t[n]=null}}function $k(e){Bl(1,e),Bl(0,e),Bl(2,e)}function Wk(e){let t=jk;return e===1?t=Uk:e===2&&(t=Hk),t}var Ru=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Ru||{}),si=new E(""),QC=!1,Qp=class extends ye{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,AE()&&(this.destroyRef=g(Lt,{optional:!0})??void 0,this.pendingTasks=g(Vt,{optional:!0})??void 0)}emit(t){let n=M(null);try{super.next(t)}finally{M(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof le&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},we=Qp;function JC(e){let t,n;function r(){e=js;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function MI(e){return queueMicrotask(()=>e()),()=>{e=js}}var $g="isAngularZone",ru=$g+"_ID",zk=0,ee=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new we(!1);onMicrotaskEmpty=new we(!1);onStable=new we(!1);onError=new we(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=QC}=t;if(typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Kk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get($g)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new w(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Gk,js,js);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Gk={};function Wg(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function qk(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){JC(()=>{e.callbackScheduled=!1,Jp(e),e.isCheckStableRunning=!0,Wg(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Jp(e)}function Kk(e){let t=()=>{qk(e)},n=zk++;e._inner=e._inner.fork({name:"angular",properties:{[$g]:!0,[ru]:n,[ru+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Yk(c))return r.invokeTask(o,s,a,c);try{return OI(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),kI(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return OI(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Zk(c)&&t(),kI(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Jp(e),Wg(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Jp(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function OI(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function kI(e){e._nesting--,Wg(e)}var iu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new we;onMicrotaskEmpty=new we;onStable=new we;onError=new we;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function Yk(e){return XC(e,"__ignore_ng_zone__")}function Zk(e){return XC(e,"__scheduler_tick__")}function XC(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var zg=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})(),eD=[0,1,2,3],tD=(()=>{class e{ngZone=g(ee);scheduler=g(Pn);errorHandler=g(Ot,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(si,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Z(16),this.executing=!0;for(let r of eD)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Z(17)}register(n){let{view:r}=n;r!==void 0?((r[qr]??=[]).push(n),uo(r),r[k]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Ru.AFTER_NEXT_RENDER,n):n()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})(),ou=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[qr];t&&(this.view[qr]=t.filter(n=>n!==this))}};function Co(e,t){let n=t?.injector??g(de);return Xe("NgAfterNextRender"),Jk(e,n,t,!0)}function Qk(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function Jk(e,t,n,r){let i=t.get(zg);i.impl??=t.get(tD);let o=t.get(si,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(Lt):null,a=t.get(Ol,null,{optional:!0}),c=new ou(i.impl,Qk(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}function nD(e){return e+1}function Do(e,t){let n=e[T],r=nD(t.index);return e[r]}function ra(e,t){let n=nD(t.index);return e.data[n]}function Xk(e,t,n){let r=t[T],i=ra(r,n);switch(e){case Ie.Complete:return i.primaryTmplIndex;case Ie.Loading:return i.loadingTmplIndex;case Ie.Error:return i.errorTmplIndex;case Ie.Placeholder:return i.placeholderTmplIndex;default:return null}}function PI(e,t){return t===Ie.Placeholder?e.placeholderBlockConfig?.[NI]??null:t===Ie.Loading?e.loadingBlockConfig?.[NI]??null:null}function eP(e){return e.loadingBlockConfig?.[Lk]??null}function xI(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function tP(e,t){let n=t.primaryTmplIndex+oe;return Yr(e,n)}var nP=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?oi(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=C({token:e,providedIn:"environment",factory:()=>new e})}return e})();var rD=new E("");function Op(e,t,n){return e.get(nP).getOrCreateInjector(t,e,n,"")}function rP(e,t,n){if(e instanceof go){let i=e.injector,o=e.parentInjector,s=Op(o,t,n);return new go(i,s)}let r=e.get(ue);if(r!==e){let i=Op(r,t,n);return new go(e,i)}return Op(e,t,n)}function Qr(e,t,n,r=!1){let i=n[Ee],o=i[T];if(ar(i))return;let s=Do(i,t),a=s[na],c=s[Bk];if(!(c!==null&&e<c)&&FI(a,e)&&FI(s[Vk]??-1,e)){let l=ra(o,t),d=!r&&!0&&(eP(l)!==null||PI(l,Ie.Loading)!==null||PI(l,Ie.Placeholder))?sP:oP;try{d(e,s,n,t,i)}catch(f){kg(i,f)}}}function iP(e,t){let n=e[Ft]?.findIndex(i=>i.data[Cw]===t[na])??-1;return{dehydratedView:n>-1?e[Ft][n]:null,dehydratedViewIx:n}}function oP(e,t,n,r,i){Z(20);let o=Xk(e,i,r);if(o!==null){t[na]=e;let s=i[T],a=o+oe,c=Yr(s,a),l=0;Lg(n,l);let u;if(e===Ie.Complete){let p=ra(s,r),y=p.providers;y&&y.length>0&&(u=rP(i[xt],p,y))}let{dehydratedView:d,dehydratedViewIx:f}=iP(n,t),h=Iu(i,c,null,{injector:u,dehydratedView:d});if(Xs(n,h,l,yo(c,d)),wu(h,2),f>-1&&n[Ft]?.splice(f,1),(e===Ie.Complete||e===Ie.Error)&&Array.isArray(t[mo])){for(let p of t[mo])p();t[mo]=null}}Z(21)}function FI(e,t){return e<t}function LI(e,t,n){e.loadingPromise.then(()=>{e.loadingState===gt.COMPLETE?Qr(Ie.Complete,t,n):e.loadingState===gt.FAILED&&Qr(Ie.Error,t,n)})}var sP=null;var Nu=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Gg=new E("");function ai(e){return!!e&&typeof e.then=="function"}function iD(e){return!!e&&typeof e.subscribe=="function"}var qg=new E("");function Mu(e){return ct([{provide:qg,multi:!0,useValue:e}])}var Kg=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=g(qg,{optional:!0})??[];injector=g(de);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=pe(this.injector,i);if(ai(o))n.push(o);else if(iD(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wn=new E("");function oD(){th(()=>{let e="";throw new w(600,e)})}function sD(e){return e.isBoundToModule}var aP=10;var Le=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(ht);afterRenderManager=g(zg);zonelessEnabled=g(Vs);rootEffectScheduler=g(Cp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ye;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(Vt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(G(n=>!n))}constructor(){g(si,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=g(ue);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=de.NULL){return this._injector.get(ee).run(()=>{Z(10);let s=n instanceof Su;if(!this._injector.get(Kg).done){let p="";throw new w(405,p)}let c;s?c=n:c=this._injector.get(ea).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=sD(c)?void 0:this._injector.get(_o),u=r||c.selector,d=c.create(i,[],u,l),f=d.location.nativeElement,h=d.injector.get(Gg,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Bs(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),Z(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Z(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ru.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new w(101,!1);let n=M(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,M(n),this.afterTick.next(),Z(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ti,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<aP;)Z(14),this.synchronizeOnce(),Z(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Fs(i))continue;let o=r&&!this.zonelessEnabled?0:1;Fg(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Fs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Bs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Wn,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Bs(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function aD(e,t,n){let r=t[xt],i=t[T];if(e.loadingState!==gt.NOT_STARTED)return e.loadingPromise??Promise.resolve();let o=Do(t,n),s=tP(i,e);e.loadingState=gt.IN_PROGRESS,Bl(1,o);let a=e.dependencyResolverFn,c=r.get(ur).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(l=>{let u=!1,d=[],f=[];for(let h of l)if(h.status==="fulfilled"){let p=h.value,y=nn(p)||Il(p);if(y)d.push(y);else{let I=Zh(p);I&&f.push(I)}}else{u=!0;break}if(u){if(e.loadingState=gt.FAILED,e.errorTmplIndex===null){let h="",p=new w(-750,!1);kg(t,p)}}else{e.loadingState=gt.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=xI(h.directiveRegistry,d);let p=d.map(I=>I.type),y=wl(!1,...p);e.providers=y}f.length>0&&(h.pipeRegistry=xI(h.pipeRegistry,f))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,c()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=gt.COMPLETE,c()}),e.loadingPromise)}function cP(e,t){return t[xt].get(rD,null,{optional:!0})?.behavior!==Hg.Manual}function lP(e,t,n){let r=t[T],i=t[n.index];if(!cP(e,t))return;let o=Do(t,n),s=ra(r,n);switch($k(o),s.loadingState){case gt.NOT_STARTED:Qr(Ie.Loading,n,i),aD(s,t,n),s.loadingState===gt.IN_PROGRESS&&LI(s,n,i);break;case gt.IN_PROGRESS:Qr(Ie.Loading,n,i),LI(s,n,i);break;case gt.COMPLETE:Qr(Ie.Complete,n,i);break;case gt.FAILED:Qr(Ie.Error,n,i);break;default:}}function cD(e,t,n){return m(this,null,function*(){let r=e.get(hu);if(r.hydrating.has(t))return;let{parentBlockPromise:o,hydrationQueue:s}=pM(t,e);if(s.length===0)return;o!==null&&s.shift(),fP(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield VI(e,s,n):r.awaitParentBlock(a,()=>m(null,null,function*(){return yield VI(e,s,n)}))})}function VI(e,t,n){return m(this,null,function*(){let r=e.get(hu),i=r.hydrating,o=e.get(Vt),s=o.add();for(let c=0;c<t.length;c++){let l=t[c],u=r.get(l);if(u!=null){if(yield pP(u),yield hP(e),uP(u)){$O(u),jI(t.slice(c),r);break}i.get(l).resolve()}else{dP(c,t,r),jI(t.slice(c),r);break}}let a=t[t.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(t),WO(r.get(a),t,r,e.get(Le))})}function uP(e){return Do(e.lView,e.tNode)[na]===Ie.Error}function dP(e,t,n){let r=e-1,i=r>-1?n.get(t[r]):null;i&&Tu(i.lContainer)}function jI(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function fP(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}function hP(e){return new Promise(t=>Co(t,{injector:e}))}function pP(e){return m(this,null,function*(){let{tNode:t,lView:n}=e,r=Do(n,t);return new Promise(i=>{gP(r,i),lP(2,n,t)})})}function gP(e,t){Array.isArray(e[mo])||(e[mo]=[]),e[mo].push(t)}function zn(e,t,n,r){let i=K(),o=Zr();if(Bn(i,o,t)){let s=He(),a=Nl();lO(a,i,e,t,n,r)}return zn}var Xp=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function kp(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function mP(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=s&&o<=c;){let l=e.at(o),u=t[o],d=kp(o,l,o,u,n);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let f=e.at(s),h=t[c],p=kp(s,f,c,h,n);if(p!==0){p<0&&e.updateValue(s,h),s--,c--;continue}let y=n(o,l),I=n(s,f),b=n(o,u);if(Object.is(b,I)){let ce=n(c,h);Object.is(ce,y)?(e.swap(o,s),e.updateValue(s,h),c--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(r??=new su,i??=BI(e,o,s,n),eg(e,r,o,b))e.updateValue(o,u),o++,s++;else if(i.has(b))r.set(y,e.detach(o)),s--;else{let ce=e.create(o,t[o]);e.attach(o,ce),o++,s++}}for(;o<=c;)UI(e,r,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=e.at(o),d=l.value,f=kp(o,u,o,d,n);if(f!==0)f<0&&e.updateValue(o,d),o++,l=c.next();else{r??=new su,i??=BI(e,o,s,n);let h=n(o,d);if(eg(e,r,o,h))e.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(h))e.attach(o,e.create(o,d)),o++,s++,l=c.next();else{let p=n(o,u);r.set(p,e.detach(o)),s--}}}for(;!l.done;)UI(e,r,n,e.length,l.value),l=c.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function eg(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function UI(e,t,n,r,i){if(eg(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function BI(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var su=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function Gn(e,t,n,r,i,o,s,a){Xe("NgControlFlow");let c=K(),l=He(),u=cr(l.consts,o);return nu(c,l,e,t,n,r,i,u,256,s,a),Yg}function Yg(e,t,n,r,i,o,s,a){Xe("NgControlFlow");let c=K(),l=He(),u=cr(l.consts,o);return nu(c,l,e,t,n,r,i,u,512,s,a),Yg}function qn(e,t){Xe("NgControlFlow");let n=K(),r=Zr(),i=n[r]!==mt?n[r]:-1,o=i!==-1?au(n,oe+i):void 0,s=0;if(Bn(n,r,e)){let a=M(null);try{if(o!==void 0&&Lg(o,s),e!==-1){let c=oe+e,l=au(n,c),u=ig(n[T],c),d=OC(l,u,n),f=Iu(n,u,t,{dehydratedView:d});Xs(l,f,s,yo(u,d))}}finally{M(a)}}else if(o!==void 0){let a=bC(o,s);a!==void 0&&(a[ge]=t)}}var tg=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ae}};function bo(e,t){return t}var ng=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function To(e,t,n,r,i,o,s,a,c,l,u,d,f){Xe("NgControlFlow");let h=K(),p=He(),y=c!==void 0,I=K(),b=a?s.bind(I[Be][ge]):s,ce=new ng(y,b);I[oe+e]=ce,nu(h,p,e+1,t,n,r,i,cr(p.consts,o),256),y&&nu(h,p,e+2,c,l,u,d,cr(p.consts,f),512)}var rg=class extends Xp{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Ae}at(t){return this.getLView(t)[ge].$implicit}attach(t,n){let r=n[Qe];this.needsIndexUpdate||=t!==this.length,Xs(this.lContainer,n,t,yo(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,vP(this.lContainer,t)}create(t,n){let r=Ql(this.lContainer,this.templateTNode.tView.ssrId),i=Iu(this.hostLView,this.templateTNode,new tg(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){_u(t[T],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[ge].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ge].$index=t}getLView(t){return yP(this.lContainer,t)}};function So(e){let t=M(null),n=Ln();try{let r=K(),i=r[T],o=r[n],s=n+1,a=au(r,s);if(o.liveCollection===void 0){let l=ig(i,s);o.liveCollection=new rg(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(mP(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Zr(),u=c.length===0;if(Bn(r,l,u)){let d=n+2,f=au(r,d);if(u){let h=ig(i,d),p=OC(f,h,r),y=Iu(r,h,void 0,{dehydratedView:p});Xs(f,y,0,yo(h,p))}else i.firstUpdatePass&&bu(f),Lg(f,0)}}}finally{M(t)}}function au(e,t){return e[t]}function vP(e,t){return zs(e,t)}function yP(e,t){return bC(e,t)}function ig(e,t){return Yr(e,t)}function Re(e,t,n){let r=K(),i=Zr();if(Bn(r,i,t)){let o=He(),s=Nl();pC(s,r,e,t,r[te],n)}return Re}function HI(e,t,n,r,i){Pg(t,e,n,i?"class":"style",r)}function D(e,t,n,r){let i=K(),o=i[T],s=e+oe,a=o.firstCreatePass?LC(s,i,2,t,cO,UE(),n,r):o.data[s];if(fO(a,i,e,t,lD),Dl(a)){let c=i[T];uC(c,i,a),Gw(c,a,i)}return r!=null&&dC(i,a),D}function S(){let e=He(),t=$e(),n=hO(t);return e.firstCreatePass&&VC(e,n),BE(n)&&$E(),jE(),n.classesWithoutHost!=null&&LN(n)&&HI(e,n,K(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&VN(n)&&HI(e,n,K(),n.stylesWithoutHost,!1),S}function We(e,t,n,r){return D(e,t,n,r),S(),We}var lD=(e,t,n,r,i)=>(Vn(!0),Dg(t[te],r,vp()));function _P(e,t,n,r,i){let o=!mu(t,n);if(Vn(o),o)return Dg(t[te],r,vp());let s=t[Qe],a=Cu(s,e,t,n);return Hw(s,i)&&gu(s,i,a.nextSibling),s&&(cw(n)||lw(a))&&Fn(n)&&(HE(n),nC(a)),a}function uD(){lD=_P}var EP=(e,t,n,r,i)=>(Vn(!0),eC(t[te],""));function IP(e,t,n,r,i){let o,s=!mu(t,n);if(Vn(s),s)return eC(t[te],"");let a=t[Qe],c=Cu(a,e,t,n),l=fM(a,i);return gu(a,i,c),o=Du(l,c),o}function dD(){EP=IP}function fr(){return K()}var ia="en-US";var wP=ia;function fD(e){typeof e=="string"&&(wP=e.toLowerCase().replace(/_/g,"-"))}function Ne(e,t,n){let r=K(),i=He(),o=$e();return hD(i,r,r[te],o,e,t,n),Ne}function hD(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Rp(r,t,o),ak(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],h=u[d+1];c??=Rp(r,t,o),bI(r,t,f,h,i,c)}if(l&&l.length)for(let d of l)c??=Rp(r,t,o),bI(r,t,d,i,i,c)}}function Me(e=1){return tI(e)}function Fl(e,t){return e<<17|t<<2}function ri(e){return e>>17&32767}function CP(e){return(e&2)==2}function DP(e,t){return e&131071|t<<17}function og(e){return e|2}function Eo(e){return(e&131068)>>2}function Pp(e,t){return e&-131069|t<<2}function bP(e){return(e&1)===1}function sg(e){return e|1}function TP(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=ri(s),c=Eo(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||ao(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=ri(e[a+1]);e[r+1]=Fl(f,a),f!==0&&(e[f+1]=Pp(e[f+1],r)),e[a+1]=DP(e[a+1],r)}else e[r+1]=Fl(a,0),a!==0&&(e[a+1]=Pp(e[a+1],r)),a=r;else e[r+1]=Fl(c,0),a===0?a=r:e[c+1]=Pp(e[c+1],r),c=r;l&&(e[r+1]=og(e[r+1])),$I(e,u,r,!0),$I(e,u,r,!1),SP(t,u,e,r,o),s=Fl(a,c),o?t.classBindings=s:t.styleBindings=s}function SP(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&ao(o,t)>=0&&(n[r+1]=sg(n[r+1]))}function $I(e,t,n,r){let i=e[n+1],o=t===null,s=r?ri(i):Eo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];AP(c,t)&&(a=!0,e[s+1]=r?sg(l):og(l)),s=r?ri(l):Eo(l)}a&&(e[n+1]=r?og(i):sg(i))}function AP(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?ao(e,t)>=0:!1}function Ou(e,t,n){return pD(e,t,n,!1),Ou}function oa(e,t){return pD(e,t,null,!0),oa}function pD(e,t,n,r){let i=K(),o=He(),s=hp(2);if(o.firstUpdatePass&&NP(o,e,s,r),t!==mt&&Bn(i,s,t)){let a=o.data[Ln()];xP(o,a,i,i[te],e,i[s+1]=FP(t,n),r,s)}}function RP(e,t){return t>=e.expandoStartIndex}function NP(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Ln()],s=RP(e,n);LP(o,r)&&t===null&&!s&&(t=!1),t=MP(i,o,t,r),TP(i,o,t,n,s,r)}}function MP(e,t,n,r){let i=QE(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=xp(null,e,t,n,r),n=qs(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=xp(i,e,t,n,r),o===null){let c=OP(e,t,r);c!==void 0&&Array.isArray(c)&&(c=xp(null,e,t,c[1],r),c=qs(c,t.attrs,r),kP(e,t,r,c))}else o=PP(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function OP(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Eo(r)!==0)return e[ri(r)]}function kP(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[ri(i)]=r}function PP(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=qs(r,s,n)}return qs(r,t.attrs,n)}function xp(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=qs(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function qs(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),CE(e,s,n?!0:t[++o]))}return e===void 0?null:e}function xP(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=bP(l)?WI(c,t,n,i,Eo(l),s):void 0;if(!cu(u)){cu(o)||CP(l)&&(o=WI(c,null,n,i,a,s));let d=np(Ln(),n);JM(r,s,d,i,o)}}function WI(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===mt&&(f=d?st:void 0);let h=d?El(f,r):u===r?f:void 0;if(l&&!cu(h)&&(h=El(c,r)),cu(h)&&(a=h,s))return a;let p=e[i+1];i=s?ri(p):Eo(p)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=El(c,r))}return a}function cu(e){return e!==void 0}function FP(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=kn(wo(e)))),e}function LP(e,t){return(e.flags&(t?8:16))!==0}function U(e,t=""){let n=K(),r=He(),i=e+oe,o=r.firstCreatePass?Vg(r,i,1,t,null):r.data[i],s=gD(r,n,o,t,e);n[i]=s,Ml()&&Mg(r,n,s,o),fo(o,!1)}var gD=(e,t,n,r,i)=>(Vn(!0),Xw(t[te],r));function VP(e,t,n,r,i){let o=!mu(t,n);if(Vn(o),o)return Xw(t[te],r);let s=t[Qe];return Cu(s,e,t,n)}function mD(){gD=VP}function jP(e,t,n,r=""){return Bn(e,Zr(),n)?t+Hr(n)+r:mt}function UP(e,t,n,r,i,o=""){let s=GE(),a=UC(e,s,n,i);return hp(2),a?t+Hr(n)+r+Hr(i)+o:mt}function Kn(e){return Yn("",e),Kn}function Yn(e,t,n){let r=K(),i=jP(r,e,t,n);return i!==mt&&vD(r,Ln(),i),Yn}function ku(e,t,n,r,i){let o=K(),s=UP(o,e,t,n,r,i);return s!==mt&&vD(o,Ln(),s),ku}function vD(e,t,n){let r=np(t,e);kM(e[te],r,n)}function ci(e,t,n){Ep(t)&&(t=t());let r=K(),i=Zr();if(Bn(r,i,t)){let o=He(),s=Nl();pC(s,r,e,t,r[te],n)}return ci}function Ao(e,t){let n=Ep(e);return n&&e.set(t),n}function li(e,t){let n=K(),r=He(),i=$e();return hD(r,n,n[te],i,e,t),li}function BP(e,t,n){let r=He();if(r.firstCreatePass){let i=sn(e);ag(n,r.data,r.blueprint,i,!0),ag(t,r.data,r.blueprint,i,!1)}}function ag(e,t,n,r,i){if(e=Pe(e),Array.isArray(e))for(let o=0;o<e.length;o++)ag(e[o],t,n,r,i);else{let o=He(),s=K(),a=$e(),c=jr(e)?e:Pe(e.provide),l=Jh(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(jr(e)||!e.multi){let h=new Xr(l,i,F,null),p=Lp(c,t,i?u:u+f,d);p===-1?(jp(zl(a,s),o,c),Fp(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Lp(c,t,u+f,d),p=Lp(c,t,u,u+f),y=h>=0&&n[h],I=p>=0&&n[p];if(i&&!I||!i&&!y){jp(zl(a,s),o,c);let b=WP(i?$P:HP,n.length,i,r,l,e);!i&&I&&(n[p].providerFactory=b),Fp(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),s.push(b)}else{let b=yD(n[i?p:h],l,!i&&r);Fp(o,e,h>-1?h:p,b)}!i&&r&&I&&n[p].componentProviders++}}}function Fp(e,t,n,r){let i=jr(t),o=SE(t);if(i||o){let c=(o?Pe(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function yD(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Lp(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function HP(e,t,n,r,i){return cg(this.multi,[])}function $P(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Gl(r,r[T],this.providerFactory.index,i);s=c.slice(0,a),cg(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],cg(o,s);return s}function cg(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function WP(e,t,n,r,i,o){let s=new Xr(e,n,F,null);return s.multi=[],s.index=t,s.componentProviders=0,yD(s,i,r&&!n),s}function dn(e,t=[]){return n=>{n.providersResolver=(r,i)=>BP(r,i?i(e):e,t)}}function Ro(e,t,n){let r=fp()+e,i=K();return i[r]===mt?jC(i,r,n?t.call(n):t()):sk(i,r)}function Zg(e,t,n,r,i){return GP(K(),fp(),e,t,n,r,i)}function zP(e,t){let n=e[t];return n===mt?void 0:n}function GP(e,t,n,r,i,o,s){let a=t+n;return UC(e,a,i,o)?jC(e,a+2,s?r.call(s,i,o):r(i,o)):zP(e,a+2)}var lu=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Qg=(()=>{class e{compileModuleSync(n){return new tu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Yh(n),o=Qw(i.declarations).reduce((s,a)=>{let c=nn(a);return c&&s.push(new ni(c)),s},[]);return new lu(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var qP=(()=>{class e{zone=g(ee);changeDetectionScheduler=g(Pn);applicationRef=g(Le);applicationErrorHandler=g(ht);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _D({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ee(O(v({},ED()),{scheduleInRootZone:n})),[{provide:ee,useFactory:e},{provide:Pt,multi:!0,useFactory:()=>{let r=g(qP,{optional:!0});return()=>r.initialize()}},{provide:Pt,multi:!0,useFactory:()=>{let r=g(KP);return()=>{r.initialize()}}},t===!0?{provide:Ip,useValue:!0}:[],{provide:wp,useValue:n??QC},{provide:ht,useFactory:()=>{let r=g(ee),i=g(ue),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Ot),o.handleError(s))})}}}]}function ED(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var KP=(()=>{class e{subscription=new le;initialized=!1;zone=g(ee);pendingTasks=g(Vt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ID=(()=>{class e{applicationErrorHandler=g(ht);appRef=g(Le);taskService=g(Vt);ngZone=g(ee);zonelessEnabled=g(Vs);tracing=g(si,{optional:!0});disableScheduling=g(Ip,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new le;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ru):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(wp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof iu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?MI:JC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ru+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,MI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function YP(){return typeof $localize<"u"&&$localize.locale||ia}var Jg=new E("",{providedIn:"root",factory:()=>g(Jg,{optional:!0,skipSelf:!0})||YP()});function Ht(e){return hE(e)}function ui(e,t){return Uc(e,t?.equal)}var wD=class{[Fe];constructor(t){this[Fe]=t}destroy(){this[Fe].destroy()}};var rm={JSACTION:"__jsaction",OWNER:"__owner"},TD={};function ZP(e){return e[rm.JSACTION]}function CD(e,t){e[rm.JSACTION]=t}function QP(e){return TD[e]}function JP(e,t){TD[e]=t}var R={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},XP=[R.MOUSEENTER,R.MOUSELEAVE,"pointerenter","pointerleave"],X6=[R.CLICK,R.DBLCLICK,R.FOCUSIN,R.FOCUSOUT,R.KEYDOWN,R.KEYUP,R.KEYPRESS,R.MOUSEOVER,R.MOUSEOUT,R.SUBMIT,R.TOUCHSTART,R.TOUCHEND,R.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],ex=[R.FOCUS,R.BLUR,R.ERROR,R.LOAD,R.TOGGLE],im=e=>ex.indexOf(e)>=0;function tx(e){return e===R.MOUSEENTER?R.MOUSEOVER:e===R.MOUSELEAVE?R.MOUSEOUT:e===R.POINTERENTER?R.POINTEROVER:e===R.POINTERLEAVE?R.POINTEROUT:e}function nx(e,t,n,r){let i=!1;im(t)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return e.addEventListener(t,n,o),{eventType:t,handler:n,capture:i,passive:r}}function rx(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function ix(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var DD=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function ox(e){return e.which===2||e.which==null&&e.button===4}function sx(e){return DD&&e.metaKey||!DD&&e.ctrlKey||ox(e)||e.shiftKey}function ax(e,t,n){let r=e.relatedTarget;return(e.type===R.MOUSEOVER&&t===R.MOUSEENTER||e.type===R.MOUSEOUT&&t===R.MOUSELEAVE||e.type===R.POINTEROVER&&t===R.POINTERENTER||e.type===R.POINTEROUT&&t===R.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function cx(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let i=r,o=e[i];typeof o!="function"&&(n[i]=o)}return e.type===R.MOUSEOVER?n.type=R.MOUSEENTER:e.type===R.MOUSEOUT?n.type=R.MOUSELEAVE:e.type===R.POINTEROVER?n.type=R.POINTERENTER:n.type=R.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var lx=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Lu=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){lx&&(this.element.style.cursor="pointer"),this.handlerInfos.push(nx(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)rx(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},ux={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function hr(e){return e.eventType}function om(e,t){e.eventType=t}function xu(e){return e.event}function SD(e,t){e.event=t}function AD(e){return e.targetElement}function RD(e,t){e.targetElement=t}function ND(e){return e.eic}function dx(e,t){e.eic=t}function fx(e){return e.timeStamp}function hx(e,t){e.timeStamp=t}function Fu(e){return e.eia}function MD(e,t,n){e.eia=[t,n]}function Xg(e){e.eia=void 0}function Pu(e){return e[1]}function px(e){return e.eirp}function OD(e,t){e.eirp=t}function kD(e){return e.eir}function PD(e,t){e.eir=t}function xD(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function gx(e,t,n,r,i,o,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var em=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return hr(this.eventInfo)}setEventType(t){om(this.eventInfo,t)}getEvent(){return xu(this.eventInfo)}setEvent(t){SD(this.eventInfo,t)}getTargetElement(){return AD(this.eventInfo)}setTargetElement(t){RD(this.eventInfo,t)}getContainer(){return ND(this.eventInfo)}setContainer(t){dx(this.eventInfo,t)}getTimestamp(){return fx(this.eventInfo)}setTimestamp(t){hx(this.eventInfo,t)}getAction(){let t=Fu(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){Xg(this.eventInfo);return}MD(this.eventInfo,t.name,t.element)}getIsReplay(){return px(this.eventInfo)}setIsReplay(t){OD(this.eventInfo,t)}getResolved(){return kD(this.eventInfo)}setResolved(t){PD(this.eventInfo,t)}clone(){return new e(xD(this.eventInfo))}},mx={},vx=/\s*;\s*/,yx=R.CLICK,tm=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&hr(t)===R.CLICK&&sx(xu(t))?om(t,R.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){kD(t)||(this.populateAction(t,AD(t)),PD(t,!0))}resolveParentAction(t){let n=Fu(t),r=n&&Pu(n);Xg(t);let i=r&&this.getParentNode(r);i&&this.populateAction(t,i)}populateAction(t,n){let r=n;for(;r&&r!==ND(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!Fu(t));)r=this.getParentNode(r);let i=Fu(t);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(hr(t)===R.MOUSEENTER||hr(t)===R.MOUSELEAVE||hr(t)===R.POINTERENTER||hr(t)===R.POINTERLEAVE)))if(ax(xu(t),hr(t),Pu(i))){let o=cx(xu(t),Pu(i));SD(t,o),RD(t,Pu(i))}else Xg(t)}getParentNode(t){let n=t[rm.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),i=r[hr(n)];i!==void 0&&MD(n,i,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=ZP(t);if(!n){let r=t.getAttribute(kl.JSACTION);if(!r)n=mx,CD(t,n);else{if(n=QP(r),!n){n={};let i=r.split(vx);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(ux.EVENT_ACTION_SEPARATOR),c=a!==-1,l=c?s.substr(0,a).trim():yx,u=c?s.substr(a+1).trim():s;n[l]=u}JP(r,n)}CD(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},FD=function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e}(FD||{}),nm=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new em(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&_x(r.element,n)&&ix(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function _x(e,t){return e.tagName==="A"&&(t.getEventType()===R.CLICK||t.getEventType()===R.CLICKMOD)}var LD=Symbol.for("propagationStopped"),sm={REPLAY:101};var Ex="`preventDefault` called during event replay.";var Ix="`composedPath` called during event replay.",Vu=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new tm({clickModSupport:n}),this.dispatcher=new nm(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&Dx(t),wx(t);t.getAction();){if(bx(t),im(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),Cx(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function wx(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[LD]=!0,n()};di(t,"stopPropagation",r),di(t,"stopImmediatePropagation",r)}function Cx(e){return!!e.getEvent()[LD]}function Dx(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);di(t,"target",n),di(t,"eventPhase",sm.REPLAY),di(t,"preventDefault",()=>{throw r(),new Error(Ex+"")}),di(t,"composedPath",()=>{throw new Error(Ix+"")})}function bx(e){let t=e.getEvent(),n=e.getAction()?.element;n&&di(t,"currentTarget",n,{configurable:!0})}function di(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function VD(e,t){e.ecrd(n=>{t.dispatch(n)},FD.I_AM_THE_JSACTION_FRAMEWORK)}function Tx(e){return e?.q??[]}function Sx(e){e&&(bD(e.c,e.et,e.h),bD(e.c,e.etc,e.h,!0))}function bD(e,t,n,r){for(let i=0;i<t.length;i++)e.removeEventListener(t[i],n,r)}var Ax=!1,jD=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=Ax;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=gx(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){OD(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&XP.indexOf(n)>=0)return;let o=(a,c,l)=>{this.handleEvent(a,c,l)};this.eventHandlers[n]=o;let s=tx(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(n,c,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),Sx(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=xD(i);om(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return e})();function UD(e,t=window){return Tx(t._ejsas?.[e])}function am(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var GD=Symbol("InputSignalNode#UNSET"),Jx=O(v({},Bc),{transformFn:void 0,applyValueToInputSignal(e,t){Wi(e,t)}});function qD(e,t){let n=Object.create(Jx);n.value=e,n.transformFn=t?.transform;function r(){if(Bi(n),n.value===GD){let i=null;throw new w(-950,i)}return n.value}return r[Fe]=n,r}var Hu=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Ks(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Xx=new E("");Xx.__NG_ELEMENT_ID__=e=>{let t=$e();if(t===null)throw new w(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new w(204,!1)};function BD(e,t){return qD(e,t)}function eF(e){return qD(GD,e)}var KD=(BD.required=eF,BD);var pr=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},YD=new pr("20.1.7");var cm=new E(""),tF=new E("");function sa(e){return!e.moduleRef}function nF(e){let t=sa(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ee);return n.run(()=>{sa(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(ht),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),sa(e)){let o=()=>t.destroy(),s=e.platformInjector.get(cm);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(cm);s.add(o),e.moduleRef.onDestroy(()=>{Bs(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return iF(r,n,()=>{let o=t.get(Vt),s=o.add(),a=t.get(Kg);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Jg,ia);if(fD(c||ia),!t.get(tF,!0))return sa(e)?t.get(Le):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(sa(e)){let u=t.get(Le);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return rF?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var rF;function iF(e,t,n){try{let r=n();return ai(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Uu=null;function oF(e=[],t){return de.create({name:t,providers:[{provide:Ns,useValue:"platform"},{provide:cm,useValue:new Set([()=>Uu=null])},...e]})}function sF(e=[]){if(Uu)return Uu;let t=oF(e);return Uu=t,oD(),aF(t),t}function aF(e){let t=e.get(uu,null);pe(e,()=>{t?.forEach(n=>n())})}function um(){return!1}var gr=(()=>{class e{static __NG_ELEMENT_ID__=cF}return e})();function cF(e){return lF($e(),K(),(e&16)===16)}function lF(e,t,n){if(Fn(e)&&!n){let r=Dt(e.index,t);return new ei(r,r)}else if(e.type&175){let r=t[Be];return new ei(r,t)}return null}function ZD(e){Z(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=sF(r),o=[_D({}),{provide:Pn,useExisting:ID},rI,...n||[]],s=new Gs({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return nF({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Z(9)}}var ju=new WeakSet,HD="",Bu=[];function $D(e){return e.get(mg,Tw)}function QD(){let e=[{provide:mg,useFactory:()=>{let t=!0;{let n=g(ln);t=!!window._ejsas?.[n]}return t&&Xe("NgEventReplay"),t}}];return e.push({provide:Pt,useValue:()=>{let t=g(Le),{injector:n}=t;if(!ju.has(t)){let r=g(vg);if($D(n)){Pw();let i=n.get(ln),o=Ow(i,(s,a,c)=>{s.nodeType===Node.ELEMENT_NODE&&(Aw(s,a,c),Rw(s,r))});t.onDestroy(o)}}},multi:!0},{provide:Wn,useFactory:()=>{let t=g(Le),{injector:n}=t;return()=>{if(!$D(n)||ju.has(t))return;ju.add(t);let r=n.get(ln);t.onDestroy(()=>{ju.delete(t),am(r)}),t.whenStable().then(()=>{if(t.destroyed)return;let i=n.get(Mw);uF(i,n);let o=n.get(vg);o.get(HD)?.forEach(Nw),o.delete(HD);let s=i.instance;Bw(n)?t.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),e}var uF=(e,t)=>{let n=t.get(ln),r=window._ejsas[n],i=e.instance=new jD(new Lu(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=UD(n);i.replayEarlyEventInfos(o),am(n);let s=new Vu(a=>{dF(t,a,a.currentTarget)});VD(i,s)};function dF(e,t,n){let r=(n&&n.getAttribute(Qs))??"";/d\d+/.test(r)?fF(r,e,t,n):t.eventPhase===sm.REPLAY&&yg(t,n)}function fF(e,t,n,r){Bu.push({event:n,currentTarget:r}),cD(t,e,hF)}function hF(e){let t=[...Bu],n=new Set(e);Bu=[];for(let{event:r,currentTarget:i}of t){let o=i.getAttribute(Qs);n.has(o)?yg(r,i):Bu.push({event:r,currentTarget:i})}}var WD=!1;function pF(){WD||(WD=!0,Vw(),uD(),mD(),dD(),ZC(),zC(),MC(),hC())}function gF(e){return e.whenStable()}function JD(){let e=[{provide:Zs,useFactory:()=>{let t=!0;return t=!!g(ii,{optional:!0})?.get(_g,null),t&&Xe("NgHydration"),t}},{provide:Pt,useValue:()=>{SC(!1),g(Zs)&&(Ww(Ys()),pF())},multi:!0}];return e.push({provide:gg,useFactory:()=>g(Zs)},{provide:Wn,useFactory:()=>{if(g(Zs)){let t=g(Le);return()=>{gF(t).then(()=>{t.destroyed||jg(t)})}}return()=>{}},multi:!0}),ct(e)}function fi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function XD(e){let t=nn(e);if(!t)return null;let n=new ni(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var nb=null;function At(){return nb}function dm(e){nb??=e}var aa=class{},ca=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>g(rb),providedIn:"platform"})}return e})(),fm=new E(""),rb=(()=>{class e extends ca{_location;_history;_doc=g(me);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return At().getBaseHref(this._doc)}onPopState(n){let r=At().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=At().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function $u(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function eb(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function $t(e){return e&&e[0]!=="?"?`?${e}`:e}var Wt=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>g(zu),providedIn:"root"})}return e})(),Wu=new E(""),zu=(()=>{class e extends Wt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return $u(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+$t(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+$t(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+$t(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(N(ca),N(Wu,8))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mr=(()=>{class e{_subject=new ye;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=yF(eb(tb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+$t(r))}normalize(n){return e.stripTrailingSlash(vF(this._basePath,tb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$t(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$t(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=$t;static joinWithSlash=$u;static stripTrailingSlash=eb;static \u0275fac=function(r){return new(r||e)(N(Wt))};static \u0275prov=C({token:e,factory:()=>mF(),providedIn:"root"})}return e})();function mF(){return new mr(N(Wt))}function vF(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function tb(e){return e.replace(/\/index.html$/,"")}function yF(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var pm=(()=>{class e extends Wt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=$u(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+$t(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+$t(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(N(ca),N(Wu,8))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();var hm=/\s+/,ib=[],gm=(()=>{class e{_ngEl;_renderer;initialClasses=ib;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(hm):ib}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(hm):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(hm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(F(St),F(Bt))};static \u0275dir=ae({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Gu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=un({type:e});static \u0275inj=kt({})}return e})();function mm(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var la=class{};var ym="browser";function No(e){return e===ym}var ob=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:()=>new vm(g(me),window)})}return e})(),vm=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(O(v({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=EF(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(xn(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(O(v({},n),{left:i-s[0],top:o-s[1]}))}};function EF(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Ku=new E(""),Cm=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(N(Ku),N(ee))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),ua=class{_doc;constructor(t){this._doc=t}manager},_m="ng-app-id";function sb(e){for(let t of e)t.remove()}function ab(e,t){let n=t.createElement("style");return n.textContent=e,n}function wF(e,t,n,r){let i=e.head?.querySelectorAll(`style[${_m}="${t}"],link[${_m}="${t}"]`);if(i)for(let o of i)o.removeAttribute(_m),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Im(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Dm=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,wF(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,ab);r?.forEach(i=>this.addUsage(i,this.external,Im))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(sb(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])sb(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,ab(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Im(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(N(me),N(ln),N(du,8),N(Je))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Em={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bm=/%COMP%/g;var lb="%COMP%",CF=`_nghost-${lb}`,DF=`_ngcontent-${lb}`,bF=!0,TF=new E("",{providedIn:"root",factory:()=>bF});function SF(e){return DF.replace(bm,e)}function AF(e){return CF.replace(bm,e)}function ub(e,t){return t.map(n=>n.replace(bm,e))}var Tm=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new da(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof qu?i.applyToHost(n):i instanceof fa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case jn.Emulated:o=new qu(c,l,r,this.appId,u,s,a,d,f);break;case jn.ShadowDom:return new wm(c,l,n,r,s,a,this.nonce,d,f);default:o=new fa(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(N(Cm),N(Dm),N(ln),N(TF),N(me),N(Je),N(ee),N(du),N(si,8))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),da=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Em[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(cb(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(cb(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new w(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Em[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Em[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Un.DashCase|Un.Important)?t.style.setProperty(n,r,i&Un.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Un.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=At().getGlobalEventTarget(this.doc,t),!t))throw new w(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function cb(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var wm=class extends da{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=ub(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Im(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fa=class extends da{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?ub(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},qu=class extends fa{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,l,u),this.contentAttr=SF(u),this.hostAttr=AF(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Yu=class e extends aa{supportsDOMEvents=!0;static makeCurrent(){dm(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=RF();return n==null?null:NF(n)}resetBaseElement(){ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return mm(document.cookie,t)}},ha=null;function RF(){return ha=ha||document.head.querySelector("base"),ha?ha.getAttribute("href"):null}function NF(e){return new URL(e,document.baseURI).pathname}var MF=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),fb=(()=>{class e extends ua{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(N(me))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),db=["alt","control","meta","shift"],OF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kF={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},hb=(()=>{class e extends ua{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>At().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),db.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=OF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),db.forEach(s=>{if(s!==i){let a=kF[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(N(me))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();function Sm(e,t){let n=v({rootComponent:e},PF(t));return ZD(n)}function PF(e){return{appProviders:[...jF,...e?.providers??[]],platformProviders:VF}}function xF(){Yu.makeCurrent()}function FF(){return new Ot}function LF(){return fg(document),document}var VF=[{provide:Je,useValue:ym},{provide:uu,useValue:xF,multi:!0},{provide:me,useFactory:LF}];var jF=[{provide:Ns,useValue:"root"},{provide:Ot,useFactory:FF},{provide:Ku,useClass:fb,multi:!0,deps:[me]},{provide:Ku,useClass:hb,multi:!0,deps:[me]},Tm,Dm,Cm,{provide:ti,useExisting:Tm},{provide:la,useClass:MF},[]];var pa=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var UF="X-Request-URL",BF="text/plain",HF="application/json",oJ=`${HF}, ${BF}, */*`;var Rm=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Rm||{}),Am=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new pa,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Zu=class e extends Am{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Rm.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var pb=new E("");var sJ=RegExp(`^${UF}:`,"m");var $F=new E(""),WF="b",zF="h",GF="s",qF="st",KF="u",YF="rt",Nm=new E(""),ZF=["GET","HEAD"];function QF(e,t){let h=g(Nm),{isCacheActive:n}=h,r=F_(h,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!ZF.includes(o)||!r.includeRequestsWithAuthHeaders&&JF(e)||r.filter?.(e)===!1)return t(e);let s=g(ii);if(g($F,{optional:!0}))throw new w(2803,!1);let c=e.url,l=XF(e,c),u=s.get(l,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[WF]:p,[YF]:y,[zF]:I,[GF]:b,[qF]:ce,[KF]:Te}=u,en=p;switch(y){case"arraybuffer":en=new TextEncoder().encode(p).buffer;break;case"blob":en=new Blob([p]);break}let Rc=new pa(I);return A(new Zu({body:en,headers:Rc,status:b,statusText:ce,url:Te}))}return t(e)}function JF(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function gb(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function XF(e,t){let{params:n,method:r,responseType:i}=e,o=gb(n),s=e.serializeBody();s instanceof URLSearchParams?s=gb(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),c=e1(a);return c}function e1(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function mb(e){return[{provide:Nm,useFactory:()=>(Xe("NgHttpTransferCache"),v({isCacheActive:!0},e))},{provide:pb,useValue:QF,multi:!0},{provide:Wn,multi:!0,useFactory:()=>{let t=g(Le),n=g(Nm);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var vb=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(N(me))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ga=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e}(ga||{});function yb(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function _b(){return yb(ga.NoHttpTransferCache)}function Eb(){return yb(ga.EventReplay,QD())}function Ib(...e){let t=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);let r=n.has(ga.HttpTransferCacheOptions);return ct([[],JD(),n.has(ga.NoHttpTransferCache)||r?[]:mb({}),t])}var L="primary",Aa=Symbol("RouteTitle"),xm=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function gi(e){return new xm(e)}function Rb(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function n1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!fn(e[n],t[n]))return!1;return!0}function fn(e,t){let n=e?Fm(e):void 0,r=t?Fm(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Nb(e[i],t[i]))return!1;return!0}function Fm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Nb(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function Mb(e){return e.length>0?e[e.length-1]:null}function Zn(e){return vh(e)?e:ai(e)?se(Promise.resolve(e)):A(e)}var r1={exact:kb,subset:Pb},Ob={exact:i1,subset:o1,ignored:()=>!0};function wb(e,t,n){return r1[n.paths](e.root,t.root,n.matrixParams)&&Ob[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function i1(e,t){return fn(e,t)}function kb(e,t,n){if(!hi(e.segments,t.segments)||!Xu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!kb(e.children[r],t.children[r],n))return!1;return!0}function o1(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Nb(e[n],t[n]))}function Pb(e,t,n){return xb(e,t,t.segments,n)}function xb(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!hi(i,n)||t.hasChildren()||!Xu(i,n,r))}else if(e.segments.length===n.length){if(!hi(e.segments,n)||!Xu(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!Pb(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!hi(e.segments,i)||!Xu(e.segments,i,r)||!e.children[L]?!1:xb(e.children[L],t,o,r)}}function Xu(e,t,n){return t.every((r,i)=>Ob[n](e[i].parameters,r.parameters))}var pn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Q([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=gi(this.queryParams),this._queryParamMap}toString(){return c1.serialize(this)}},Q=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ed(this)}},vr=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=gi(this.parameters),this._parameterMap}toString(){return Lb(this)}};function s1(e,t){return hi(e,t)&&e.every((n,r)=>fn(n.parameters,t[r].parameters))}function hi(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function a1(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===L&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==L&&(n=n.concat(t(i,r)))}),n}var mi=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>new yr,providedIn:"root"})}return e})(),yr=class{parse(t){let n=new Vm(t);return new pn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ma(t.root,!0)}`,r=d1(t.queryParams),i=typeof t.fragment=="string"?`#${l1(t.fragment)}`:"";return`${n}${r}${i}`}},c1=new yr;function ed(e){return e.segments.map(t=>Lb(t)).join("/")}function ma(e,t){if(!e.hasChildren())return ed(e);if(t){let n=e.children[L]?ma(e.children[L],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==L&&r.push(`${i}:${ma(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=a1(e,(r,i)=>i===L?[ma(e.children[L],!1)]:[`${i}:${ma(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[L]!=null?`${ed(e)}/${n[0]}`:`${ed(e)}/(${n.join("//")})`}}function Fb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qu(e){return Fb(e).replace(/%3B/gi,";")}function l1(e){return encodeURI(e)}function Lm(e){return Fb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function td(e){return decodeURIComponent(e)}function Cb(e){return td(e.replace(/\+/g,"%20"))}function Lb(e){return`${Lm(e.path)}${u1(e.parameters)}`}function u1(e){return Object.entries(e).map(([t,n])=>`;${Lm(t)}=${Lm(n)}`).join("")}function d1(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Qu(n)}=${Qu(i)}`).join("&"):`${Qu(n)}=${Qu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var f1=/^[^\/()?;#]+/;function Mm(e){let t=e.match(f1);return t?t[0]:""}var h1=/^[^\/()?;=#]+/;function p1(e){let t=e.match(h1);return t?t[0]:""}var g1=/^[^=?&#]+/;function m1(e){let t=e.match(g1);return t?t[0]:""}var v1=/^[^&#]+/;function y1(e){let t=e.match(v1);return t?t[0]:""}var Vm=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[L]=new Q(t,n)),r}parseSegment(){let t=Mm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(t),new vr(td(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=p1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Mm(this.remaining);i&&(r=i,this.capture(r))}t[td(n)]=td(r)}parseQueryParam(t){let n=m1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=y1(this.remaining);s&&(r=s,this.capture(r))}let i=Cb(n),o=Cb(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Mm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new w(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=L);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[L]:new Q([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new w(4011,!1)}};function Vb(e){return e.segments.length>0?new Q([],{[L]:e}):e}function jb(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=jb(i);if(r===L&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Q(e.segments,t);return _1(n)}function _1(e){if(e.numberOfChildren===1&&e.children[L]){let t=e.children[L];return new Q(e.segments.concat(t.segments),t.children)}return e}function _r(e){return e instanceof pn}function Ub(e,t,n=null,r=null){let i=Bb(e);return Hb(i,t,n,r)}function Bb(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Q(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=Vb(r);return t??i}function Hb(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Om(i,i,i,n,r);let o=E1(t);if(o.toRoot())return Om(i,i,new Q([],{}),n,r);let s=I1(o,i,e),a=s.processChildren?ya(s.segmentGroup,s.index,o.commands):Wb(s.segmentGroup,s.index,o.commands);return Om(i,s.segmentGroup,a,n,r)}function nd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ea(e){return typeof e=="object"&&e!=null&&e.outlets}function Om(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=$b(e,t,n);let a=Vb(jb(s));return new pn(a,o,i)}function $b(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=$b(o,t,n)}),new Q(e.segments,r)}var rd=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&nd(r[0]))throw new w(4003,!1);let i=r.find(Ea);if(i&&i!==Mb(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function E1(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new rd(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new rd(n,t,r)}var ko=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function I1(e,t,n){if(e.isAbsolute)return new ko(t,!0,0);if(!n)return new ko(t,!1,NaN);if(n.parent===null)return new ko(n,!0,0);let r=nd(e.commands[0])?0:1,i=n.segments.length-1+r;return w1(n,i,e.numberOfDoubleDots)}function w1(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new ko(r,!1,i-o)}function C1(e){return Ea(e[0])?e[0].outlets:{[L]:e}}function Wb(e,t,n){if(e??=new Q([],{}),e.segments.length===0&&e.hasChildren())return ya(e,t,n);let r=D1(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Q(e.segments.slice(0,r.pathIndex),{});return o.children[L]=new Q(e.segments.slice(r.pathIndex),e.children),ya(o,0,i)}else return r.match&&i.length===0?new Q(e.segments,{}):r.match&&!e.hasChildren()?jm(e,t,n):r.match?ya(e,0,i):jm(e,t,n)}function ya(e,t,n){if(n.length===0)return new Q(e.segments,{});{let r=C1(n),i={};if(Object.keys(r).some(o=>o!==L)&&e.children[L]&&e.numberOfChildren===1&&e.children[L].segments.length===0){let o=ya(e.children[L],t,n);return new Q(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Wb(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Q(e.segments,i)}}function D1(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(Ea(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!bb(c,l,s))return o;r+=2}else{if(!bb(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jm(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(Ea(o)){let c=b1(o.outlets);return new Q(r,c)}if(i===0&&nd(n[0])){let c=e.segments[t];r.push(new vr(c.path,Db(n[0]))),i++;continue}let s=Ea(o)?o.outlets[L]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&nd(a)?(r.push(new vr(s,Db(a))),i+=2):(r.push(new vr(s,{})),i++)}return new Q(r,{})}function b1(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=jm(new Q([],{}),0,r))}),t}function Db(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function bb(e,t,n){return e==n.path&&fn(t,n.parameters)}var Po="imperative",De=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(De||{}),_t=class{id;url;constructor(t,n){this.id=t,this.url=n}},Er=class extends _t{type=De.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rt=class extends _t{urlAfterRedirects;type=De.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ze=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(ze||{}),Fo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Fo||{}),hn=class extends _t{reason;code;type=De.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gn=class extends _t{reason;code;type=De.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Lo=class extends _t{error;target;type=De.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ia=class extends _t{urlAfterRedirects;state;type=De.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},id=class extends _t{urlAfterRedirects;state;type=De.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},od=class extends _t{urlAfterRedirects;state;shouldActivate;type=De.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sd=class extends _t{urlAfterRedirects;state;type=De.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ad=class extends _t{urlAfterRedirects;state;type=De.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cd=class{route;type=De.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ld=class{route;type=De.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ud=class{snapshot;type=De.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dd=class{snapshot;type=De.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fd=class{snapshot;type=De.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hd=class{snapshot;type=De.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vo=class{routerEvent;position;anchor;type=De.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},wa=class{},jo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function T1(e){return!(e instanceof wa)&&!(e instanceof jo)}function S1(e,t){return e.providers&&!e._injector&&(e._injector=oi(e.providers,t,`Route: ${e.path}`)),e._injector??t}function zt(e){return e.outlet||L}function A1(e,t){let n=e.filter(r=>zt(r)===t);return n.push(...e.filter(r=>zt(r)!==t)),n}function Ho(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var pd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ho(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new vi(this.rootInjector)}},vi=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new pd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(N(ue))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gd=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Um(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Um(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Bm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Bm(t,this._root).map(n=>n.value)}};function Um(e,t){if(e===t.value)return t;for(let n of t.children){let r=Um(e,n);if(r)return r}return null}function Bm(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Bm(e,n);if(r.length)return r.unshift(t),r}return[]}var yt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Oo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Ca=class extends gd{snapshot;constructor(t,n){super(t),this.snapshot=n,Ym(this,t)}toString(){return this.snapshot.toString()}};function zb(e){let t=R1(e),n=new ke([new vr("",{})]),r=new ke({}),i=new ke({}),o=new ke({}),s=new ke(""),a=new mn(n,r,o,s,i,L,e,t.root);return a.snapshot=t.root,new Ca(new yt(a,[]),t)}function R1(e){let t={},n={},r={},i="",o=new pi([],t,r,i,n,L,e,null,{});return new Da("",new yt(o,[]))}var mn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(G(l=>l[Aa]))??A(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(t=>gi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(t=>gi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function md(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:v(v({},t.params),e.params),data:v(v({},t.data),e.data),resolve:v(v(v(v({},e.data),t.data),i?.data),e._resolvedData)}:r={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},i&&qb(i)&&(r.resolve[Aa]=i.title),r}var pi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Aa]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=gi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=gi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Da=class extends gd{url;constructor(t,n){super(n),this.url=t,Ym(this,n)}toString(){return Gb(this._root)}};function Ym(e,t){t.value._routerState=e,t.children.forEach(n=>Ym(e,n))}function Gb(e){let t=e.children.length>0?` { ${e.children.map(Gb).join(", ")} } `:"";return`${e.value}${t}`}function km(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,fn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),fn(t.params,n.params)||e.paramsSubject.next(n.params),n1(t.url,n.url)||e.urlSubject.next(n.url),fn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Hm(e,t){let n=fn(e.params,t.params)&&s1(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Hm(e.parent,t.parent))}function qb(e){return typeof e.title=="string"||e.title===null}var Kb=new E(""),Ra=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=L;activateEvents=new we;deactivateEvents=new we;attachEvents=new we;detachEvents=new we;routerOutletData=KD(void 0);parentContexts=g(vi);location=g(ta);changeDetector=g(gr);inputBinder=g(Na,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new $m(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ae({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Hn]})}return e})(),$m=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===mn?this.route:t===vi?this.childContexts:t===Kb?this.outletData:this.parent.get(t,n)}},Na=new E(""),Zm=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Is([r.queryParams,r.params,r.data]).pipe(je(([o,s,a],c)=>(a=v(v(v({},o),s),a),c===0?A(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=XD(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Qm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=$n({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&We(0,"router-outlet")},dependencies:[Ra],encapsulation:2})}return e})();function Jm(e){let t=e.children&&e.children.map(Jm),n=t?O(v({},e),{children:t}):v({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==L&&(n.component=Qm),n}function N1(e,t,n){let r=ba(e,t._root,n?n._root:void 0);return new Ca(r,t)}function ba(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=M1(e,t,n);return new yt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ba(e,a)),s}}let r=O1(t.value),i=t.children.map(o=>ba(e,o));return new yt(r,i)}}function M1(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ba(e,r,i);return ba(e,r)})}function O1(e){return new mn(new ke(e.url),new ke(e.params),new ke(e.queryParams),new ke(e.fragment),new ke(e.data),e.outlet,e.component,e)}var Uo=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Yb="ngNavigationCancelingError";function vd(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=_r(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Zb(!1,ze.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Zb(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Yb]=!0,n.cancellationCode=t,n}function k1(e){return Qb(e)&&_r(e.url)}function Qb(e){return!!e&&e[Yb]}var P1=(e,t,n,r)=>G(i=>(new Wm(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Wm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),km(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Oo(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Oo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Oo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Oo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new hd(o.value.snapshot))}),t.children.length&&this.forwardEvent(new dd(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(km(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),km(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},yd=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},xo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function x1(e,t,n){let r=e._root,i=t?t._root:null;return va(r,i,n,[r.value])}function F1(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function $o(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Lh(e)?e:t.get(e):r}function va(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Oo(t);return e.children.forEach(s=>{L1(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>_a(a,n.getContext(s),i)),i}function L1(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=V1(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new yd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?va(e,t,a?a.children:null,r,i):va(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xo(a.outlet.component,s))}else s&&_a(t,a,i),i.canActivateChecks.push(new yd(r)),o.component?va(e,null,a?a.children:null,r,i):va(e,null,n,r,i);return i}function V1(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!hi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!hi(e.url,t.url)||!fn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hm(e,t)||!fn(e.queryParams,t.queryParams);case"paramsChange":default:return!Hm(e,t)}}function _a(e,t,n){let r=Oo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?_a(s,t.children.getContext(o),n):_a(s,null,n):_a(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new xo(t.outlet.component,i)):n.canDeactivateChecks.push(new xo(null,i)):n.canDeactivateChecks.push(new xo(null,i))}function Ma(e){return typeof e=="function"}function j1(e){return typeof e=="boolean"}function U1(e){return e&&Ma(e.canLoad)}function B1(e){return e&&Ma(e.canActivate)}function H1(e){return e&&Ma(e.canActivateChild)}function $1(e){return e&&Ma(e.canDeactivate)}function W1(e){return e&&Ma(e.canMatch)}function Jb(e){return e instanceof An||e?.name==="EmptyError"}var Ju=Symbol("INITIAL_VALUE");function Bo(){return je(e=>Is(e.map(t=>t.pipe(Nn(1),Ih(Ju)))).pipe(G(t=>{for(let n of t)if(n!==!0){if(n===Ju)return Ju;if(n===!1||z1(n))return n}return!0}),Ze(t=>t!==Ju),Nn(1)))}function z1(e){return _r(e)||e instanceof Uo}function G1(e,t){return he(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?A(O(v({},n),{guardsResult:!0})):q1(s,r,i,e).pipe(he(a=>a&&j1(a)?K1(r,o,e,t):A(a)),G(a=>O(v({},n),{guardsResult:a})))})}function q1(e,t,n,r){return se(e).pipe(he(i=>X1(i.component,i.route,n,t,r)),Mn(i=>i!==!0,!0))}function K1(e,t,n,r){return se(t).pipe(rr(i=>ro(Z1(i.route.parent,r),Y1(i.route,r),J1(e,i.path,n),Q1(e,i.route,n))),Mn(i=>i!==!0,!0))}function Y1(e,t){return e!==null&&t&&t(new fd(e)),A(!0)}function Z1(e,t){return e!==null&&t&&t(new ud(e)),A(!0)}function Q1(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let i=r.map(o=>ws(()=>{let s=Ho(t)??n,a=$o(o,s),c=B1(a)?a.canActivate(t,e):pe(s,()=>a(t,e));return Zn(c).pipe(Mn())}));return A(i).pipe(Bo())}function J1(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>F1(s)).filter(s=>s!==null).map(s=>ws(()=>{let a=s.guards.map(c=>{let l=Ho(s.node)??n,u=$o(c,l),d=H1(u)?u.canActivateChild(r,e):pe(l,()=>u(r,e));return Zn(d).pipe(Mn())});return A(a).pipe(Bo())}));return A(o).pipe(Bo())}function X1(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return A(!0);let s=o.map(a=>{let c=Ho(t)??i,l=$o(a,c),u=$1(l)?l.canDeactivate(e,t,n,r):pe(c,()=>l(e,t,n,r));return Zn(u).pipe(Mn())});return A(s).pipe(Bo())}function eL(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return A(!0);let o=i.map(s=>{let a=$o(s,e),c=U1(a)?a.canLoad(t,n):pe(e,()=>a(t,n));return Zn(c)});return A(o).pipe(Bo(),Xb(r))}function Xb(e){return lh(Se(t=>{if(typeof t!="boolean")throw vd(e,t)}),G(t=>t===!0))}function tL(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return A(!0);let o=i.map(s=>{let a=$o(s,e),c=W1(a)?a.canMatch(t,n):pe(e,()=>a(t,n));return Zn(c)});return A(o).pipe(Bo(),Xb(r))}var Ta=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Sa=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Mo(e){return to(new Ta(e))}function nL(e){return to(new w(4e3,!1))}function rL(e){return to(Zb(!1,ze.GuardRejected))}var zm=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return A(r);if(i.numberOfChildren>1||!i.children[L])return nL(`${t.redirectTo}`);i=i.children[L]}}applyRedirectCommands(t,n,r,i,o){return iL(n,i,o).pipe(G(s=>{if(s instanceof pn)throw new Sa(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Sa(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new pn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new Q(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function iL(e,t,n){if(typeof e=="string")return A(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return Zn(pe(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var Gm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oL(e,t,n,r,i){let o=eT(e,t,n);return o.matched?(r=S1(t,r),tL(r,t,n,i).pipe(G(s=>s===!0?o:v({},Gm)))):A(o)}function eT(e,t,n){if(t.path==="**")return sL(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?v({},Gm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Rb)(n,e,t);if(!i)return v({},Gm);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function sL(e){return{matched:!0,parameters:e.length>0?Mb(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Tb(e,t,n,r){return n.length>0&&lL(e,n,r)?{segmentGroup:new Q(t,cL(r,new Q(n,e.children))),slicedSegments:[]}:n.length===0&&uL(e,n,r)?{segmentGroup:new Q(e.segments,aL(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Q(e.segments,e.children),slicedSegments:n}}function aL(e,t,n,r){let i={};for(let o of n)if(Ed(e,t,o)&&!r[zt(o)]){let s=new Q([],{});i[zt(o)]=s}return v(v({},r),i)}function cL(e,t){let n={};n[L]=t;for(let r of e)if(r.path===""&&zt(r)!==L){let i=new Q([],{});n[zt(r)]=i}return n}function lL(e,t,n){return n.some(r=>Ed(e,t,r)&&zt(r)!==L)}function uL(e,t,n){return n.some(r=>Ed(e,t,r))}function Ed(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function dL(e,t,n){return t.length===0&&!e.children[n]}var qm=class{};function fL(e,t,n,r,i,o,s="emptyOnly"){return new Km(e,t,n,r,i,s,o).recognize()}var hL=31,Km=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new zm(this.urlSerializer,this.urlTree)}noMatchError(t){return new w(4002,`'${t.segmentGroup}'`)}recognize(){let t=Tb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(G(({children:n,rootSnapshot:r})=>{let i=new yt(r,n),o=new Da("",i),s=Ub(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new pi([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),L,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,L,n).pipe(G(r=>({children:r,rootSnapshot:n})),Rn(r=>{if(r instanceof Sa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ta?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(G(s=>s instanceof yt?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return se(o).pipe(rr(s=>{let a=r.children[s],c=A1(n,s);return this.processSegmentGroup(t,c,a,s,i)}),Eh((s,a)=>(s.push(...a),s)),ir(null),_h(),he(s=>{if(s===null)return Mo(r);let a=tT(s);return pL(a),A(a)}))}processSegment(t,n,r,i,o,s,a){return se(n).pipe(rr(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(Rn(l=>{if(l instanceof Ta)return A(null);throw l}))),Mn(c=>!!c),Rn(c=>{if(Jb(c))return dL(r,i,o)?A(new qm):Mo(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return zt(r)!==s&&(s===L||!Ed(i,o,r))?Mo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):Mo(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=eT(n,i,o);if(!c)return Mo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hL&&(this.allowRedirects=!1));let h=new pi(o,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Sb(i),zt(i),i.component??i._loadedComponent??null,i,Ab(i)),p=md(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(p.params),h.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t).pipe(je(I=>this.applyRedirects.lineralizeSegments(i,I)),he(I=>this.processSegment(t,r,n,I.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=oL(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(je(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(je(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new pi(f,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Sb(r),zt(r),r.component??r._loadedComponent??null,r,Ab(r)),y=md(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let{segmentGroup:I,slicedSegments:b}=Tb(n,f,h,l);if(b.length===0&&I.hasChildren())return this.processChildren(u,l,I,p).pipe(G(Te=>new yt(p,Te)));if(l.length===0&&b.length===0)return A(new yt(p,[]));let ce=zt(r)===o;return this.processSegment(u,l,I,b,ce?L:o,!0,p).pipe(G(Te=>new yt(p,Te instanceof yt?[Te]:[])))}))):Mo(n)))}getChildConfig(t,n,r){return n.children?A({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?A({routes:n._loadedRoutes,injector:n._loadedInjector}):eL(t,n,r,this.urlSerializer).pipe(he(i=>i?this.configLoader.loadChildren(t,n).pipe(Se(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):rL(n))):A({routes:[],injector:t})}};function pL(e){e.sort((t,n)=>t.value.outlet===L?-1:n.value.outlet===L?1:t.value.outlet.localeCompare(n.value.outlet))}function gL(e){let t=e.value.routeConfig;return t&&t.path===""}function tT(e){let t=[],n=new Set;for(let r of e){if(!gL(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=tT(r.children);t.push(new yt(r.value,i))}return t.filter(r=>!n.has(r))}function Sb(e){return e.data||{}}function Ab(e){return e.resolve||{}}function mL(e,t,n,r,i,o){return he(s=>fL(e,t,n,r,s.extractedUrl,i,o).pipe(G(({state:a,tree:c})=>O(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function vL(e,t){return he(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return A(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of nT(c))s.add(l);let a=0;return se(s).pipe(rr(c=>o.has(c)?yL(c,r,e,t):(c.data=md(c,c.parent,e).resolve,A(void 0))),Se(()=>a++),io(1),he(c=>a===s.size?A(n):Ke))})}function nT(e){let t=e.children.map(n=>nT(n)).flat();return[e,...t]}function yL(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!qb(i)&&(o[Aa]=i.title),ws(()=>(e.data=md(e,e.parent,n).resolve,_L(o,e,t,r).pipe(G(s=>(e._resolvedData=s,e.data=v(v({},e.data),s),null)))))}function _L(e,t,n,r){let i=Fm(e);if(i.length===0)return A({});let o={};return se(i).pipe(he(s=>EL(e[s],t,n,r).pipe(Mn(),Se(a=>{if(a instanceof Uo)throw vd(new yr,a);o[s]=a}))),io(1),G(()=>o),Rn(s=>Jb(s)?Ke:to(s)))}function EL(e,t,n,r){let i=Ho(t)??r,o=$o(e,i),s=o.resolve?o.resolve(t,n):pe(i,()=>o(t,n));return Zn(s)}function Pm(e){return je(t=>{let n=e(t);return n?se(n).pipe(G(()=>t)):A(t)})}var Xm=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===L);return r}getResolvedTitleForRoute(n){return n.data[Aa]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>g(rT),providedIn:"root"})}return e})(),rT=(()=>{class e extends Xm{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(N(vb))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ir=new E("",{providedIn:"root",factory:()=>({})}),yi=new E(""),Id=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(Qg);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return A(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Zn(pe(n,()=>r.loadComponent())).pipe(G(oT),je(sT),Se(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Cs(()=>{this.componentLoaders.delete(r)})),o=new Qi(i,()=>new ye).pipe(Zi());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=iT(r,this.compiler,n,this.onLoadEndListener).pipe(Cs(()=>{this.childrenLoaders.delete(r)})),s=new Qi(o,()=>new ye).pipe(Zi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iT(e,t,n,r){return Zn(pe(n,()=>e.loadChildren())).pipe(G(oT),je(sT),he(i=>i instanceof Au||Array.isArray(i)?A(i):se(t.compileModuleAsync(i))),G(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(yi,[],{optional:!0,self:!0}).flat()),{routes:s.map(Jm),injector:o}}))}function IL(e){return e&&typeof e=="object"&&"default"in e}function oT(e){return IL(e)?e.default:e}function sT(e){return A(e)}var wd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>g(wL),providedIn:"root"})}return e})(),wL=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ev=new E(""),tv=new E("");function aT(e,t,n){let r=e.get(tv),i=e.get(me);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),CL(e)));a.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&pe(e,()=>c({transition:a,from:t,to:n})),s}function CL(e){return new Promise(t=>{Co({read:()=>setTimeout(t)},{injector:e})})}var nv=new E(""),Cd=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ye;transitionAbortWithErrorSubject=new ye;configLoader=g(Id);environmentInjector=g(ue);destroyRef=g(Lt);urlSerializer=g(mi);rootContexts=g(vi);location=g(mr);inputBindingEnabled=g(Na,{optional:!0})!==null;titleStrategy=g(Xm);options=g(Ir,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(wd);createViewTransition=g(ev,{optional:!0});navigationErrorHandler=g(nv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>A(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new cd(i)),r=i=>this.events.next(new ld(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(O(v({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new ke(null),this.transitions.pipe(Ze(r=>r!==null),je(r=>{let i=!1;return A(r).pipe(je(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ze.SupersededByNewNavigation),Ke;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?O(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new gn(o.id,this.urlSerializer.serialize(o.rawUrl),c,Fo.IgnoredSameUrlNavigation)),o.resolve(!1),Ke}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return A(o).pipe(je(c=>(this.events.next(new Er(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ke:Promise.resolve(c))),mL(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Se(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=O(v({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new Ia(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:f}=o,h=new Er(c,this.urlSerializer.serialize(l),u,d);this.events.next(h);let p=zb(this.rootComponentType).snapshot;return this.currentTransition=r=O(v({},o),{targetSnapshot:p,urlAfterRedirects:l,extras:O(v({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,A(r)}else{let c="";return this.events.next(new gn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Fo.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ke}}),Se(o=>{let s=new id(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),G(o=>(this.currentTransition=r=O(v({},o),{guards:x1(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),G1(this.environmentInjector,o=>this.events.next(o)),Se(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw vd(this.urlSerializer,o.guardsResult);let s=new od(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ze(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ze.GuardRejected),!1)),Pm(o=>{if(o.guards.canActivateChecks.length!==0)return A(o).pipe(Se(s=>{let a=new sd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),je(s=>{let a=!1;return A(s).pipe(vL(this.paramsInheritanceStrategy,this.environmentInjector),Se({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",ze.NoDataFromResolver)}}))}),Se(s=>{let a=new ad(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Pm(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let l=Ho(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Se(u=>{a.component=u}),G(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Is(s(o.targetSnapshot.root)).pipe(ir(null),Nn(1))}),Pm(()=>this.afterPreactivation()),je(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?se(a).pipe(G(()=>r)):A(r)}),G(o=>{let s=N1(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=O(v({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Se(()=>{this.events.next(new wa)}),P1(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Nn(1),dl(new x(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ze(()=>!i&&!r.targetRouterState),Se(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",ze.Aborted)}))),Se({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),dl(this.transitionAbortWithErrorSubject.pipe(Se(o=>{throw o}))),Cs(()=>{i||this.cancelNavigationTransition(r,"",ze.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rn(o=>{if(this.destroyed)return r.resolve(!1),Ke;if(i=!0,Qb(o))this.events.next(new hn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),k1(o)?this.events.next(new jo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Lo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=pe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Uo){let{message:c,cancellationCode:l}=vd(this.urlSerializer,a);this.events.next(new hn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new jo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ke}))}))}cancelNavigationTransition(n,r,i){let o=new hn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function DL(e){return e!==Po}var cT=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>g(bL),providedIn:"root"})}return e})(),_d=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},bL=(()=>{class e extends _d{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ut(e)))(i||e)}})();static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lT=(()=>{class e{urlSerializer=g(mi);options=g(Ir,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(mr);urlHandlingStrategy=g(wd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new pn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof pn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=zb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>g(TL),providedIn:"root"})}return e})(),TL=(()=>{class e extends lT{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Er?this.updateStateMemento():n instanceof gn?this.commitTransition(r):n instanceof Ia?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof wa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof hn&&n.code!==ze.SupersededByNewNavigation&&n.code!==ze.Redirect?this.restoreHistory(r):n instanceof Lo?this.restoreHistory(r,!0):n instanceof Rt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=v(v({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=v(v({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ut(e)))(i||e)}})();static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Dd(e,t){e.events.pipe(Ze(n=>n instanceof Rt||n instanceof hn||n instanceof Lo||n instanceof gn),G(n=>n instanceof Rt||n instanceof gn?0:(n instanceof hn?n.code===ze.Redirect||n.code===ze.SupersededByNewNavigation:!1)?2:1),Ze(n=>n!==2),Nn(1)).subscribe(()=>{t()})}var SL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},vn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(Nu);stateManager=g(lT);options=g(Ir,{optional:!0})||{};pendingTasks=g(Vt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(Cd);urlSerializer=g(mi);location=g(mr);urlHandlingStrategy=g(wd);injector=g(ue);_events=new ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(cT);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(yi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(Na,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new le;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof hn&&r.code!==ze.Redirect&&r.code!==ze.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Rt)this.navigated=!0;else if(r instanceof jo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=v({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||DL(i.source)},s);this.scheduleNavigation(a,Po,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}T1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Po,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=v({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(ht)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Jm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=Bb(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return Hb(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=_r(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Po,null,r)}navigate(n,r={skipLocationChange:!1}){return RL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=v({},SL):r===!1?i=v({},AL):i=r,_r(n))return wb(this.currentUrlTree,n,i);let o=this.parseUrl(n);return wb(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return Dd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RL(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new w(4008,!1)}var Wo=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=pt(null);get href(){return Ht(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ye;applicationErrorHandler=g(ht);options=g(Ir,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(g(new Hu("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Rt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(_r(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:_r(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(F(vn),F(mn),Ks("tabindex"),F(Bt),F(St),F(Wt))};static \u0275dir=ae({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Ne("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&zn("href",i.reactiveHref(),wg)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",fi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",fi],replaceUrl:[2,"replaceUrl","replaceUrl",fi],routerLink:"routerLink"},features:[Hn]})}return e})();var Oa=class{};var uT=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ze(n=>n instanceof Rt),rr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=oi(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return se(i).pipe(no())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=A(null);let o=i.pipe(he(s=>s===null?A(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return se([o,s]).pipe(no())}else return o})}static \u0275fac=function(r){return new(r||e)(N(vn),N(ue),N(Oa),N(Id))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dT=new E(""),NL=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Po;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Er?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Rt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof gn&&n.code===Fo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Vo&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>m(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Vo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Ug()};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();function iv(e,...t){return ct([{provide:yi,multi:!0,useValue:e},[],{provide:mn,useFactory:fT,deps:[vn]},{provide:Wn,multi:!0,useFactory:hT},t.map(n=>n.\u0275providers)])}function fT(e){return e.routerState.root}function ka(e,t){return{\u0275kind:e,\u0275providers:t}}function hT(){let e=g(de);return t=>{let n=e.get(Le);if(t!==n.components[0])return;let r=e.get(vn),i=e.get(pT);e.get(ov)===1&&r.initialNavigation(),e.get(vT,null,{optional:!0})?.setUpPreloading(),e.get(dT,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var pT=new E("",{factory:()=>new ye}),ov=new E("",{providedIn:"root",factory:()=>1});function gT(){let e=[{provide:ov,useValue:0},Mu(()=>{let t=g(de);return t.get(fm,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(vn),o=t.get(pT);Dd(i,()=>{r(!0)}),t.get(Cd).afterPreactivation=()=>(r(!0),o.closed?A(void 0):o),i.initialNavigation()}))})];return ka(2,e)}function mT(){let e=[Mu(()=>{g(vn).setUpLocationChangeListener()}),{provide:ov,useValue:2}];return ka(3,e)}var vT=new E("");function yT(e){return ka(0,[{provide:vT,useExisting:uT},{provide:Oa,useExisting:e}])}function _T(){return ka(8,[Zm,{provide:Na,useExisting:Zm}])}function ET(e){Xe("NgRouterViewTransitions");let t=[{provide:ev,useValue:aT},{provide:tv,useValue:v({skipNextTransition:!!e?.skipInitialTransition},e)}];return ka(9,t)}var IT=[mr,{provide:mi,useClass:yr},vn,vi,{provide:mn,useFactory:fT,deps:[vn]},Id,[]],Pa=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[IT,[],{provide:yi,multi:!0,useValue:n},[],r?.errorHandler?{provide:nv,useValue:r.errorHandler}:[],{provide:Ir,useValue:r||{}},r?.useHash?OL():kL(),ML(),r?.preloadingStrategy?yT(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?PL(r):[],r?.bindToComponentInputs?_T().\u0275providers:[],r?.enableViewTransitions?ET().\u0275providers:[],xL()]}}static forChild(n){return{ngModule:e,providers:[{provide:yi,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=un({type:e});static \u0275inj=kt({})}return e})();function ML(){return{provide:dT,useFactory:()=>{let e=g(ob),t=g(ee),n=g(Ir),r=g(Cd),i=g(mi);return n.scrollOffset&&e.setOffset(n.scrollOffset),new NL(i,r,e,t,n)}}}function OL(){return{provide:Wt,useClass:pm}}function kL(){return{provide:Wt,useClass:zu}}function PL(e){return[e.initialNavigation==="disabled"?mT().\u0275providers:[],e.initialNavigation==="enabledBlocking"?gT().\u0275providers:[]]}var rv=new E("");function xL(){return[{provide:rv,useFactory:hT},{provide:Wn,multi:!0,useExisting:rv}]}var bd=class e{title=pt("cabbingov2");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=$n({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&(D(0,"main"),We(1,"router-outlet"),S())},dependencies:[Ra],encapsulation:2})};var OT=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(F(Bt),F(St))};static \u0275dir=ae({type:e})}return e})(),kd=(()=>{class e extends OT{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ut(e)))(i||e)}})();static \u0275dir=ae({type:e,features:[et]})}return e})(),Ba=new E("");var FL={provide:Ba,useExisting:at(()=>Pd),multi:!0};function LL(){let e=At()?At().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var VL=new E(""),Pd=(()=>{class e extends OT{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!LL())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(F(Bt),F(St),F(VL,8))};static \u0275dir=ae({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ne("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[dn([FL]),et]})}return e})();var xd=new E(""),kT=new E("");function jL(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function UL(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function CT(e){return null}function PT(e){return e!=null}function xT(e){return ai(e)?se(e):e}function FT(e){let t={};return e.forEach(n=>{t=n!=null?v(v({},t),n):t}),Object.keys(t).length===0?null:t}function LT(e,t){return t.map(n=>n(e))}function BL(e){return!e.validate}function VT(e){return e.map(t=>BL(t)?t:n=>t.validate(n))}function HL(e){if(!e)return null;let t=e.filter(PT);return t.length==0?null:function(n){return FT(LT(n,t))}}function lv(e){return e!=null?HL(VT(e)):null}function $L(e){if(!e)return null;let t=e.filter(PT);return t.length==0?null:function(n){let r=LT(n,t).map(xT);return yh(r).pipe(G(FT))}}function uv(e){return e!=null?$L(VT(e)):null}function DT(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function WL(e){return e._rawValidators}function zL(e){return e._rawAsyncValidators}function sv(e){return e?Array.isArray(e)?e:[e]:[]}function Sd(e,t){return Array.isArray(e)?e.includes(t):e===t}function bT(e,t){let n=sv(t);return sv(e).forEach(i=>{Sd(n,i)||n.push(i)}),n}function TT(e,t){return sv(t).filter(n=>!Sd(e,n))}var Ad=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=lv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=uv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},qo=class extends Ad{name;get formDirective(){return null}get path(){return null}},Ua=class extends Ad{_parent=null;name=null;valueAccessor=null},Rd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},GL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},HX=O(v({},GL),{"[class.ng-submitted]":"isSubmitted"}),jT=(()=>{class e extends Rd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(F(Ua,2))};static \u0275dir=ae({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&oa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[et]})}return e})(),UT=(()=>{class e extends Rd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(F(qo,10))};static \u0275dir=ae({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&oa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[et]})}return e})();var xa="VALID",Td="INVALID",zo="PENDING",Fa="DISABLED",wr=class{},Nd=class extends wr{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Va=class extends wr{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},ja=class extends wr{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Go=class extends wr{status;source;constructor(t,n){super(),this.status=t,this.source=n}},av=class extends wr{source;constructor(t){super(),this.source=t}},cv=class extends wr{source;constructor(t){super(),this.source=t}};function BT(e){return(Fd(e)?e.validators:e)||null}function qL(e){return Array.isArray(e)?lv(e):e||null}function HT(e,t){return(Fd(t)?t.asyncValidators:e)||null}function KL(e){return Array.isArray(e)?uv(e):e||null}function Fd(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function YL(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new w(1e3,"");if(!r[n])throw new w(1001,"")}function ZL(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new w(1002,"")})}var Md=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ht(this.statusReactive)}set status(t){Ht(()=>this.statusReactive.set(t))}_status=ui(()=>this.statusReactive());statusReactive=pt(void 0);get valid(){return this.status===xa}get invalid(){return this.status===Td}get pending(){return this.status==zo}get disabled(){return this.status===Fa}get enabled(){return this.status!==Fa}errors;get pristine(){return Ht(this.pristineReactive)}set pristine(t){Ht(()=>this.pristineReactive.set(t))}_pristine=ui(()=>this.pristineReactive());pristineReactive=pt(!0);get dirty(){return!this.pristine}get touched(){return Ht(this.touchedReactive)}set touched(t){Ht(()=>this.touchedReactive.set(t))}_touched=ui(()=>this.touchedReactive());touchedReactive=pt(!1);get untouched(){return!this.touched}_events=new ye;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(bT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(bT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(TT(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(TT(t,this._rawAsyncValidators))}hasValidator(t){return Sd(this._rawValidators,t)}hasAsyncValidator(t){return Sd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(O(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ja(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new ja(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(O(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Va(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Va(!0,r))}markAsPending(t={}){this.status=zo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Go(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(O(v({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Fa,this.errors=null,this._forEachChild(i=>{i.disable(O(v({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Nd(this.value,r)),this._events.next(new Go(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(O(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=xa,this._forEachChild(r=>{r.enable(O(v({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(O(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xa||this.status===zo)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Nd(this.value,n)),this._events.next(new Go(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(O(v({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fa:xa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=zo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=xT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Go(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?Fa:this.errors?Td:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zo)?zo:this._anyControlsHaveStatus(Td)?Td:xa}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Va(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new ja(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Fd(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=qL(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=KL(this._rawAsyncValidators)}},Od=class extends Md{constructor(t,n,r){super(BT(n),HT(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){ZL(this,!0,t),Object.keys(t).forEach(r=>{YL(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var dv=new E("",{providedIn:"root",factory:()=>fv}),fv="always";function QL(e,t){return[...t.path,e]}function $T(e,t,n=fv){WT(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),XL(e,t),tV(e,t),eV(e,t),JL(e,t)}function ST(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function JL(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function WT(e,t){let n=WL(e);t.validator!==null?e.setValidators(DT(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=zL(e);t.asyncValidator!==null?e.setAsyncValidators(DT(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();ST(t._rawValidators,i),ST(t._rawAsyncValidators,i)}function XL(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&zT(e,t)})}function eV(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&zT(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function zT(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function tV(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function nV(e,t){e==null,WT(e,t)}function rV(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function iV(e){return Object.getPrototypeOf(e.constructor)===kd}function oV(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function sV(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Pd?n=o:iV(o)?r=o:i=o}),i||r||n||null}var aV={provide:qo,useExisting:at(()=>hv)},La=Promise.resolve(),hv=(()=>{class e extends qo{callSetDisabledState;get submitted(){return Ht(this.submittedReactive)}_submitted=ui(()=>this.submittedReactive());submittedReactive=pt(!1);_directives=new Set;form;ngSubmit=new we;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Od({},lv(n),uv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){La.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),$T(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){La.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){La.then(()=>{let r=this._findContainer(n.path),i=new Od({});nV(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){La.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){La.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),oV(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new av(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new cv(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(F(xd,10),F(kT,10),F(dv,8))};static \u0275dir=ae({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ne("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[dn([aV]),et]})}return e})();function AT(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function RT(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var cV=class extends Md{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(BT(n),HT(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(RT(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){AT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){AT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){RT(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var lV={provide:Ua,useExisting:at(()=>pv)},NT=Promise.resolve(),pv=(()=>{class e extends Ua{_changeDetectorRef;callSetDisabledState;control=new cV;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new we;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=sV(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),rV(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$T(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){NT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&fi(r);NT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?QL(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(F(qo,9),F(xd,10),F(kT,10),F(Ba,10),F(gr,8),F(dv,8))};static \u0275dir=ae({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[dn([lV]),et,Hn]})}return e})();var GT=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ae({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),uV={provide:Ba,useExisting:at(()=>gv),multi:!0},gv=(()=>{class e extends kd{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ut(e)))(i||e)}})();static \u0275dir=ae({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ne("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[dn([uV]),et]})}return e})();var dV={provide:Ba,useExisting:at(()=>Ld),multi:!0};function qT(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function fV(e){return e.split(":")[0]}var Ld=(()=>{class e extends kd{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=g(Le).injector;destroyRef=g(Lt);cdr=g(gr);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Co({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=qT(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=fV(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ut(e)))(i||e)}})();static \u0275dir=ae({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ne("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[dn([dV]),et]})}return e})(),KT=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(qT(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(F(St),F(Bt),F(Ld,9))};static \u0275dir=ae({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),hV={provide:Ba,useExisting:at(()=>YT),multi:!0};function MT(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function pV(e){return e.split(":")[0]}var YT=(()=>{class e extends kd{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=pV(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ut(e)))(i||e)}})();static \u0275dir=ae({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ne("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[dn([hV]),et]})}return e})(),ZT=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(MT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(MT(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(F(St),F(Bt),F(YT,9))};static \u0275dir=ae({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function QT(e){return typeof e=="number"?e:parseFloat(e)}var JT=(()=>{class e{_validator=CT;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):CT,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ae({type:e,features:[Hn]})}return e})(),gV={provide:xd,useExisting:at(()=>mv),multi:!0},mv=(()=>{class e extends JT{max;inputName="max";normalizeInput=n=>QT(n);createValidator=n=>UL(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ut(e)))(i||e)}})();static \u0275dir=ae({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&zn("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[dn([gV]),et]})}return e})(),mV={provide:xd,useExisting:at(()=>vv),multi:!0},vv=(()=>{class e extends JT{min;inputName="min";normalizeInput=n=>QT(n);createValidator=n=>jL(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ut(e)))(i||e)}})();static \u0275dir=ae({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&zn("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[dn([mV]),et]})}return e})();var vV=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=un({type:e});static \u0275inj=kt({})}return e})();var XT=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:dv,useValue:n.callSetDisabledState??fv}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=un({type:e});static \u0275inj=kt({imports:[vV]})}return e})();var Ha={production:!0,firebaseConfig:{apiKey:"AIzaSyB2e36wu47-6DOc2_rAuHfiFTq9vm6GBD0",authDomain:"cabbingo-db.firebaseapp.com",databaseURL:"https://cabbingo-db-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cabbingo-db",storageBucket:"cabbingo-db.firebasestorage.app",messagingSenderId:"684304316440",appId:"1:684304316440:web:0660b0d72a68752cadeb6d"}};var _i=class{mockTiles1=[{id:1,title:"Draconic Visage",src:"https://oldschool.runescape.wiki/images/thumb/Draconic_visage_detail.png/130px-Draconic_visage_detail.png?6edab",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5},{id:2,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5},{id:3,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5},{id:4,title:"Any megarare",src:"https://oldschool.runescape.wiki/images/thumb/Twisted_bow_detail.png/150px-Twisted_bow_detail.png?7aa10",bossSrc:"./assets/raids.png",alt:"Twisted Bow",description:"Obtain any megarare drop from any raid",itemsRequired:1,itemsObtained:1,points:5},{id:5,title:"5 Venator Shards",src:"https://oldschool.runescape.wiki/images/thumb/Venator_shard_detail.png/130px-Venator_shard_detail.png?3ad3e",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:1,points:5},{id:6,title:"Ultor Vestige",src:"https://oldschool.runescape.wiki/images/thumb/Ultor_vestige_detail.png/130px-Ultor_vestige_detail.png?99817",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Vardorvis.png/200px-Vardorvis.png?48af8",alt:"Ultor Vestige",description:"Obtain an Ultor Vestige from Vardorvis",itemsRequired:1,itemsObtained:0,points:5}];mockTiles2=[{id:1,title:"Draconic Visage",src:"https://oldschool.runescape.wiki/images/thumb/Draconic_visage_detail.png/130px-Draconic_visage_detail.png?6edab",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5},{id:2,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5},{id:3,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5},{id:4,title:"Any megarare",src:"https://oldschool.runescape.wiki/images/thumb/Twisted_bow_detail.png/150px-Twisted_bow_detail.png?7aa10",bossSrc:"./assets/raids.png",alt:"Twisted Bow",description:"Obtain any megarare drop from any raid",itemsRequired:1,itemsObtained:1,points:5},{id:5,title:"5 Venator Shards",src:"https://oldschool.runescape.wiki/images/thumb/Venator_shard_detail.png/130px-Venator_shard_detail.png?3ad3e",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:5,points:5},{id:6,title:"Ultor Vestige",src:"https://oldschool.runescape.wiki/images/thumb/Ultor_vestige_detail.png/130px-Ultor_vestige_detail.png?99817",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Vardorvis.png/200px-Vardorvis.png?48af8",alt:"Ultor Vestige",description:"Obtain an Ultor Vestige from Vardorvis",itemsRequired:1,itemsObtained:1,points:5}];board=[this.mockTiles1,this.mockTiles2]};var Vd=(n=>(n[n.Team1=0]="Team1",n[n.Team2=1]="Team2",n))(Vd||{});var eS=()=>{};var _v={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var _=function(e,t){if(!e)throw Ei(t)},Ei=function(e){return new Error("Firebase Database ("+_v.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var rS=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},_V=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Zo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):_V(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Ev;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ev=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},wv=function(e){let t=rS(e);return Zo.encodeByteArray(t,!0)},Wa=function(e){return wv(e).replace(/\./g,"")},Ko=function(e){try{return Zo.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function iS(e){return oS(void 0,e)}function oS(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!EV(n)||(e[n]=oS(e[n],t[n]));return e}function EV(e){return e!=="__proto__"}function sS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var IV=()=>sS().__FIREBASE_DEFAULTS__,wV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},CV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Ko(e[1]);return t&&JSON.parse(t)},Cv=()=>{try{return eS()||IV()||wV()||CV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},aS=e=>{var t,n;return(n=(t=Cv())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},cS=e=>{let t=aS(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Dv=()=>{var e;return(e=Cv())===null||e===void 0?void 0:e.config},lS=e=>{var t;return(t=Cv())===null||t===void 0?void 0:t[`_${e}`]};var Gt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function Ii(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function bv(e){return m(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}function uS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wa(JSON.stringify(n)),Wa(JSON.stringify(s)),""].join(".")}var $a={};function DV(){let e={prod:[],emulator:[]};for(let t of Object.keys($a))$a[t]?e.emulator.push(t):e.prod.push(t);return e}function bV(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var tS=!1;function Tv(e,t){if(typeof window>"u"||typeof document>"u"||!Ii(window.location.host)||$a[e]===t||$a[e]||tS)return;$a[e]=t;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=DV().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{tS=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=bV(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),y=n("learnmore"),I=document.getElementById(y)||document.createElement("a"),b=n("preprendIcon"),ce=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let Te=f.element;a(Te),u(I,y);let en=l();c(ce,b),Te.append(ce,p,I,en),document.body.appendChild(Te)}o?(p.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function za(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function dS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fS(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Ud(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _n(){return _v.NODE_CLIENT===!0||_v.NODE_ADMIN===!0}function Bd(){try{return typeof indexedDB=="object"}catch{return!1}}function hS(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var TV="FirebaseError",yn=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=TV,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qt.prototype.create)}},qt=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?SV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new yn(i,a,r)}};function SV(e,t){return e.replace(AV,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var AV=/\{\$([^}]+)}/g;function Yo(e){return JSON.parse(e)}function Ce(e){return JSON.stringify(e)}var pS=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=Yo(Ko(o[0])||""),n=Yo(Ko(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var gS=function(e){let t=pS(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},mS=function(e){let t=pS(e).claims;return typeof t=="object"&&t.admin===!0};function En(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wi(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Hd(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ga(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ci(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(nS(o)&&nS(s)){if(!Ci(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function nS(e){return e!==null&&typeof e=="object"}function qa(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}var jd=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function vS(e,t){let n=new Iv(e,t);return n.subscribe.bind(n)}var Iv=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RV(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=yv),i.error===void 0&&(i.error=yv),i.complete===void 0&&(i.complete=yv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function RV(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function yv(){}function $d(e,t){return`${e} failed: ${t} argument `}var yS=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,_(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ka=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var ZX=4*60*60*1e3;function Et(e){return e&&e._delegate?e._delegate:e}var Ge=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Di="[DEFAULT]";var Wd=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new Gt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(MV(t))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Di){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return m(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Di){return this.instances.has(t)}getOptions(t=Di){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NV(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Di){return this.component?this.component.multipleInstances?t:Di:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function NV(e){return e===Di?void 0:e}function MV(e){return e.instantiationMode==="EAGER"}var Ya=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Wd(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var OV=[],ne=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ne||{}),kV={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},PV=ne.INFO,xV={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},FV=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=xV[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},In=class{constructor(t){this.name=t,this._logLevel=PV,this._logHandler=FV,this._userLogHandler=null,OV.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}};var LV=(e,t)=>t.some(n=>e instanceof n),_S,ES;function VV(){return _S||(_S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jV(){return ES||(ES=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var IS=new WeakMap,Av=new WeakMap,wS=new WeakMap,Sv=new WeakMap,Nv=new WeakMap;function UV(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(wn(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&IS.set(n,e)}).catch(()=>{}),Nv.set(t,e),t}function BV(e){if(Av.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Av.set(e,t)}var Rv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Av.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function CS(e){Rv=e(Rv)}function HV(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(zd(this),t,...n);return wS.set(r,t.sort?t.sort():[t]),wn(r)}:jV().includes(e)?function(...t){return e.apply(zd(this),t),wn(IS.get(this))}:function(...t){return wn(e.apply(zd(this),t))}}function $V(e){return typeof e=="function"?HV(e):(e instanceof IDBTransaction&&BV(e),LV(e,VV())?new Proxy(e,Rv):e)}function wn(e){if(e instanceof IDBRequest)return UV(e);if(Sv.has(e))return Sv.get(e);let t=$V(e);return t!==e&&(Sv.set(e,t),Nv.set(t,e)),t}var zd=e=>Nv.get(e);function bS(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=wn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(wn(s.result),c.oldVersion,c.newVersion,wn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var WV=["get","getKey","getAll","getAllKeys","count"],zV=["put","add","delete","clear"],Mv=new Map;function DS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Mv.get(t))return Mv.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=zV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WV.includes(n)))return;let o=function(s,...a){return m(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Mv.set(t,o),o}CS(e=>O(v({},e),{get:(t,n,r)=>DS(t,n)||e.get(t,n,r),has:(t,n)=>!!DS(t,n)||e.has(t,n)}));var kv=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function GV(e){let t=e.getComponent();return t?.type==="VERSION"}var Pv="@firebase/app",TS="0.13.2";var Qn=new In("@firebase/app"),qV="@firebase/app-compat",KV="@firebase/analytics-compat",YV="@firebase/analytics",ZV="@firebase/app-check-compat",QV="@firebase/app-check",JV="@firebase/auth",XV="@firebase/auth-compat",ej="@firebase/database",tj="@firebase/data-connect",nj="@firebase/database-compat",rj="@firebase/functions",ij="@firebase/functions-compat",oj="@firebase/installations",sj="@firebase/installations-compat",aj="@firebase/messaging",cj="@firebase/messaging-compat",lj="@firebase/performance",uj="@firebase/performance-compat",dj="@firebase/remote-config",fj="@firebase/remote-config-compat",hj="@firebase/storage",pj="@firebase/storage-compat",gj="@firebase/firestore",mj="@firebase/ai",vj="@firebase/firestore-compat",yj="firebase",_j="11.10.0";var xv="[DEFAULT]",Ej={[Pv]:"fire-core",[qV]:"fire-core-compat",[YV]:"fire-analytics",[KV]:"fire-analytics-compat",[QV]:"fire-app-check",[ZV]:"fire-app-check-compat",[JV]:"fire-auth",[XV]:"fire-auth-compat",[ej]:"fire-rtdb",[tj]:"fire-data-connect",[nj]:"fire-rtdb-compat",[rj]:"fire-fn",[ij]:"fire-fn-compat",[oj]:"fire-iid",[sj]:"fire-iid-compat",[aj]:"fire-fcm",[cj]:"fire-fcm-compat",[lj]:"fire-perf",[uj]:"fire-perf-compat",[dj]:"fire-rc",[fj]:"fire-rc-compat",[hj]:"fire-gcs",[pj]:"fire-gcs-compat",[gj]:"fire-fst",[vj]:"fire-fst-compat",[mj]:"fire-vertex","fire-js":"fire-js",[yj]:"fire-js-all"};var Za=new Map,Ij=new Map,Fv=new Map;function SS(e,t){try{e.container.addComponent(t)}catch(n){Qn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Yt(e){let t=e.name;if(Fv.has(t))return Qn.debug(`There were multiple attempts to register component ${t}.`),!1;Fv.set(t,e);for(let n of Za.values())SS(n,e);for(let n of Ij.values())SS(n,e);return!0}function Gd(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Jn(e){return e==null?!1:e.settings!==void 0}var wj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new qt("app","Firebase",wj);var Lv=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ge("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}};var Qo=_j;function Uv(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:xv,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(n||(n=Dv()),!n)throw Cr.create("no-options");let o=Za.get(i);if(o){if(Ci(n,o.options)&&Ci(r,o.config))return o;throw Cr.create("duplicate-app",{appName:i})}let s=new Ya(i);for(let c of Fv.values())s.addComponent(c);let a=new Lv(n,r,s);return Za.set(i,a),a}function Jo(e=xv){let t=Za.get(e);if(!t&&e===xv&&Dv())return Uv();if(!t)throw Cr.create("no-app",{appName:e});return t}function qd(){return Array.from(Za.values())}function ve(e,t,n){var r;let i=(r=Ej[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Qn.warn(a.join(" "));return}Yt(new Ge(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var Cj="firebase-heartbeat-database",Dj=1,Qa="firebase-heartbeat-store",Ov=null;function MS(){return Ov||(Ov=bS(Cj,Dj,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Qa)}catch(n){console.warn(n)}}}}).catch(e=>{throw Cr.create("idb-open",{originalErrorMessage:e.message})})),Ov}function bj(e){return m(this,null,function*(){try{let n=(yield MS()).transaction(Qa),r=yield n.objectStore(Qa).get(OS(e));return yield n.done,r}catch(t){if(t instanceof yn)Qn.warn(t.message);else{let n=Cr.create("idb-get",{originalErrorMessage:t?.message});Qn.warn(n.message)}}})}function AS(e,t){return m(this,null,function*(){try{let r=(yield MS()).transaction(Qa,"readwrite");yield r.objectStore(Qa).put(t,OS(e)),yield r.done}catch(n){if(n instanceof yn)Qn.warn(n.message);else{let r=Cr.create("idb-set",{originalErrorMessage:n?.message});Qn.warn(r.message)}}})}function OS(e){return`${e.name}!${e.options.appId}`}var Tj=1024,Sj=30,Vv=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new jv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RS();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Sj){let s=Rj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qn.warn(r)}})}getHeartbeatsHeader(){return m(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=RS(),{heartbeatsToSend:r,unsentEntries:i}=Aj(this._heartbeatsCache.heartbeats),o=Wa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Qn.warn(n),""}})}};function RS(){return new Date().toISOString().substring(0,10)}function Aj(e,t=Tj){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),NS(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NS(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var jv=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Bd()?hS().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield bj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function NS(e){return Wa(JSON.stringify({version:2,heartbeats:e})).length}function Rj(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Nj(e){Yt(new Ge("platform-logger",t=>new kv(t),"PRIVATE")),Yt(new Ge("heartbeat",t=>new Vv(t),"PRIVATE")),ve(Pv,TS,e),ve(Pv,TS,"esm2017"),ve("fire-js","")}Nj("");var Mj="firebase",Oj="11.10.0";ve(Mj,Oj,"app");function kS(e){e===void 0&&(e=g(de));let t=e.get(ur);return n=>new x(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ti=new pr("ANGULARFIRE2_VERSION");function Yd(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var es=(e,t)=>{let n=t?[t]:qd(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Xo=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(Xo||{}),PS=um()&&typeof Zone<"u"?Xo.WARN:Xo.SILENT;var Kd=class{zone;delegate;constructor(t,n=gh){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Si=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=g(ee);this.outsideAngular=n.runOutsideAngular(()=>new Kd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Kd(typeof Zone>"u"?void 0:Zone.current,ph))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xS=!1;function kj(e,t){!xS&&(PS>Xo.SILENT||um())&&(xS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),PS>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function Pj(e){let t=g(ee,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function bi(e){let t=g(ee,{optional:!0});return t?t.run(()=>e()):e()}var xj=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),pe(n,()=>bi(()=>e.apply(void 0,r)))),Cn=(e,t,n)=>(n||=t?Xo.WARN:Xo.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=g(Si),s=g(ur),a=g(ue)}catch{return kj(e,n),e.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(t&&(r||=bi(()=>s.add())),i[l]=xj(i[l],r,a));let c=Pj(()=>e.apply(this,i));return t?c instanceof x?c.pipe(nr(o.outsideAngular),tr(o.insideAngular),kS(a)):c instanceof Promise?bi(()=>{let l=s.add();return new Promise((u,d)=>{c.then(f=>pe(a,()=>bi(()=>u(f))),f=>pe(a,()=>bi(()=>d(f)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:bi(()=>c):c instanceof x?c.pipe(nr(o.outsideAngular),tr(o.insideAngular)):bi(()=>c)});var Ai=class{constructor(t){return t}},Ja=class{constructor(){return qd()}};function Fj(e){return e&&e.length===1?e[0]:new Ai(Jo())}var Bv=new E("angularfire2._apps"),Lj={provide:Ai,useFactory:Fj,deps:[[new cn,Bv]]},Vj={provide:Ja,deps:[[new cn,Bv]]};function jj(e){return(t,n)=>{let r=n.get(Je);ve("angularfire",Ti.full,"core"),ve("angularfire",Ti.full,"app"),ve("angular",YD.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new Ai(i)}}function FS(e,...t){return ct([Lj,Vj,{provide:Bv,useFactory:jj(e),multi:!0,deps:[ee,de,Si,...t]}])}var LS=Cn(Uv,!0);var Uj=new Map,Bj={activated:!1,tokenObservers:[]},Hj={initialized:!1,enabled:!1};function Zt(e){return Uj.get(e)||Object.assign({},Bj)}function BS(){return Hj}var $j="https://content-firebaseappcheck.googleapis.com/v1";var Wj="exchangeDebugToken",VS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Xee=24*60*60*1e3;var Wv=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return m(this,null,function*(){this.stop();try{this.pending=new Gt,this.pending.promise.catch(n=>{}),yield zj(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Gt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function zj(e){return new Promise(t=>{setTimeout(t,e)})}var Gj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Dr=new qt("appCheck","AppCheck",Gj);function HS(e){if(!Zt(e).activated)throw Dr.create("use-before-activation",{appName:e.name})}function $S(r,i){return m(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(h){throw Dr.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw Dr.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw Dr.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Dr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function WS(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${$j}/projects/${n}/apps/${r}:${Wj}?key=${i}`,body:{debug_token:t}}}var qj="firebase-app-check-database",Kj=1,zv="firebase-app-check-store";var Zd=null;function Yj(){return Zd||(Zd=new Promise((e,t)=>{try{let n=indexedDB.open(qj,Kj);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Dr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(zv,{keyPath:"compositeKey"})}}}catch(n){t(Dr.create("storage-open",{originalErrorMessage:n?.message}))}}),Zd)}function Zj(e,t){return Qj(Jj(e),t)}function Qj(e,t){return m(this,null,function*(){let r=(yield Yj()).transaction(zv,"readwrite"),o=r.objectStore(zv).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Dr.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function Jj(e){return`${e.options.appId}-${e.name}`}var Xa=new In("@firebase/app-check");function Hv(e,t){return Bd()?Zj(e,t).catch(n=>{Xa.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function zS(){return BS().enabled}function GS(){return m(this,null,function*(){let e=BS();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Xj={error:"UNKNOWN_ERROR"};function eU(e){return Zo.encodeString(JSON.stringify(e),!1)}function Gv(e,t=!1,n=!1){return m(this,null,function*(){let r=e.app;HS(r);let i=Zt(r),o=i.token,s;if(o&&!ec(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(ec(l)?o=l:yield Hv(r,void 0))}if(!t&&o&&ec(o))return{token:o.token};let a=!1;if(zS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=$S(WS(r,yield GS()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Hv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xa.warn(l.message):n&&Xa.error(l),$v(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Zt(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xa.warn(l.message):n&&Xa.error(l),s=l}let c;return o?s?ec(o)?c={token:o.token,internalError:s}:c=$v(s):(c={token:o.token},i.token=o,yield Hv(r,o)):c=$v(s),a&&iU(r,c),c})}function tU(e){return m(this,null,function*(){let t=e.app;HS(t);let{provider:n}=Zt(t);if(zS()){let r=yield GS(),{token:i}=yield $S(WS(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function nU(e,t,n,r){let{app:i}=e,o=Zt(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ec(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),jS(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>jS(e))}function qS(e,t){let n=Zt(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function jS(e){let{app:t}=e,n=Zt(t),r=n.tokenRefresher;r||(r=rU(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function rU(e){let{app:t}=e;return new Wv(()=>m(null,null,function*(){let n=Zt(t),r;if(n.token?r=yield Gv(e,!0):r=yield Gv(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Zt(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},VS.RETRIAL_MIN_WAIT,VS.RETRIAL_MAX_WAIT)}function iU(e,t){let n=Zt(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function ec(e){return e.expireTimeMillis-Date.now()>0}function $v(e){return{token:eU(Xj),error:e}}var qv=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=Zt(this.app);for(let n of t)qS(this.app,n.next);return Promise.resolve()}};function oU(e,t){return new qv(e,t)}function sU(e){return{getToken:t=>Gv(e,t),getLimitedUseToken:()=>tU(e),addTokenListener:t=>nU(e,"INTERNAL",t),removeTokenListener:t=>qS(e.app,t)}}var aU="@firebase/app-check",cU="0.10.1";var lU="app-check",US="app-check-internal";function uU(){Yt(new Ge(lU,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return oU(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(US).initialize()})),Yt(new Ge(US,e=>{let t=e.getProvider("app-check").getImmediate();return sU(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),ve(aU,cU)}uU();var dU="app-check";var Qd=class{constructor(){return es(dU)}};var fU=["localhost","0.0.0.0","127.0.0.1"],fte=typeof window<"u"&&fU.includes(window.location.hostname);function tA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var nA=tA,rA=new qt("auth","Firebase",tA());var tf=new In("@firebase/auth");function hU(e,...t){tf.logLevel<=ne.WARN&&tf.warn(`Auth (${Qo}): ${e}`,...t)}function Xd(e,...t){tf.logLevel<=ne.ERROR&&tf.error(`Auth (${Qo}): ${e}`,...t)}function KS(e,...t){throw oy(e,...t)}function iy(e,...t){return oy(e,...t)}function iA(e,t,n){let r=Object.assign(Object.assign({},nA()),{[t]:n});return new qt("auth","Firebase",r).create(t,{appName:e.name})}function ef(e){return iA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oy(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return rA.create(e,...t)}function J(e,t,...n){if(!e)throw oy(t,...n)}function tc(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Xd(t),new Error(t)}function nf(e,t){e||tc(t)}function pU(){return YS()==="http:"||YS()==="https:"}function YS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function gU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pU()||fS()||"connection"in navigator)?navigator.onLine:!0}function mU(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Mi=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,nf(n>t,"Short delay should be less than long delay!"),this.isMobile=za()||Ud()}get(){return gU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function vU(e,t){nf(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var rf=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _U=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EU=new Mi(3e4,6e4);function oA(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function lf(o,s,a,c){return m(this,arguments,function*(e,t,n,r,i={}){return sA(e,i,()=>m(null,null,function*(){let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});let d=qa(Object.assign({key:e.config.apiKey},u)).slice(1),f=yield e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:f},l);return dS()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Ii(e.emulatorConfig.host)&&(h.credentials="include"),rf.fetch()(yield aA(e,e.config.apiHost,n,d),h)}))})}function sA(e,t,n){return m(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},yU),t);try{let i=new Zv(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Jd(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jd(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Jd(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw Jd(e,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw iA(e,u,l);KS(e,u)}}catch(i){if(i instanceof yn)throw i;KS(e,"network-request-failed",{message:String(i)})}})}function aA(e,t,n,r){return m(this,null,function*(){let i=`${t}${n}?${r}`,o=e,s=o.config.emulator?vU(e.config,i):`${e.config.apiScheme}://${i}`;return _U.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Zv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(iy(this.auth,"network-request-failed")),EU.get())})}};function Jd(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=iy(e,t,r);return i.customData._tokenResponse=n,i}function IU(e,t){return m(this,null,function*(){return lf(e,"POST","/v1/accounts:delete",t)})}function of(e,t){return m(this,null,function*(){return lf(e,"POST","/v1/accounts:lookup",t)})}function nc(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function sy(e,t=!1){return m(this,null,function*(){let n=Et(e),r=yield n.getIdToken(t),i=cA(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:nc(Kv(i.auth_time)),issuedAtTime:nc(Kv(i.iat)),expirationTime:nc(Kv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Kv(e){return Number(e)*1e3}function cA(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Xd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ko(n);return i?JSON.parse(i):(Xd("Failed to decode base64 JWT payload"),null)}catch(i){return Xd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ZS(e){let t=cA(e);return J(t,"internal-error"),J(typeof t.exp<"u","internal-error"),J(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Qv(e,t,n=!1){return m(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof yn&&wU(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function wU({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var Jv=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ic=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nc(this.lastLoginAt),this.creationTime=nc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function sf(e){return m(this,null,function*(){var t;let n=e.auth,r=yield e.getIdToken(),i=yield Qv(e,of(n,{idToken:r}));J(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?lA(o.providerUserInfo):[],a=CU(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ic(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function ay(e){return m(this,null,function*(){let t=Et(e);yield sf(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function CU(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function lA(e){return e.map(t=>{var{providerId:n}=t,r=mh(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function DU(e,t){return m(this,null,function*(){let n=yield sA(e,{},()=>m(null,null,function*(){let r=qa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=yield aA(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return e.emulatorConfig&&Ii(e.emulatorConfig.host)&&(c.credentials="include"),rf.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function bU(e,t){return m(this,null,function*(){return lf(e,"POST","/v2/accounts:revokeToken",oA(e,t))})}var rc=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){J(t.idToken,"internal-error"),J(typeof t.idToken<"u","internal-error"),J(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ZS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){J(t.length!==0,"internal-error");let n=ZS(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return m(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield DU(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(J(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return tc("not implemented")}};function br(e,t){J(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Ri=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=mh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ic(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return m(this,null,function*(){let n=yield Qv(this,this.stsTokenManager.getToken(this.auth,t));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return sy(this,t)}reload(){return ay(this)}_assign(t){this!==t&&(J(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return m(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield sf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(Jn(this.auth.app))return Promise.reject(ef(this.auth));let t=yield this.getIdToken();return yield Qv(this,IU(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ce=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:Te,emailVerified:en,isAnonymous:Rc,providerData:Kf,stsTokenManager:O_}=n;J(Te&&O_,t,"internal-error");let mR=rc.fromJSON(this.name,O_);J(typeof Te=="string",t,"internal-error"),br(d,t.name),br(f,t.name),J(typeof en=="boolean",t,"internal-error"),J(typeof Rc=="boolean",t,"internal-error"),br(h,t.name),br(p,t.name),br(y,t.name),br(I,t.name),br(b,t.name),br(ce,t.name);let Yf=new e({uid:Te,auth:t,email:f,emailVerified:en,displayName:d,isAnonymous:Rc,photoURL:p,phoneNumber:h,tenantId:y,stsTokenManager:mR,createdAt:b,lastLoginAt:ce});return Kf&&Array.isArray(Kf)&&(Yf.providerData=Kf.map(vR=>Object.assign({},vR))),I&&(Yf._redirectEventId=I),Yf}static _fromIdTokenResponse(t,n,r=!1){return m(this,null,function*(){let i=new rc;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield sf(o),o})}static _fromGetAccountInfoResponse(t,n,r){return m(this,null,function*(){let i=n.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?lA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new rc;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ic(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var QS=new Map;function Ni(e){nf(e instanceof Function,"Expected a class definition");let t=QS.get(e);return t?(nf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,QS.set(e,t),t)}var TU=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),Xv=TU;function Yv(e,t,n){return`firebase:${e}:${t}:${n}`}var af=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Yv(this.userKey,i.apiKey,o),this.fullPersistenceKey=Yv("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return m(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=yield of(this.auth,{idToken:t}).catch(()=>{});return n?Ri._fromGetAccountInfoResponse(this.auth,n,t):null}return Ri._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return m(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new e(Ni(Xv),t,r);let i=(yield Promise.all(n.map(l=>m(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ni(Xv),s=Yv(r,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield of(t,{idToken:u}).catch(()=>{});if(!f)break;d=yield Ri._fromGetAccountInfoResponse(t,f,u)}else d=Ri._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>m(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,r))})}};function JS(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NU(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(SU(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(OU(t))return"Blackberry";if(kU(t))return"Webos";if(AU(t))return"Safari";if((t.includes("chrome/")||RU(t))&&!t.includes("edge/"))return"Chrome";if(MU(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function SU(e=Kt()){return/firefox\//i.test(e)}function AU(e=Kt()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function RU(e=Kt()){return/crios\//i.test(e)}function NU(e=Kt()){return/iemobile/i.test(e)}function MU(e=Kt()){return/android/i.test(e)}function OU(e=Kt()){return/blackberry/i.test(e)}function kU(e=Kt()){return/webos/i.test(e)}function uA(e,t=[]){let n;switch(e){case"Browser":n=JS(Kt());break;case"Worker":n=`${JS(Kt())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${r}`}var ey=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return m(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function PU(n){return m(this,arguments,function*(e,t={}){return lf(e,"GET","/v2/passwordPolicy",oA(e,t))})}var xU=6,ty=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:xU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var ny=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cf(this),this.idTokenSubscription=new cf(this),this.beforeStateQueue=new ey(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield af.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return m(this,null,function*(){try{let n=yield of(this,{idToken:t}),r=yield Ri._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return m(this,null,function*(){var n;if(Jn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return m(this,null,function*(){try{yield sf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=mU()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return m(this,null,function*(){if(Jn(this.app))return Promise.reject(ef(this));let n=t?Et(t):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return m(this,null,function*(){if(!this._deleted)return t&&J(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return Jn(this.app)?Promise.reject(ef(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return Jn(this.app)?Promise.reject(ef(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(Ni(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let t=yield PU(this),n=new ty(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qt("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield bU(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&Ni(t)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield af.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return m(this,null,function*(){if(t===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return m(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=uA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var t;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&hU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function FU(e){return Et(e)}var cf=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=vS(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var LU={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VU(e){LU=e}function jU(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function UU(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ni);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}var Dte=jU("rcb"),bte=new Mi(3e4,6e4);var Tte=new Mi(2e3,1e4);var Ste=10*60*1e3;var Ate=new Mi(3e4,6e4);var Rte=new Mi(5e3,15e3);var Nte=encodeURIComponent("fac");var XS="@firebase/auth",eA="1.10.8";var ry=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function BU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HU(e){Yt(new Ge("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uA(e)},l=new ny(r,i,o,c);return UU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Yt(new Ge("auth-internal",t=>{let n=FU(t.getProvider("auth").getImmediate());return(r=>new ry(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ve(XS,eA,BU(e)),ve(XS,eA,"esm2017")}var $U=5*60,Mte=lS("authIdTokenMaxAge")||$U;function WU(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}VU({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=iy("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",WU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HU("Browser");var HB="auth";var uf=class{constructor(){return es(HB)}};var dA="@firebase/database",fA="1.0.20";var c_="";function $B(e){c_=e}var gy=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ce(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Yo(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var my=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return En(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var WA=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new gy(t)}}catch{}return new my},ki=WA("localStorage"),vy=WA("sessionStorage");var rs=new In("@firebase/database"),WB=function(){let e=1;return function(){return e++}}(),zA=function(e){let t=yS(e),n=new jd;n.update(t);let r=n.digest();return Zo.encodeByteArray(r)},Cc=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Cc.apply(null,r):typeof r=="object"?t+=Ce(r):t+=r,t+=" "}return t},xi=null,hA=!0,zB=function(e,t){_(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(rs.logLevel=ne.VERBOSE,xi=rs.log.bind(rs),t&&vy.set("logging_enabled",!0)):typeof e=="function"?xi=e:(xi=null,vy.remove("logging_enabled"))},Ve=function(...e){if(hA===!0&&(hA=!1,xi===null&&vy.get("logging_enabled")===!0&&zB(!0)),xi){let t=Cc.apply(null,e);xi(t)}},Dc=function(e){return function(...t){Ve(e,...t)}},yy=function(...e){let t="FIREBASE INTERNAL ERROR: "+Cc(...e);rs.error(t)},Xn=function(...e){let t=`FIREBASE FATAL ERROR: ${Cc(...e)}`;throw rs.error(t),new Error(t)},tt=function(...e){let t="FIREBASE WARNING: "+Cc(...e);rs.warn(t)},GB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},GA=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},qB=function(e){if(_n()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},os="[MIN_NAME]",Fi="[MAX_NAME]",fs=function(e,t){if(e===t)return 0;if(e===os||t===Fi)return-1;if(t===os||e===Fi)return 1;{let n=pA(e),r=pA(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},KB=function(e,t){return e===t?0:e<t?-1:1},oc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ce(t))},l_=function(e){if(typeof e!="object"||e===null)return Ce(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Ce(t[r]),n+=":",n+=l_(e[t[r]]);return n+="}",n},qA=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function nt(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var KA=function(e){_(!GA(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},YB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ZB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function QB(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var JB=new RegExp("^-?(0*)\\d{1,10}$"),XB=-2147483648,e2=2147483647,pA=function(e){if(JB.test(e)){let t=Number(e);if(t>=XB&&t<=e2)return t}return null},hs=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw tt("Exception was thrown by user callback.",n),t},Math.floor(0))}},t2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},uc=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var _y=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Jn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){tt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Ey=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tt(t)}},dc=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),ff="5",YA="v",ZA="s",QA="r",JA="f",XA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,e0="ls",t0="p",Iy="ac",n0="websocket",r0="long_polling";var hf=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ki.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ki.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function n2(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function i0(e,t,n){_(typeof t=="string","typeof type must == string"),_(typeof n=="object","typeof params must == object");let r;if(t===n0)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===r0)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);n2(e)&&(n.ns=e.namespace);let i=[];return nt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var wy=class{constructor(){this.counters_={}}incrementCounter(t,n=1){En(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return iS(this.counters_)}};var cy={},ly={};function u_(e){let t=e.toString();return cy[t]||(cy[t]=new wy),cy[t]}function r2(e,t){let n=e.toString();return ly[n]||(ly[n]=t()),ly[n]}var Cy=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&hs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var gA="start",i2="close",o2="pLPCommand",s2="pRTLPCB",o0="id",s0="pw",a0="ser",a2="cb",c2="seg",l2="ts",u2="d",d2="dframe",c0=1870,l0=30,f2=c0-l0,h2=25e3,p2=3e4,Dy=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dc(t),this.stats_=u_(n),this.urlFn=c=>(this.appCheckToken&&(c[Iy]=this.appCheckToken),i0(n,r0,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Cy(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(p2)),qB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new by((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===gA)this.id=a,this.password=c;else if(s===i2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[gA]="t",r[a0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[a2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[YA]=ff,this.transportSessionId&&(r[ZA]=this.transportSessionId),this.lastSessionId&&(r[e0]=this.lastSessionId),this.applicationId&&(r[t0]=this.applicationId),this.appCheckToken&&(r[Iy]=this.appCheckToken),typeof location<"u"&&location.hostname&&XA.test(location.hostname)&&(r[QA]=JA);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return _n()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!YB()&&!ZB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=Ce(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=wv(n),i=qA(r,f2);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(_n())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[d2]="t",r[o0]=t,r[s0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=Ce(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},by=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,_n())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=WB(),window[o2+this.uniqueCallbackIdentifier]=t,window[s2+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ve("frame writing exception"),a.stack&&Ve(a.stack),Ve(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ve("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[o0]=this.myID,t[s0]=this.myPW,t[a0]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+l0+r.length<=c0;){let s=this.pendingSegs.shift();r=r+"&"+c2+i+"="+s.seg+"&"+l2+i+"="+s.ts+"&"+u2+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(h2)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){_n()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ve("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var g2=16384,m2=45e3,pf=null;typeof MozWebSocket<"u"?pf=MozWebSocket:typeof WebSocket<"u"&&(pf=WebSocket);var sc=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dc(this.connId),this.stats_=u_(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[YA]=ff,!_n()&&typeof location<"u"&&location.hostname&&XA.test(location.hostname)&&(a[QA]=JA),r&&(a[ZA]=r),i&&(a[e0]=i),o&&(a[Iy]=o),s&&(a[t0]=s),i0(n,n0,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ki.set("previous_websocket_failure",!0);try{let i;if(_n()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${ff}/${c_}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new pf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&pf!==null&&!e.forceDisallow_}static previouslyFailed(){return ki.isInMemoryStorage||ki.get("previous_websocket_failure")===!0}markConnectionHealthy(){ki.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Yo(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Ce(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=qA(r,g2);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(m2))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),v2=(()=>{class e{static get ALL_TRANSPORTS(){return[Dy,sc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=sc&&sc.isAvailable(),i=r&&!sc.previouslyFailed();if(n.webSocketOnly&&(r||tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[sc];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),y2=6e4,_2=5e3,E2=10*1024,I2=100*1024,uy="t",mA="d",w2="s",vA="r",C2="e",yA="o",_A="a",EA="n",IA="p",D2="h",Ty=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dc("c:"+this.id+":"),this.transportManager_=new v2(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=uc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>I2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>E2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(uy in t){let n=t[uy];n===_A?this.upgradeIfSecondaryHealthy_():n===vA?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===yA&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=oc("t",t),r=oc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:IA,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_A,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:EA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=oc("t",t),r=oc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=oc(uy,t);if(mA in t){let r=t[mA];if(n===D2){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===EA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===w2?this.onConnectionShutdown_(r):n===vA?this.onReset_(r):n===C2?yy("Server Error: "+r):n===yA?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yy("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ff!==r&&tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),uc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(y2))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:IA,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ki.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var gf=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var mf=class{constructor(t){this.allowedEvents_=t,this.listeners_={},_(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){_(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var vf=class e extends mf{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!za()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return _(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var wA=32,CA=768,re=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function Y(){return new re("")}function B(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ar(e){return e.pieces_.length-e.pieceNum_}function ie(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new re(e.pieces_,t)}function u0(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function b2(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function d0(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function f0(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new re(t,0)}function be(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof re)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new re(n,0)}function W(e){return e.pieceNum_>=e.pieces_.length}function qe(e,t){let n=B(e),r=B(t);if(n===null)return t;if(n===r)return qe(ie(e),ie(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function d_(e,t){if(Ar(e)!==Ar(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Jt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Ar(e)>Ar(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Sy=class{constructor(t,n){this.errorPrefix_=n,this.parts_=d0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ka(this.parts_[r]);h0(this)}};function T2(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ka(t),h0(e)}function S2(e){let t=e.parts_.pop();e.byteLength_-=Ka(t),e.parts_.length>0&&(e.byteLength_-=1)}function h0(e){if(e.byteLength_>CA)throw new Error(e.errorPrefix_+"has a key path longer than "+CA+" bytes ("+e.byteLength_+").");if(e.parts_.length>wA)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+wA+") or object contains a cycle "+Oi(e))}function Oi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Ay=class e extends mf{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return _(t==="visible","Unknown event type: "+t),[this.visible_]}};var ac=1e3,A2=60*5*1e3,DA=30*1e3,R2=1.3,N2=3e4,M2="server_kill",bA=3,f_=(()=>{class e extends gf{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=Dc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ac,this.maxReconnectDelay_=A2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!_n())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ay.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&vf.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Ce(s)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Gt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&En(n,"w")){let i=wi(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||mS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=DA)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=gS(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ce(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):yy("Unrecognized action received from server: "+Ce(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ac,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ac,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>N2&&(this.reconnectDelay_=ac),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*R2)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){_(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ve("getToken() completed but was canceled"):(Ve("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new Ty(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{tt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(M2)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&tt(f),l())}}})}interrupt(n){Ve("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ve("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Hd(this.interruptReasons_)&&(this.reconnectDelay_=ac,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>l_(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new re(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ve("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=bA&&(this.reconnectDelay_=DA,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ve("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=bA&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";_n()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+c_.replace(/\./g,"-")]=1,za()?n["framework.cordova"]=1:Ud()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=vf.getInstance().currentlyOnline();return Hd(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),H=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var ss=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new H(os,t),i=new H(os,n);return this.compare(r,i)!==0}minPost(){return H.MIN}};var df,yf=class extends ss{static get __EMPTY_NODE(){return df}static set __EMPTY_NODE(t){df=t}compare(t,n){return fs(t.name,n.name)}isDefinedOn(t){throw Ei("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return H.MIN}maxPost(){return new H(Fi,df)}makePost(t,n){return _(typeof t=="string","KeyIndex indexValue must always be a string."),new H(t,df)}toString(){return".key"}},is=new yf;var ns=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Qt=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Nt.EMPTY_NODE,this.right=s??Nt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Ry=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new Qt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Nt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Qt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Qt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ns(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ns(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ns(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ns(this.root_,null,this.comparator_,!0,t)}};Nt.EMPTY_NODE=new Ry;function O2(e,t){return fs(e.name,t.name)}function h_(e,t){return fs(e,t)}var Ny;function k2(e){Ny=e}var p0=function(e){return typeof e=="number"?"number:"+KA(e):"string:"+e},g0=function(e){if(e.isLeafNode()){let t=e.val();_(typeof t=="string"||typeof t=="number"||typeof t=="object"&&En(t,".sv"),"Priority must be a string or number.")}else _(e===Ny||e.isEmpty(),"priority of unexpected type.");_(e===Ny||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var TA,as=(()=>{class e{static set __childrenNodeConstructor(n){TA=n}static get __childrenNodeConstructor(){return TA}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),g0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return W(n)?this:B(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=B(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(_(i!==".priority"||Ar(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ie(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+p0(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=KA(this.value_):n+=this.value_,this.lazyHash_=zA(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(_(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return _(o>=0,"Unknown leaf type: "+r),_(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),m0,v0;function P2(e){m0=e}function x2(e){v0=e}var My=class extends ss{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?fs(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return H.MIN}maxPost(){return new H(Fi,new as("[PRIORITY-POST]",v0))}makePost(t,n){let r=m0(t);return new H(n,new as("[PRIORITY-POST]",r))}toString(){return".priority"}},fe=new My;var F2=Math.log(2),Oy=class{constructor(t){let n=o=>parseInt(Math.log(o)/F2,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},_f=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new Qt(f,d.node,Qt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),y=i(h+1,l);return d=e[h],f=n?n(d):d,new Qt(f,d.node,Qt.BLACK,p,y)}},o=function(c){let l=null,u=null,d=e.length,f=function(p,y){let I=d-p,b=d;d-=p;let ce=i(I+1,b),Te=e[I],en=n?n(Te):Te;h(new Qt(en,Te.node,y,null,ce))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let y=c.nextBitIsOne(),I=Math.pow(2,c.count-(p+1));y?f(I,Qt.BLACK):(f(I,Qt.BLACK),f(I,Qt.RED))}return u},s=new Oy(e.length),a=o(s);return new Nt(r||t,a)};var dy,ts={},cs=class e{static get Default(){return _(ts&&fe,"ChildrenNode.ts has not been loaded"),dy=dy||new e({".priority":ts},{".priority":fe}),dy}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=wi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Nt?n:null}hasIndex(t){return En(this.indexSet_,t.toString())}addIndex(t,n){_(t!==is,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(H.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=_f(r,t.getCompare()):a=ts;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=Ga(this.indexes_,(i,o)=>{let s=wi(this.indexSet_,o);if(_(s,"Missing index implementation for "+o),i===ts)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator(H.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),_f(a,s.getCompare())}else return ts;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new H(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=Ga(this.indexes_,i=>{if(i===ts)return i;{let o=n.get(t.name);return o?i.remove(new H(t.name,o)):i}});return new e(r,this.indexSet_)}};var cc,V=(()=>{class e{static get EMPTY_NODE(){return cc||(cc=new e(new Nt(h_),null,cs.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&g0(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cc}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?cc:r}}getChild(n){let r=B(n);return r===null?this:this.getImmediateChild(r).getChild(ie(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(_(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new H(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?cc:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=B(n);if(i===null)return r;{_(B(n)!==".priority"||Ar(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ie(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(fe,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+p0(this.getPriority().val())+":"),this.forEachChild(fe,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":zA(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new H(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new H(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new H(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,H.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,H.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===bc?-1:0}withIndex(n){if(n===is||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===is||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(fe),o=r.getIterator(fe),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===is?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),ky=class extends V{constructor(){super(new Nt(h_),V.EMPTY_NODE,cs.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return V.EMPTY_NODE}isEmpty(){return!1}},bc=new ky;Object.defineProperties(H,{MIN:{value:new H(os,V.EMPTY_NODE)},MAX:{value:new H(Fi,bc)}});yf.__EMPTY_NODE=V.EMPTY_NODE;as.__childrenNodeConstructor=V;k2(bc);x2(bc);var L2=!0;function Oe(e,t=null){if(e===null)return V.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),_(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new as(n,Oe(t))}if(!(e instanceof Array)&&L2){let n=[],r=!1;if(nt(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=Oe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new H(s,c)))}}),n.length===0)return V.EMPTY_NODE;let o=_f(n,O2,s=>s.name,h_);if(r){let s=_f(n,fe.getCompare());return new V(o,Oe(t),new cs({".priority":s},{".priority":fe}))}else return new V(o,Oe(t),cs.Default)}else{let n=V.EMPTY_NODE;return nt(e,(r,i)=>{if(En(e,r)&&r.substring(0,1)!=="."){let o=Oe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Oe(t))}}P2(Oe);var Py=class extends ss{constructor(t){super(),this.indexPath_=t,_(!W(t)&&B(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?fs(t.name,n.name):o}makePost(t,n){let r=Oe(t),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new H(n,i)}maxPost(){let t=V.EMPTY_NODE.updateChild(this.indexPath_,bc);return new H(Fi,t)}toString(){return d0(this.indexPath_,0).join("/")}};var xy=class extends ss{compare(t,n){let r=t.node.compareTo(n.node);return r===0?fs(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return H.MIN}maxPost(){return H.MAX}makePost(t,n){let r=Oe(t);return new H(n,r)}toString(){return".value"}},V2=new xy;function y0(e){return{type:"value",snapshotNode:e}}function ls(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function gc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function mc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function j2(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var vc=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){_(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(gc(n,a)):_(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ls(n,r)):s.trackChildChange(mc(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(fe,(i,o)=>{n.hasChild(i)||r.trackChildChange(gc(i,o))}),n.isLeafNode()||n.forEachChild(fe,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(mc(i,o,s))}else r.trackChildChange(ls(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?V.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Ef=class e{constructor(t){this.indexedFilter_=new vc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new H(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);let o=this;return n.forEachChild(fe,(s,a)=>{o.matches(new H(s,a))||(i=i.updateImmediateChild(s,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Fy=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ef(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new H(n,r))||(r=V.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;_(a.numChildren()===this.limit_,"");let c=new H(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(mc(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(gc(n,d));let y=a.updateImmediateChild(n,V.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(ls(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?t:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(gc(l.name,l.node)),o.trackChildChange(ls(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,V.EMPTY_NODE)):t}};var Ly=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:os}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fe}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function U2(e){return e.loadsAllData()?new vc(e.getIndex()):e.hasLimit()?new Fy(e):new Ef(e)}function SA(e){let t={};if(e.isDefault())return t;let n;if(e.index_===fe?n="$priority":e.index_===V2?n="$value":e.index_===is?n="$key":(_(e.index_ instanceof Py,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ce(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=Ce(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Ce(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Ce(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Ce(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function AA(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==fe&&(t.i=e.index_.toString()),t}var Vy=class e extends gf{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(_(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Dc("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=SA(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),wi(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=SA(t._queryParams),r=t._path.toString(),i=new Gt;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+qa(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Yo(a.responseText)}catch{tt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&tt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var jy=class{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function If(){return{value:null,children:new Map}}function _0(e,t,n){if(W(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=B(t);e.children.has(r)||e.children.set(r,If());let i=e.children.get(r);t=ie(t),_0(i,t,n)}}function Uy(e,t,n){e.value!==null?n(t,e.value):B2(e,(r,i)=>{let o=new re(t.toString()+"/"+r);Uy(i,o,n)})}function B2(e,t){e.children.forEach((n,r)=>{t(r,n)})}var By=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&nt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var RA=10*1e3,H2=30*1e3,$2=5*60*1e3,Hy=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new By(t);let r=RA+(H2-RA)*Math.random();uc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;nt(t,(i,o)=>{o>0&&En(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),uc(this.reportStats_.bind(this),Math.floor(Math.random()*2*$2))}};var Dn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Dn||{});function E0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function p_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function g_(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var $y=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Dn.ACK_USER_WRITE,this.source=E0()}operationForChild(t){if(W(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new re(t));return new e(Y(),n,this.revert)}}else return _(B(this.path)===t,"operationForChild called for unrelated child."),new e(ie(this.path),this.affectedTree,this.revert)}};var wf=class e{constructor(t,n){this.source=t,this.path=n,this.type=Dn.LISTEN_COMPLETE}operationForChild(t){return W(this.path)?new e(this.source,Y()):new e(this.source,ie(this.path))}};var us=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Dn.OVERWRITE}operationForChild(t){return W(this.path)?new e(this.source,Y(),this.snap.getImmediateChild(t)):new e(this.source,ie(this.path),this.snap)}};var Cf=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Dn.MERGE}operationForChild(t){if(W(this.path)){let n=this.children.subtree(new re(t));return n.isEmpty()?null:n.value?new us(this.source,Y(),n.value):new e(this.source,Y(),n)}else return _(B(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var bn=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(W(t))return this.isFullyInitialized()&&!this.filtered_;let n=B(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Wy=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function W2(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(j2(s.childName,s.snapshotNode))}),lc(e,i,"child_removed",t,r,n),lc(e,i,"child_added",t,r,n),lc(e,i,"child_moved",o,r,n),lc(e,i,"child_changed",t,r,n),lc(e,i,"value",t,r,n),i}function lc(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>G2(e,a,c)),s.forEach(a=>{let c=z2(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function z2(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function G2(e,t,n){if(t.childName==null||n.childName==null)throw Ei("Should only compare child_ events.");let r=new H(t.childName,t.snapshotNode),i=new H(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function Lf(e,t){return{eventCache:e,serverCache:t}}function fc(e,t,n,r){return Lf(new bn(t,n,r),e.serverCache)}function I0(e,t,n,r){return Lf(e.eventCache,new bn(t,n,r))}function Df(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Li(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var fy,q2=()=>(fy||(fy=new Nt(KB)),fy),rt=class e{static fromObject(t){let n=new e(null);return nt(t,(r,i)=>{n=n.set(new re(r),i)}),n}constructor(t,n=q2()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Y(),value:this.value};if(W(t))return null;{let r=B(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ie(t),n);return o!=null?{path:be(new re(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(W(t))return this;{let n=B(t),r=this.children.get(n);return r!==null?r.subtree(ie(t)):new e(null)}}set(t,n){if(W(t))return new e(n,this.children);{let r=B(t),o=(this.children.get(r)||new e(null)).set(ie(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(W(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=B(t),r=this.children.get(n);if(r){let i=r.remove(ie(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(W(t))return this.value;{let n=B(t),r=this.children.get(n);return r?r.get(ie(t)):null}}setTree(t,n){if(W(t))return n;{let r=B(t),o=(this.children.get(r)||new e(null)).setTree(ie(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(Y(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(be(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,Y(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(W(t))return null;{let o=B(t),s=this.children.get(o);return s?s.findOnPath_(ie(t),be(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Y(),n)}foreachOnPath_(t,n,r){if(W(t))return this;{this.value&&r(n,this.value);let i=B(t),o=this.children.get(i);return o?o.foreachOnPath_(ie(t),be(n,i),r):new e(null)}}foreach(t){this.foreach_(Y(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(be(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var Xt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new rt(null))}};function hc(e,t,n){if(W(t))return new Xt(new rt(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=qe(i,t);return o=o.updateChild(s,n),new Xt(e.writeTree_.set(i,o))}else{let i=new rt(n),o=e.writeTree_.setTree(t,i);return new Xt(o)}}}function NA(e,t,n){let r=e;return nt(n,(i,o)=>{r=hc(r,be(t,i),o)}),r}function MA(e,t){if(W(t))return Xt.empty();{let n=e.writeTree_.setTree(t,new rt(null));return new Xt(n)}}function zy(e,t){return Vi(e,t)!=null}function Vi(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(qe(n.path,t)):null}function OA(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(fe,(r,i)=>{t.push(new H(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new H(r,i.value))}),t}function Tr(e,t){if(W(t))return e;{let n=Vi(e,t);return n!=null?new Xt(new rt(n)):new Xt(e.writeTree_.subtree(t))}}function Gy(e){return e.writeTree_.isEmpty()}function ds(e,t){return w0(Y(),e.writeTree_,t)}function w0(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(_(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=w0(be(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(be(e,".priority"),r)),n}}function Vf(e,t){return T0(t,e)}function K2(e,t,n,r,i){_(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=hc(e.visibleWrites,t,n)),e.lastWriteId=r}function Y2(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function Z2(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);_(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&Q2(a,r.path)?i=!1:Jt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return J2(e),!0;if(r.snap)e.visibleWrites=MA(e.visibleWrites,r.path);else{let a=r.children;nt(a,c=>{e.visibleWrites=MA(e.visibleWrites,be(r.path,c))})}return!0}else return!1}function Q2(e,t){if(e.snap)return Jt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&Jt(be(e.path,n),t))return!0;return!1}function J2(e){e.visibleWrites=C0(e.allWrites,X2,Y()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function X2(e){return e.visible}function C0(e,t,n){let r=Xt.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)Jt(n,s)?(a=qe(n,s),r=hc(r,a,o.snap)):Jt(s,n)&&(a=qe(s,n),r=hc(r,Y(),o.snap.getChild(a)));else if(o.children){if(Jt(n,s))a=qe(n,s),r=NA(r,a,o.children);else if(Jt(s,n))if(a=qe(s,n),W(a))r=NA(r,Y(),o.children);else{let c=wi(o.children,B(a));if(c){let l=c.getChild(ie(a));r=hc(r,Y(),l)}}}else throw Ei("WriteRecord should have .snap or .children")}}return r}function D0(e,t,n,r,i){if(!r&&!i){let o=Vi(e.visibleWrites,t);if(o!=null)return o;{let s=Tr(e.visibleWrites,t);if(Gy(s))return n;if(n==null&&!zy(s,Y()))return null;{let a=n||V.EMPTY_NODE;return ds(s,a)}}}else{let o=Tr(e.visibleWrites,t);if(!i&&Gy(o))return n;if(!i&&n==null&&!zy(o,Y()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Jt(l.path,t)||Jt(t,l.path))},a=C0(e.allWrites,s,t),c=n||V.EMPTY_NODE;return ds(a,c)}}}function eH(e,t,n){let r=V.EMPTY_NODE,i=Vi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(fe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Tr(e.visibleWrites,t);return n.forEachChild(fe,(s,a)=>{let c=ds(Tr(o,new re(s)),a);r=r.updateImmediateChild(s,c)}),OA(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Tr(e.visibleWrites,t);return OA(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function tH(e,t,n,r,i){_(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=be(t,n);if(zy(e.visibleWrites,o))return null;{let s=Tr(e.visibleWrites,o);return Gy(s)?i.getChild(n):ds(s,i.getChild(n))}}function nH(e,t,n,r){let i=be(t,n),o=Vi(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Tr(e.visibleWrites,i);return ds(s,r.getNode().getImmediateChild(n))}else return null}function rH(e,t){return Vi(e.visibleWrites,t)}function iH(e,t,n,r,i,o,s){let a,c=Tr(e.visibleWrites,t),l=Vi(c,Y());if(l!=null)a=l;else if(n!=null)a=ds(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function oH(){return{visibleWrites:Xt.empty(),allWrites:[],lastWriteId:-1}}function bf(e,t,n,r){return D0(e.writeTree,e.treePath,t,n,r)}function m_(e,t){return eH(e.writeTree,e.treePath,t)}function kA(e,t,n,r){return tH(e.writeTree,e.treePath,t,n,r)}function Tf(e,t){return rH(e.writeTree,be(e.treePath,t))}function sH(e,t,n,r,i,o){return iH(e.writeTree,e.treePath,t,n,r,i,o)}function v_(e,t,n){return nH(e.writeTree,e.treePath,t,n)}function b0(e,t){return T0(be(e.treePath,t),e.writeTree)}function T0(e,t){return{treePath:e,writeTree:t}}var qy=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;_(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,mc(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,gc(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ls(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,mc(r,t.snapshotNode,i.oldSnap));else throw Ei("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Ky=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},S0=new Ky,yc=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new bn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return v_(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Li(this.viewCache_),o=sH(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function aH(e){return{filter:e}}function cH(e,t){_(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),_(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function lH(e,t,n,r,i){let o=new qy,s,a;if(n.type===Dn.OVERWRITE){let l=n;l.source.fromUser?s=Yy(e,t,l.path,l.snap,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!W(l.path),s=Sf(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Dn.MERGE){let l=n;l.source.fromUser?s=dH(e,t,l.path,l.children,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Zy(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Dn.ACK_USER_WRITE){let l=n;l.revert?s=pH(e,t,l.path,r,i,o):s=fH(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===Dn.LISTEN_COMPLETE)s=hH(e,t,n.path,r,o);else throw Ei("Unknown operation type: "+n.type);let c=o.getChanges();return uH(t,s,c),{viewCache:s,changes:c}}function uH(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Df(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(y0(Df(t)))}}function A0(e,t,n,r,i,o){let s=t.eventCache;if(Tf(r,n)!=null)return t;{let a,c;if(W(n))if(_(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=Li(t),u=l instanceof V?l:V.EMPTY_NODE,d=m_(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=bf(r,Li(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=B(n);if(l===".priority"){_(Ar(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=kA(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=ie(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let f=kA(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=v_(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return fc(t,a,s.isFullyInitialized()||W(n),e.filter.filtersNodes())}}function Sf(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(W(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=B(n);if(!c.isCompleteForPath(n)&&Ar(n)>1)return t;let p=ie(n),I=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),I):l=u.updateChild(c.getNode(),h,I,p,S0,null)}let d=I0(t,l,c.isFullyInitialized()||W(n),u.filtersNodes()),f=new yc(i,d,o);return A0(e,d,n,i,f,a)}function Yy(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new yc(i,t,o);if(W(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=fc(t,l,!0,e.filter.filtersNodes());else{let d=B(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=fc(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=ie(n),h=a.getNode().getImmediateChild(d),p;if(W(f))p=r;else{let y=u.getCompleteChild(d);y!=null?u0(f)===".priority"&&y.getChild(f0(f)).isEmpty()?p=y:p=y.updateChild(f,r):p=V.EMPTY_NODE}if(h.equals(p))c=t;else{let y=e.filter.updateChild(a.getNode(),d,p,f,u,s);c=fc(t,y,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function PA(e,t){return e.eventCache.isCompleteForChild(t)}function dH(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=be(n,c);PA(t,B(u))&&(a=Yy(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=be(n,c);PA(t,B(u))||(a=Yy(e,a,u,l,i,o,s))}),a}function xA(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Zy(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;W(n)?l=r:l=new rt(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=xA(e,h,f);c=Sf(e,c,new re(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),y=xA(e,p,f);c=Sf(e,c,new re(d),y,i,o,s,a)}}),c}function fH(e,t,n,r,i,o,s){if(Tf(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(W(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Sf(e,t,n,c.getNode().getChild(n),i,o,a,s);if(W(n)){let l=new rt(null);return c.getNode().forEachChild(is,(u,d)=>{l=l.set(new re(u),d)}),Zy(e,t,n,l,i,o,a,s)}else return t}else{let l=new rt(null);return r.foreach((u,d)=>{let f=be(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Zy(e,t,n,l,i,o,a,s)}}function hH(e,t,n,r,i){let o=t.serverCache,s=I0(t,o.getNode(),o.isFullyInitialized()||W(n),o.isFiltered());return A0(e,s,n,r,S0,i)}function pH(e,t,n,r,i,o){let s;if(Tf(r,n)!=null)return t;{let a=new yc(r,t,i),c=t.eventCache.getNode(),l;if(W(n)||B(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=bf(r,Li(t));else{let d=t.serverCache.getNode();_(d instanceof V,"serverChildren would be complete if leaf node"),u=m_(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=B(n),d=v_(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,ie(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,V.EMPTY_NODE,ie(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=bf(r,Li(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||Tf(r,Y())!=null,fc(t,l,s,e.filter.filtersNodes())}}var Qy=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new vc(r.getIndex()),o=U2(r);this.processor_=aH(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(V.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(V.EMPTY_NODE,a.getNode(),null),u=new bn(c,s.isFullyInitialized(),i.filtersNodes()),d=new bn(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Lf(d,u),this.eventGenerator_=new Wy(this.query_)}get query(){return this.query_}};function gH(e){return e.viewCache_.serverCache.getNode()}function mH(e){return Df(e.viewCache_)}function vH(e,t){let n=Li(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!W(t)&&!n.getImmediateChild(B(t)).isEmpty())?n.getChild(t):null}function FA(e){return e.eventRegistrations_.length===0}function yH(e,t){e.eventRegistrations_.push(t)}function LA(e,t,n){let r=[];if(n){_(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function VA(e,t,n,r){t.type===Dn.MERGE&&t.source.queryId!==null&&(_(Li(e.viewCache_),"We should always have a full cache before handling merges"),_(Df(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=lH(e.processor_,i,t,n,r);return cH(e.processor_,o.viewCache),_(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,R0(e,o.changes,o.viewCache.eventCache.getNode(),null)}function _H(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(fe,(o,s)=>{r.push(ls(o,s))}),n.isFullyInitialized()&&r.push(y0(n.getNode())),R0(e,r,n.getNode(),t)}function R0(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return W2(e.eventGenerator_,t,n,i)}var Af,Rf=class{constructor(){this.views=new Map}};function EH(e){_(!Af,"__referenceConstructor has already been defined"),Af=e}function IH(){return _(Af,"Reference.ts has not been loaded"),Af}function wH(e){return e.views.size===0}function y_(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return _(o!=null,"SyncTree gave us an op for an invalid query."),VA(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(VA(s,t,n,r));return o}}function N0(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=bf(n,i?r:null),c=!1;a?c=!0:r instanceof V?(a=m_(n,r),c=!1):(a=V.EMPTY_NODE,c=!1);let l=Lf(new bn(a,c,!1),new bn(r,i,!1));return new Qy(t,l)}return s}function CH(e,t,n,r,i,o){let s=N0(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),yH(s,n),_H(s,n)}function DH(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=Rr(e);if(i==="default")for(let[c,l]of e.views.entries())s=s.concat(LA(l,n,r)),FA(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(i);c&&(s=s.concat(LA(c,n,r)),FA(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Rr(e)&&o.push(new(IH())(t._repo,t._path)),{removed:o,events:s}}function M0(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Sr(e,t){let n=null;for(let r of e.views.values())n=n||vH(r,t);return n}function O0(e,t){if(t._queryParams.loadsAllData())return jf(e);{let r=t._queryIdentifier;return e.views.get(r)}}function k0(e,t){return O0(e,t)!=null}function Rr(e){return jf(e)!=null}function jf(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Nf;function bH(e){_(!Nf,"__referenceConstructor has already been defined"),Nf=e}function TH(){return _(Nf,"Reference.ts has not been loaded"),Nf}var SH=1,Mf=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new rt(null),this.pendingWriteTree_=oH(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function P0(e,t,n,r,i){return K2(e.pendingWriteTree_,t,n,r,i),i?Sc(e,new us(E0(),t,n)):[]}function Pi(e,t,n=!1){let r=Y2(e.pendingWriteTree_,t);if(Z2(e.pendingWriteTree_,t)){let o=new rt(null);return r.snap!=null?o=o.set(Y(),!0):nt(r.children,s=>{o=o.set(new re(s),!0)}),Sc(e,new $y(r.path,o,n))}else return[]}function Tc(e,t,n){return Sc(e,new us(p_(),t,n))}function AH(e,t,n){let r=rt.fromObject(n);return Sc(e,new Cf(p_(),t,r))}function RH(e,t){return Sc(e,new wf(p_(),t))}function NH(e,t,n){let r=E_(e,n);if(r){let i=I_(r),o=i.path,s=i.queryId,a=qe(o,t),c=new wf(g_(s),a);return w_(e,o,c)}else return[]}function Of(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||k0(s,t))){let c=DH(s,t,n,r);wH(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>Rr(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=kH(f);for(let p=0;p<h.length;++p){let y=h[p],I=y.query,b=V0(e,y);e.listenProvider_.startListening(pc(I),_c(e,I),b.hashFn,b.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(pc(t),null):l.forEach(f=>{let h=e.queryToTagMap.get(Uf(f));e.listenProvider_.stopListening(pc(f),h)}))}PH(e,l)}return a}function x0(e,t,n,r){let i=E_(e,r);if(i!=null){let o=I_(i),s=o.path,a=o.queryId,c=qe(s,t),l=new us(g_(a),c,n);return w_(e,s,l)}else return[]}function MH(e,t,n,r){let i=E_(e,r);if(i){let o=I_(i),s=o.path,a=o.queryId,c=qe(s,t),l=rt.fromObject(n),u=new Cf(g_(a),c,l);return w_(e,s,u)}else return[]}function Jy(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=qe(f,i);o=o||Sr(h,p),s=s||Rr(h)});let a=e.syncPointTree_.get(i);a?(s=s||Rr(a),o=o||Sr(a,Y())):(a=new Rf,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=V.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let y=Sr(p,Y());y&&(o=o.updateImmediateChild(h,y))}));let l=k0(a,t);if(!l&&!t._queryParams.loadsAllData()){let f=Uf(t);_(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=xH();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=Vf(e.pendingWriteTree_,i),d=CH(a,t,n,u,o,c);if(!l&&!s&&!r){let f=O0(a,t);d=d.concat(FH(e,t,f))}return d}function __(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=qe(s,t),l=Sr(a,c);if(l)return l});return D0(i,t,o,n,!0)}function OH(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=qe(l,n);r=r||Sr(u,d)});let i=e.syncPointTree_.get(n);i?r=r||Sr(i,Y()):(i=new Rf,e.syncPointTree_=e.syncPointTree_.set(n,i));let o=r!=null,s=o?new bn(r,!0,!1):null,a=Vf(e.pendingWriteTree_,t._path),c=N0(i,t,a,o?s.getNode():V.EMPTY_NODE,o);return mH(c)}function Sc(e,t){return F0(t,e.syncPointTree_,null,Vf(e.pendingWriteTree_,Y()))}function F0(e,t,n,r){if(W(e.path))return L0(e,t,n,r);{let i=t.get(Y());n==null&&i!=null&&(n=Sr(i,Y()));let o=[],s=B(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=b0(r,s);o=o.concat(F0(a,c,l,u))}return i&&(o=o.concat(y_(i,e,r,n))),o}}function L0(e,t,n,r){let i=t.get(Y());n==null&&i!=null&&(n=Sr(i,Y()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=b0(r,s),u=e.operationForChild(s);u&&(o=o.concat(L0(u,a,c,l)))}),i&&(o=o.concat(y_(i,e,r,n))),o}function V0(e,t){let n=t.query,r=_c(e,n);return{hashFn:()=>(gH(t)||V.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?NH(e,n._path,r):RH(e,n._path);{let o=QB(i,n);return Of(e,n,null,o)}}}}function _c(e,t){let n=Uf(t);return e.queryToTagMap.get(n)}function Uf(e){return e._path.toString()+"$"+e._queryIdentifier}function E_(e,t){return e.tagToQueryMap.get(t)}function I_(e){let t=e.indexOf("$");return _(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new re(e.substr(0,t))}}function w_(e,t,n){let r=e.syncPointTree_.get(t);_(r,"Missing sync point for query tag that we're tracking");let i=Vf(e.pendingWriteTree_,t);return y_(r,n,i,null)}function kH(e){return e.fold((t,n,r)=>{if(n&&Rr(n))return[jf(n)];{let i=[];return n&&(i=M0(n)),nt(r,(o,s)=>{i=i.concat(s)}),i}})}function pc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(TH())(e._repo,e._path):e}function PH(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=Uf(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function xH(){return SH++}function FH(e,t,n){let r=t._path,i=_c(e,t),o=V0(e,n),s=e.listenProvider_.startListening(pc(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)_(!Rr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!W(l)&&u&&Rr(u))return[jf(u).query];{let f=[];return u&&(f=f.concat(M0(u).map(h=>h.query))),nt(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(pc(u),_c(e,u))}}return s}var Xy=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},e_=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=be(this.path_,t);return new e(this.syncTree_,n)}node(){return __(this.syncTree_,this.path_)}},LH=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},jA=function(e,t,n){if(!e||typeof e!="object")return e;if(_(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return VH(e[".sv"],t,n);if(typeof e[".sv"]=="object")return jH(e[".sv"],t);_(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},VH=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:_(!1,"Unexpected server value: "+e)}},jH=function(e,t,n){e.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&_(!1,"Unexpected increment value: "+r);let i=t.node();if(_(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},UH=function(e,t,n,r){return C_(t,new e_(n,e),r)},j0=function(e,t,n){return C_(e,new Xy(t),n)};function C_(e,t,n){let r=e.getPriority().val(),i=jA(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=jA(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new as(a,Oe(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new as(i))),s.forEachChild(fe,(a,c)=>{let l=C_(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Ec=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function D_(e,t){let n=t instanceof re?t:new re(t),r=e,i=B(n);for(;i!==null;){let o=wi(r.node.children,i)||{children:{},childCount:0};r=new Ec(i,r,o),n=ie(n),i=B(n)}return r}function ps(e){return e.node.value}function U0(e,t){e.node.value=t,t_(e)}function B0(e){return e.node.childCount>0}function BH(e){return ps(e)===void 0&&!B0(e)}function Bf(e,t){nt(e.node.children,(n,r)=>{t(new Ec(n,e,r))})}function H0(e,t,n,r){n&&!r&&t(e),Bf(e,i=>{H0(i,t,!0,r)}),n&&r&&t(e)}function HH(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Ac(e){return new re(e.parent===null?e.name:Ac(e.parent)+"/"+e.name)}function t_(e){e.parent!==null&&$H(e.parent,e.name,e)}function $H(e,t,n){let r=BH(n),i=En(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,t_(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,t_(e))}var WH=/[\[\].#$\/\u0000-\u001F\u007F]/,zH=/[\[\].#$\u0000-\u001F\u007F]/,hy=10*1024*1024,$0=function(e){return typeof e=="string"&&e.length!==0&&!WH.test(e)},W0=function(e){return typeof e=="string"&&e.length!==0&&!zH.test(e)},GH=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),W0(e)};var qH=function(e,t,n,r){r&&t===void 0||b_($d(e,"value"),t,n)},b_=function(e,t,n){let r=n instanceof re?new Sy(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Oi(r));if(typeof t=="function")throw new Error(e+"contains a function "+Oi(r)+" with contents = "+t.toString());if(GA(t))throw new Error(e+"contains "+t.toString()+" "+Oi(r));if(typeof t=="string"&&t.length>hy/3&&Ka(t)>hy)throw new Error(e+"contains a string greater than "+hy+" utf8 bytes "+Oi(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(nt(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!$0(s)))throw new Error(e+" contains an invalid key ("+s+") "+Oi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);T2(r,s),b_(e,a,r),S2(r)}),i&&o)throw new Error(e+' contains ".value" child '+Oi(r)+" in addition to actual children.")}};var z0=function(e,t,n,r){if(!(r&&n===void 0)&&!W0(n))throw new Error($d(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},KH=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),z0(e,t,n,r)},YH=function(e,t){if(B(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},ZH=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!$0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!GH(n))throw new Error($d(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var n_=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function T_(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!d_(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function G0(e,t,n){T_(e,n),q0(e,r=>d_(r,t))}function Tn(e,t,n){T_(e,n),q0(e,r=>Jt(r,t)||Jt(t,r))}function q0(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(QH(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function QH(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();xi&&Ve("event: "+n.toString()),hs(r)}}}var JH="repo_interrupt",XH=25,r_=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new n_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=If(),this.transactionQueueTree_=new Ec,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function e$(e,t,n){if(e.stats_=u_(e.repoInfo_),e.forceRestClient_||t2())e.server_=new Vy(e.repoInfo_,(r,i,o,s)=>{UA(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>BA(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ce(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new f_(e.repoInfo_,t,(r,i,o,s)=>{UA(e,r,i,o,s)},r=>{BA(e,r)},r=>{n$(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=r2(e.repoInfo_,()=>new Hy(e.stats_,e.server_)),e.infoData_=new jy,e.infoSyncTree_=new Mf({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=Tc(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),A_(e,"connected",!1),e.serverSyncTree_=new Mf({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Tn(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function t$(e){let n=e.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function S_(e){return LH({timestamp:t$(e)})}function UA(e,t,n,r,i){e.dataUpdateCount++;let o=new re(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=Ga(n,l=>Oe(l));s=MH(e.serverSyncTree_,o,c,i)}else{let c=Oe(n);s=x0(e.serverSyncTree_,o,c,i)}else if(r){let c=Ga(n,l=>Oe(l));s=AH(e.serverSyncTree_,o,c)}else{let c=Oe(n);s=Tc(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=$f(e,o)),Tn(e.eventQueue_,a,s)}function BA(e,t){A_(e,"connected",t),t===!1&&o$(e)}function n$(e,t){nt(t,(n,r)=>{A_(e,n,r)})}function A_(e,t,n){let r=new re("/.info/"+t),i=Oe(n);e.infoData_.updateSnapshot(r,i);let o=Tc(e.infoSyncTree_,r,i);Tn(e.eventQueue_,r,o)}function K0(e){return e.nextWriteId_++}function r$(e,t,n){let r=OH(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{let o=Oe(i).withIndex(t._queryParams.getIndex());Jy(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=Tc(e.serverSyncTree_,t._path,o);else{let a=_c(e.serverSyncTree_,t);s=x0(e.serverSyncTree_,t._path,o,a)}return Tn(e.eventQueue_,t._path,s),Of(e.serverSyncTree_,t,n,null,!0),o},i=>(Hf(e,"get for query "+Ce(t)+" failed: "+i),Promise.reject(new Error(i))))}function i$(e,t,n,r,i){Hf(e,"set",{path:t.toString(),value:n,priority:r});let o=S_(e),s=Oe(n,r),a=__(e.serverSyncTree_,t),c=j0(s,a,o),l=K0(e),u=P0(e.serverSyncTree_,t,c,l,!0);T_(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||tt("set at "+t+" failed: "+f);let y=Pi(e.serverSyncTree_,l,!p);Tn(e.eventQueue_,t,y),c$(e,i,f,h)});let d=X0(e,t);$f(e,d),Tn(e.eventQueue_,d,[])}function o$(e){Hf(e,"onDisconnectEvents");let t=S_(e),n=If();Uy(e.onDisconnect_,Y(),(i,o)=>{let s=UH(i,o,e.serverSyncTree_,t);_0(n,i,s)});let r=[];Uy(n,Y(),(i,o)=>{r=r.concat(Tc(e.serverSyncTree_,i,o));let s=X0(e,i);$f(e,s)}),e.onDisconnect_=If(),Tn(e.eventQueue_,Y(),r)}function s$(e,t,n){let r;B(t._path)===".info"?r=Jy(e.infoSyncTree_,t,n):r=Jy(e.serverSyncTree_,t,n),G0(e.eventQueue_,t._path,r)}function HA(e,t,n){let r;B(t._path)===".info"?r=Of(e.infoSyncTree_,t,n):r=Of(e.serverSyncTree_,t,n),G0(e.eventQueue_,t._path,r)}function a$(e){e.persistentConnection_&&e.persistentConnection_.interrupt(JH)}function Hf(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ve(n,...t)}function c$(e,t,n,r){t&&hs(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function Y0(e,t,n){return __(e.serverSyncTree_,t,n)||V.EMPTY_NODE}function R_(e,t=e.transactionQueueTree_){if(t||Wf(e,t),ps(t)){let n=Q0(e,t);_(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&l$(e,Ac(t),n)}else B0(t)&&Bf(t,n=>{R_(e,n)})}function l$(e,t,n){let r=n.map(l=>l.currentWriteId),i=Y0(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=qe(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{Hf(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Pi(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Wf(e,D_(e.transactionQueueTree_,t)),R_(e,e.transactionQueueTree_),Tn(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)hs(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{tt("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}$f(e,t)}},s)}function $f(e,t){let n=Z0(e,t),r=Ac(n),i=Q0(e,n);return u$(e,i,r),r}function u$(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=qe(n,c.path),u=!1,d;if(_(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Pi(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=XH)u=!0,d="maxretry",i=i.concat(Pi(e.serverSyncTree_,c.currentWriteId,!0));else{let f=Y0(e,c.path,s);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){b_("transaction failed: Data returned ",h,c.path);let p=Oe(h);typeof h=="object"&&h!=null&&En(h,".priority")||(p=p.updatePriority(f.getPriority()));let I=c.currentWriteId,b=S_(e),ce=j0(p,f,b);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=ce,c.currentWriteId=K0(e),s.splice(s.indexOf(I),1),i=i.concat(P0(e.serverSyncTree_,c.path,ce,c.currentWriteId,c.applyLocally)),i=i.concat(Pi(e.serverSyncTree_,I,!0))}else u=!0,d="nodata",i=i.concat(Pi(e.serverSyncTree_,c.currentWriteId,!0))}Tn(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Wf(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)hs(r[a]);R_(e,e.transactionQueueTree_)}function Z0(e,t){let n,r=e.transactionQueueTree_;for(n=B(t);n!==null&&ps(r)===void 0;)r=D_(r,n),t=ie(t),n=B(t);return r}function Q0(e,t){let n=[];return J0(e,t,n),n.sort((r,i)=>r.order-i.order),n}function J0(e,t,n){let r=ps(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Bf(t,i=>{J0(e,i,n)})}function Wf(e,t){let n=ps(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,U0(t,n.length>0?n:void 0)}Bf(t,r=>{Wf(e,r)})}function X0(e,t){let n=Ac(Z0(e,t)),r=D_(e.transactionQueueTree_,t);return HH(r,i=>{py(e,i)}),py(e,r),H0(r,i=>{py(e,i)}),n}function py(e,t){let n=ps(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(_(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(_(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Pi(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?U0(t,void 0):n.length=o+1,Tn(e.eventQueue_,Ac(t),i);for(let s=0;s<r.length;s++)hs(r[s])}}function d$(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function f$(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):tt(`Invalid query segment '${n}' in query '${e}'`)}return t}var $A=function(e,t){let n=h$(e),r=n.namespace;n.domain==="firebase.com"&&Xn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||GB();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new hf(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new re(n.pathString)}},h$=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=d$(e.substring(u,d)));let f=f$(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var kf=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ce(this.snapshot.exportVal())}},Pf=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var xf=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return _(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var i_=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return W(this._path)?null:u0(this._path)}get ref(){return new Sn(this._repo,this._path)}get _queryIdentifier(){let t=AA(this._queryParams),n=l_(t);return n==="{}"?"default":n}get _queryObject(){return AA(this._queryParams)}isEqual(t){if(t=Et(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=d_(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+b2(this._path)}};var Sn=class e extends i_{constructor(t,n){super(t,n,new Ly,!1)}get parent(){let t=f0(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},Ic=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new re(t),r=wc(this.ref,t);return new e(this._node.getChild(n),r,fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,wc(this.ref,r),fe)))}hasChild(t){let n=new re(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function eR(e,t){return e=Et(e),e._checkNotDeleted("ref"),t!==void 0?wc(e._root,t):e._root}function wc(e,t){return e=Et(e),B(e._path)===null?KH("child","path",t,!1):z0("child","path",t,!1),new Sn(e._repo,be(e._path,t))}function tR(e,t){e=Et(e),YH("set",e._path),qH("set",t,e._path,!1);let n=new Gt;return i$(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function nR(e){e=Et(e);let t=new xf(()=>{}),n=new Ff(t);return r$(e._repo,e,n).then(r=>new Ic(r,new Sn(e._repo,e._path),e._queryParams.getIndex()))}var Ff=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new kf("value",this,new Ic(t.snapshotNode,new Sn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Pf(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},o_=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Pf(this,t,n):null}createEvent(t,n){_(t.childName!=null,"Child events should have a childName.");let r=wc(new Sn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new kf(t.type,this,new Ic(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function p$(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{HA(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new xf(n,o||void 0),a=t==="value"?new Ff(s):new o_(t,s);return s$(e._repo,e,a),()=>HA(e._repo,e,a)}function rR(e,t,n,r){return p$(e,"value",t,n,r)}EH(Sn);bH(Sn);var g$="FIREBASE_DATABASE_EMULATOR_HOST",s_={},m$=!1;function v$(e,t,n,r){let i=t.lastIndexOf(":"),o=t.substring(0,i),s=Ii(o);e.repoInfo_=new hf(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function y$(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||Xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ve("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=$A(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[g$]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=$A(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new dc(dc.OWNER):new Ey(e.name,e.options,t);ZH("Invalid Firebase Database URL",s),W(s.path)||Xn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=E$(a,e,u,new _y(e,n));return new a_(d,e)}function _$(e,t){let n=s_[t];(!n||n[e.key]!==e)&&Xn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),a$(e),delete n[e.key]}function E$(e,t,n,r){let i=s_[t.name];i||(i={},s_[t.name]=i);let o=i[e.toURLString()];return o&&Xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new r_(e,m$,n,r),i[e.toURLString()]=o,o}var a_=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(e$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sn(this._repo,Y())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Xn("Cannot call "+t+" on a deleted database.")}};function iR(e=Jo(),t){let n=Gd(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=cS("database");r&&oR(n,...r)}return n}function oR(e,t,n,r={}){e=Et(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Ci(r,o.repoInfo_.emulatorOptions))return;Xn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new dc(dc.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:uS(r.mockUserToken,e.app.options.projectId);s=new dc(a)}Ii(t)&&(bv(t),Tv("Database",!0)),v$(o,i,r,s)}function I$(e){$B(Qo),Yt(new Ge("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return y$(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),ve(dA,fA,e),ve(dA,fA,"esm2017")}f_.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};f_.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};I$();var ji=class{constructor(t){return t}},sR="database",N_=class{constructor(){return es(sR)}};var M_=new E("angularfire2.database-instances");function w$(e,t){let n=Yd(sR,e,t);return n&&new ji(n)}function C$(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new ji(r)}}var D$={provide:N_,deps:[[new cn,M_]]},b$={provide:ji,useFactory:w$,deps:[[new cn,M_],Ai]};function aR(e,...t){return ve("angularfire",Ti.full,"rtdb"),ct([b$,D$,{provide:M_,useFactory:C$(e),multi:!0,deps:[ee,de,Si,Ja,[new cn,uf],[new cn,Qd],...t]}])}var cR=Cn(nR,!0),lR=Cn(iR,!0);var uR=Cn(rR,!0);var zf=Cn(eR,!0,2);var dR=Cn(tR,!0,2);var gs=class e{constructor(t,n){this.database=t;this.platformId=n}getTiles(){return No(this.platformId)?new x(t=>{let n=zf(this.database,"Boards"),r=uR(n,i=>{let o=i.val();if(o){let s=[];for(let a in o){let c=[];for(let l in o[a])if(o[a].hasOwnProperty(l)){let u=o[a][l];c.push(u)}s.push(c)}t.next(s)}else t.next([])},i=>{t.error(i)});return()=>{r()}}):A([])}updateTile(t,n,r){let i=zf(this.database,`Boards/Team ${t+1}/${r}`);return dR(i,n)}getPassword(t){let n=zf(this.database,`LoginCredentials/Team ${t+1}`);return cR(n).then(r=>{if(r.exists())return r.val();throw new Error("No password found")})}static \u0275fac=function(n){return new(n||e)(N(ji),N(Je))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var S$=()=>["/board"],A$=()=>({standalone:!0});function R$(e,t){if(e&1){let n=fr();D(0,"label",13),U(1,"Team 1 Password:"),S(),D(2,"input",14),li("ngModelChange",function(i){bt(n);let o=Me(2);return Ao(o.team1Password,i)||(o.team1Password=i),Tt(i)}),S()}if(e&2){let n=Me(2);$(2),ci("ngModel",n.team1Password)}}function N$(e,t){if(e&1){let n=fr();D(0,"label",15),U(1,"Team 2 Password:"),S(),D(2,"input",16),li("ngModelChange",function(i){bt(n);let o=Me(2);return Ao(o.team2Password,i)||(o.team2Password=i),Tt(i)}),S()}if(e&2){let n=Me(2);$(2),ci("ngModel",n.team2Password)}}function M$(e,t){if(e&1){let n=fr();D(0,"form",5)(1,"div",7)(2,"label",8),U(3,"Choose your team"),S(),D(4,"select",9),li("ngModelChange",function(i){bt(n);let o=Me();return Ao(o.selectedTeam,i)||(o.selectedTeam=i),Tt(i)}),Ne("change",function(){bt(n);let i=Me();return Tt(i.onTeamSelect(i.selectedTeam))}),D(5,"option",10),U(6,"Select Team"),S(),D(7,"option",11),U(8,"Team 1"),S(),D(9,"option",11),U(10,"Team 2"),S()()(),We(11,"br"),D(12,"div",7),Gn(13,R$,3,1),Gn(14,N$,3,1),S(),We(15,"br"),D(16,"button",12),Ne("click",function(){bt(n);let i=Me();return Tt(i.validatePassword())}),U(17,"Log in"),S()()}if(e&2){let n=Me();$(4),ci("ngModel",n.selectedTeam),Re("ngModelOptions",Ro(7,A$)),$(),Re("value",-1),$(2),Re("value",0),$(2),Re("value",1),$(4),qn(n.selectedTeam===0?13:-1),$(),qn(n.selectedTeam===1?14:-1)}}function O$(e,t){e&1&&(D(0,"tr")(1,"td",20),U(2,"No tiles available"),S()())}function k$(e,t){if(e&1){let n=fr();D(0,"tr")(1,"td"),U(2),S(),D(3,"td")(4,"div"),We(5,"img",21),S()(),D(6,"td")(7,"div"),We(8,"img",21),S()(),D(9,"td"),U(10),S(),D(11,"td"),U(12),S(),D(13,"td"),U(14),S(),D(15,"td")(16,"input",22),li("ngModelChange",function(i){let o=bt(n).$implicit;return Ao(o.itemsObtained,i)||(o.itemsObtained=i),Tt(i)}),S()(),D(17,"td")(18,"button",23),Ne("click",function(){let i=bt(n),o=i.$implicit,s=i.$index,a=Me(3);return Tt(a.saveTile(o,s))}),U(19,"Save"),S()()()}if(e&2){let n=t.$implicit;$(2),Yn(" ",n.title," "),$(3),Re("src",n.src,dr),$(3),Re("src",n.bossSrc,dr),$(2),Kn(n.points),$(2),Kn(n.description),$(2),Kn(n.itemsRequired),$(2),ci("ngModel",n.itemsObtained),Re("max",n.itemsRequired)}}function P$(e,t){if(e&1&&To(0,k$,20,8,"tr",null,bo),e&2){let n=Me(2);So(n.board)}}function x$(e,t){if(e&1&&(D(0,"div",6)(1,"h2",7),U(2),S(),D(3,"p",7),U(4,"This is where you can edit your board!"),S(),D(5,"div",17)(6,"table",18)(7,"thead")(8,"tr",19)(9,"th"),U(10,"Tile title"),S(),D(11,"th"),U(12,"Image"),S(),D(13,"th"),U(14,"Boss image"),S(),D(15,"th"),U(16,"Points"),S(),D(17,"th"),U(18,"Description"),S(),D(19,"th"),U(20,"Required"),S(),D(21,"th"),U(22,"Obtained"),S(),D(23,"th"),U(24,"Actions"),S()()(),D(25,"tbody"),Gn(26,O$,3,0,"tr")(27,P$,2,0),S()()()()),e&2){let n=Me();$(2),Yn("Welcome Team ",n.authenticated.team+1,"!"),$(24),qn(n.board.length===0?26:27)}}var Gf=class e{constructor(t,n){this.databaseService=t;this.platformId=n;if(Ha.production===!1){let r=new _i;this.board=r.board[0]}else this.selectedTeam>=0&&No(this.platformId)&&this.loadTilesFromFirebase()}selectedTeam=-1;team1Password="";team2Password="";authenticated={team:0,authenticated:!1};board=[];onTeamSelect(t){this.selectedTeam=parseInt(t),this.loadTilesFromFirebase()}loadTilesFromFirebase(){this.databaseService.getTiles().subscribe({next:t=>{t&&t.length>0&&(this.board=t[this.selectedTeam])},error:t=>{console.error("Error loading tiles:",t)}})}validatePassword(){this.databaseService.getPassword(this.selectedTeam).then(t=>this.selectedTeam===0&&t===this.team1Password?this.loginForTeam(this.selectedTeam):this.selectedTeam===1&&t===this.team2Password?this.loginForTeam(this.selectedTeam):!1)}loginForTeam(t){t===0?this.authenticated={team:0,authenticated:!0}:t===1&&(this.authenticated={team:1,authenticated:!0})}saveTile(t,n){this.databaseService.updateTile(this.selectedTeam,t,n).catch(r=>{console.error("Error saving tile:",r)})}static \u0275fac=function(n){return new(n||e)(F(gs),F(Je))};static \u0275cmp=$n({type:e,selectors:[["app-cabbingo-edit-board"]],decls:8,vars:3,consts:[[1,"page-wrap"],[1,"banner","d-flex","justify-content-end"],[1,"btn","button","h-25","me-4",3,"routerLink"],[1,"content"],[1,"d-flex","justify-content-center",2,"height","664px"],[2,"width","500px"],[2,"width","900px"],[1,"col-12"],["for","teamSelect",1,"form-label"],["id","teamSelect",1,"form-control",3,"ngModelChange","change","ngModel","ngModelOptions"],["disabled","","selected","",3,"value"],[3,"value"],["type","submit",1,"btn","btn-primary",3,"click"],["for","team1Password"],["type","password","id","team1Password","name","team1Password",1,"form-control",3,"ngModelChange","ngModel"],["for","team2Password"],["type","password","id","team2Password","name","team2Password",1,"form-control",3,"ngModelChange","ngModel"],[2,"max-height","600px","overflow-y","auto"],[1,"table","table-dark","table-bordered"],[1,"sticky-top"],["colspan","8"],[1,"tile-image",3,"src"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel","max"],[1,"btn","btn-primary","col-12",3,"click"]],template:function(n,r){n&1&&(D(0,"div",0)(1,"div",1)(2,"a",2),U(3,"Back to board"),S()(),D(4,"div",3)(5,"div",4),Gn(6,M$,18,8,"form",5)(7,x$,28,2,"div",6),S()()()),n&2&&($(2),Re("routerLink",Ro(2,S$)),$(4),qn(r.authenticated.authenticated?7:6))},dependencies:[Gu,XT,GT,KT,ZT,Pd,gv,Ld,jT,UT,vv,mv,pv,hv,Pa,Wo],encapsulation:2})};var F$=()=>["/edit-board"],L$=(e,t)=>({"tile-selected":e,"tile-completed":t});function V$(e,t){if(e&1&&(D(0,"div",16)(1,"div",19),We(2,"div",20),S()()),e&2){let n=Me().$implicit;$(),Ou("width",n.itemsObtained/n.itemsRequired*100,"%"),zn("aria-valuenow",n.itemsObtained)("aria-valuemax",n.itemsRequired)}}function j$(e,t){if(e&1){let n=fr();D(0,"button",14),Ne("click",function(){let i=bt(n).$implicit,o=Me(2);return Tt(o.onTileClick(i))}),D(1,"div",15),Gn(2,V$,3,4,"div",16),We(3,"img",17),D(4,"p",18),U(5),S()()()}if(e&2){let n=t.$implicit,r=Me(2);Re("ngClass",Zg(5,L$,n===r.selectedTile,n.itemsObtained>=n.itemsRequired)),$(2),qn(n.itemsObtained>=n.itemsRequired?-1:2),$(),Re("src",n.src,dr)("alt",n.alt),$(2),Kn(n.title)}}function U$(e,t){if(e&1&&(D(0,"div",8),To(1,j$,6,8,"button",13,bo),S()),e&2){let n=t.$implicit;$(),So(n)}}function B$(e,t){if(e&1&&(D(0,"div"),U(1),S(),D(2,"div"),We(3,"img",21),S(),D(4,"div",22)(5,"div",23),U(6,"Points: "),D(7,"p",24),U(8),S()(),D(9,"div"),U(10),S()()),e&2){let n=Me();$(),Kn(n.selectedTile.description),$(2),Re("src",n.selectedTile.bossSrc,dr)("alt",n.selectedTile.alt||""),$(5),Yn(" ",n.selectedTile.points),$(2),ku("",n.selectedTile.itemsObtained," / ",n.selectedTile.itemsRequired," Obtained ")}}function H$(e,t){e&1&&(D(0,"p"),U(1,"Click on a tile!"),S())}var qf=class e{constructor(t,n){this.databaseService=t;this.platformId=n}teamEnum=Vd;currentTeam=0;selectedTile=null;board=[];ngOnInit(){if(Ha.production===!1){let t=new _i;this.board=t.board,this.generateBoard(this.board[this.currentTeam])}else No(this.platformId)&&this.loadTilesFromFirebase()}loadTilesFromFirebase(){this.databaseService.getTiles().subscribe({next:t=>{t&&t.length>0&&this.generateBoard(t[this.currentTeam])},error:t=>{console.error("Error loading tiles:",t)}})}generateBoard(t){this.board=[];let n=0;for(let r=0;r<5;r++){this.board[r]=[];for(let i=0;i<5;i++){if(n>=t.length)return;this.board[r][i]=O(v({},t[n]),{id:r*5+i+1}),n++}}}onTileClick(t){this.selectedTile=t}switchTeam(t){if(this.currentTeam=t,Ha.production===!1){let n=new _i;this.board=n.board,this.generateBoard(this.board[this.currentTeam])}else this.loadTilesFromFirebase()}getTotalPoints(){let t=0;for(let n of this.board)for(let r of n)r.itemsObtained>=r.itemsRequired&&(t+=r.points||0);return t}static \u0275fac=function(n){return new(n||e)(F(gs),F(Je))};static \u0275cmp=$n({type:e,selectors:[["app-cabbingo-board"]],decls:24,vars:6,consts:[[1,"page-wrap"],[1,"banner","d-flex","justify-content-end"],[1,"btn","button","h-25","me-4",3,"routerLink"],[1,"content"],[1,"row","teams"],[1,"button","btn","col-md-5",3,"click","ngClass"],[1,"row","board"],[1,"tiles","column","col-auto"],[1,"row","tile-row","gap-3"],[1,"infoArea","col-auto"],[1,"infobox","d-flex","flex-column","justify-content-center","align-items-center"],[1,"infobox"],[1,"btn","button","disabled"],[1,"btn","tile",3,"ngClass"],[1,"btn","tile",3,"click","ngClass"],[1,"d-flex","flex-column"],[1,"progress",2,"height","5px"],[1,"tile-image","p-1",3,"src","alt"],[1,"tile-text"],["role","progressbar","aria-valuemin","0",1,"progress-bar","bg-success"],[2,"width","110px"],[1,"bossImage",3,"src","alt"],[1,"d-flex","flex-column","align-items-center"],[1,"d-flex","flex-row"],[1,"mx-2",2,"color","rgb(8, 255, 8)"]],template:function(n,r){n&1&&(D(0,"div",0)(1,"div",1)(2,"a",2),U(3,"Log in as captain"),S()(),D(4,"div",3)(5,"div",4)(6,"button",5),Ne("click",function(){return r.switchTeam(r.teamEnum.Team1)}),U(7,"Team 1"),S(),D(8,"button",5),Ne("click",function(){return r.switchTeam(r.teamEnum.Team2)}),U(9,"Team 2"),S()(),D(10,"div",6)(11,"div",7),To(12,U$,3,0,"div",8,bo),S(),D(14,"div",9)(15,"div",10),Gn(16,B$,11,6)(17,H$,2,0,"p"),S(),D(18,"div",11)(19,"p"),U(20,"Da Rulez"),S()(),D(21,"div")(22,"button",12),U(23),S()()()()()()),n&2&&($(2),Re("routerLink",Ro(5,F$)),$(4),Re("ngClass",r.currentTeam===r.teamEnum.Team1?"btn selected-team":""),$(2),Re("ngClass",r.currentTeam===r.teamEnum.Team2?"btn selected-team":""),$(4),So(r.board),$(4),qn(r.selectedTile?16:17),$(7),Yn("Total points: ",r.getTotalPoints()))},dependencies:[gm,Pa,Wo],styles:['@font-face{font-family:Runescape;src:url("./media/RuneScape-Plain-12-T6CWJQYQ.otf") format("opentype")}@font-face{font-family:Runescape-Bold;font-weight:700;src:url("./media/RuneScape-Bold-12-YYN5KYKT.otf") format("opentype")}@font-face{font-family:Runescape-Quill;src:url("./media/RuneScape-Quill-2XBT7J23.otf") format("opentype")}.page-wrap[_ngcontent-%COMP%]{background:url(https://www.runescape.com/img/rsp777/bg2.jpg) repeat-y center top;margin:0 auto;overflow:auto;padding:0 50px 19px;width:1198px;background-size:contain}body[_ngcontent-%COMP%]{background:#000;color:#fff;font-family:Runescape-Bold;text-shadow:black 2px 2px;font-size:16px;margin:0;overflow:auto}.banner[_ngcontent-%COMP%]{background:url("./media/Logo-W5ERYSIZ.png") no-repeat center;background-size:contain;display:block;height:190px;margin-top:10px;margin-bottom:10px;min-height:135px;text-align:center}.content[_ngcontent-%COMP%]{background:url("./media/backdrop-body-ZTXHLITM.png") repeat-y top center;padding:30px 63px;position:relative}.content[_ngcontent-%COMP%]:before, .content[_ngcontent-%COMP%]:after{background:url("./media/Backdrop-top2-7H6ZDQMZ.png") no-repeat center top;content:"";height:20px;left:0;position:absolute;top:-10px;width:100%}.content[_ngcontent-%COMP%]:after{background:url("./media/Backdrop-bottom2-GJQ7TAIB.png") no-repeat center bottom;bottom:-10px;top:auto}.button[_ngcontent-%COMP%]{background:url("./media/button-UB2HKL6L.png") no-repeat top center;position:relative;width:243px;height:54px;font-family:Runescape-Bold;font-size:27px;align-content:center;text-align:center}.teams[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-evenly}.board[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;margin-top:30px;max-height:580px;height:580px}.bossImage[_ngcontent-%COMP%]{height:125px}.tile-image[_ngcontent-%COMP%]{height:55px;object-fit:contain;filter:drop-shadow(6px 6px 2mm rgb(0,0,0));z-index:0}.tile-text[_ngcontent-%COMP%]{color:#f93;font-size:16px;height:16px;max-width:120px;white-space:wrap;word-break:break-word;z-index:1;line-height:normal}.tile[_ngcontent-%COMP%]{width:125px;height:100px;flex-direction:column;flex-wrap:nowrap;display:flex;align-content:center;align-items:center;text-align:center;background:url("./media/tile-background-IBII6VZD.png") no-repeat top center}.tile[_ngcontent-%COMP%]:hover{filter:drop-shadow(0px 0px .5mm gold)}.tile-selected[_ngcontent-%COMP%]{border:gold 2px solid}.tile-completed[_ngcontent-%COMP%]{background:url("./media/tile-background-completed-DUHXW4XJ.png") no-repeat top center}.tile-row[_ngcontent-%COMP%]{justify-content:start;padding-top:6px;padding-bottom:6px;padding-left:8px}.tiles[_ngcontent-%COMP%]{top:5px;background:url("./media/tiles-body-ZO7QZILF.png") repeat-y top center;width:705px;padding-top:10px;padding-bottom:10px;position:relative;align-items:center;align-content:center;flex-direction:column;justify-content:space-evenly}.tiles[_ngcontent-%COMP%]:before, .tiles[_ngcontent-%COMP%]:after{background:url("./media/tiles-top-GY2TIOWF.png") no-repeat center top;content:"";height:5px;left:0;position:absolute;top:-5px;width:100%}.tiles[_ngcontent-%COMP%]:after{background:url("./media/tiles-bottom-I2MDT7H2.png") no-repeat center bottom;bottom:-5px;top:auto}.infoArea[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:center;display:flex}.infobox[_ngcontent-%COMP%]{width:250px;height:240px;align-content:center;text-align:center;background:url("./media/infobox-4RB4BBKH.png") no-repeat top center;background-size:contain;margin-bottom:20px}.btn[_ngcontent-%COMP%]{--bs-btn-color: var(white) !important;color:#fff!important}.btn[_ngcontent-%COMP%]:hover{color:gold!important}.selected-team[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 1mm gold)}']})};var hR=[{path:"edit-board",component:Gf},{path:"board",component:qf},{path:"**",redirectTo:"/board",pathMatch:"full"}];var pR={production:!0,firebaseConfig:{apiKey:"AIzaSyB2e36wu47-6DOc2_rAuHfiFTq9vm6GBD0",authDomain:"cabbingo-db.firebaseapp.com",databaseURL:"https://cabbingo-db-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cabbingo-db",storageBucket:"cabbingo-db.firebasestorage.app",messagingSenderId:"684304316440",appId:"1:684304316440:web:0660b0d72a68752cadeb6d"}};var gR={providers:[iv(hR),Ib(Eb(),_b()),FS(()=>LS(pR.firebaseConfig)),aR(()=>lR())]};Sm(bd,gR).catch(e=>console.error("Bootstrap error:",e));
