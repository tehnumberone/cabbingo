var tN=Object.defineProperty,nN=Object.defineProperties;var rN=Object.getOwnPropertyDescriptors;var gl=Object.getOwnPropertySymbols;var eC=Object.prototype.hasOwnProperty,tC=Object.prototype.propertyIsEnumerable;var XE=(e,t,n)=>t in e?tN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||={})eC.call(t,n)&&XE(e,n,t[n]);if(gl)for(var n of gl(t))tC.call(t,n)&&XE(e,n,t[n]);return e},P=(e,t)=>nN(e,rN(t));var nC=(e,t)=>{var n={};for(var r in e)eC.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gl)for(var r of gl(e))t.indexOf(r)<0&&tC.call(e,r)&&(n[r]=e[r]);return n};var m=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var Kh;function ml(){return Kh}function pn(e){let t=Kh;return Kh=e,t}var rC=Symbol("NotFound");function lo(e){return e===rC||e?.name==="\u0275NotFound"}function Cl(e,t){return Object.is(e,t)}var qe=null,vl=!1,Zh=1,iN=null,Ye=Symbol("SIGNAL");function F(e){let t=qe;return qe=e,t}function Il(){return qe}var Kr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function uo(e){if(vl)throw new Error("");if(qe===null)return;qe.consumerOnSignalRead(e);let t=qe.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=qe.recomputing;if(r&&(n=t!==void 0?t.nextProducer:qe.producers,n!==void 0&&n.producer===e)){qe.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===qe&&(!r||sN(i,qe)))return;let o=ho(qe),s={producer:e,consumer:qe,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};qe.producersTail=s,t!==void 0?t.nextProducer=s:qe.producers=s,o&&oC(e,s)}function iC(){Zh++}function bl(e){if(!(ho(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Zh)){if(!e.producerMustRecompute(e)&&!Ks(e)){El(e);return}e.producerRecomputeValue(e),El(e)}}function Qh(e){if(e.consumers===void 0)return;let t=vl;vl=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||oN(r)}}finally{vl=t}}function Jh(){return qe?.consumerAllowSignalWrites!==!1}function oN(e){e.dirty=!0,Qh(e),e.consumerMarkedDirty?.(e)}function El(e){e.dirty=!1,e.lastCleanEpoch=Zh}function Zr(e){return e&&(e.producersTail=void 0,e.recomputing=!0),F(e)}function fo(e,t){if(F(t),!e)return;e.recomputing=!1;let n=e.producersTail,r=n!==void 0?n.nextProducer:e.producers;if(r!==void 0){if(ho(e))do r=Xh(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function Ks(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(bl(n),r!==n.version))return!0}return!1}function Zs(e){if(ho(e)){let t=e.producers;for(;t!==void 0;)t=Xh(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function oC(e,t){let n=e.consumersTail,r=ho(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)oC(i.producer,i)}function Xh(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!ho(t)){let o=t.producers;for(;o!==void 0;)o=Xh(o)}return n}function ho(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function wl(e){iN?.(e)}function sN(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Dl(e,t){let n=Object.create(aN);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(bl(n),uo(n),n.value===Ys)throw n.error;return n.value};return r[Ye]=n,wl(n),r}var yl=Symbol("UNSET"),_l=Symbol("COMPUTING"),Ys=Symbol("ERRORED"),aN=P(_({},Kr),{value:yl,dirty:!0,error:null,equal:Cl,kind:"computed",producerMustRecompute(e){return e.value===yl||e.value===_l},producerRecomputeValue(e){if(e.value===_l)throw new Error("");let t=e.value;e.value=_l;let n=Zr(e),r,i=!1;try{r=e.computation(),F(null),i=t!==yl&&t!==Ys&&r!==Ys&&e.equal(t,r)}catch(o){r=Ys,e.error=o}finally{fo(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function cN(){throw new Error}var sC=cN;function aC(e){sC(e)}function ep(e){sC=e}var lN=null;function tp(e,t){let n=Object.create(Tl);n.value=e,t!==void 0&&(n.equal=t);let r=()=>cC(n);return r[Ye]=n,wl(n),[r,s=>po(n,s),s=>np(n,s)]}function cC(e){return uo(e),e.value}function po(e,t){Jh()||aC(e),e.equal(e.value,t)||(e.value=t,uN(e))}function np(e,t){Jh()||aC(e),po(e,t(e.value))}var Tl=P(_({},Kr),{equal:Cl,value:void 0,kind:"signal"});function uN(e){e.version++,iC(),Qh(e),lN?.(e)}function V(e){return typeof e=="function"}function go(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Sl=go(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Qr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ve=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(V(r))try{r()}catch(o){t=o instanceof Sl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{lC(o)}catch(s){t=t??[],s instanceof Sl?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Sl(t)}}add(t){var n;if(t&&t!==this)if(this.closed)lC(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Qr(n,t)}remove(t){let{_finalizers:n}=this;n&&Qr(n,t),t instanceof e&&t._removeParent(this)}};ve.EMPTY=(()=>{let e=new ve;return e.closed=!0,e})();var rp=ve.EMPTY;function Al(e){return e instanceof ve||e&&"closed"in e&&V(e.remove)&&V(e.add)&&V(e.unsubscribe)}function lC(e){V(e)?e():e.unsubscribe()}var zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mo={setTimeout(e,t,...n){let{delegate:r}=mo;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=mo;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Rl(e){mo.setTimeout(()=>{let{onUnhandledError:t}=zt;if(t)t(e);else throw e})}function Qs(){}var uC=ip("C",void 0,void 0);function dC(e){return ip("E",void 0,e)}function fC(e){return ip("N",e,void 0)}function ip(e,t,n){return{kind:e,value:t,error:n}}var Jr=null;function vo(e){if(zt.useDeprecatedSynchronousErrorHandling){let t=!Jr;if(t&&(Jr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Jr;if(Jr=null,n)throw r}}else e()}function hC(e){zt.useDeprecatedSynchronousErrorHandling&&Jr&&(Jr.errorThrown=!0,Jr.error=e)}var Xr=class extends ve{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Al(t)&&t.add(this)):this.destination=hN}static create(t,n,r){return new yo(t,n,r)}next(t){this.isStopped?sp(fC(t),this):this._next(t)}error(t){this.isStopped?sp(dC(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?sp(uC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dN=Function.prototype.bind;function op(e,t){return dN.call(e,t)}var ap=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ml(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ml(r)}else Ml(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ml(n)}}},yo=class extends Xr{constructor(t,n,r){super();let i;if(V(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&zt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&op(t.next,o),error:t.error&&op(t.error,o),complete:t.complete&&op(t.complete,o)}):i=t}this.destination=new ap(i)}};function Ml(e){zt.useDeprecatedSynchronousErrorHandling?hC(e):Rl(e)}function fN(e){throw e}function sp(e,t){let{onStoppedNotification:n}=zt;n&&mo.setTimeout(()=>n(e,t))}var hN={closed:!0,next:Qs,error:fN,complete:Qs};var _o=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yt(e){return e}function cp(...e){return lp(e)}function lp(e){return e.length===0?yt:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var k=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=gN(n)?n:new yo(n,r,i);return vo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=pC(r),new r((i,o)=>{let s=new yo({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[_o](){return this}pipe(...n){return lp(n)(this)}toPromise(n){return n=pC(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function pC(e){var t;return(t=e??zt.Promise)!==null&&t!==void 0?t:Promise}function pN(e){return e&&V(e.next)&&V(e.error)&&V(e.complete)}function gN(e){return e&&e instanceof Xr||pN(e)&&Al(e)}function up(e){return V(e?.lift)}function Q(e){return t=>{if(up(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(e,t,n,r,i){return new dp(e,t,n,r,i)}var dp=class extends Xr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Eo(){return Q((e,t)=>{let n=null;e._refCount++;let r=K(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Co=class extends k{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,up(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ve;let n=this.getSubject();t.add(this.source.subscribe(K(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ve.EMPTY)}return t}refCount(){return Eo()(this)}};var gC=go(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=(()=>{class e extends k{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Nl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new gC}next(n){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?rp:(this.currentObservers=null,o.push(n),new ve(()=>{this.currentObservers=null,Qr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new k;return n.source=this,n}}return e.create=(t,n)=>new Nl(t,n),e})(),Nl=class extends be{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:rp}};var He=class extends be{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var fp={now(){return(fp.delegate||Date).now()},delegate:void 0};var Ol=class extends ve{constructor(t,n){super()}schedule(t,n=0){return this}};var Js={setInterval(e,t,...n){let{delegate:r}=Js;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Js;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Io=class extends Ol{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Js.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Js.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Qr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var bo=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};bo.now=fp.now;var wo=class extends bo{constructor(t,n=bo.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Do=new wo(Io),hp=Do;var xl=class extends Io{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var kl=class extends wo{};var pp=new kl(xl);var at=new k(e=>e.complete());function Pl(e){return e&&V(e.schedule)}function mC(e){return e[e.length-1]}function Fl(e){return V(mC(e))?e.pop():void 0}function mr(e){return Pl(mC(e))?e.pop():void 0}function gp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function yC(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function vC(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ei(e){return this instanceof ei?(this.v=e,this):new ei(e)}function _C(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(y){return new Promise(function(v,E){o.push([h,y,v,E])>1||c(h,y)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(y){f(o[0][3],y)}}function l(h){h.value instanceof ei?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function EC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof vC=="function"?vC(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ll=e=>e&&typeof e.length=="number"&&typeof e!="function";function Vl(e){return V(e?.then)}function jl(e){return V(e[_o])}function Ul(e){return Symbol.asyncIterator&&V(e?.[Symbol.asyncIterator])}function Bl(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function mN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hl=mN();function $l(e){return V(e?.[Hl])}function Wl(e){return _C(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield ei(n.read());if(i)return yield ei(void 0);yield yield ei(r)}}finally{n.releaseLock()}})}function zl(e){return V(e?.getReader)}function Re(e){if(e instanceof k)return e;if(e!=null){if(jl(e))return vN(e);if(Ll(e))return yN(e);if(Vl(e))return _N(e);if(Ul(e))return CC(e);if($l(e))return EN(e);if(zl(e))return CN(e)}throw Bl(e)}function vN(e){return new k(t=>{let n=e[_o]();if(V(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yN(e){return new k(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function _N(e){return new k(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Rl)})}function EN(e){return new k(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function CC(e){return new k(t=>{IN(e,t).catch(n=>t.error(n))})}function CN(e){return CC(Wl(e))}function IN(e,t){var n,r,i,o;return yC(this,void 0,void 0,function*(){try{for(n=EC(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function ct(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function vr(e,t=0){return Q((n,r)=>{n.subscribe(K(r,i=>ct(r,e,()=>r.next(i),t),()=>ct(r,e,()=>r.complete(),t),i=>ct(r,e,()=>r.error(i),t)))})}function yr(e,t=0){return Q((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function IC(e,t){return Re(e).pipe(yr(t),vr(t))}function bC(e,t){return Re(e).pipe(yr(t),vr(t))}function wC(e,t){return new k(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function DC(e,t){return new k(n=>{let r;return ct(n,t,()=>{r=e[Hl](),ct(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>V(r?.return)&&r.return()})}function Gl(e,t){if(!e)throw new Error("Iterable cannot be null");return new k(n=>{ct(n,t,()=>{let r=e[Symbol.asyncIterator]();ct(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function TC(e,t){return Gl(Wl(e),t)}function SC(e,t){if(e!=null){if(jl(e))return IC(e,t);if(Ll(e))return wC(e,t);if(Vl(e))return bC(e,t);if(Ul(e))return Gl(e,t);if($l(e))return DC(e,t);if(zl(e))return TC(e,t)}throw Bl(e)}function fe(e,t){return t?SC(e,t):Re(e)}function N(...e){let t=mr(e);return fe(e,t)}function To(e,t){let n=V(e)?e:()=>e,r=i=>i.error(n());return new k(t?i=>t.schedule(r,0,i):r)}function mp(e){return!!e&&(e instanceof k||V(e.lift)&&V(e.subscribe))}var qn=go(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function AC(e){return e instanceof Date&&!isNaN(e)}function H(e,t){return Q((n,r)=>{let i=0;n.subscribe(K(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:bN}=Array;function wN(e,t){return bN(t)?e(...t):e(t)}function ql(e){return H(t=>wN(e,t))}var{isArray:DN}=Array,{getPrototypeOf:TN,prototype:SN,keys:AN}=Object;function Yl(e){if(e.length===1){let t=e[0];if(DN(t))return{args:t,keys:null};if(RN(t)){let n=AN(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function RN(e){return e&&typeof e=="object"&&TN(e)===SN}function Kl(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Xs(...e){let t=mr(e),n=Fl(e),{args:r,keys:i}=Yl(e);if(r.length===0)return fe([],t);let o=new k(MN(r,t,i?s=>Kl(i,s):yt));return n?o.pipe(ql(n)):o}function MN(e,t,n=yt){return r=>{RC(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)RC(t,()=>{let l=fe(e[c],t),u=!1;l.subscribe(K(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function RC(e,t,n){e?ct(n,e,t):t()}function MC(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=y=>l<r?p(y):c.push(y),p=y=>{o&&t.next(y),l++;let v=!1;Re(n(y,u++)).subscribe(K(t,E=>{i?.(E),o?h(E):t.next(E)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let E=c.shift();s?ct(t,s,()=>p(E)):p(E)}f()}catch(E){t.error(E)}}))};return e.subscribe(K(t,h,()=>{d=!0,f()})),()=>{a?.()}}function we(e,t,n=1/0){return V(t)?we((r,i)=>H((o,s)=>t(r,o,i,s))(Re(e(r,i))),n):(typeof t=="number"&&(n=t),Q((r,i)=>MC(r,i,e,n)))}function So(e=1/0){return we(yt,e)}function NC(){return So(1)}function Ao(...e){return NC()(fe(e,mr(e)))}function ea(e){return new k(t=>{Re(e()).subscribe(t)})}function vp(...e){let t=Fl(e),{args:n,keys:r}=Yl(e),i=new k(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Re(n[u]).subscribe(K(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Kl(r,a):a),o.complete())}))}});return t?i.pipe(ql(t)):i}function OC(e=0,t,n=hp){let r=-1;return t!=null&&(Pl(t)?n=t:r=t),new k(i=>{let o=AC(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function ta(e=0,t=Do){return e<0&&(e=0),OC(e,e,t)}function Ke(e,t){return Q((n,r)=>{let i=0;n.subscribe(K(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Yn(e){return Q((t,n)=>{let r=null,i=!1,o;r=t.subscribe(K(n,void 0,void 0,s=>{o=Re(e(s,Yn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function xC(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(K(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function gn(e,t){return V(t)?we(e,t,1):we(e,1)}function _r(e){return Q((t,n)=>{let r=!1;t.subscribe(K(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Kn(e){return e<=0?()=>at:Q((t,n)=>{let r=0;t.subscribe(K(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Zl(e=NN){return Q((t,n)=>{let r=!1;t.subscribe(K(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function NN(){return new qn}function ti(e){return Q((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Zn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ke((i,o)=>e(i,o,r)):yt,Kn(1),n?_r(t):Zl(()=>new qn))}function Ro(e){return e<=0?()=>at:Q((t,n)=>{let r=[];t.subscribe(K(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yp(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ke((i,o)=>e(i,o,r)):yt,Ro(1),n?_r(t):Zl(()=>new qn))}function _p(e,t){return Q(xC(e,t,arguments.length>=2,!0))}function Ep(...e){let t=mr(e);return Q((n,r)=>{(t?Ao(e,n,t):Ao(e,n)).subscribe(r)})}function $e(e,t){return Q((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(K(r,c=>{i?.unsubscribe();let l=0,u=o++;Re(e(c,u)).subscribe(i=K(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ql(e){return Q((t,n)=>{Re(e).subscribe(K(n,()=>n.complete(),Qs)),!n.closed&&t.subscribe(n)})}function Ve(e,t,n){let r=V(e)||t||n?{next:e,error:t,complete:n}:e;return r?Q((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(K(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):yt}function kC(e){let t=F(null);try{return e()}finally{F(t)}}var nu="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",b=class extends Error{code;constructor(t,n){super(mn(t,n)),this.code=t}};function ON(e){return`NG0${Math.abs(e)}`}function mn(e,t){return`${ON(e)}${t?": "+t:""}`}var vn=globalThis;function ne(e){for(let t in e)if(e[t]===ne)return t;throw Error("")}function LC(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Jn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Jn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function xp(e,t){return e?t?`${e} ${t}`:e:t||""}var xN=ne({__forward_ref__:ne});function Et(e){return e.__forward_ref__=Et,e.toString=function(){return Jn(this())},e}function We(e){return kp(e)?e():e}function kp(e){return typeof e=="function"&&e.hasOwnProperty(xN)&&e.__forward_ref__===Et}function VC(e,t){e==null&&Pp(t,e,null,"!=")}function Pp(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function S(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pt(e){return{providers:e.providers||[],imports:e.imports||[]}}function sa(e){return kN(e,ru)}function Fp(e){return sa(e)!==null}function kN(e,t){return e.hasOwnProperty(t)&&e[t]||null}function PN(e){let t=e?.[ru]??null;return t||null}function Ip(e){return e&&e.hasOwnProperty(Xl)?e[Xl]:null}var ru=ne({\u0275prov:ne}),Xl=ne({\u0275inj:ne}),I=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Lp(e){return e&&!!e.\u0275providers}var Vp=ne({\u0275cmp:ne}),jp=ne({\u0275dir:ne}),Up=ne({\u0275pipe:ne}),Bp=ne({\u0275mod:ne}),ia=ne({\u0275fac:ne}),si=ne({__NG_ELEMENT_ID__:ne}),PC=ne({__NG_ENV_ID__:ne});function ai(e){return typeof e=="string"?e:e==null?"":String(e)}function eu(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ai(e)}var Hp=ne({ngErrorCode:ne}),jC=ne({ngErrorMessage:ne}),ra=ne({ngTokenPath:ne});function $p(e,t){return UC("",-200,t)}function iu(e,t){throw new b(-201,!1)}function FN(e,t){e[ra]??=[];let n=e[ra],r;typeof t=="object"&&"multi"in t&&t?.multi===!0?(VC(t.provide,"Token with multi: true should have a provide property"),r=eu(t.provide)):r=eu(t),n[0]!==r&&e[ra].unshift(r)}function LN(e,t){let n=e[ra],r=e[Hp],i=e[jC]||e.message;return e.message=jN(i,r,n,t),e}function UC(e,t,n){let r=new b(t,e);return r[Hp]=t,r[jC]=e,n&&(r[ra]=n),r}function VN(e){return e[Hp]}function jN(e,t,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return mn(t,`${e}${o}${i}`)}var bp;function BC(){return bp}function Je(e){let t=bp;return bp=e,t}function Wp(e,t,n){let r=sa(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;iu(e,"Injector")}var UN={},ni=UN,wp="__NG_DI_FLAG__",Dp=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=ri(n)||0;try{return this.injector.get(t,r&8?null:ni,r)}catch(i){if(lo(i))return i;throw i}}};function BN(e,t=0){let n=ml();if(n===void 0)throw new b(-203,!1);if(n===null)return Wp(e,void 0,t);{let r=HN(t),i=n.retrieve(e,r);if(lo(i)){if(r.optional)return null;throw i}return i}}function R(e,t=0){return(BC()||BN)(We(e),t)}function g(e,t){return R(e,ri(t))}function ri(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function HN(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Tp(e){let t=[];for(let n=0;n<e.length;n++){let r=We(e[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=$N(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(R(i,o))}else t.push(R(r))}return t}function HC(e,t){return e[wp]=t,e.prototype[wp]=t,e}function $N(e){return e[wp]}function Er(e,t){let n=e.hasOwnProperty(ia);return n?e[ia]:null}function $C(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function WC(e){return e.flat(Number.POSITIVE_INFINITY)}function ou(e,t){e.forEach(n=>Array.isArray(n)?ou(n,t):t(n))}function zp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function aa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function zC(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function GC(e,t,n){let r=No(e,t);return r>=0?e[r|1]=n:(r=~r,zC(e,r,t,n)),r}function su(e,t){let n=No(e,t);if(n>=0)return e[n|1]}function No(e,t){return WN(e,t,1)}function WN(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Ir={},_t=[],qt=new I(""),Gp=new I("",-1),qp=new I(""),oa=class{get(t,n=ni){if(n===ni){let i=UC("",-201);throw i.name="\u0275NotFound",i}return n}};function Yp(e){return e[Bp]||null}function yn(e){return e[Vp]||null}function au(e){return e[jp]||null}function Kp(e){return e[Up]||null}function lt(e){return{\u0275providers:e}}function qC(...e){return{\u0275providers:cu(!0,e),\u0275fromNgModule:!0}}function cu(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return ou(t,s=>{let a=s;tu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&YC(i,o),n}function YC(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Zp(i,o=>{t(o,r)})}}function tu(e,t,n,r){if(e=We(e),!e)return!1;let i=null,o=Ip(e),s=!o&&yn(e);if(!o&&!s){let c=e.ngModule;if(o=Ip(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)tu(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ou(o.imports,u=>{tu(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&YC(l,t)}if(!a){let l=Er(i)||(()=>new i);t({provide:i,useFactory:l,deps:_t},i),t({provide:qp,useValue:i,multi:!0},i),t({provide:qt,useValue:()=>R(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Zp(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Zp(e,t){for(let n of e)Lp(n)&&(n=n.\u0275providers),Array.isArray(n)?Zp(n,t):t(n)}var zN=ne({provide:String,useValue:ne});function KC(e){return e!==null&&typeof e=="object"&&zN in e}function GN(e){return!!(e&&e.useExisting)}function qN(e){return!!(e&&e.useFactory)}function ii(e){return typeof e=="function"}function ZC(e){return!!e.useClass}var ca=new I(""),Jl={},FC={},Cp;function la(){return Cp===void 0&&(Cp=new oa),Cp}var he=class{},oi=class extends he{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Ap(t,s=>this.processProvider(s)),this.records.set(Gp,Mo(void 0,this)),i.has("environment")&&this.records.set(he,Mo(void 0,this));let o=this.records.get(ca);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(qp,_t,{self:!0}))}retrieve(t,n){let r=ri(n)||0;try{return this.get(t,ni,r)}catch(i){if(lo(i))return i;throw i}}destroy(){na(this),this._destroyed=!0;let t=F(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(t)}}onDestroy(t){return na(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){na(this);let n=pn(this),r=Je(void 0),i;try{return t()}finally{pn(n),Je(r)}}get(t,n=ni,r){if(na(this),t.hasOwnProperty(PC))return t[PC](this);let i=ri(r),o,s=pn(this),a=Je(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=JN(t)&&sa(t);u&&this.injectableDefInScope(u)?l=Mo(Sp(t),Jl):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?la():this.parent;return n=i&8&&n===ni?null:n,c.get(t,n)}catch(c){let l=VN(c);throw l===-200||l===-201?new b(l,null):c}finally{Je(a),pn(s)}}resolveInjectorInitializers(){let t=F(null),n=pn(this),r=Je(void 0),i;try{let o=this.get(qt,_t,{self:!0});for(let s of o)s()}finally{pn(n),Je(r),F(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Jn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=We(t);let n=ii(t)?t:We(t&&t.provide),r=KN(t);if(!ii(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Mo(void 0,Jl,!0),i.factory=()=>Tp(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=F(null);try{if(n.value===FC)throw $p(Jn(t));return n.value===Jl&&(n.value=FC,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&QN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{F(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=We(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Sp(e){let t=sa(e),n=t!==null?t.factory:Er(e);if(n!==null)return n;if(e instanceof I)throw new b(204,!1);if(e instanceof Function)return YN(e);throw new b(204,!1)}function YN(e){if(e.length>0)throw new b(204,!1);let n=PN(e);return n!==null?()=>n.factory(e):()=>new e}function KN(e){if(KC(e))return Mo(void 0,e.useValue);{let t=Qp(e);return Mo(t,Jl)}}function Qp(e,t,n){let r;if(ii(e)){let i=We(e);return Er(i)||Sp(i)}else if(KC(e))r=()=>We(e.useValue);else if(qN(e))r=()=>e.useFactory(...Tp(e.deps||[]));else if(GN(e))r=(i,o)=>R(We(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=We(e&&(e.useClass||e.provide));if(ZN(e))r=()=>new i(...Tp(e.deps));else return Er(i)||Sp(i)}return r}function na(e){if(e.destroyed)throw new b(205,!1)}function Mo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ZN(e){return!!e.deps}function QN(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function JN(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Ap(e,t){for(let n of e)Array.isArray(n)?Ap(n,t):n&&Lp(n)?Ap(n.\u0275providers,t):t(n)}function _e(e,t){let n;e instanceof oi?(na(e),n=e):n=new Dp(e);let r,i=pn(n),o=Je(void 0);try{return t()}finally{pn(i),Je(o)}}function QC(){return BC()!==void 0||ml()!=null}var Xe=0,M=1,L=2,De=3,Ft=4,Lt=5,ut=6,Oo=7,Te=8,Yt=9,_n=10,ie=11,xo=12,Jp=13,ci=14,et=15,br=16,li=17,En=18,ua=19,Xp=20,Qn=21,lu=22,da=23,Ct=24,ui=25,ce=26,JC=1,Kt=6,Cn=7,fa=8,di=9,xe=10;function It(e){return Array.isArray(e)&&typeof e[JC]=="object"}function bt(e){return Array.isArray(e)&&e[JC]===!0}function eg(e){return(e.flags&4)!==0}function er(e){return e.componentOffset>-1}function uu(e){return(e.flags&1)===1}function In(e){return!!e.template}function fi(e){return(e[L]&512)!==0}function wr(e){return(e[L]&256)===256}var XC="svg",eI="math";function wt(e){for(;Array.isArray(e);)e=e[Xe];return e}function tg(e,t){return wt(t[e])}function Vt(e,t){return wt(t[e.index])}function hi(e,t){return e.data[t]}function tI(e,t){return e[t]}function ng(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function jt(e,t){let n=t[e];return It(n)?n:n[Xe]}function nI(e){return(e[L]&4)===4}function du(e){return(e[L]&128)===128}function rI(e){return bt(e[De])}function bn(e,t){return t==null?null:e[t]}function rg(e){e[li]=0}function ig(e){e[L]&1024||(e[L]|=1024,du(e)&&ko(e))}function iI(e,t){for(;e>0;)t=t[ci],e--;return t}function ha(e){return!!(e[L]&9216||e[Ct]?.dirty)}function fu(e){e[_n].changeDetectionScheduler?.notify(8),e[L]&64&&(e[L]|=1024),ha(e)&&ko(e)}function ko(e){e[_n].changeDetectionScheduler?.notify(0);let t=Cr(e);for(;t!==null&&!(t[L]&8192||(t[L]|=8192,!du(t)));)t=Cr(t)}function og(e,t){if(wr(e))throw new b(911,!1);e[Qn]===null&&(e[Qn]=[]),e[Qn].push(t)}function oI(e,t){if(e[Qn]===null)return;let n=e[Qn].indexOf(t);n!==-1&&e[Qn].splice(n,1)}function Cr(e){let t=e[De];return bt(t)?t[De]:t}function sg(e){return e[Oo]??=[]}function ag(e){return e.cleanup??=[]}function sI(e,t,n,r){let i=sg(t);i.push(n),e.firstCreatePass&&ag(e).push(r,i.length-1)}var W={lFrame:EI(null),bindingsEnabled:!0,skipHydrationRootTNode:null},pa=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(pa||{}),XN=0,Rp=!1;function aI(){return W.lFrame.elementDepthCount}function cI(){W.lFrame.elementDepthCount++}function cg(){W.lFrame.elementDepthCount--}function lI(){return W.bindingsEnabled}function lg(){return W.skipHydrationRootTNode!==null}function ug(e){return W.skipHydrationRootTNode===e}function uI(e){W.skipHydrationRootTNode=e}function dg(){W.skipHydrationRootTNode=null}function j(){return W.lFrame.lView}function je(){return W.lFrame.tView}function tt(e){return W.lFrame.contextLView=e,e[Te]}function nt(e){return W.lFrame.contextLView=null,e}function ze(){let e=fg();for(;e!==null&&e.type===64;)e=e.parent;return e}function fg(){return W.lFrame.currentTNode}function dI(){let e=W.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Po(e,t){let n=W.lFrame;n.currentTNode=e,n.isParent=t}function hg(){return W.lFrame.isParent}function fI(){W.lFrame.isParent=!1}function pg(e){Pp("Must never be called in production mode"),XN=e}function gg(){return Rp}function mg(e){let t=Rp;return Rp=e,t}function ga(){let e=W.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function hI(){return W.lFrame.bindingIndex}function pI(e){return W.lFrame.bindingIndex=e}function pi(){return W.lFrame.bindingIndex++}function vg(e){let t=W.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function gI(){return W.lFrame.inI18n}function mI(e,t){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=e,hu(t)}function vI(){return W.lFrame.currentDirectiveIndex}function hu(e){W.lFrame.currentDirectiveIndex=e}function yI(e){let t=W.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function yg(){return W.lFrame.currentQueryIndex}function pu(e){W.lFrame.currentQueryIndex=e}function eO(e){let t=e[M];return t.type===2?t.declTNode:t.type===1?e[Lt]:null}function _g(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=eO(o),i===null||(o=o[ci],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=W.lFrame=_I();return r.currentTNode=t,r.lView=e,!0}function gu(e){let t=_I(),n=e[M];W.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function _I(){let e=W.lFrame,t=e===null?null:e.child;return t===null?EI(e):t}function EI(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function CI(){let e=W.lFrame;return W.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Eg=CI;function mu(){let e=CI();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function II(e){return(W.lFrame.contextLView=iI(e,W.lFrame.contextLView))[Te]}function tr(){return W.lFrame.selectedIndex}function Dr(e){W.lFrame.selectedIndex=e}function vu(){let e=W.lFrame;return hi(e.tView,e.selectedIndex)}function Cg(){return W.lFrame.currentNamespace}var bI=!0;function yu(){return bI}function nr(e){bI=e}function Mp(e,t=null,n=null,r){let i=Ig(e,t,n,r);return i.resolveInjectorInitializers(),i}function Ig(e,t=null,n=null,r,i=new Set){let o=[n||_t,qC(e)];return r=r||(typeof e=="object"?void 0:Jn(e)),new oi(o,t||la(),r||null,i)}var ye=class e{static THROW_IF_NOT_FOUND=ni;static NULL=new oa;static create(t,n){if(Array.isArray(t))return Mp({name:""},n,t,"");{let r=t.name??"";return Mp({name:r},t.parent,t.providers,r)}}static \u0275prov=S({token:e,providedIn:"any",factory:()=>R(Gp)});static __NG_ELEMENT_ID__=-1},Ee=new I(""),Zt=(()=>{class e{static __NG_ELEMENT_ID__=tO;static __NG_ENV_ID__=n=>n}return e})(),Np=class extends Zt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return wr(this._lView)}onDestroy(t){let n=this._lView;return og(n,t),()=>oI(n,t)}};function tO(){return new Np(j())}var Gt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},dt=new I("",{providedIn:"root",factory:()=>{let e=g(he),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Gt),t.handleError(n))}}}),wI={provide:qt,useValue:()=>void g(Gt),multi:!0};function bg(e){return typeof e=="function"&&e[Ye]!==void 0}function Dt(e,t){let[n,r,i]=tp(e,t?.equal),o=n,s=o[Ye];return o.set=r,o.update=i,o.asReadonly=DI.bind(o),o}function DI(){let e=this[Ye];if(e.readonlyFn===void 0){let t=()=>this();t[Ye]=e,e.readonlyFn=t}return e.readonlyFn}function wg(e){return bg(e)&&typeof e.set=="function"}var Xn=class{},ma=new I("",{providedIn:"root",factory:()=>!1});var Dg=new I(""),Tg=new I("");var _u=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=nO}return e})();function nO(){return new _u(j(),ze())}var Qt=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new He(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new k(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=S({token:e,providedIn:"root",factory:()=>new e})}return e})(),rr=(()=>{class e{internalPendingTasks=g(Qt);scheduler=g(Xn);errorHandler=g(dt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=S({token:e,providedIn:"root",factory:()=>new e})}return e})();function va(...e){}var Sg=(()=>{class e{static \u0275prov=S({token:e,providedIn:"root",factory:()=>new Op})}return e})(),Op=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var Eu={JSACTION:"jsaction"};function zo(e){return{toString:e}.toString()}var Cu="__parameters__";function uO(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function dO(e,t,n){return zo(()=>{let r=uO(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Cu)?c[Cu]:Object.defineProperty(c,Cu,{value:[]})[Cu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Sn=HC(dO("Optional"),8);function fO(e){return typeof e=="function"}var Mu=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function fb(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var or=(()=>{let e=()=>hb;return e.ngInherit=!0,e})();function hb(e){return e.type.prototype.ngOnChanges&&(e.setInput=pO),hO}function hO(){let e=gb(this),t=e?.current;if(t){let n=e.previous;if(n===Ir)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function pO(e,t,n,r,i){let o=this.declaredInputs[r],s=gb(e)||gO(e,{previous:Ir,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Mu(l&&l.currentValue,n,c===Ir),fb(e,t,i,n)}var pb="__ngSimpleChanges__";function gb(e){return e[pb]||null}function gO(e,t){return e[pb]=t}var TI=[];var X=function(e,t=null,n){for(let r=0;r<TI.length;r++){let i=TI[r];i(e,t,n)}};function mO(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=hb(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function vO(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function wu(e,t,n){mb(e,t,3,n)}function Du(e,t,n,r){(e[L]&3)===n&&mb(e,t,n,r)}function Ag(e,t){let n=e[L];(n&3)===t&&(n&=16383,n+=1,e[L]=n)}function mb(e,t,n,r){let i=r!==void 0?e[li]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[li]+=65536),(a<o||o==-1)&&(yO(e,n,t,c),e[li]=(e[li]&4294901760)+c+2),c++}function SI(e,t){X(4,e,t);let n=F(null);try{t.call(e)}finally{F(n),X(5,e,t)}}function yO(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[L]>>14<e[li]>>16&&(e[L]&3)===t&&(e[L]+=16384,SI(a,o)):SI(a,o)}var Lo=-1,yi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function _O(e){return(e.flags&8)!==0}function EO(e){return(e.flags&16)!==0}function CO(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];IO(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function vb(e){return e===3||e===4||e===6}function IO(e){return e.charCodeAt(0)===64}function Uo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?AI(e,n,i,null,t[++r]):AI(e,n,i,null,null))}}return e}function AI(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function yb(e){return e!==Lo}function Nu(e){return e&32767}function bO(e){return e>>16}function Ou(e,t){let n=bO(e),r=t;for(;n>0;)r=r[ci],n--;return r}var $g=!0;function xu(e){let t=$g;return $g=e,t}var wO=256,_b=wO-1,Eb=5,DO=0,wn={};function TO(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(si)&&(r=n[si]),r==null&&(r=n[si]=DO++);let i=r&_b,o=1<<i;t.data[e+(i>>Eb)]|=o}function ku(e,t){let n=Cb(e,t);if(n!==-1)return n;let r=t[M];r.firstCreatePass&&(e.injectorIndex=t.length,Rg(r.data,e),Rg(t,null),Rg(r.blueprint,null));let i=Em(e,t),o=e.injectorIndex;if(yb(i)){let s=Nu(i),a=Ou(i,t),c=a[M].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Rg(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Cb(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Em(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=Tb(i),r===null)return Lo;if(n++,i=i[ci],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Lo}function Wg(e,t,n){TO(e,t,n)}function SO(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(vb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function Ib(e,t,n){if(n&8||e!==void 0)return e;iu(t,"NodeInjector")}function bb(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[Yt],o=Je(void 0);try{return i?i.get(t,r,n&8):Wp(t,r,n&8)}finally{Je(o)}}return Ib(r,t,n)}function wb(e,t,n,r=0,i){if(e!==null){if(t[L]&2048&&!(r&2)){let s=NO(e,t,n,r,wn);if(s!==wn)return s}let o=Db(e,t,n,r,wn);if(o!==wn)return o}return bb(t,n,r,i)}function Db(e,t,n,r,i){let o=RO(n);if(typeof o=="function"){if(!_g(t,e,r))return r&1?Ib(i,n,r):bb(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))iu(n);else return s}finally{Eg()}}else if(typeof o=="number"){let s=null,a=Cb(e,t),c=Lo,l=r&1?t[et][Lt]:null;for((a===-1||r&4)&&(c=a===-1?Em(e,t):t[a+8],c===Lo||!MI(r,!1)?a=-1:(s=t[M],a=Nu(c),t=Ou(c,t)));a!==-1;){let u=t[M];if(RI(o,a,u.data)){let d=AO(a,t,n,s,r,l);if(d!==wn)return d}c=t[a+8],c!==Lo&&MI(r,t[M].data[a+8]===l)&&RI(o,a,t)?(s=u,a=Nu(c),t=Ou(c,t)):a=-1}}return i}function AO(e,t,n,r,i,o){let s=t[M],a=s.data[e+8],c=r==null?er(a)&&$g:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=Tu(a,s,n,c,l);return u!==null?Ea(t,s,u,a,i):wn}function Tu(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&In(h)&&h.type===n)return c}return null}function Ea(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof yi){let a=o;if(a.resolving){let h=eu(s[n]);throw $p(h)}let c=xu(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?Je(a.injectImpl):null,f=_g(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&mO(n,s[n],t)}finally{d!==null&&Je(d),xu(c),a.resolving=!1,Eg()}}return o}function RO(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(si)?e[si]:void 0;return typeof t=="number"?t>=0?t&_b:MO:t}function RI(e,t,n){let r=1<<e;return!!(n[t+(e>>Eb)]&r)}function MI(e,t){return!(e&2)&&!(e&1&&t)}var vi=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return wb(this._tNode,this._lView,t,ri(r),n)}};function MO(){return new vi(ze(),j())}function Xt(e){return zo(()=>{let t=e.prototype.constructor,n=t[ia]||zg(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[ia]||zg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function zg(e){return kp(e)?()=>{let t=zg(We(e));return t&&t()}:Er(e)}function NO(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[L]&2048&&!fi(s);){let a=Db(o,s,n,r|2,wn);if(a!==wn)return a;let c=o.parent;if(!c){let l=s[Xp];if(l){let u=l.get(n,wn,r);if(u!==wn)return u}c=Tb(s),s=s[ci]}o=c}return i}function Tb(e){let t=e[M],n=t.type;return n===2?t.declTNode:n===1?e[Lt]:null}function Ta(e){return SO(ze(),e)}function OO(){return Go(ze(),j())}function Go(e,t){return new rt(Vt(e,t))}var rt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=OO}return e})();function xO(e){return e instanceof rt?e.nativeElement:e}function kO(){return this._results[Symbol.iterator]()}var Pu=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new be}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=WC(t);(this._changesDetected=!$C(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=kO},Sb="ngSkipHydration",PO="ngskiphydration";function Ab(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===PO)return!0}return!1}function Rb(e){return e.hasAttribute(Sb)}function Fu(e){return(e.flags&128)===128}function Mb(e){if(Fu(e))return!0;let t=e.parent;for(;t;){if(Fu(e)||Ab(t))return!0;t=t.parent}return!1}var Cm=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Cm||{}),Nb=new Map,FO=0;function LO(){return FO++}function VO(e){Nb.set(e[ua],e)}function Gg(e){Nb.delete(e[ua])}var NI="__ngContext__";function Bo(e,t){It(t)?(e[NI]=t[ua],VO(t)):e[NI]=t}function Ob(e){return kb(e[xo])}function xb(e){return kb(e[Ft])}function kb(e){for(;e!==null&&!bt(e);)e=e[Ft];return e}var qg;function Im(e){qg=e}function Sa(){if(qg!==void 0)return qg;if(typeof document<"u")return document;throw new b(210,!1)}var An=new I("",{providedIn:"root",factory:()=>jO}),jO="ng",ed=new I(""),ft=new I("",{providedIn:"platform",factory:()=>"unknown"});var td=new I("",{providedIn:"root",factory:()=>Sa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function UO(){let e=new bi;return e.store=Pb(Sa(),g(An)),e}var bi=(()=>{class e{static \u0275prov=S({token:e,providedIn:"root",factory:UO});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function Pb(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var Fb="h",Lb="b",BO="f",HO="n",Vb="e",jb="t",nd="c",bm="x",Ca="r",Ub="i",Bb="n",wm="d";var Hb="di",$b="s",Wb="p";var Aa=new I(""),zb=!1,Dm=new I("",{providedIn:"root",factory:()=>zb});var Tm=new I(""),Gb=!1,qb=new I(""),Sm=new I("",{providedIn:"root",factory:()=>new Map});var Ra="ngb";var Yb=(e,t,n)=>{let r=e,i=r.__jsaction_fns??new Map,o=i.get(t)??[];o.push(n),i.set(t,o),r.__jsaction_fns=i},Kb=(e,t)=>{let n=e,r=n.getAttribute(Ra)??"",i=t.get(r)??new Set;i.has(n)||i.add(n),t.set(r,i)};var Zb=e=>{e.removeAttribute(Eu.JSACTION),e.removeAttribute(Ra),e.__jsaction_fns=void 0},Qb=new I("",{providedIn:"root",factory:()=>({})});function Am(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var Yg=new Map;function Jb(e,t){return Yg.set(e,t),()=>Yg.delete(e)}var OI=!1,Xb=(e,t,n,r)=>{};function $O(e,t,n,r){Xb(e,t,n,r)}function ew(){OI||(Xb=(e,t,n,r)=>{let i=e[Yt].get(An);Yg.get(i)?.(t,n,r)},OI=!0)}var rd=new I("");function id(e){return(e.flags&32)===32}var WO="__nghData__",Rm=WO,zO="__nghDeferData__",tw=zO;var Su="ngh",nw="nghm",rw=()=>null;function GO(e,t,n=!1){let r=e.getAttribute(Su);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=t.get(bi,null,{optional:!0});u!==null&&(c=u.get(Rm,[])[Number(r)])}let l={data:c,firstChild:e.firstChild??null};return n&&(l.firstChild=e,od(l,0,e.nextSibling)),a?e.setAttribute(Su,a):e.removeAttribute(Su),l}function iw(){rw=GO}function ow(e,t,n=!1){return rw(e,t,n)}function sw(e){let t=e._lView;return t[M].type===2?null:(fi(t)&&(t=t[ce]),t)}function qO(e){return e.textContent?.replace(/\s/gm,"")}function YO(e){let t=Sa(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=qO(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function od(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Kg(e,t){return e.segmentHeads?.[t]??null}function aw(e){return e.get(qb,!1,{optional:!0})}function KO(e,t){let n=e.data,r=n[Vb]?.[t]??null;return r===null&&n[nd]?.[t]&&(r=Mm(e,t)),r}function cw(e,t){return e.data[nd]?.[t]??null}function Mm(e,t){let n=cw(e,t)??[],r=0;for(let i of n)r+=i[Ca]*(i[bm]??1);return r}function ZO(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[wm];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function lw(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[wm];e.disconnectedNodes=n?new Set(n):null}return!!ZO(e)?.has(t)}function sd(e,t){let n=e[ut];return n!==null&&!lg()&&!id(t)&&!lw(n,t.index-ce)}function QO(e,t){let n=t.get(rd),i=t.get(bi).get(tw,{}),o=!1,s=e,a=null,c=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}c.unshift(s),s=i[s][Wb]}return{parentBlockPromise:a,hydrationQueue:c}}function Mg(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===nw}function xI(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function uw(e){for(let r of e.body.childNodes)if(Mg(r))return;let t=xI(e.body.previousSibling);if(Mg(t))return;let n=xI(e.head.lastChild);if(!Mg(n))throw new b(-507,!1)}function dw(e,t){let n=e.contentQueries;if(n!==null){let r=F(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];pu(o),a.contentQueries(2,t[s],s)}}}finally{F(r)}}}function Zg(e,t,n){pu(0);let r=F(null);try{t(e,n)}finally{F(r)}}function fw(e,t,n){if(eg(t)){let r=F(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{F(r)}}}var ir=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ir||{});var Iu;function JO(){if(Iu===void 0&&(Iu=null,vn.trustedTypes))try{Iu=vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Iu}function kI(e){return JO()?.createScriptURL(e)||e}var Lu=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nu})`}};function qo(e){return e instanceof Lu?e.changingThisBreaksApplicationSecurity:e}function ad(e,t){let n=hw(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${nu})`)}return n===t}function hw(e){return e instanceof Lu&&e.getTypeName()||null}var XO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nm(e){return e=String(e),e.match(XO)?e:"unsafe:"+e}var Ma=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ma||{});function Sr(e){let t=gw();return t?t.sanitize(Ma.URL,e)||"":ad(e,"URL")?qo(e):Nm(ai(e))}function pw(e){let t=gw();if(t)return kI(t.sanitize(Ma.RESOURCE_URL,e)||"");if(ad(e,"ResourceURL"))return kI(qo(e));throw new b(904,!1)}function ex(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?pw:Sr}function Om(e,t,n){return ex(t,n)(e)}function gw(){let e=j();return e&&e[_n].sanitizer}var tx=/^>|^->|<!--|-->|--!>|<!-$/g,nx=/(<|>)/g,rx="\u200B$1\u200B";function ix(e){return e.replace(tx,t=>t.replace(nx,rx))}function xm(e){return e.ownerDocument}function mw(e){return e.ownerDocument.body}function vw(e){return e instanceof Function?e():e}function ox(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var yw="ng-template";function sx(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&ox(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(km(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function km(e){return e.type===4&&e.value!==yw}function ax(e,t,n){let r=e.type===4&&!n?yw:e.value;return t===r}function cx(e,t,n){let r=4,i=e.attrs,o=i!==null?dx(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Jt(r)&&!Jt(c))return!1;if(s&&Jt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!ax(e,c,n)||c===""&&t.length===1){if(Jt(r))return!1;s=!0}}else if(r&8){if(i===null||!sx(e,i,c,n)){if(Jt(r))return!1;s=!0}}else{let l=t[++a],u=lx(c,i,km(e),n);if(u===-1){if(Jt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Jt(r))return!1;s=!0}}}}return Jt(r)||s}function Jt(e){return(e&1)===0}function lx(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return fx(t,e)}function ux(e,t,n=!1){for(let r=0;r<t.length;r++)if(cx(e,t[r],n))return!0;return!1}function dx(e){for(let t=0;t<e.length;t++){let n=e[t];if(vb(n))return t}return e.length}function fx(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function PI(e,t){return e?":not("+t.trim()+")":t}function hx(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Jt(s)&&(t+=PI(o,i),i=""),r=s,o=o||!Jt(r);n++}return i!==""&&(t+=PI(o,i)),t}function px(e){return e.map(hx).join(",")}function gx(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Jt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var St={};function _w(e,t){return e.createText(t)}function mx(e,t,n){e.setValue(t,n)}function Ew(e,t){return e.createComment(ix(t))}function Pm(e,t,n){return e.createElement(t,n)}function Vu(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Cw(e,t,n){e.appendChild(t,n)}function FI(e,t,n,r,i){r!==null?Vu(e,t,n,r,i):Cw(e,t,n)}function Fm(e,t,n){e.removeChild(null,t,n)}function Iw(e){e.textContent=""}function vx(e,t,n){e.setAttribute(t,"style",n)}function yx(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function bw(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&CO(e,t,r),i!==null&&yx(e,t,i),o!==null&&vx(e,t,o)}function Lm(e,t,n,r,i,o,s,a,c,l,u){let d=ce+r,f=d+i,h=_x(d,f),p=typeof l=="function"?l():l;return h[M]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function _x(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:St);return n}function Ex(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Lm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Vm(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[Xe]=i,d[L]=r|4|128|8|64|1024,(l!==null||e&&e[L]&2048)&&(d[L]|=2048),rg(d),d[De]=d[ci]=e,d[Te]=n,d[_n]=s||e&&e[_n],d[ie]=a||e&&e[ie],d[Yt]=c||e&&e[Yt]||null,d[Lt]=o,d[ua]=LO(),d[ut]=u,d[Xp]=l,d[et]=t.type==2?e[et]:d,d}function Cx(e,t,n){let r=Vt(t,e),i=Ex(n),o=e[_n].rendererFactory,s=jm(e,Vm(e,i,null,ww(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function ww(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Dw(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function jm(e,t){return e[xo]?e[Jp][Ft]=t:e[xo]=t,e[Jp]=t,t}function A(e=1){Tw(je(),j(),tr()+e,!1)}function Tw(e,t,n,r){if(!r)if((t[L]&3)===3){let o=e.preOrderCheckHooks;o!==null&&wu(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Du(t,o,0,n)}Dr(n)}var cd=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(cd||{});function Qg(e,t,n,r){let i=F(null);try{let[o,s,a]=e.inputs[n],c=null;(s&cd.SignalBased)!==0&&(c=t[o][Ye]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):fb(t,c,o,r)}finally{F(i)}}var Dn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Dn||{}),Ix;function Um(e,t){return Ix(e,t)}function Fo(e,t,n,r,i){if(r!=null){let o,s=!1;bt(r)?o=r:It(r)&&(s=!0,r=r[Xe]);let a=wt(r);e===0&&n!==null?i==null?Cw(t,n,a):Vu(t,n,a,i||null,!0):e===1&&n!==null?Vu(t,n,a,i||null,!0):e===2?Fm(t,a,s):e===3&&t.destroyNode(a),o!=null&&kx(t,e,o,n,i)}}function bx(e,t){Sw(e,t),t[Xe]=null,t[Lt]=null}function wx(e,t,n,r,i,o){r[Xe]=i,r[Lt]=t,ud(e,r,n,1,i,o)}function Sw(e,t){t[_n].changeDetectionScheduler?.notify(9),ud(e,t,t[ie],2,null,null)}function Dx(e){let t=e[xo];if(!t)return Ng(e[M],e);for(;t;){let n=null;if(It(t))n=t[xo];else{let r=t[xe];r&&(n=r)}if(!n){for(;t&&!t[Ft]&&t!==e;)It(t)&&Ng(t[M],t),t=t[De];t===null&&(t=e),It(t)&&Ng(t[M],t),n=t&&t[Ft]}t=n}}function Bm(e,t){let n=e[di],r=n.indexOf(t);n.splice(r,1)}function ld(e,t){if(wr(t))return;let n=t[ie];n.destroyNode&&ud(e,t,n,3,null,null),Dx(t)}function Ng(e,t){if(wr(t))return;let n=F(null);try{t[L]&=-129,t[L]|=256,t[Ct]&&Zs(t[Ct]),Sx(e,t),Tx(e,t),t[M].type===1&&t[ie].destroy();let r=t[br];if(r!==null&&bt(t[De])){r!==t[De]&&Bm(r,t);let i=t[En];i!==null&&i.detachView(e)}Gg(t)}finally{F(n)}}function Tx(e,t){let n=e.cleanup,r=t[Oo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Oo]=null);let i=t[Qn];if(i!==null){t[Qn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[da];if(o!==null){t[da]=null;for(let s of o)s.destroy()}}function Sx(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof yi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];X(4,a,c);try{c.call(a)}finally{X(5,a,c)}}else{X(4,i,o);try{o.call(i)}finally{X(5,i,o)}}}}}function Ax(e,t,n){return Rx(e,t.parent,n)}function Rx(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Xe];if(er(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===ir.None||i===ir.Emulated)return null}return Vt(r,n)}function Mx(e,t,n){return Ox(e,t,n)}function Nx(e,t,n){return e.type&40?Vt(e,n):null}var Ox=Nx,LI;function Hm(e,t,n,r){let i=Ax(e,r,t),o=t[ie],s=r.parent||t[Lt],a=Mx(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)FI(o,i,n[c],a,!1);else FI(o,i,n,a,!1);LI!==void 0&&LI(o,r,t,n,i)}function ya(e,t){if(t!==null){let n=t.type;if(n&3)return Vt(t,e);if(n&4)return Jg(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return ya(e,r);{let i=e[t.index];return bt(i)?Jg(-1,i):wt(i)}}else{if(n&128)return ya(e,t.next);if(n&32)return Um(t,e)()||wt(e[t.index]);{let r=Aw(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Cr(e[et]);return ya(i,r)}else return ya(e,t.next)}}}return null}function Aw(e,t){if(t!==null){let r=e[et][Lt],i=t.projection;return r.projection[i]}return null}function Jg(e,t){let n=xe+e+1;if(n<t.length){let r=t[n],i=r[M].firstChild;if(i!==null)return ya(r,i)}return t[Cn]}function $m(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Bo(wt(a),r),n.flags|=2),!id(n))if(c&8)$m(e,t,n.child,r,i,o,!1),Fo(t,e,i,a,o);else if(c&32){let l=Um(n,r),u;for(;u=l();)Fo(t,e,i,u,o);Fo(t,e,i,a,o)}else c&16?xx(e,t,r,n,i,o):Fo(t,e,i,a,o);n=s?n.projectionNext:n.next}}function ud(e,t,n,r,i,o){$m(n,r,e.firstChild,t,i,o,!1)}function xx(e,t,n,r,i,o){let s=n[et],c=s[Lt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Fo(t,e,i,u,o)}else{let l=c,u=s[De];Fu(r)&&(l.flags|=128),$m(e,t,l,u,i,o,!0)}}function kx(e,t,n,r,i){let o=n[Cn],s=wt(n);o!==s&&Fo(t,e,r,o,i);for(let a=xe;a<n.length;a++){let c=n[a];ud(c[M],c,e,t,r,o)}}function Px(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Dn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Dn.Important),e.setStyle(n,r,i,o))}}function Rw(e,t,n,r,i){let o=tr(),s=r&2;try{Dr(-1),s&&t.length>ce&&Tw(e,t,ce,!1),X(s?2:0,i,n),n(r,i)}finally{Dr(o),X(s?3:1,i,n)}}function Mw(e,t,n){Hx(e,t,n),(n.flags&64)===64&&$x(e,t,n)}function Wm(e,t,n=Vt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function Fx(e,t,n,r){let o=r.get(Dm,zb)||n===ir.ShadowDom,s=e.selectRootElement(t,o);return Lx(s),s}function Lx(e){Nw(e)}var Nw=()=>null;function Vx(e){Rb(e)?Iw(e):YO(e)}function Ow(){Nw=Vx}function jx(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function xw(e,t,n,r,i,o){let s=t[M];if(Gm(e,s,t,n,r)){er(e)&&Bx(t,e.index);return}e.type&3&&(n=jx(n)),Ux(e,t,n,r,i,o)}function Ux(e,t,n,r,i,o){if(e.type&3){let s=Vt(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function Bx(e,t){let n=jt(t,e);n[L]&16||(n[L]|=64)}function Hx(e,t,n){let r=n.directiveStart,i=n.directiveEnd;er(n)&&Cx(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||ku(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Ea(t,e,s,n);if(Bo(c,t),o!==null&&Yx(t,s-r,c,a,n,o),In(a)){let l=jt(n.index,t);l[Te]=Ea(t,e,s,n)}}}function $x(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=vI();try{Dr(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];hu(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Wx(c,l)}}finally{Dr(-1),hu(s)}}function Wx(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function zx(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];ux(t,o.selectors,!1)&&(r??=[],In(o)?r.unshift(o):r.push(o))}return r}function Gx(e,t,n,r,i,o){let s=Vt(e,t);qx(t[ie],s,o,e.value,n,r,i)}function qx(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?ai(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function Yx(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Qg(r,n,c,l)}}function kw(e,t,n,r,i){let o=ce+n,s=t[M],a=i(s,t,e,r,n);t[o]=a,Po(e,!0);let c=e.type===2;return c?(bw(t[ie],a,e),(aI()===0||uu(e))&&Bo(a,t),cI()):Bo(a,t),yu()&&(!c||!id(e))&&Hm(s,t,a,e),e}function Pw(e){let t=e;return hg()?fI():(t=t.parent,Po(t,!1)),t}function zm(e,t){let n=e[Yt];if(!n)return;n.get(dt,null)?.(t)}function Gm(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Qg(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];Qg(u,l,r,i),a=!0}return a}function Kx(e,t){let n=jt(t,e),r=n[M];Zx(r,n);let i=n[Xe];i!==null&&n[ut]===null&&(n[ut]=ow(i,n[Yt])),X(18),qm(r,n,n[Te]),X(19,n[Te])}function Zx(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function qm(e,t,n){gu(t);try{let r=e.viewQuery;r!==null&&Zg(1,r,n);let i=e.template;i!==null&&Rw(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[En]?.finishViewCreation(e),e.staticContentQueries&&dw(e,t),e.staticViewQueries&&Zg(2,e.viewQuery,n);let o=e.components;o!==null&&Qx(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[L]&=-5,mu()}}function Qx(e,t){for(let n=0;n<t.length;n++)Kx(e,t[n])}function Na(e,t,n,r){let i=F(null);try{let o=t.tView,a=e[L]&4096?4096:16,c=Vm(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[br]=l;let u=e[En];return u!==null&&(c[En]=u.createEmbeddedView(o)),qm(o,c,n),c}finally{F(i)}}function Ho(e,t){return!t||t.firstChild===null||Fu(e)}var VI=!1,Jx=new I("");function Ia(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(wt(o)),bt(o)&&Fw(o,r);let s=n.type;if(s&8)Ia(e,t,n.child,r);else if(s&32){let a=Um(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Aw(t,n);if(Array.isArray(a))r.push(...a);else{let c=Cr(t[et]);Ia(c[M],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Fw(e,t){for(let n=xe;n<e.length;n++){let r=e[n],i=r[M].firstChild;i!==null&&Ia(r[M],r,i,t)}e[Cn]!==e[Xe]&&t.push(e[Cn])}function Lw(e){if(e[ui]!==null){for(let t of e[ui])t.impl.addSequence(t);e[ui].length=0}}var Vw=[];function Xx(e){return e[Ct]??ek(e)}function ek(e){let t=Vw.pop()??Object.create(nk);return t.lView=e,t}function tk(e){e.lView[Ct]!==e&&(e.lView=null,Vw.push(e))}var nk=P(_({},Kr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ko(e.lView)},consumerOnSignalRead(){this.lView[Ct]=this}});function rk(e){let t=e[Ct]??Object.create(ik);return t.lView=e,t}var ik=P(_({},Kr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Cr(e.lView);for(;t&&!jw(t[M]);)t=Cr(t);t&&ig(t)},consumerOnSignalRead(){this.lView[Ct]=this}});function jw(e){return e.type!==2}function Uw(e){if(e[da]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[da])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[L]&8192)}}var ok=100;function Ym(e,t=0){let r=e[_n].rendererFactory,i=!1;i||r.begin?.();try{sk(e,t)}finally{i||r.end?.()}}function sk(e,t){let n=gg();try{mg(!0),Xg(e,t);let r=0;for(;ha(e);){if(r===ok)throw new b(103,!1);r++,Xg(e,1)}}finally{mg(n)}}function Bw(e,t){pg(t?pa.Exhaustive:pa.OnlyDirtyViews);try{Ym(e)}finally{pg(pa.Off)}}function ak(e,t,n,r){if(wr(t))return;let i=t[L],o=!1,s=!1;gu(t);let a=!0,c=null,l=null;o||(jw(e)?(l=Xx(t),c=Zr(l)):Il()===null?(a=!1,l=rk(t),c=Zr(l)):t[Ct]&&(Zs(t[Ct]),t[Ct]=null));try{rg(t),pI(e.bindingStartIndex),n!==null&&Rw(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&wu(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Du(t,h,0,null),Ag(t,0)}if(s||ck(t),Uw(t),Hw(t,0),e.contentQueries!==null&&dw(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&wu(t,h)}else{let h=e.contentHooks;h!==null&&Du(t,h,1),Ag(t,1)}uk(e,t);let d=e.components;d!==null&&Ww(t,d,0);let f=e.viewQuery;if(f!==null&&Zg(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&wu(t,h)}else{let h=e.viewHooks;h!==null&&Du(t,h,2),Ag(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[lu]){for(let h of t[lu])h();t[lu]=null}o||(Lw(t),t[L]&=-73)}catch(u){throw o||ko(t),u}finally{l!==null&&(fo(l,c),a&&tk(l)),mu()}}function Hw(e,t){for(let n=Ob(e);n!==null;n=xb(n))for(let r=xe;r<n.length;r++){let i=n[r];$w(i,t)}}function ck(e){for(let t=Ob(e);t!==null;t=xb(t)){if(!(t[L]&2))continue;let n=t[di];for(let r=0;r<n.length;r++){let i=n[r];ig(i)}}}function lk(e,t,n){X(18);let r=jt(t,e);$w(r,n),X(19,r[Te])}function $w(e,t){du(e)&&Xg(e,t)}function Xg(e,t){let r=e[M],i=e[L],o=e[Ct],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ks(o)),s||=!1,o&&(o.dirty=!1),e[L]&=-9217,s)ak(r,e,r.template,e[Te]);else if(i&8192){let a=F(null);try{Uw(e),Hw(e,1);let c=r.components;c!==null&&Ww(e,c,1),Lw(e)}finally{F(a)}}}function Ww(e,t,n){for(let r=0;r<t.length;r++)lk(e,t[r],n)}function uk(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Dr(~i);else{let o=i,s=n[++r],a=n[++r];mI(s,o);let c=t[o];X(24,c),a(2,c),X(25,c)}}}finally{Dr(-1)}}function dd(e,t){let n=gg()?64:1088;for(e[_n].changeDetectionScheduler?.notify(t);e;){e[L]|=n;let r=Cr(e);if(fi(e)&&!r)return e;e=r}return null}function zw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Gw(e,t){let n=xe+t;if(n<e.length)return e[n]}function Oa(e,t,n,r=!0){let i=t[M];if(dk(i,t,e,n),r){let s=Jg(n,e),a=t[ie],c=a.parentNode(e[Cn]);c!==null&&wx(i,e[Lt],a,t,c,s)}let o=t[ut];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Km(e,t){let n=ba(e,t);return n!==void 0&&ld(n[M],n),n}function ba(e,t){if(e.length<=xe)return;let n=xe+t,r=e[n];if(r){let i=r[br];i!==null&&i!==e&&Bm(i,r),t>0&&(e[n-1][Ft]=r[Ft]);let o=aa(e,xe+t);bx(r[M],r);let s=o[En];s!==null&&s.detachView(o[M]),r[De]=null,r[Ft]=null,r[L]&=-129}return r}function dk(e,t,n,r){let i=xe+r,o=n.length;r>0&&(n[i-1][Ft]=t),r<o-xe?(t[Ft]=n[i],zp(n,xe+r,t)):(n.push(t),t[Ft]=null),t[De]=n;let s=t[br];s!==null&&n!==s&&qw(s,t);let a=t[En];a!==null&&a.insertView(e),fu(t),t[L]|=128}function qw(e,t){let n=e[di],r=t[De];if(It(r))e[L]|=2;else{let i=r[De][et];t[et]!==i&&(e[L]|=2)}n===null?e[di]=[t]:n.push(t)}var Tr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[M];return Ia(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[Te]}set context(t){this._lView[Te]=t}get destroyed(){return wr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[De];if(bt(t)){let n=t[fa],r=n?n.indexOf(this):-1;r>-1&&(ba(t,r),aa(n,r))}this._attachedToViewContainer=!1}ld(this._lView[M],this._lView)}onDestroy(t){og(this._lView,t)}markForCheck(){dd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[L]&=-129}reattach(){fu(this._lView),this._lView[L]|=128}detectChanges(){this._lView[L]|=1024,Ym(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Yt].get(Jx,VI)}catch{this.exhaustive=VI}}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=fi(this._lView),n=this._lView[br];n!==null&&!t&&Bm(n,this._lView),Sw(this._lView[M],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=t;let n=fi(this._lView),r=this._lView[br];r!==null&&!n&&qw(r,this._lView),fu(this._lView)}};var $o=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=fk;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Na(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Tr(o)}}return e})();function fk(){return Zm(ze(),j())}function Zm(e,t){return e.type&4?new $o(t,e,Go(e,t)):null}function fd(e,t,n,r,i){let o=e.data[t];if(o===null)o=hk(e,t,n,r,i),gI()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=dI();o.injectorIndex=s===null?-1:s.injectorIndex}return Po(o,!0),o}function hk(e,t,n,r,i){let o=fg(),s=hg(),a=s?o:o&&o.parent,c=e.data[t]=gk(e,a,n,t,r,i);return pk(e,c,o,s),c}function pk(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function gk(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return lg()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var mk=new RegExp(`^(\\d+)*(${Lb}|${Fb})*(.*)`);function vk(e){let t=e.match(mk),[n,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function yk(e){return!e.prev&&e.parent?.type===8}function Og(e){return e.index-ce}function _k(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function hd(e,t,n,r){let i=Og(r),o=_k(e,i);if(o===void 0){let s=e.data[Bb];if(s?.[i])o=Ck(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(yk(r)){let l=Og(r.parent);o=Kg(e,l)}else{let l=Vt(c,n);if(a)o=l.firstChild;else{let u=Og(c),d=Kg(e,u);if(c.type===2&&d){let h=Mm(e,u)+1;o=pd(h,d)}else o=l.nextSibling}}}}return o}function pd(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function Ek(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case BO:n=n.firstChild;break;case HO:n=n.nextSibling;break}}return n}function Ck(e,t){let[n,...r]=vk(e),i;if(n===Fb)i=t[et][Xe];else if(n===Lb)i=mw(t[et][Xe]);else{let o=Number(n);i=wt(t[o+ce])}return Ek(i,r)}var Ik=!1;function Yw(e){Ik=e}function bk(e){let t=e[ut];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let i=e[ie];for(let o of r.values())wk(i,n,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function wk(e,t,n){for(let r of n.node.cases[n.case]){let i=t.get(r.index-ce);i&&Fm(e,i,!1)}}function gd(e){let t=e[Kt]??[],r=e[De][ie],i=[];for(let o of t)o.data[Hb]!==void 0?i.push(o):Kw(o,r);e[Kt]=i}function Dk(e){let{lContainer:t}=e,n=t[Kt];if(n===null)return;let i=t[De][ie];for(let o of n)Kw(o,i)}function Kw(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[Ca];for(;n<i;){let o=r.nextSibling;Fm(t,r,!1),r=o,n++}}}function md(e){gd(e);let t=e[Xe];It(t)&&ju(t);for(let n=xe;n<e.length;n++)ju(e[n])}function ju(e){bk(e);let t=e[M];for(let n=ce;n<t.bindingStartIndex;n++)if(bt(e[n])){let r=e[n];md(r)}else It(e[n])&&ju(e[n])}function Qm(e){let t=e._views;for(let n of t){let r=sw(n);r!==null&&r[Xe]!==null&&(It(r)?ju(r):md(r))}}function Tk(e,t,n,r){e!==null&&(n.cleanup(t),md(e.lContainer),Qm(r))}function Sk(e,t){let n=[];for(let r of t)for(let i=0;i<(r[bm]??1);i++){let o={data:r,firstChild:null};r[Ca]>0&&(o.firstChild=e,e=pd(r[Ca],e)),n.push(o)}return[e,n]}var Zw=()=>null,Qw=()=>null;function Jw(){Zw=Ak,Qw=Rk}function Ak(e,t){return eD(e,t)?e[Kt].shift():(gd(e),null)}function Uu(e,t){return Zw(e,t)}function Rk(e,t,n){if(t.tView.ssrId===null)return null;let r=Uu(e,t.tView.ssrId);return n[M].firstUpdatePass&&r===null&&Mk(n,t),r}function Xw(e,t,n){return Qw(e,t,n)}function Mk(e,t){let n=t;for(;n;){if(jI(e,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=t.next;n&&(n.flags&512)===512;){if(jI(e,n))return;n=n.next}}function eD(e,t){let n=e[Kt];return!t||n===null||n.length===0?!1:n[0].data[Ub]===t}function jI(e,t){let n=t.tView?.ssrId;if(n==null)return!1;let r=e[t.index];return bt(r)&&eD(r,n)?(gd(r),!0):!1}var tD=class{},vd=class{},em=class{resolveComponentFactory(t){throw new b(917,!1)}},xa=class{static NULL=new em},_i=class{},At=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Nk()}return e})();function Nk(){let e=j(),t=ze(),n=jt(t.index,e);return(It(n)?n:e)[ie]}var nD=(()=>{class e{static \u0275prov=S({token:e,providedIn:"root",factory:()=>null})}return e})();var Au={},Vo=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,Au,r);return i!==Au||n===Au?i:this.parentInjector.get(t,n,r)}};function Bu(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=xp(i,a);else if(o==2){let c=a,l=t[++s];r=xp(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function x(e,t=0){let n=j();if(n===null)return R(e,t);let r=ze();return wb(r,n,We(e),t)}function Jm(){let e="invalid";throw new Error(e)}function Ok(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}Pk(e,t,n,a,o,c,l)}o!==null&&r!==null&&xk(n,r,o)}function xk(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new b(-301,!1);r.push(t[i],o)}}function kk(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Pk(e,t,n,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&In(h)&&(c=!0,kk(e,n,f)),Wg(ku(n,t),e,h.type)}Bk(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=Dw(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=Uo(n.mergedAttrs,h.hostAttrs),Lk(e,n,t,d,h),Uk(d,h,i),s!==null&&s.has(h)){let[y,v]=s.get(h);n.directiveToIndex.set(h.type,[d,y+n.directiveStart,v+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}Fk(e,n,o)}function Fk(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))UI(0,t,i,r),UI(1,t,i,r),HI(t,r,!1);else{let o=n.get(i);BI(0,t,o,r),BI(1,t,o,r),HI(t,r,!0)}}}function UI(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),rD(t,o)}}function BI(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),rD(t,s)}}function rD(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function HI(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||km(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function Lk(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Er(i.type,!0)),s=new yi(o,In(i),x,null);e.blueprint[r]=s,n[r]=s,Vk(e,t,r,Dw(e,n,i.hostVars,St),i)}function Vk(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;jk(s)!=a&&s.push(a),s.push(n,r,o)}}function jk(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function Uk(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;In(t)&&(n[""]=e)}}function Bk(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function iD(e,t,n,r,i,o,s,a){let c=t[M],l=c.consts,u=bn(l,s),d=fd(c,e,n,r,u);return o&&Ok(c,t,d,bn(l,a),i),d.mergedAttrs=Uo(d.mergedAttrs,d.attrs),d.attrs!==null&&Bu(d,d.attrs,!1),d.mergedAttrs!==null&&Bu(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function oD(e,t){vO(e,t),eg(t)&&e.queries.elementEnd(t)}function Hk(e,t,n,r,i,o){let s=t.consts,a=bn(s,i),c=fd(t,e,n,r,a);if(c.mergedAttrs=Uo(c.mergedAttrs,c.attrs),o!=null){let l=bn(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&Bu(c,c.attrs,!1),c.mergedAttrs!==null&&Bu(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Xm(e,t,n){return e[t]=n}function $k(e,t){return e[t]}function Tn(e,t,n){if(n===St)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function sD(e,t,n,r){let i=Tn(e,t,n);return Tn(e,t+1,r)||i}function xg(e,t,n){return function r(i){let o=er(e)?jt(e.index,t):t;dd(o,5);let s=t[Te],a=$I(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=$I(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function $I(e,t,n,r){let i=F(null);try{return X(6,t,n),n(r)!==!1}catch(o){return zm(e,o),!1}finally{X(7,t,n),F(i)}}function Wk(e,t,n,r,i,o,s,a){let c=uu(e),l=!1,u=null;if(!r&&c&&(u=zk(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=Vt(e,n),f=r?r(d):d;$O(n,f,o,a);let h=i.listen(f,o,a),p=r?y=>r(wt(y[e.index])):e.index;aD(p,t,n,o,a,h,!1)}return l}function zk(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Oo],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function aD(e,t,n,r,i,o,s){let a=t.firstCreatePass?ag(t):null,c=sg(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function WI(e,t,n,r,i,o){let s=t[n],a=t[M],l=a.data[n].outputs[r],d=s[l].subscribe(o);aD(e.index,a,t,i,o,d,!0)}var tm=Symbol("BINDING");var Hu=class extends xa{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=yn(t);return new Ei(n,this.ngModule)}};function Gk(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&cd.SignalBased)!==0};return i&&(o.transform=i),o})}function qk(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function Yk(e,t,n){let r=t instanceof he?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Vo(n,r):n}function Kk(e){let t=e.get(_i,null);if(t===null)throw new b(407,!1);let n=e.get(nD,null),r=e.get(Xn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Zk(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Pm(t,n,n==="svg"?XC:n==="math"?eI:null)}var Ei=class extends vd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Gk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=qk(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=px(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){X(22);let a=F(null);try{let c=this.componentDef,l=Qk(r,c,s,o),u=Yk(c,i||this.ngModule,t),d=Kk(u),f=d.rendererFactory.createRenderer(null,c),h=r?Fx(f,r,c.encapsulation,u):Zk(c,f),p=s?.some(zI)||o?.some(E=>typeof E!="function"&&E.bindings.some(zI)),y=Vm(null,l,null,512|ww(c),null,null,d,f,u,null,ow(h,u,!0));y[ce]=h,gu(y);let v=null;try{let E=iD(ce,y,2,"#host",()=>l.directiveRegistry,!0,0);h&&(bw(f,h,E),Bo(h,y)),Mw(l,y,E),fw(l,E,y),oD(l,E),n!==void 0&&Xk(E,this.ngContentSelectors,n),v=jt(E.index,y),y[Te]=v[Te],qm(l,y,null)}catch(E){throw v!==null&&Gg(v),Gg(y),E}finally{X(23),mu()}return new $u(this.componentType,y,!!p)}finally{F(a)}}};function Qk(e,t,n,r){let i=e?["ng-version","20.1.7"]:gx(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[tm].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let f of d.bindings){a+=f[tm].requiredVars;let h=u+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,f=au(d);c.push(f)}return Lm(0,null,Jk(o,s),1,a,c,null,null,null,[i],null)}function Jk(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function zI(e){let t=e[tm].kind;return t==="input"||t==="twoWay"}var $u=class extends tD{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=hi(n[M],ce),this.location=Go(this._tNode,n),this.instance=jt(this._tNode.index,n)[Te],this.hostView=this.changeDetectorRef=new Tr(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Gm(r,i[M],i,t,n);this.previousInputValues.set(t,n);let s=jt(r.index,i);dd(s,1)}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Xk(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var wi=(()=>{class e{static __NG_ELEMENT_ID__=eP}return e})();function eP(){let e=ze();return lD(e,j())}var tP=wi,cD=class extends tP{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Go(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){let t=Em(this._hostTNode,this._hostLView);if(yb(t)){let n=Ou(t,this._hostLView),r=Nu(t),i=n[M].data[r+8];return new vi(i,n)}else return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=GI(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-xe}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Uu(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ho(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!fO(t),l;if(c)l=n;else{let v=n||{};l=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let u=c?t:new Ei(yn(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let E=(c?d:this.parentInjector).get(he,null);E&&(o=E)}let f=yn(u.componentType??{}),h=Uu(this._lContainer,f?.id??null),p=h?.firstChild??null,y=u.create(d,i,p,o,s,a);return this.insertImpl(y.hostView,l,Ho(this._hostTNode,h)),y}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(rI(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[De],l=new cD(c,c[Lt],c[De]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Oa(s,i,o,r),t.attachToViewContainerRef(),zp(kg(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=GI(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=ba(this._lContainer,n);r&&(aa(kg(this._lContainer),n),ld(r[M],r))}detach(t){let n=this._adjustIndex(t,-1),r=ba(this._lContainer,n);return r&&aa(kg(this._lContainer),n)!=null?new Tr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function GI(e){return e[fa]}function kg(e){return e[fa]||(e[fa]=[])}function lD(e,t){let n,r=t[e.index];return bt(r)?n=r:(n=zw(r,t,null,e),t[e.index]=n,jm(t,n)),uD(n,t,e,r),new cD(n,e,t)}function nP(e,t){let n=e[ie],r=n.createComment(""),i=Vt(t,e),o=n.parentNode(i);return Vu(n,o,r,n.nextSibling(i),!1),r}var uD=dD,ev=()=>!1;function rP(e,t,n){return ev(e,t,n)}function dD(e,t,n,r){if(e[Cn])return;let i;n.type&8?i=wt(r):i=nP(t,n),e[Cn]=i}function iP(e,t,n){if(e[Cn]&&e[Kt])return!0;let r=n[ut],i=t.index-ce;if(!r||Mb(t)||lw(r,i))return!1;let s=Kg(r,i),a=r.data[nd]?.[i],[c,l]=Sk(s,a);return e[Cn]=c,e[Kt]=l,!0}function oP(e,t,n,r){ev(e,n,t)||dD(e,t,n,r)}function fD(){uD=oP,ev=iP}var nm=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},rm=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)tv(t,n).matches!==null&&this.queries[n].setDirty()}},im=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=hP(t):this.predicate=t}},om=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},sm=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,sP(n,o)),this.matchTNodeWithReadOption(t,n,Tu(n,t,o,!1,!1))}else r===$o?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Tu(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===rt||i===wi||i===$o&&n.type&4)this.addMatch(n.index,-2);else{let o=Tu(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function sP(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function aP(e,t){return e.type&11?Go(e,t):e.type&4?Zm(e,t):null}function cP(e,t,n,r){return n===-1?aP(t,e):n===-2?lP(e,t,r):Ea(e,e[M],n,t)}function lP(e,t,n){if(n===rt)return Go(t,e);if(n===$o)return Zm(t,e);if(n===wi)return lD(t,e)}function hD(e,t,n,r){let i=t[En].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(cP(t,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function am(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=hD(e,t,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=t[-c];for(let d=xe;d<u.length;d++){let f=u[d];f[br]===f[De]&&am(f[M],f,l,r)}if(u[di]!==null){let d=u[di];for(let f=0;f<d.length;f++){let h=d[f];am(h[M],h,l,r)}}}}}return r}function uP(e,t){return e[En].queries[t].queryList}function dP(e,t,n){let r=new Pu((n&4)===4);return sI(e,t,r,r.destroy),(t[En]??=new rm).queries.push(new nm(r))-1}function fP(e,t,n){let r=je();return r.firstCreatePass&&(pP(r,new im(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),dP(r,j(),t)}function hP(e){return e.split(",").map(t=>t.trim())}function pP(e,t,n){e.queries===null&&(e.queries=new om),e.queries.track(new sm(t,n))}function tv(e,t){return e.queries.getByIndex(t)}function gP(e,t){let n=e[M],r=tv(n,t);return r.crossesNgTemplate?am(n,e,t,[]):hD(n,e,r,t)}var qI=new Set;function ht(e){qI.has(e)||(qI.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Ci=class{},yd=class{};var Wu=class extends Ci{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Hu(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Yp(t);this._bootstrapComponents=vw(o.bootstrap),this._r3Injector=Ig(t,n,[{provide:Ci,useValue:this},{provide:xa,useValue:this.componentFactoryResolver},...r],Jn(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},zu=class extends yd{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Wu(this.moduleType,t,[])}};var wa=class extends Ci{injector;componentFactoryResolver=new Hu(this);instance=null;constructor(t){super();let n=new oi([...t.providers,{provide:Ci,useValue:this},{provide:xa,useValue:this.componentFactoryResolver}],t.parent||la(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Di(e,t,n=null){return new wa({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var mP=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=cu(!1,n.type),i=r.length>0?Di([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=S({token:e,providedIn:"environment",factory:()=>new e(R(he))})}return e})();function Rt(e){return zo(()=>{let t=pD(e),n=P(_({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Cm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(mP).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ir.Emulated,styles:e.styles||_t,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&ht("NgStandalone"),gD(n);let r=e.dependencies;return n.directiveDefs=YI(r,vP),n.pipeDefs=YI(r,Kp),n.id=EP(n),n})}function vP(e){return yn(e)||au(e)}function en(e){return zo(()=>({type:e.type,bootstrap:e.bootstrap||_t,declarations:e.declarations||_t,imports:e.imports||_t,exports:e.exports||_t,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function yP(e,t){if(e==null)return Ir;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=cd.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function _P(e){if(e==null)return Ir;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function pe(e){return zo(()=>{let t=pD(e);return gD(t),t})}function nv(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function pD(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Ir,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||_t,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:yP(e.inputs,t),outputs:_P(e.outputs),debugInfo:null}}function gD(e){e.features?.forEach(t=>t(e))}function YI(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function EP(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function CP(e){return Object.getPrototypeOf(e.prototype).constructor}function pt(e){let t=CP(e.type),n=!0,r=[e];for(;t;){let i;if(In(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new b(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Pg(e.inputs),s.declaredInputs=Pg(e.declaredInputs),s.outputs=Pg(e.outputs);let a=i.hostBindings;a&&TP(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&wP(e,c),l&&DP(e,l),IP(e,i),LC(e.outputs,i.outputs),In(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===pt&&(n=!1)}}t=Object.getPrototypeOf(t)}bP(r)}function IP(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function bP(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Uo(i.hostAttrs,n=Uo(n,i.hostAttrs))}}function Pg(e){return e===Ir?{}:e===_t?[]:e}function wP(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function DP(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function TP(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function SP(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Uo(e.mergedAttrs,e.attrs);let u=e.tView=Lm(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Po(e,!1);let c=mD(n,t,e,r);yu()&&Hm(n,t,c,e),Bo(c,t);let l=zw(c,t,c,e);t[r+ce]=l,jm(t,l),rP(l,e,t)}function Gu(e,t,n,r,i,o,s,a,c,l,u){let d=n+ce,f;if(t.firstCreatePass){if(f=fd(t,d,4,s||null,a||null),l!=null){let h=bn(t.consts,l);f.localNames=[];for(let p=0;p<h.length;p+=2)f.localNames.push(h[p],-1)}}else f=t.data[d];return SP(f,e,t,n,r,i,o,c),l!=null&&Wm(e,f,u),f}var mD=vD;function vD(e,t,n,r){return nr(!0),t[ie].createComment("")}function AP(e,t,n,r){let i=!sd(t,n);nr(i);let o=t[ut]?.data[jb]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return vD(e,t);let s=t[ut],a=hd(s,e,t,n);od(s,r,a);let c=Mm(s,r);return pd(c,a)}function yD(){mD=AP}var Tt=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(Tt||{}),KI=0,RP=1,Me=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(Me||{});var MP=0,ka=1;var NP=4,OP=5;var xP=7,jo=8,kP=9,rv=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(rv||{});function Ru(e,t){let n=FP(e),r=t[n];if(r!==null){for(let i of r)i();t[n]=null}}function PP(e){Ru(1,e),Ru(0,e),Ru(2,e)}function FP(e){let t=NP;return e===1?t=OP:e===2&&(t=kP),t}var _d=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(_d||{}),Ti=new I(""),_D=!1,cm=class extends be{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,QC()&&(this.destroyRef=g(Zt,{optional:!0})??void 0,this.pendingTasks=g(Qt,{optional:!0})??void 0)}emit(t){let n=F(null);try{super.next(t)}finally{F(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof ve&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ne=cm;function ED(e){let t,n;function r(){e=va;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function ZI(e){return queueMicrotask(()=>e()),()=>{e=va}}var iv="isAngularZone",qu=iv+"_ID",LP=0,re=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ne(!1);onMicrotaskEmpty=new Ne(!1);onStable=new Ne(!1);onError=new Ne(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=_D}=t;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,UP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(iv)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new b(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,VP,va,va);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},VP={};function ov(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function jP(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){ED(()=>{e.callbackScheduled=!1,lm(e),e.isCheckStableRunning=!0,ov(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),lm(e)}function UP(e){let t=()=>{jP(e)},n=LP++;e._inner=e._inner.fork({name:"angular",properties:{[iv]:!0,[qu]:n,[qu+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(BP(c))return r.invokeTask(o,s,a,c);try{return QI(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),JI(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return QI(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!HP(c)&&t(),JI(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,lm(e),ov(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function lm(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function QI(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function JI(e){e._nesting--,ov(e)}var Yu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ne;onMicrotaskEmpty=new Ne;onStable=new Ne;onError=new Ne;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function BP(e){return CD(e,"__ignore_ng_zone__")}function HP(e){return CD(e,"__scheduler_tick__")}function CD(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var sv=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=S({token:e,providedIn:"root",factory:()=>new e})}return e})(),ID=[0,1,2,3],bD=(()=>{class e{ngZone=g(re);scheduler=g(Xn);errorHandler=g(Gt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(Ti,{optional:!0})}execute(){let n=this.sequences.size>0;n&&X(16),this.executing=!0;for(let r of ID)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&X(17)}register(n){let{view:r}=n;r!==void 0?((r[ui]??=[]).push(n),ko(r),r[L]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(_d.AFTER_NEXT_RENDER,n):n()}static \u0275prov=S({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ku=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[ui];t&&(this.view[ui]=t.filter(n=>n!==this))}};function Yo(e,t){let n=t?.injector??g(ye);return ht("NgAfterNextRender"),WP(e,n,t,!0)}function $P(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function WP(e,t,n,r){let i=t.get(sv);i.impl??=t.get(bD);let o=t.get(Ti,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(Zt):null,a=t.get(_u,null,{optional:!0}),c=new Ku(i.impl,$P(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}function wD(e){return e+1}function Ko(e,t){let n=e[M],r=wD(t.index);return e[r]}function Pa(e,t){let n=wD(t.index);return e.data[n]}function zP(e,t,n){let r=t[M],i=Pa(r,n);switch(e){case Me.Complete:return i.primaryTmplIndex;case Me.Loading:return i.loadingTmplIndex;case Me.Error:return i.errorTmplIndex;case Me.Placeholder:return i.placeholderTmplIndex;default:return null}}function XI(e,t){return t===Me.Placeholder?e.placeholderBlockConfig?.[KI]??null:t===Me.Loading?e.loadingBlockConfig?.[KI]??null:null}function GP(e){return e.loadingBlockConfig?.[RP]??null}function eb(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function qP(e,t){let n=t.primaryTmplIndex+ce;return hi(e,n)}var YP=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?Di(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=S({token:e,providedIn:"environment",factory:()=>new e})}return e})();var DD=new I("");function Fg(e,t,n){return e.get(YP).getOrCreateInjector(t,e,n,"")}function KP(e,t,n){if(e instanceof Vo){let i=e.injector,o=e.parentInjector,s=Fg(o,t,n);return new Vo(i,s)}let r=e.get(he);if(r!==e){let i=Fg(r,t,n);return new Vo(e,i)}return Fg(e,t,n)}function mi(e,t,n,r=!1){let i=n[De],o=i[M];if(wr(i))return;let s=Ko(i,t),a=s[ka],c=s[xP];if(!(c!==null&&e<c)&&tb(a,e)&&tb(s[MP]??-1,e)){let l=Pa(o,t),d=!r&&!0&&(GP(l)!==null||XI(l,Me.Loading)!==null||XI(l,Me.Placeholder))?JP:QP;try{d(e,s,n,t,i)}catch(f){zm(i,f)}}}function ZP(e,t){let n=e[Kt]?.findIndex(i=>i.data[$b]===t[ka])??-1;return{dehydratedView:n>-1?e[Kt][n]:null,dehydratedViewIx:n}}function QP(e,t,n,r,i){X(20);let o=zP(e,i,r);if(o!==null){t[ka]=e;let s=i[M],a=o+ce,c=hi(s,a),l=0;Km(n,l);let u;if(e===Me.Complete){let p=Pa(s,r),y=p.providers;y&&y.length>0&&(u=KP(i[Yt],p,y))}let{dehydratedView:d,dehydratedViewIx:f}=ZP(n,t),h=Na(i,c,null,{injector:u,dehydratedView:d});if(Oa(n,h,l,Ho(c,d)),dd(h,2),f>-1&&n[Kt]?.splice(f,1),(e===Me.Complete||e===Me.Error)&&Array.isArray(t[jo])){for(let p of t[jo])p();t[jo]=null}}X(21)}function tb(e,t){return e<t}function nb(e,t,n){e.loadingPromise.then(()=>{e.loadingState===Tt.COMPLETE?mi(Me.Complete,t,n):e.loadingState===Tt.FAILED&&mi(Me.Error,t,n)})}var JP=null;var Ed=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var av=new I("");function Ar(e){return!!e&&typeof e.then=="function"}function cv(e){return!!e&&typeof e.subscribe=="function"}var lv=new I("");function Cd(e){return lt([{provide:lv,multi:!0,useValue:e}])}var uv=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=g(lv,{optional:!0})??[];injector=g(ye);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=_e(this.injector,i);if(Ar(o))n.push(o);else if(cv(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sr=new I("");function TD(){ep(()=>{let e="";throw new b(600,e)})}function SD(e){return e.isBoundToModule}var XP=10;var Ze=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(dt);afterRenderManager=g(sv);zonelessEnabled=g(ma);rootEffectScheduler=g(Sg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new be;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(Qt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(H(n=>!n))}constructor(){g(Ti,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=g(he);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=ye.NULL){return this._injector.get(re).run(()=>{X(10);let s=n instanceof vd;if(!this._injector.get(uv).done){let p="";throw new b(405,p)}let c;s?c=n:c=this._injector.get(xa).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=SD(c)?void 0:this._injector.get(Ci),u=r||c.selector,d=c.create(i,[],u,l),f=d.location.nativeElement,h=d.injector.get(av,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),_a(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),X(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){X(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(_d.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new b(101,!1);let n=F(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,F(n),this.afterTick.next(),X(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(_i,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<XP;)X(14),this.synchronizeOnce(),X(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!ha(i))continue;let o=r&&!this.zonelessEnabled?0:1;Ym(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ha(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;_a(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(sr,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_a(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _a(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function AD(e,t,n){let r=t[Yt],i=t[M];if(e.loadingState!==Tt.NOT_STARTED)return e.loadingPromise??Promise.resolve();let o=Ko(t,n),s=qP(i,e);e.loadingState=Tt.IN_PROGRESS,Ru(1,o);let a=e.dependencyResolverFn,c=r.get(rr).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(l=>{let u=!1,d=[],f=[];for(let h of l)if(h.status==="fulfilled"){let p=h.value,y=yn(p)||au(p);if(y)d.push(y);else{let v=Kp(p);v&&f.push(v)}}else{u=!0;break}if(u){if(e.loadingState=Tt.FAILED,e.errorTmplIndex===null){let h="",p=new b(-750,!1);zm(t,p)}}else{e.loadingState=Tt.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=eb(h.directiveRegistry,d);let p=d.map(v=>v.type),y=cu(!1,...p);e.providers=y}f.length>0&&(h.pipeRegistry=eb(h.pipeRegistry,f))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,c()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=Tt.COMPLETE,c()}),e.loadingPromise)}function e1(e,t){return t[Yt].get(DD,null,{optional:!0})?.behavior!==rv.Manual}function t1(e,t,n){let r=t[M],i=t[n.index];if(!e1(e,t))return;let o=Ko(t,n),s=Pa(r,n);switch(PP(o),s.loadingState){case Tt.NOT_STARTED:mi(Me.Loading,n,i),AD(s,t,n),s.loadingState===Tt.IN_PROGRESS&&nb(s,n,i);break;case Tt.IN_PROGRESS:mi(Me.Loading,n,i),nb(s,n,i);break;case Tt.COMPLETE:mi(Me.Complete,n,i);break;case Tt.FAILED:mi(Me.Error,n,i);break;default:}}function RD(e,t,n){return m(this,null,function*(){let r=e.get(rd);if(r.hydrating.has(t))return;let{parentBlockPromise:o,hydrationQueue:s}=QO(t,e);if(s.length===0)return;o!==null&&s.shift(),i1(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield rb(e,s,n):r.awaitParentBlock(a,()=>m(null,null,function*(){return yield rb(e,s,n)}))})}function rb(e,t,n){return m(this,null,function*(){let r=e.get(rd),i=r.hydrating,o=e.get(Qt),s=o.add();for(let c=0;c<t.length;c++){let l=t[c],u=r.get(l);if(u!=null){if(yield s1(u),yield o1(e),n1(u)){Dk(u),ib(t.slice(c),r);break}i.get(l).resolve()}else{r1(c,t,r),ib(t.slice(c),r);break}}let a=t[t.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(t),Tk(r.get(a),t,r,e.get(Ze))})}function n1(e){return Ko(e.lView,e.tNode)[ka]===Me.Error}function r1(e,t,n){let r=e-1,i=r>-1?n.get(t[r]):null;i&&md(i.lContainer)}function ib(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function i1(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}function o1(e){return new Promise(t=>Yo(t,{injector:e}))}function s1(e){return m(this,null,function*(){let{tNode:t,lView:n}=e,r=Ko(n,t);return new Promise(i=>{a1(r,i),t1(2,n,t)})})}function a1(e,t){Array.isArray(e[jo])||(e[jo]=[]),e[jo].push(t)}function ar(e,t,n,r){let i=j(),o=pi();if(Tn(i,o,t)){let s=je(),a=vu();Gx(a,i,e,t,n,r)}return ar}var um=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function Lg(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function c1(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=s&&o<=c;){let l=e.at(o),u=t[o],d=Lg(o,l,o,u,n);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let f=e.at(s),h=t[c],p=Lg(s,f,c,h,n);if(p!==0){p<0&&e.updateValue(s,h),s--,c--;continue}let y=n(o,l),v=n(s,f),E=n(o,u);if(Object.is(E,v)){let $=n(c,h);Object.is($,y)?(e.swap(o,s),e.updateValue(s,h),c--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(r??=new Zu,i??=sb(e,o,s,n),dm(e,r,o,E))e.updateValue(o,u),o++,s++;else if(i.has(E))r.set(y,e.detach(o)),s--;else{let $=e.create(o,t[o]);e.attach(o,$),o++,s++}}for(;o<=c;)ob(e,r,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=e.at(o),d=l.value,f=Lg(o,u,o,d,n);if(f!==0)f<0&&e.updateValue(o,d),o++,l=c.next();else{r??=new Zu,i??=sb(e,o,s,n);let h=n(o,d);if(dm(e,r,o,h))e.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(h))e.attach(o,e.create(o,d)),o++,s++,l=c.next();else{let p=n(o,u);r.set(p,e.detach(o)),s--}}}for(;!l.done;)ob(e,r,n,e.length,l.value),l=c.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function dm(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function ob(e,t,n,r,i){if(dm(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function sb(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var Zu=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function ke(e,t,n,r,i,o,s,a){ht("NgControlFlow");let c=j(),l=je(),u=bn(l.consts,o);return Gu(c,l,e,t,n,r,i,u,256,s,a),dv}function dv(e,t,n,r,i,o,s,a){ht("NgControlFlow");let c=j(),l=je(),u=bn(l.consts,o);return Gu(c,l,e,t,n,r,i,u,512,s,a),dv}function Pe(e,t){ht("NgControlFlow");let n=j(),r=pi(),i=n[r]!==St?n[r]:-1,o=i!==-1?Qu(n,ce+i):void 0,s=0;if(Tn(n,r,e)){let a=F(null);try{if(o!==void 0&&Km(o,s),e!==-1){let c=ce+e,l=Qu(n,c),u=gm(n[M],c),d=Xw(l,u,n),f=Na(n,u,t,{dehydratedView:d});Oa(l,f,s,Ho(u,d))}}finally{F(a)}}else if(o!==void 0){let a=Gw(o,s);a!==void 0&&(a[Te]=t)}}var fm=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-xe}};function Si(e){return e}function Ai(e,t){return t}var hm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Mt(e,t,n,r,i,o,s,a,c,l,u,d,f){ht("NgControlFlow");let h=j(),p=je(),y=c!==void 0,v=j(),E=a?s.bind(v[et][Te]):s,$=new hm(y,E);v[ce+e]=$,Gu(h,p,e+1,t,n,r,i,bn(p.consts,o),256),y&&Gu(h,p,e+2,c,l,u,d,bn(p.consts,f),512)}var pm=class extends um{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-xe}at(t){return this.getLView(t)[Te].$implicit}attach(t,n){let r=n[ut];this.needsIndexUpdate||=t!==this.length,Oa(this.lContainer,n,t,Ho(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,l1(this.lContainer,t)}create(t,n){let r=Uu(this.lContainer,this.templateTNode.tView.ssrId),i=Na(this.hostLView,this.templateTNode,new fm(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){ld(t[M],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[Te].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Te].$index=t}getLView(t){return u1(this.lContainer,t)}};function Nt(e){let t=F(null),n=tr();try{let r=j(),i=r[M],o=r[n],s=n+1,a=Qu(r,s);if(o.liveCollection===void 0){let l=gm(i,s);o.liveCollection=new pm(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(c1(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=pi(),u=c.length===0;if(Tn(r,l,u)){let d=n+2,f=Qu(r,d);if(u){let h=gm(i,d),p=Xw(f,h,r),y=Na(r,h,void 0,{dehydratedView:p});Oa(f,y,0,Ho(h,p))}else i.firstUpdatePass&&gd(f),Km(f,0)}}}finally{F(t)}}function Qu(e,t){return e[t]}function l1(e,t){return ba(e,t)}function u1(e,t){return Gw(e,t)}function gm(e,t){return hi(e,t)}function ue(e,t,n){let r=j(),i=pi();if(Tn(r,i,t)){let o=je(),s=vu();xw(s,r,e,t,r[ie],n)}return ue}function ab(e,t,n,r,i){Gm(t,e,n,i?"class":"style",r)}function w(e,t,n,r){let i=j(),o=i[M],s=e+ce,a=o.firstCreatePass?iD(s,i,2,t,zx,lI(),n,r):o.data[s];if(kw(a,i,e,t,fv),uu(a)){let c=i[M];Mw(c,i,a),fw(c,a,i)}return r!=null&&Wm(i,a),w}function D(){let e=je(),t=ze(),n=Pw(t);return e.firstCreatePass&&oD(e,n),ug(n)&&dg(),cg(),n.classesWithoutHost!=null&&_O(n)&&ab(e,n,j(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&EO(n)&&ab(e,n,j(),n.stylesWithoutHost,!1),D}function Se(e,t,n,r){return w(e,t,n,r),D(),Se}function Ce(e,t,n,r){let i=j(),o=i[M],s=e+ce,a=o.firstCreatePass?Hk(s,o,2,t,n,r):o.data[s];return kw(a,i,e,t,fv),r!=null&&Wm(i,a),Ce}function me(){let e=ze(),t=Pw(e);return ug(t)&&dg(),cg(),me}function cr(e,t,n,r){return Ce(e,t,n,r),me(),cr}var fv=(e,t,n,r,i)=>(nr(!0),Pm(t[ie],r,Cg()));function d1(e,t,n,r,i){let o=!sd(t,n);if(nr(o),o)return Pm(t[ie],r,Cg());let s=t[ut],a=hd(s,e,t,n);return cw(s,i)&&od(s,i,a.nextSibling),s&&(Ab(n)||Rb(a))&&er(n)&&(uI(n),Iw(a)),a}function MD(){fv=d1}var f1=(e,t,n,r,i)=>(nr(!0),Ew(t[ie],""));function h1(e,t,n,r,i){let o,s=!sd(t,n);if(nr(s),s)return Ew(t[ie],"");let a=t[ut],c=hd(a,e,t,n),l=KO(a,i);return od(a,i,c),o=pd(l,c),o}function ND(){f1=h1}function lr(){return j()}var gi=void 0;function p1(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var g1=["en",[["a","p"],["AM","PM"],gi],[["AM","PM"],gi,gi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gi,"{1} 'at' {0}",gi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",p1],Vg={};function Id(e){let t=m1(e),n=cb(t);if(n)return n;let r=t.split("-")[0];if(n=cb(r),n)return n;if(r==="en")return g1;throw new b(701,!1)}function cb(e){return e in Vg||(Vg[e]=vn.ng&&vn.ng.common&&vn.ng.common.locales&&vn.ng.common.locales[e]),Vg[e]}var Ri=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ri||{});function m1(e){return e.toLowerCase().replace(/_/g,"-")}var Fa="en-US";var v1=Fa;function OD(e){typeof e=="string"&&(v1=e.toLowerCase().replace(/_/g,"-"))}function ge(e,t,n){let r=j(),i=je(),o=ze();return xD(i,r,r[ie],o,e,t,n),ge}function xD(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=xg(r,t,o),Wk(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],h=u[d+1];c??=xg(r,t,o),WI(r,t,f,h,i,c)}if(l&&l.length)for(let d of l)c??=xg(r,t,o),WI(r,t,d,i,i,c)}}function z(e=1){return II(e)}function hv(e,t,n){fP(e,t,n)}function bd(e){let t=j(),n=je(),r=yg();pu(r+1);let i=tv(n,r);if(e.dirty&&nI(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=gP(t,r);e.reset(o,xO),e.notifyOnChanges()}return!0}return!1}function wd(){return uP(j(),yg())}function bu(e,t){return e<<17|t<<2}function Ii(e){return e>>17&32767}function y1(e){return(e&2)==2}function _1(e,t){return e&131071|t<<17}function mm(e){return e|2}function Wo(e){return(e&131068)>>2}function jg(e,t){return e&-131069|t<<2}function E1(e){return(e&1)===1}function vm(e){return e|1}function C1(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Ii(s),c=Wo(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||No(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=Ii(e[a+1]);e[r+1]=bu(f,a),f!==0&&(e[f+1]=jg(e[f+1],r)),e[a+1]=_1(e[a+1],r)}else e[r+1]=bu(a,0),a!==0&&(e[a+1]=jg(e[a+1],r)),a=r;else e[r+1]=bu(c,0),a===0?a=r:e[c+1]=jg(e[c+1],r),c=r;l&&(e[r+1]=mm(e[r+1])),lb(e,u,r,!0),lb(e,u,r,!1),I1(t,u,e,r,o),s=bu(a,c),o?t.classBindings=s:t.styleBindings=s}function I1(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&No(o,t)>=0&&(n[r+1]=vm(n[r+1]))}function lb(e,t,n,r){let i=e[n+1],o=t===null,s=r?Ii(i):Wo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];b1(c,t)&&(a=!0,e[s+1]=r?vm(l):mm(l)),s=r?Ii(l):Wo(l)}a&&(e[n+1]=r?mm(i):vm(i))}function b1(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?No(e,t)>=0:!1}function Zo(e,t,n){return kD(e,t,n,!1),Zo}function La(e,t){return kD(e,t,null,!0),La}function kD(e,t,n,r){let i=j(),o=je(),s=vg(2);if(o.firstUpdatePass&&D1(o,e,s,r),t!==St&&Tn(i,s,t)){let a=o.data[tr()];M1(o,a,i,i[ie],e,i[s+1]=N1(t,n),r,s)}}function w1(e,t){return t>=e.expandoStartIndex}function D1(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[tr()],s=w1(e,n);O1(o,r)&&t===null&&!s&&(t=!1),t=T1(i,o,t,r),C1(i,o,t,n,s,r)}}function T1(e,t,n,r){let i=yI(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Ug(null,e,t,n,r),n=Da(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Ug(i,e,t,n,r),o===null){let c=S1(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Ug(null,e,t,c[1],r),c=Da(c,t.attrs,r),A1(e,t,r,c))}else o=R1(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function S1(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Wo(r)!==0)return e[Ii(r)]}function A1(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Ii(i)]=r}function R1(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Da(r,s,n)}return Da(r,t.attrs,n)}function Ug(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Da(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Da(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),GC(e,s,n?!0:t[++o]))}return e===void 0?null:e}function M1(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=E1(l)?ub(c,t,n,i,Wo(l),s):void 0;if(!Ju(u)){Ju(o)||y1(l)&&(o=ub(c,null,n,i,a,s));let d=tg(tr(),n);Px(r,s,d,i,o)}}function ub(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===St&&(f=d?_t:void 0);let h=d?su(f,r):u===r?f:void 0;if(l&&!Ju(h)&&(h=su(c,r)),Ju(h)&&(a=h,s))return a;let p=e[i+1];i=s?Ii(p):Wo(p)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=su(c,r))}return a}function Ju(e){return e!==void 0}function N1(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Jn(qo(e)))),e}function O1(e,t){return(e.flags&(t?8:16))!==0}function T(e,t=""){let n=j(),r=je(),i=e+ce,o=r.firstCreatePass?fd(r,i,1,t,null):r.data[i],s=PD(r,n,o,t,e);n[i]=s,yu()&&Hm(r,n,s,o),Po(o,!1)}var PD=(e,t,n,r,i)=>(nr(!0),_w(t[ie],r));function x1(e,t,n,r,i){let o=!sd(t,n);if(nr(o),o)return _w(t[ie],r);let s=t[ut];return hd(s,e,t,n)}function FD(){PD=x1}function k1(e,t,n,r=""){return Tn(e,pi(),n)?t+ai(n)+r:St}function P1(e,t,n,r,i,o=""){let s=hI(),a=sD(e,s,n,i);return vg(2),a?t+ai(n)+r+ai(i)+o:St}function Ge(e){return de("",e),Ge}function de(e,t,n){let r=j(),i=k1(r,e,t,n);return i!==St&&LD(r,tr(),i),de}function Qo(e,t,n,r,i){let o=j(),s=P1(o,e,t,n,r,i);return s!==St&&LD(o,tr(),s),Qo}function LD(e,t,n){let r=tg(t,e);mx(e[ie],r,n)}function Jo(e,t,n){wg(t)&&(t=t());let r=j(),i=pi();if(Tn(r,i,t)){let o=je(),s=vu();xw(s,r,e,t,r[ie],n)}return Jo}function Va(e,t){let n=wg(e);return n&&e.set(t),n}function Xo(e,t){let n=j(),r=je(),i=ze();return xD(r,n,n[ie],i,e,t),Xo}function F1(e,t,n){let r=je();if(r.firstCreatePass){let i=In(e);ym(n,r.data,r.blueprint,i,!0),ym(t,r.data,r.blueprint,i,!1)}}function ym(e,t,n,r,i){if(e=We(e),Array.isArray(e))for(let o=0;o<e.length;o++)ym(e[o],t,n,r,i);else{let o=je(),s=j(),a=ze(),c=ii(e)?e:We(e.provide),l=Qp(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(ii(e)||!e.multi){let h=new yi(l,i,x,null),p=Hg(c,t,i?u:u+f,d);p===-1?(Wg(ku(a,s),o,c),Bg(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Hg(c,t,u+f,d),p=Hg(c,t,u,u+f),y=h>=0&&n[h],v=p>=0&&n[p];if(i&&!v||!i&&!y){Wg(ku(a,s),o,c);let E=j1(i?V1:L1,n.length,i,r,l,e);!i&&v&&(n[p].providerFactory=E),Bg(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)}else{let E=VD(n[i?p:h],l,!i&&r);Bg(o,e,h>-1?h:p,E)}!i&&r&&v&&n[p].componentProviders++}}}function Bg(e,t,n,r){let i=ii(t),o=ZC(t);if(i||o){let c=(o?We(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function VD(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Hg(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function L1(e,t,n,r,i){return _m(this.multi,[])}function V1(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ea(r,r[M],this.providerFactory.index,i);s=c.slice(0,a),_m(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],_m(o,s);return s}function _m(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function j1(e,t,n,r,i,o){let s=new yi(e,n,x,null);return s.multi=[],s.index=t,s.componentProviders=0,VD(s,i,r&&!n),s}function Rn(e,t=[]){return n=>{n.providersResolver=(r,i)=>F1(r,i?i(e):e,t)}}function Rr(e,t,n){let r=ga()+e,i=j();return i[r]===St?Xm(i,r,n?t.call(n):t()):$k(i,r)}function es(e,t,n,r){return U1(j(),ga(),e,t,n,r)}function ja(e,t,n,r,i){return UD(j(),ga(),e,t,n,r,i)}function jD(e,t){let n=e[t];return n===St?void 0:n}function U1(e,t,n,r,i,o){let s=t+n;return Tn(e,s,i)?Xm(e,s+1,o?r.call(o,i):r(i)):jD(e,s+1)}function UD(e,t,n,r,i,o,s){let a=t+n;return sD(e,a,i,o)?Xm(e,a+2,s?r.call(s,i,o):r(i,o)):jD(e,a+2)}function ts(e,t){let n=je(),r,i=e+ce;n.firstCreatePass?(r=B1(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Er(r.type,!0)),s,a=Je(x);try{let c=xu(!1),l=o();return xu(c),ng(n,j(),i,l),l}finally{Je(a)}}function B1(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function ns(e,t,n,r){let i=e+ce,o=j(),s=tI(o,i);return H1(o,i)?UD(o,ga(),t,s.transform,n,r,s):s.transform(n,r)}function H1(e,t){return e[M].data[t].pure}var Xu=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},pv=(()=>{class e{compileModuleSync(n){return new zu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Yp(n),o=vw(i.declarations).reduce((s,a)=>{let c=yn(a);return c&&s.push(new Ei(c)),s},[]);return new Xu(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $1=(()=>{class e{zone=g(re);changeDetectionScheduler=g(Xn);applicationRef=g(Ze);applicationErrorHandler=g(dt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BD({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new re(P(_({},HD()),{scheduleInRootZone:n})),[{provide:re,useFactory:e},{provide:qt,multi:!0,useFactory:()=>{let r=g($1,{optional:!0});return()=>r.initialize()}},{provide:qt,multi:!0,useFactory:()=>{let r=g(W1);return()=>{r.initialize()}}},t===!0?{provide:Dg,useValue:!0}:[],{provide:Tg,useValue:n??_D},{provide:dt,useFactory:()=>{let r=g(re),i=g(he),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Gt),o.handleError(s))})}}}]}function HD(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var W1=(()=>{class e{subscription=new ve;initialized=!1;zone=g(re);pendingTasks=g(Qt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{re.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $D=(()=>{class e{applicationErrorHandler=g(dt);appRef=g(Ze);taskService=g(Qt);ngZone=g(re);zonelessEnabled=g(ma);tracing=g(Ti,{optional:!0});disableScheduling=g(Dg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(Tg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Yu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?ZI:ED;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ZI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function z1(){return typeof $localize<"u"&&$localize.locale||Fa}var Ua=new I("",{providedIn:"root",factory:()=>g(Ua,{optional:!0,skipSelf:!0})||z1()});function Ut(e){return kC(e)}function Mi(e,t){return Dl(e,t?.equal)}var WD=class{[Ye];constructor(t){this[Ye]=t}destroy(){this[Ye].destroy()}};var _v={JSACTION:"__jsaction",OWNER:"__owner"},YD={};function G1(e){return e[_v.JSACTION]}function zD(e,t){e[_v.JSACTION]=t}function q1(e){return YD[e]}function Y1(e,t){YD[e]=t}var O={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},K1=[O.MOUSEENTER,O.MOUSELEAVE,"pointerenter","pointerleave"],X7=[O.CLICK,O.DBLCLICK,O.FOCUSIN,O.FOCUSOUT,O.KEYDOWN,O.KEYUP,O.KEYPRESS,O.MOUSEOVER,O.MOUSEOUT,O.SUBMIT,O.TOUCHSTART,O.TOUCHEND,O.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],Z1=[O.FOCUS,O.BLUR,O.ERROR,O.LOAD,O.TOGGLE],Ev=e=>Z1.indexOf(e)>=0;function Q1(e){return e===O.MOUSEENTER?O.MOUSEOVER:e===O.MOUSELEAVE?O.MOUSEOUT:e===O.POINTERENTER?O.POINTEROVER:e===O.POINTERLEAVE?O.POINTEROUT:e}function J1(e,t,n,r){let i=!1;Ev(t)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return e.addEventListener(t,n,o),{eventType:t,handler:n,capture:i,passive:r}}function X1(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function eF(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var GD=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function tF(e){return e.which===2||e.which==null&&e.button===4}function nF(e){return GD&&e.metaKey||!GD&&e.ctrlKey||tF(e)||e.shiftKey}function rF(e,t,n){let r=e.relatedTarget;return(e.type===O.MOUSEOVER&&t===O.MOUSEENTER||e.type===O.MOUSEOUT&&t===O.MOUSELEAVE||e.type===O.POINTEROVER&&t===O.POINTERENTER||e.type===O.POINTEROUT&&t===O.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function iF(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let i=r,o=e[i];typeof o!="function"&&(n[i]=o)}return e.type===O.MOUSEOVER?n.type=O.MOUSEENTER:e.type===O.MOUSEOUT?n.type=O.MOUSELEAVE:e.type===O.POINTEROVER?n.type=O.POINTERENTER:n.type=O.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var oF=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Ad=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){oF&&(this.element.style.cursor="pointer"),this.handlerInfos.push(J1(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)X1(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},sF={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function Mr(e){return e.eventType}function Cv(e,t){e.eventType=t}function Td(e){return e.event}function KD(e,t){e.event=t}function ZD(e){return e.targetElement}function QD(e,t){e.targetElement=t}function JD(e){return e.eic}function aF(e,t){e.eic=t}function cF(e){return e.timeStamp}function lF(e,t){e.timeStamp=t}function Sd(e){return e.eia}function XD(e,t,n){e.eia=[t,n]}function gv(e){e.eia=void 0}function Dd(e){return e[1]}function uF(e){return e.eirp}function eT(e,t){e.eirp=t}function tT(e){return e.eir}function nT(e,t){e.eir=t}function rT(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function dF(e,t,n,r,i,o,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var mv=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return Mr(this.eventInfo)}setEventType(t){Cv(this.eventInfo,t)}getEvent(){return Td(this.eventInfo)}setEvent(t){KD(this.eventInfo,t)}getTargetElement(){return ZD(this.eventInfo)}setTargetElement(t){QD(this.eventInfo,t)}getContainer(){return JD(this.eventInfo)}setContainer(t){aF(this.eventInfo,t)}getTimestamp(){return cF(this.eventInfo)}setTimestamp(t){lF(this.eventInfo,t)}getAction(){let t=Sd(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){gv(this.eventInfo);return}XD(this.eventInfo,t.name,t.element)}getIsReplay(){return uF(this.eventInfo)}setIsReplay(t){eT(this.eventInfo,t)}getResolved(){return tT(this.eventInfo)}setResolved(t){nT(this.eventInfo,t)}clone(){return new e(rT(this.eventInfo))}},fF={},hF=/\s*;\s*/,pF=O.CLICK,vv=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&Mr(t)===O.CLICK&&nF(Td(t))?Cv(t,O.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){tT(t)||(this.populateAction(t,ZD(t)),nT(t,!0))}resolveParentAction(t){let n=Sd(t),r=n&&Dd(n);gv(t);let i=r&&this.getParentNode(r);i&&this.populateAction(t,i)}populateAction(t,n){let r=n;for(;r&&r!==JD(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!Sd(t));)r=this.getParentNode(r);let i=Sd(t);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(Mr(t)===O.MOUSEENTER||Mr(t)===O.MOUSELEAVE||Mr(t)===O.POINTERENTER||Mr(t)===O.POINTERLEAVE)))if(rF(Td(t),Mr(t),Dd(i))){let o=iF(Td(t),Dd(i));KD(t,o),QD(t,Dd(i))}else gv(t)}getParentNode(t){let n=t[_v.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),i=r[Mr(n)];i!==void 0&&XD(n,i,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=G1(t);if(!n){let r=t.getAttribute(Eu.JSACTION);if(!r)n=fF,zD(t,n);else{if(n=q1(r),!n){n={};let i=r.split(hF);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(sF.EVENT_ACTION_SEPARATOR),c=a!==-1,l=c?s.substr(0,a).trim():pF,u=c?s.substr(a+1).trim():s;n[l]=u}Y1(r,n)}zD(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},iT=function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e}(iT||{}),yv=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new mv(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&gF(r.element,n)&&eF(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function gF(e,t){return e.tagName==="A"&&(t.getEventType()===O.CLICK||t.getEventType()===O.CLICKMOD)}var oT=Symbol.for("propagationStopped"),Iv={REPLAY:101};var mF="`preventDefault` called during event replay.";var vF="`composedPath` called during event replay.",Rd=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new vv({clickModSupport:n}),this.dispatcher=new yv(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&EF(t),yF(t);t.getAction();){if(CF(t),Ev(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),_F(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function yF(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[oT]=!0,n()};Ni(t,"stopPropagation",r),Ni(t,"stopImmediatePropagation",r)}function _F(e){return!!e.getEvent()[oT]}function EF(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);Ni(t,"target",n),Ni(t,"eventPhase",Iv.REPLAY),Ni(t,"preventDefault",()=>{throw r(),new Error(mF+"")}),Ni(t,"composedPath",()=>{throw new Error(vF+"")})}function CF(e){let t=e.getEvent(),n=e.getAction()?.element;n&&Ni(t,"currentTarget",n,{configurable:!0})}function Ni(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function sT(e,t){e.ecrd(n=>{t.dispatch(n)},iT.I_AM_THE_JSACTION_FRAMEWORK)}function IF(e){return e?.q??[]}function bF(e){e&&(qD(e.c,e.et,e.h),qD(e.c,e.etc,e.h,!0))}function qD(e,t,n,r){for(let i=0;i<t.length;i++)e.removeEventListener(t[i],n,r)}var wF=!1,aT=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=wF;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=dF(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){eT(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&K1.indexOf(n)>=0)return;let o=(a,c,l)=>{this.handleEvent(a,c,l)};this.eventHandlers[n]=o;let s=Q1(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(n,c,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),bF(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=rT(i);Cv(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return e})();function cT(e,t=window){return IF(t._ejsas?.[e])}function bv(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var pT=Symbol("InputSignalNode#UNSET"),YF=P(_({},Tl),{transformFn:void 0,applyValueToInputSignal(e,t){po(e,t)}});function gT(e,t){let n=Object.create(YF);n.value=e,n.transformFn=t?.transform;function r(){if(uo(n),n.value===pT){let i=null;throw new b(-950,i)}return n.value}return r[Ye]=n,r}var xd=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Ta(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},KF=new I("");KF.__NG_ELEMENT_ID__=e=>{let t=ze();if(t===null)throw new b(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new b(204,!1)};function lT(e,t){return gT(e,t)}function ZF(e){return gT(pT,e)}var mT=(lT.required=ZF,lT);var Nr=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},vT=new Nr("20.1.7");var wv=new I(""),QF=new I("");function Ba(e){return!e.moduleRef}function JF(e){let t=Ba(e)?e.r3Injector:e.moduleRef.injector,n=t.get(re);return n.run(()=>{Ba(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(dt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Ba(e)){let o=()=>t.destroy(),s=e.platformInjector.get(wv);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(wv);s.add(o),e.moduleRef.onDestroy(()=>{_a(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return eL(r,n,()=>{let o=t.get(Qt),s=o.add(),a=t.get(uv);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Ua,Fa);if(OD(c||Fa),!t.get(QF,!0))return Ba(e)?t.get(Ze):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ba(e)){let u=t.get(Ze);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return XF?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var XF;function eL(e,t,n){try{let r=n();return Ar(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Nd=null;function tL(e=[],t){return ye.create({name:t,providers:[{provide:ca,useValue:"platform"},{provide:wv,useValue:new Set([()=>Nd=null])},...e]})}function nL(e=[]){if(Nd)return Nd;let t=tL(e);return Nd=t,TD(),rL(t),t}function rL(e){let t=e.get(ed,null);_e(e,()=>{t?.forEach(n=>n())})}function Dv(){return!1}var Or=(()=>{class e{static __NG_ELEMENT_ID__=iL}return e})();function iL(e){return oL(ze(),j(),(e&16)===16)}function oL(e,t,n){if(er(e)&&!n){let r=jt(e.index,t);return new Tr(r,r)}else if(e.type&175){let r=t[et];return new Tr(r,t)}return null}function yT(e){X(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=nL(r),o=[BD({}),{provide:Xn,useExisting:$D},wI,...n||[]],s=new wa({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return JF({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{X(9)}}var Md=new WeakSet,uT="",Od=[];function dT(e){return e.get(Tm,Gb)}function _T(){let e=[{provide:Tm,useFactory:()=>{let t=!0;{let n=g(An);t=!!window._ejsas?.[n]}return t&&ht("NgEventReplay"),t}}];return e.push({provide:qt,useValue:()=>{let t=g(Ze),{injector:n}=t;if(!Md.has(t)){let r=g(Sm);if(dT(n)){ew();let i=n.get(An),o=Jb(i,(s,a,c)=>{s.nodeType===Node.ELEMENT_NODE&&(Yb(s,a,c),Kb(s,r))});t.onDestroy(o)}}},multi:!0},{provide:sr,useFactory:()=>{let t=g(Ze),{injector:n}=t;return()=>{if(!dT(n)||Md.has(t))return;Md.add(t);let r=n.get(An);t.onDestroy(()=>{Md.delete(t),bv(r)}),t.whenStable().then(()=>{if(t.destroyed)return;let i=n.get(Qb);sL(i,n);let o=n.get(Sm);o.get(uT)?.forEach(Zb),o.delete(uT);let s=i.instance;aw(n)?t.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),e}var sL=(e,t)=>{let n=t.get(An),r=window._ejsas[n],i=e.instance=new aT(new Ad(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=cT(n);i.replayEarlyEventInfos(o),bv(n);let s=new Rd(a=>{aL(t,a,a.currentTarget)});sT(i,s)};function aL(e,t,n){let r=(n&&n.getAttribute(Ra))??"";/d\d+/.test(r)?cL(r,e,t,n):t.eventPhase===Iv.REPLAY&&Am(t,n)}function cL(e,t,n,r){Od.push({event:n,currentTarget:r}),RD(t,e,lL)}function lL(e){let t=[...Od],n=new Set(e);Od=[];for(let{event:r,currentTarget:i}of t){let o=i.getAttribute(Ra);n.has(o)?Am(r,i):Od.push({event:r,currentTarget:i})}}var fT=!1;function uL(){fT||(fT=!0,iw(),MD(),FD(),ND(),yD(),fD(),Jw(),Ow())}function dL(e){return e.whenStable()}function ET(){let e=[{provide:Aa,useFactory:()=>{let t=!0;return t=!!g(bi,{optional:!0})?.get(Rm,null),t&&ht("NgHydration"),t}},{provide:qt,useValue:()=>{Yw(!1),g(Aa)&&(uw(Sa()),uL())},multi:!0}];return e.push({provide:Dm,useFactory:()=>g(Aa)},{provide:sr,useFactory:()=>{if(g(Aa)){let t=g(Ze);return()=>{dL(t).then(()=>{t.destroyed||Qm(t)})}}return()=>{}},multi:!0}),lt(e)}function Oi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function CT(e){let t=yn(e);if(!t)return null;let n=new Ei(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var wT=null;function Bt(){return wT}function Tv(e){wT??=e}var $a=class{},Wa=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>g(DT),providedIn:"platform"})}return e})(),Sv=new I(""),DT=(()=>{class e extends Wa{_location;_history;_doc=g(Ee);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bt().getBaseHref(this._doc)}onPopState(n){let r=Bt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Bt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function kd(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function IT(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function tn(e){return e&&e[0]!=="?"?`?${e}`:e}var nn=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>g(Fd),providedIn:"root"})}return e})(),Pd=new I(""),Fd=(()=>{class e extends nn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return kd(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+tn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+tn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+tn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(R(Wa),R(Pd,8))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xr=(()=>{class e{_subject=new be;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=pL(IT(bT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+tn(r))}normalize(n){return e.stripTrailingSlash(hL(this._basePath,bT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+tn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+tn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=tn;static joinWithSlash=kd;static stripTrailingSlash=IT;static \u0275fac=function(r){return new(r||e)(R(nn))};static \u0275prov=S({token:e,factory:()=>fL(),providedIn:"root"})}return e})();function fL(){return new xr(R(nn))}function hL(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function bT(e){return e.replace(/\/index.html$/,"")}function pL(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Nv=(()=>{class e extends nn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=kd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+tn(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+tn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(R(Wa),R(Pd,8))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();var Ov=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Ov||{});var Mn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function rs(e,t){let n=Id(e),r=n[Ri.NumberSymbols][t];if(typeof r>"u"){if(t===Mn.CurrencyDecimal)return n[Ri.NumberSymbols][Mn.Decimal];if(t===Mn.CurrencyGroup)return n[Ri.NumberSymbols][Mn.Group]}return r}function AT(e,t){return Id(e)[Ri.NumberFormats][t]}var gL=/^(\d+)?\.((\d+)(-(\d+))?)?$/,TT=22,Ld=".",za="0",mL=";",vL=",",Av="#";function yL(e,t,n,r,i,o,s=!1){let a="",c=!1;if(!isFinite(e))a=rs(n,Mn.Infinity);else{let l=CL(e);s&&(l=EL(l));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(o){let $=o.match(gL);if($===null)throw new b(2306,!1);let ae=$[1],Z=$[3],Wt=$[5];ae!=null&&(u=Rv(ae)),Z!=null&&(d=Rv(Z)),Wt!=null?f=Rv(Wt):Z!=null&&d>f&&(f=d)}IL(l,d,f);let h=l.digits,p=l.integerLen,y=l.exponent,v=[];for(c=h.every($=>!$);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?v=h.splice(p,h.length):(v=h,h=[0]);let E=[];for(h.length>=t.lgSize&&E.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)E.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&E.unshift(h.join("")),a=E.join(rs(n,r)),v.length&&(a+=rs(n,i)+v.join("")),y&&(a+=rs(n,Mn.Exponential)+"+"+y)}return e<0&&!c?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function RT(e,t,n){let r=AT(t,Ov.Decimal),i=_L(r,rs(t,Mn.MinusSign));return yL(e,i,t,Mn.Group,Mn.Decimal,n)}function _L(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(mL),i=r[0],o=r[1],s=i.indexOf(Ld)!==-1?i.split(Ld):[i.substring(0,i.lastIndexOf(za)+1),i.substring(i.lastIndexOf(za)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(Av));for(let u=0;u<c.length;u++){let d=c.charAt(u);d===za?n.minFrac=n.maxFrac=u+1:d===Av?n.maxFrac=u+1:n.posSuf+=d}let l=a.split(vL);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let u=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(Av);n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+u).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function EL(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function CL(e){let t=Math.abs(e)+"",n=0,r,i,o,s,a;for((i=t.indexOf(Ld))>-1&&(t=t.replace(Ld,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===za;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===za;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>TT&&(r=r.splice(0,TT-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function IL(e,t,n){if(t>n)throw new b(2307,!1);let r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=t+e.integerLen,u=r.reduceRight(function(d,f,h,p){return f=f+d,p[h]=f<10?f:f-10,c&&(p[h]===0&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}function Rv(e){let t=parseInt(e);if(isNaN(t))throw new b(2305,!1);return t}var Mv=/\s+/,ST=[],Ga=(()=>{class e{_ngEl;_renderer;initialClasses=ST;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Mv):ST}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Mv):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Mv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(x(rt),x(At))};static \u0275dir=pe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();function bL(e,t){return new b(2100,!1)}var xv=(()=>{class e{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!wL(n))return null;i||=this._locale;try{let o=DL(n);return RT(o,i,r)}catch(o){throw bL(e,o.message)}}static \u0275fac=function(r){return new(r||e)(x(Ua,16))};static \u0275pipe=nv({name:"number",type:e,pure:!0})}return e})();function wL(e){return!(e==null||e===""||e!==e)}function DL(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new b(2309,!1);return e}var Vd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=en({type:e});static \u0275inj=Pt({})}return e})();function qa(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var xi=class{};var Pv="browser";function ur(e){return e===Pv}var MT=(()=>{class e{static \u0275prov=S({token:e,providedIn:"root",factory:()=>new kv(g(Ee),window)})}return e})(),kv=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(P(_({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=SL(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(mn(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(P(_({},n),{left:i-s[0],top:o-s[1]}))}};function SL(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Ud=new I(""),Uv=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(R(Ud),R(re))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),Ya=class{_doc;constructor(t){this._doc=t}manager},Fv="ng-app-id";function OT(e){for(let t of e)t.remove()}function xT(e,t){let n=t.createElement("style");return n.textContent=e,n}function AL(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Fv}="${t}"],link[${Fv}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Fv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Vv(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Bv=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,AL(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,xT);r?.forEach(i=>this.addUsage(i,this.external,Vv))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(OT(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])OT(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,xT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Vv(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(R(Ee),R(An),R(td,8),R(ft))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),Lv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Hv=/%COMP%/g;var PT="%COMP%",RL=`_nghost-${PT}`,ML=`_ngcontent-${PT}`,NL=!0,OL=new I("",{providedIn:"root",factory:()=>NL});function xL(e){return ML.replace(Hv,e)}function kL(e){return RL.replace(Hv,e)}function FT(e,t){return t.map(n=>n.replace(Hv,e))}var $v=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Ka(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof jd?i.applyToHost(n):i instanceof Za&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case ir.Emulated:o=new jd(c,l,r,this.appId,u,s,a,d,f);break;case ir.ShadowDom:return new jv(c,l,n,r,s,a,this.nonce,d,f);default:o=new Za(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(R(Uv),R(Bv),R(An),R(OL),R(Ee),R(ft),R(re),R(td),R(Ti,8))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),Ka=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Lv[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(kT(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(kT(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Lv[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Lv[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Dn.DashCase|Dn.Important)?t.style.setProperty(n,r,i&Dn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Dn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Bt().getGlobalEventTarget(this.doc,t),!t))throw new b(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function kT(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var jv=class extends Ka{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=FT(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Vv(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Za=class extends Ka{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?FT(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},jd=class extends Za{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,l,u),this.contentAttr=xL(u),this.hostAttr=kL(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Bd=class e extends $a{supportsDOMEvents=!0;static makeCurrent(){Tv(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=PL();return n==null?null:FL(n)}resetBaseElement(){Qa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return qa(document.cookie,t)}},Qa=null;function PL(){return Qa=Qa||document.head.querySelector("base"),Qa?Qa.getAttribute("href"):null}function FL(e){return new URL(e,document.baseURI).pathname}var LL=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),VT=(()=>{class e extends Ya{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(R(Ee))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),LT=["alt","control","meta","shift"],VL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},jT=(()=>{class e extends Ya{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),LT.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=VL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),LT.forEach(s=>{if(s!==i){let a=jL[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(R(Ee))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();function Wv(e,t){let n=_({rootComponent:e},UL(t));return yT(n)}function UL(e){return{appProviders:[...zL,...e?.providers??[]],platformProviders:WL}}function BL(){Bd.makeCurrent()}function HL(){return new Gt}function $L(){return Im(document),document}var WL=[{provide:ft,useValue:Pv},{provide:ed,useValue:BL,multi:!0},{provide:Ee,useFactory:$L}];var zL=[{provide:ca,useValue:"root"},{provide:Gt,useFactory:HL},{provide:Ud,useClass:VT,multi:!0,deps:[Ee]},{provide:Ud,useClass:jT,multi:!0,deps:[Ee]},$v,Bv,Uv,{provide:_i,useExisting:$v},{provide:xi,useClass:LL},[]];var ss=class{},Ja=class{},dr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var $d=class{encodeKey(t){return UT(t)}encodeValue(t){return UT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function GL(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var qL=/%(\d[a-f0-9])/gi,YL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function UT(e){return encodeURIComponent(e).replace(qL,(t,n)=>YL[n]??t)}function Hd(e){return`${e}`}var rn=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new $d,t.fromString){if(t.fromObject)throw new b(2805,!1);this.map=GL(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(Hd):[Hd(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Hd(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Hd(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Wd=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function KL(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function BT(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function HT(e){return typeof Blob<"u"&&e instanceof Blob}function $T(e){return typeof FormData<"u"&&e instanceof FormData}function ZL(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var WT="Content-Type",zT="Accept",GT="X-Request-URL",qT="text/plain",YT="application/json",QL=`${YT}, ${qT}, */*`,is=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(KL(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new dr,this.context??=new Wd,!this.params)this.params=new rn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||BT(this.body)||HT(this.body)||$T(this.body)||ZL(this.body)?this.body:this.body instanceof rn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$T(this.body)?null:HT(this.body)?this.body.type||null:BT(this.body)?null:typeof this.body=="string"?qT:this.body instanceof rn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?YT:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,l=t.redirect||this.redirect,u=t.credentials||this.credentials,d=t.transferCache??this.transferCache,f=t.timeout??this.timeout,h=t.body!==void 0?t.body:this.body,p=t.withCredentials??this.withCredentials,y=t.reportProgress??this.reportProgress,v=t.headers||this.headers,E=t.params||this.params,$=t.context??this.context;return t.setHeaders!==void 0&&(v=Object.keys(t.setHeaders).reduce((ae,Z)=>ae.set(Z,t.setHeaders[Z]),v)),t.setParams&&(E=Object.keys(t.setParams).reduce((ae,Z)=>ae.set(Z,t.setParams[Z]),E)),new e(n,r,h,{params:E,headers:v,context:$,reportProgress:y,responseType:i,withCredentials:p,transferCache:d,keepalive:o,cache:a,priority:s,timeout:f,mode:c,redirect:l,credentials:u})}},ki=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ki||{}),as=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new dr,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},zd=class e extends as{constructor(t={}){super(t)}type=ki.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},cs=class e extends as{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=ki.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},os=class extends as{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},JL=200,XL=204;function zv(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect}}var qd=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof is)o=n;else{let c;i.headers instanceof dr?c=i.headers:c=new dr(i.headers);let l;i.params&&(i.params instanceof rn?l=i.params:l=new rn({fromObject:i.params})),o=new is(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let s=N(o).pipe(gn(c=>this.handler.handle(c)));if(n instanceof is||i.observe==="events")return s;let a=s.pipe(Ke(c=>c instanceof cs));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(H(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new b(2806,!1);return c.body}));case"blob":return a.pipe(H(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new b(2807,!1);return c.body}));case"text":return a.pipe(H(c=>{if(c.body!==null&&typeof c.body!="string")throw new b(2808,!1);return c.body}));case"json":default:return a.pipe(H(c=>c.body))}case"response":return a;default:throw new b(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new rn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,zv(i,r))}post(n,r,i={}){return this.request("POST",n,zv(i,r))}put(n,r,i={}){return this.request("PUT",n,zv(i,r))}static \u0275fac=function(r){return new(r||e)(R(ss))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();var eV=new I("");function tV(e,t){return t(e)}function nV(e,t,n){return(r,i)=>_e(n,()=>t(r,o=>e(o,i)))}var KT=new I(""),qv=new I(""),ZT=new I("",{providedIn:"root",factory:()=>!0});var Gd=(()=>{class e extends ss{backend;injector;chain=null;pendingTasks=g(rr);contributeToStability=g(ZT);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(KT),...this.injector.get(qv,[])]));this.chain=r.reduceRight((i,o)=>nV(i,o,this.injector),tV)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ti(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(R(Ja),R(he))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();var rV=/^\)\]\}',?\n/,iV=RegExp(`^${GT}:`,"m");function oV(e){return"responseURL"in e&&e.responseURL?e.responseURL:iV.test(e.getAllResponseHeaders())?e.getResponseHeader(GT):null}var Gv=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new b(-2800,!1);let r=this.xhrFactory;return N(null).pipe($e(()=>new k(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,E)=>s.setRequestHeader(v,E.join(","))),n.headers.has(zT)||s.setRequestHeader(zT,QL),!n.headers.has(WT)){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader(WT,v)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let v=s.statusText||"OK",E=new dr(s.getAllResponseHeaders()),$=oV(s)||n.url;return c=new zd({headers:E,status:s.status,statusText:v,url:$}),c},u=()=>{let{headers:v,status:E,statusText:$,url:ae}=l(),Z=null;E!==XL&&(Z=typeof s.response>"u"?s.responseText:s.response),E===0&&(E=Z?JL:0);let Wt=E>=200&&E<300;if(n.responseType==="json"&&typeof Z=="string"){let qs=Z;Z=Z.replace(rV,"");try{Z=Z!==""?JSON.parse(Z):null}catch(pl){Z=qs,Wt&&(Wt=!1,Z={error:pl,text:Z})}}Wt?(o.next(new cs({body:Z,headers:v,status:E,statusText:$,url:ae||void 0})),o.complete()):o.error(new os({error:Z,headers:v,status:E,statusText:$,url:ae||void 0}))},d=v=>{let{url:E}=l(),$=new os({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error($)},f=d;n.timeout&&(f=v=>{let{url:E}=l(),$=new os({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:E||void 0});o.error($)});let h=!1,p=v=>{h||(o.next(l()),h=!0);let E={type:ki.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(E.total=v.total),n.responseType==="text"&&s.responseText&&(E.partialText=s.responseText),o.next(E)},y=v=>{let E={type:ki.UploadProgress,loaded:v.loaded};v.lengthComputable&&(E.total=v.total),o.next(E)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",f),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:ki.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",f),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(R(xi))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),QT=new I(""),sV="XSRF-TOKEN",aV=new I("",{providedIn:"root",factory:()=>sV}),cV="X-XSRF-TOKEN",lV=new I("",{providedIn:"root",factory:()=>cV}),Xa=class{},uV=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=qa(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(R(Ee),R(aV))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();function dV(e,t){let n=e.url.toLowerCase();if(!g(QT)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=g(Xa).getToken(),i=g(lV);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function Yv(...e){let t=[qd,Gv,Gd,{provide:ss,useExisting:Gd},{provide:Ja,useFactory:()=>g(eV,{optional:!0})??g(Gv)},{provide:KT,useValue:dV,multi:!0},{provide:QT,useValue:!0},{provide:Xa,useClass:uV}];for(let n of e)t.push(...n.\u0275providers);return lt(t)}var fV=new I(""),hV="b",pV="h",gV="s",mV="st",vV="u",yV="rt",Kv=new I(""),_V=["GET","HEAD"];function EV(e,t){let h=g(Kv),{isCacheActive:n}=h,r=nC(h,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!_V.includes(o)||!r.includeRequestsWithAuthHeaders&&CV(e)||r.filter?.(e)===!1)return t(e);let s=g(bi);if(g(fV,{optional:!0}))throw new b(2803,!1);let c=e.url,l=IV(e,c),u=s.get(l,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[hV]:p,[yV]:y,[pV]:v,[gV]:E,[mV]:$,[vV]:ae}=u,Z=p;switch(y){case"arraybuffer":Z=new TextEncoder().encode(p).buffer;break;case"blob":Z=new Blob([p]);break}let Wt=new dr(v);return N(new cs({body:Z,headers:Wt,status:E,statusText:$,url:ae}))}return t(e)}function CV(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function JT(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function IV(e,t){let{params:n,method:r,responseType:i}=e,o=JT(n),s=e.serializeBody();s instanceof URLSearchParams?s=JT(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),c=bV(a);return c}function bV(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function XT(e){return[{provide:Kv,useFactory:()=>(ht("NgHttpTransferCache"),_({isCacheActive:!0},e))},{provide:qv,useValue:EV,multi:!0},{provide:sr,multi:!0,useFactory:()=>{let t=g(Ze),n=g(Kv);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var eS=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(R(Ee))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ec=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e}(ec||{});function tS(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function nS(){return tS(ec.NoHttpTransferCache)}function rS(){return tS(ec.EventReplay,_T())}function iS(...e){let t=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);let r=n.has(ec.HttpTransferCacheOptions);return lt([[],ET(),n.has(ec.NoHttpTransferCache)||r?[]:XT({}),t])}var U="primary",hc=Symbol("RouteTitle"),ey=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Li(e){return new ey(e)}function fS(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function TV(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Nn(e[n],t[n]))return!1;return!0}function Nn(e,t){let n=e?ty(e):void 0,r=t?ty(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!hS(e[i],t[i]))return!1;return!0}function ty(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function hS(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function pS(e){return e.length>0?e[e.length-1]:null}function fr(e){return mp(e)?e:Ar(e)?fe(Promise.resolve(e)):N(e)}var SV={exact:mS,subset:vS},gS={exact:AV,subset:RV,ignored:()=>!0};function oS(e,t,n){return SV[n.paths](e.root,t.root,n.matrixParams)&&gS[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function AV(e,t){return Nn(e,t)}function mS(e,t,n){if(!Pi(e.segments,t.segments)||!Zd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!mS(e.children[r],t.children[r],n))return!1;return!0}function RV(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>hS(e[n],t[n]))}function vS(e,t,n){return yS(e,t,t.segments,n)}function yS(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Pi(i,n)||t.hasChildren()||!Zd(i,n,r))}else if(e.segments.length===n.length){if(!Pi(e.segments,n)||!Zd(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!vS(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Pi(e.segments,i)||!Zd(e.segments,i,r)||!e.children[U]?!1:yS(e.children[U],t,o,r)}}function Zd(e,t,n){return t.every((r,i)=>gS[n](e[i].parameters,r.parameters))}var xn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ee([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){return OV.serialize(this)}},ee=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qd(this)}},kr=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Li(this.parameters),this._parameterMap}toString(){return ES(this)}};function MV(e,t){return Pi(e,t)&&e.every((n,r)=>Nn(n.parameters,t[r].parameters))}function Pi(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function NV(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===U&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==U&&(n=n.concat(t(i,r)))}),n}var Vi=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>new Pr,providedIn:"root"})}return e})(),Pr=class{parse(t){let n=new ry(t);return new xn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${tc(t.root,!0)}`,r=PV(t.queryParams),i=typeof t.fragment=="string"?`#${xV(t.fragment)}`:"";return`${n}${r}${i}`}},OV=new Pr;function Qd(e){return e.segments.map(t=>ES(t)).join("/")}function tc(e,t){if(!e.hasChildren())return Qd(e);if(t){let n=e.children[U]?tc(e.children[U],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==U&&r.push(`${i}:${tc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=NV(e,(r,i)=>i===U?[tc(e.children[U],!1)]:[`${i}:${tc(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[U]!=null?`${Qd(e)}/${n[0]}`:`${Qd(e)}/(${n.join("//")})`}}function _S(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yd(e){return _S(e).replace(/%3B/gi,";")}function xV(e){return encodeURI(e)}function ny(e){return _S(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jd(e){return decodeURIComponent(e)}function sS(e){return Jd(e.replace(/\+/g,"%20"))}function ES(e){return`${ny(e.path)}${kV(e.parameters)}`}function kV(e){return Object.entries(e).map(([t,n])=>`;${ny(t)}=${ny(n)}`).join("")}function PV(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Yd(n)}=${Yd(i)}`).join("&"):`${Yd(n)}=${Yd(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var FV=/^[^\/()?;#]+/;function Zv(e){let t=e.match(FV);return t?t[0]:""}var LV=/^[^\/()?;=#]+/;function VV(e){let t=e.match(LV);return t?t[0]:""}var jV=/^[^=?&#]+/;function UV(e){let t=e.match(jV);return t?t[0]:""}var BV=/^[^&#]+/;function HV(e){let t=e.match(BV);return t?t[0]:""}var ry=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[U]=new ee(t,n)),r}parseSegment(){let t=Zv(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(t),new kr(Jd(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=VV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Zv(this.remaining);i&&(r=i,this.capture(r))}t[Jd(n)]=Jd(r)}parseQueryParam(t){let n=UV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=HV(this.remaining);s&&(r=s,this.capture(r))}let i=sS(n),o=sS(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=U);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[U]:new ee([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new b(4011,!1)}};function CS(e){return e.segments.length>0?new ee([],{[U]:e}):e}function IS(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=IS(i);if(r===U&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ee(e.segments,t);return $V(n)}function $V(e){if(e.numberOfChildren===1&&e.children[U]){let t=e.children[U];return new ee(e.segments.concat(t.segments),t.children)}return e}function Fr(e){return e instanceof xn}function bS(e,t,n=null,r=null){let i=wS(e);return DS(i,t,n,r)}function wS(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ee(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=CS(r);return t??i}function DS(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Qv(i,i,i,n,r);let o=WV(t);if(o.toRoot())return Qv(i,i,new ee([],{}),n,r);let s=zV(o,i,e),a=s.processChildren?rc(s.segmentGroup,s.index,o.commands):SS(s.segmentGroup,s.index,o.commands);return Qv(i,s.segmentGroup,a,n,r)}function Xd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function oc(e){return typeof e=="object"&&e!=null&&e.outlets}function Qv(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=TS(e,t,n);let a=CS(IS(s));return new xn(a,o,i)}function TS(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=TS(o,t,n)}),new ee(e.segments,r)}var ef=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Xd(r[0]))throw new b(4003,!1);let i=r.find(oc);if(i&&i!==pS(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function WV(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ef(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ef(n,t,r)}var ds=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function zV(e,t,n){if(e.isAbsolute)return new ds(t,!0,0);if(!n)return new ds(t,!1,NaN);if(n.parent===null)return new ds(n,!0,0);let r=Xd(e.commands[0])?0:1,i=n.segments.length-1+r;return GV(n,i,e.numberOfDoubleDots)}function GV(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new ds(r,!1,i-o)}function qV(e){return oc(e[0])?e[0].outlets:{[U]:e}}function SS(e,t,n){if(e??=new ee([],{}),e.segments.length===0&&e.hasChildren())return rc(e,t,n);let r=YV(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ee(e.segments.slice(0,r.pathIndex),{});return o.children[U]=new ee(e.segments.slice(r.pathIndex),e.children),rc(o,0,i)}else return r.match&&i.length===0?new ee(e.segments,{}):r.match&&!e.hasChildren()?iy(e,t,n):r.match?rc(e,0,i):iy(e,t,n)}function rc(e,t,n){if(n.length===0)return new ee(e.segments,{});{let r=qV(n),i={};if(Object.keys(r).some(o=>o!==U)&&e.children[U]&&e.numberOfChildren===1&&e.children[U].segments.length===0){let o=rc(e.children[U],t,n);return new ee(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=SS(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ee(e.segments,i)}}function YV(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(oc(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!cS(c,l,s))return o;r+=2}else{if(!cS(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function iy(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(oc(o)){let c=KV(o.outlets);return new ee(r,c)}if(i===0&&Xd(n[0])){let c=e.segments[t];r.push(new kr(c.path,aS(n[0]))),i++;continue}let s=oc(o)?o.outlets[U]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Xd(a)?(r.push(new kr(s,aS(a))),i+=2):(r.push(new kr(s,{})),i++)}return new ee(r,{})}function KV(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=iy(new ee([],{}),0,r))}),t}function aS(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function cS(e,t,n){return e==n.path&&Nn(t,n.parameters)}var fs="imperative",Fe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Fe||{}),xt=class{id;url;constructor(t,n){this.id=t,this.url=n}},Lr=class extends xt{type=Fe.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ht=class extends xt{urlAfterRedirects;type=Fe.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},it=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(it||{}),ps=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ps||{}),On=class extends xt{reason;code;type=Fe.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kn=class extends xt{reason;code;type=Fe.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},gs=class extends xt{error;target;type=Fe.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sc=class extends xt{urlAfterRedirects;state;type=Fe.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tf=class extends xt{urlAfterRedirects;state;type=Fe.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nf=class extends xt{urlAfterRedirects;state;shouldActivate;type=Fe.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},rf=class extends xt{urlAfterRedirects;state;type=Fe.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},of=class extends xt{urlAfterRedirects;state;type=Fe.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sf=class{route;type=Fe.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},af=class{route;type=Fe.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},cf=class{snapshot;type=Fe.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lf=class{snapshot;type=Fe.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uf=class{snapshot;type=Fe.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},df=class{snapshot;type=Fe.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ms=class{routerEvent;position;anchor;type=Fe.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ac=class{},vs=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function ZV(e){return!(e instanceof ac)&&!(e instanceof vs)}function QV(e,t){return e.providers&&!e._injector&&(e._injector=Di(e.providers,t,`Route: ${e.path}`)),e._injector??t}function on(e){return e.outlet||U}function JV(e,t){let n=e.filter(r=>on(r)===t);return n.push(...e.filter(r=>on(r)!==t)),n}function Es(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ff=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Es(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ji(this.rootInjector)}},ji=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ff(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(R(he))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hf=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=oy(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=oy(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=sy(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return sy(t,this._root).map(n=>n.value)}};function oy(e,t){if(e===t.value)return t;for(let n of t.children){let r=oy(e,n);if(r)return r}return null}function sy(e,t){if(e===t.value)return[t];for(let n of t.children){let r=sy(e,n);if(r.length)return r.unshift(t),r}return[]}var Ot=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function us(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var cc=class extends hf{snapshot;constructor(t,n){super(t),this.snapshot=n,py(this,t)}toString(){return this.snapshot.toString()}};function AS(e){let t=XV(e),n=new He([new kr("",{})]),r=new He({}),i=new He({}),o=new He({}),s=new He(""),a=new Pn(n,r,o,s,i,U,e,t.root);return a.snapshot=t.root,new cc(new Ot(a,[]),t)}function XV(e){let t={},n={},r={},i="",o=new Fi([],t,r,i,n,U,e,null,{});return new lc("",new Ot(o,[]))}var Pn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(H(l=>l[hc]))??N(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(t=>Li(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(t=>Li(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pf(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:_(_({},t.params),e.params),data:_(_({},t.data),e.data),resolve:_(_(_(_({},e.data),t.data),i?.data),e._resolvedData)}:r={params:_({},e.params),data:_({},e.data),resolve:_(_({},e.data),e._resolvedData??{})},i&&MS(i)&&(r.resolve[hc]=i.title),r}var Fi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[hc]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Li(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},lc=class extends hf{url;constructor(t,n){super(n),this.url=t,py(this,n)}toString(){return RS(this._root)}};function py(e,t){t.value._routerState=e,t.children.forEach(n=>py(e,n))}function RS(e){let t=e.children.length>0?` { ${e.children.map(RS).join(", ")} } `:"";return`${e.value}${t}`}function Jv(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Nn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Nn(t.params,n.params)||e.paramsSubject.next(n.params),TV(t.url,n.url)||e.urlSubject.next(n.url),Nn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ay(e,t){let n=Nn(e.params,t.params)&&MV(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||ay(e.parent,t.parent))}function MS(e){return typeof e.title=="string"||e.title===null}var NS=new I(""),pc=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=U;activateEvents=new Ne;deactivateEvents=new Ne;attachEvents=new Ne;detachEvents=new Ne;routerOutletData=mT(void 0);parentContexts=g(ji);location=g(wi);changeDetector=g(Or);inputBinder=g(gc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new cy(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=pe({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[or]})}return e})(),cy=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Pn?this.route:t===ji?this.childContexts:t===NS?this.outletData:this.parent.get(t,n)}},gc=new I(""),gy=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Xs([r.queryParams,r.params,r.data]).pipe($e(([o,s,a],c)=>(a=_(_(_({},o),s),a),c===0?N(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=CT(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),my=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Rt({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Se(0,"router-outlet")},dependencies:[pc],encapsulation:2})}return e})();function vy(e){let t=e.children&&e.children.map(vy),n=t?P(_({},e),{children:t}):_({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=my),n}function ej(e,t,n){let r=uc(e,t._root,n?n._root:void 0);return new cc(r,t)}function uc(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=tj(e,t,n);return new Ot(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>uc(e,a)),s}}let r=nj(t.value),i=t.children.map(o=>uc(e,o));return new Ot(r,i)}}function tj(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return uc(e,r,i);return uc(e,r)})}function nj(e){return new Pn(new He(e.url),new He(e.params),new He(e.queryParams),new He(e.fragment),new He(e.data),e.outlet,e.component,e)}var ys=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},OS="ngNavigationCancelingError";function gf(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Fr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=xS(!1,it.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function xS(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[OS]=!0,n.cancellationCode=t,n}function rj(e){return kS(e)&&Fr(e.url)}function kS(e){return!!e&&e[OS]}var ij=(e,t,n,r)=>H(i=>(new ly(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),ly=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Jv(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=us(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=us(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=us(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=us(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new df(o.value.snapshot))}),t.children.length&&this.forwardEvent(new lf(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Jv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jv(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},mf=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},hs=class{component;route;constructor(t,n){this.component=t,this.route=n}};function oj(e,t,n){let r=e._root,i=t?t._root:null;return nc(r,i,n,[r.value])}function sj(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Cs(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Fp(e)?e:t.get(e):r}function nc(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=us(t);return e.children.forEach(s=>{aj(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ic(a,n.getContext(s),i)),i}function aj(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=cj(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new mf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?nc(e,t,a?a.children:null,r,i):nc(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hs(a.outlet.component,s))}else s&&ic(t,a,i),i.canActivateChecks.push(new mf(r)),o.component?nc(e,null,a?a.children:null,r,i):nc(e,null,n,r,i);return i}function cj(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Pi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Pi(e.url,t.url)||!Nn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ay(e,t)||!Nn(e.queryParams,t.queryParams);case"paramsChange":default:return!ay(e,t)}}function ic(e,t,n){let r=us(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?ic(s,t.children.getContext(o),n):ic(s,null,n):ic(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new hs(t.outlet.component,i)):n.canDeactivateChecks.push(new hs(null,i)):n.canDeactivateChecks.push(new hs(null,i))}function mc(e){return typeof e=="function"}function lj(e){return typeof e=="boolean"}function uj(e){return e&&mc(e.canLoad)}function dj(e){return e&&mc(e.canActivate)}function fj(e){return e&&mc(e.canActivateChild)}function hj(e){return e&&mc(e.canDeactivate)}function pj(e){return e&&mc(e.canMatch)}function PS(e){return e instanceof qn||e?.name==="EmptyError"}var Kd=Symbol("INITIAL_VALUE");function _s(){return $e(e=>Xs(e.map(t=>t.pipe(Kn(1),Ep(Kd)))).pipe(H(t=>{for(let n of t)if(n!==!0){if(n===Kd)return Kd;if(n===!1||gj(n))return n}return!0}),Ke(t=>t!==Kd),Kn(1)))}function gj(e){return Fr(e)||e instanceof ys}function mj(e,t){return we(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?N(P(_({},n),{guardsResult:!0})):vj(s,r,i,e).pipe(we(a=>a&&lj(a)?yj(r,o,e,t):N(a)),H(a=>P(_({},n),{guardsResult:a})))})}function vj(e,t,n,r){return fe(e).pipe(we(i=>bj(i.component,i.route,n,t,r)),Zn(i=>i!==!0,!0))}function yj(e,t,n,r){return fe(t).pipe(gn(i=>Ao(Ej(i.route.parent,r),_j(i.route,r),Ij(e,i.path,n),Cj(e,i.route,n))),Zn(i=>i!==!0,!0))}function _j(e,t){return e!==null&&t&&t(new uf(e)),N(!0)}function Ej(e,t){return e!==null&&t&&t(new cf(e)),N(!0)}function Cj(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(o=>ea(()=>{let s=Es(t)??n,a=Cs(o,s),c=dj(a)?a.canActivate(t,e):_e(s,()=>a(t,e));return fr(c).pipe(Zn())}));return N(i).pipe(_s())}function Ij(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>sj(s)).filter(s=>s!==null).map(s=>ea(()=>{let a=s.guards.map(c=>{let l=Es(s.node)??n,u=Cs(c,l),d=fj(u)?u.canActivateChild(r,e):_e(l,()=>u(r,e));return fr(d).pipe(Zn())});return N(a).pipe(_s())}));return N(o).pipe(_s())}function bj(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return N(!0);let s=o.map(a=>{let c=Es(t)??i,l=Cs(a,c),u=hj(l)?l.canDeactivate(e,t,n,r):_e(c,()=>l(e,t,n,r));return fr(u).pipe(Zn())});return N(s).pipe(_s())}function wj(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return N(!0);let o=i.map(s=>{let a=Cs(s,e),c=uj(a)?a.canLoad(t,n):_e(e,()=>a(t,n));return fr(c)});return N(o).pipe(_s(),FS(r))}function FS(e){return cp(Ve(t=>{if(typeof t!="boolean")throw gf(e,t)}),H(t=>t===!0))}function Dj(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return N(!0);let o=i.map(s=>{let a=Cs(s,e),c=pj(a)?a.canMatch(t,n):_e(e,()=>a(t,n));return fr(c)});return N(o).pipe(_s(),FS(r))}var dc=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},fc=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function ls(e){return To(new dc(e))}function Tj(e){return To(new b(4e3,!1))}function Sj(e){return To(xS(!1,it.GuardRejected))}var uy=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[U])return Tj(`${t.redirectTo}`);i=i.children[U]}}applyRedirectCommands(t,n,r,i,o){return Aj(n,i,o).pipe(H(s=>{if(s instanceof xn)throw new fc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new fc(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new xn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new ee(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function Aj(e,t,n){if(typeof e=="string")return N(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return fr(_e(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var dy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rj(e,t,n,r,i){let o=LS(e,t,n);return o.matched?(r=QV(t,r),Dj(r,t,n,i).pipe(H(s=>s===!0?o:_({},dy)))):N(o)}function LS(e,t,n){if(t.path==="**")return Mj(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?_({},dy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||fS)(n,e,t);if(!i)return _({},dy);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?_(_({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Mj(e){return{matched:!0,parameters:e.length>0?pS(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function lS(e,t,n,r){return n.length>0&&xj(e,n,r)?{segmentGroup:new ee(t,Oj(r,new ee(n,e.children))),slicedSegments:[]}:n.length===0&&kj(e,n,r)?{segmentGroup:new ee(e.segments,Nj(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ee(e.segments,e.children),slicedSegments:n}}function Nj(e,t,n,r){let i={};for(let o of n)if(yf(e,t,o)&&!r[on(o)]){let s=new ee([],{});i[on(o)]=s}return _(_({},r),i)}function Oj(e,t){let n={};n[U]=t;for(let r of e)if(r.path===""&&on(r)!==U){let i=new ee([],{});n[on(r)]=i}return n}function xj(e,t,n){return n.some(r=>yf(e,t,r)&&on(r)!==U)}function kj(e,t,n){return n.some(r=>yf(e,t,r))}function yf(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Pj(e,t,n){return t.length===0&&!e.children[n]}var fy=class{};function Fj(e,t,n,r,i,o,s="emptyOnly"){return new hy(e,t,n,r,i,s,o).recognize()}var Lj=31,hy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new uy(this.urlSerializer,this.urlTree)}noMatchError(t){return new b(4002,`'${t.segmentGroup}'`)}recognize(){let t=lS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(H(({children:n,rootSnapshot:r})=>{let i=new Ot(r,n),o=new lc("",i),s=bS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Fi([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,U,n).pipe(H(r=>({children:r,rootSnapshot:n})),Yn(r=>{if(r instanceof fc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof dc?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(H(s=>s instanceof Ot?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return fe(o).pipe(gn(s=>{let a=r.children[s],c=JV(n,s);return this.processSegmentGroup(t,c,a,s,i)}),_p((s,a)=>(s.push(...a),s)),_r(null),yp(),we(s=>{if(s===null)return ls(r);let a=VS(s);return Vj(a),N(a)}))}processSegment(t,n,r,i,o,s,a){return fe(n).pipe(gn(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(Yn(l=>{if(l instanceof dc)return N(null);throw l}))),Zn(c=>!!c),Yn(c=>{if(PS(c))return Pj(r,i,o)?N(new fy):ls(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return on(r)!==s&&(s===U||!yf(i,o,r))?ls(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):ls(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=LS(n,i,o);if(!c)return ls(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Lj&&(this.allowRedirects=!1));let h=new Fi(o,l,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,uS(i),on(i),i.component??i._loadedComponent??null,i,dS(i)),p=pf(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(p.params),h.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t).pipe($e(v=>this.applyRedirects.lineralizeSegments(i,v)),we(v=>this.processSegment(t,r,n,v.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=Rj(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe($e(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe($e(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new Fi(f,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,uS(r),on(r),r.component??r._loadedComponent??null,r,dS(r)),y=pf(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let{segmentGroup:v,slicedSegments:E}=lS(n,f,h,l);if(E.length===0&&v.hasChildren())return this.processChildren(u,l,v,p).pipe(H(ae=>new Ot(p,ae)));if(l.length===0&&E.length===0)return N(new Ot(p,[]));let $=on(r)===o;return this.processSegment(u,l,v,E,$?U:o,!0,p).pipe(H(ae=>new Ot(p,ae instanceof Ot?[ae]:[])))}))):ls(n)))}getChildConfig(t,n,r){return n.children?N({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):wj(t,n,r,this.urlSerializer).pipe(we(i=>i?this.configLoader.loadChildren(t,n).pipe(Ve(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Sj(n))):N({routes:[],injector:t})}};function Vj(e){e.sort((t,n)=>t.value.outlet===U?-1:n.value.outlet===U?1:t.value.outlet.localeCompare(n.value.outlet))}function jj(e){let t=e.value.routeConfig;return t&&t.path===""}function VS(e){let t=[],n=new Set;for(let r of e){if(!jj(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=VS(r.children);t.push(new Ot(r.value,i))}return t.filter(r=>!n.has(r))}function uS(e){return e.data||{}}function dS(e){return e.resolve||{}}function Uj(e,t,n,r,i,o){return we(s=>Fj(e,t,n,r,s.extractedUrl,i,o).pipe(H(({state:a,tree:c})=>P(_({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Bj(e,t){return we(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of jS(c))s.add(l);let a=0;return fe(s).pipe(gn(c=>o.has(c)?Hj(c,r,e,t):(c.data=pf(c,c.parent,e).resolve,N(void 0))),Ve(()=>a++),Ro(1),we(c=>a===s.size?N(n):at))})}function jS(e){let t=e.children.map(n=>jS(n)).flat();return[e,...t]}function Hj(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!MS(i)&&(o[hc]=i.title),ea(()=>(e.data=pf(e,e.parent,n).resolve,$j(o,e,t,r).pipe(H(s=>(e._resolvedData=s,e.data=_(_({},e.data),s),null)))))}function $j(e,t,n,r){let i=ty(e);if(i.length===0)return N({});let o={};return fe(i).pipe(we(s=>Wj(e[s],t,n,r).pipe(Zn(),Ve(a=>{if(a instanceof ys)throw gf(new Pr,a);o[s]=a}))),Ro(1),H(()=>o),Yn(s=>PS(s)?at:To(s)))}function Wj(e,t,n,r){let i=Es(t)??r,o=Cs(e,i),s=o.resolve?o.resolve(t,n):_e(i,()=>o(t,n));return fr(s)}function Xv(e){return $e(t=>{let n=e(t);return n?fe(n).pipe(H(()=>t)):N(t)})}var yy=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===U);return r}getResolvedTitleForRoute(n){return n.data[hc]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>g(US),providedIn:"root"})}return e})(),US=(()=>{class e extends yy{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(R(eS))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vr=new I("",{providedIn:"root",factory:()=>({})}),Ui=new I(""),_f=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(pv);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=fr(_e(n,()=>r.loadComponent())).pipe(H(HS),$e($S),Ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ti(()=>{this.componentLoaders.delete(r)})),o=new Co(i,()=>new be).pipe(Eo());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=BS(r,this.compiler,n,this.onLoadEndListener).pipe(ti(()=>{this.childrenLoaders.delete(r)})),s=new Co(o,()=>new be).pipe(Eo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BS(e,t,n,r){return fr(_e(n,()=>e.loadChildren())).pipe(H(HS),$e($S),we(i=>i instanceof yd||Array.isArray(i)?N(i):fe(t.compileModuleAsync(i))),H(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ui,[],{optional:!0,self:!0}).flat()),{routes:s.map(vy),injector:o}}))}function zj(e){return e&&typeof e=="object"&&"default"in e}function HS(e){return zj(e)?e.default:e}function $S(e){return N(e)}var Ef=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>g(Gj),providedIn:"root"})}return e})(),Gj=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_y=new I(""),Ey=new I("");function WS(e,t,n){let r=e.get(Ey),i=e.get(Ee);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),qj(e)));a.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&_e(e,()=>c({transition:a,from:t,to:n})),s}function qj(e){return new Promise(t=>{Yo({read:()=>setTimeout(t)},{injector:e})})}var Cy=new I(""),Cf=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new be;transitionAbortWithErrorSubject=new be;configLoader=g(_f);environmentInjector=g(he);destroyRef=g(Zt);urlSerializer=g(Vi);rootContexts=g(ji);location=g(xr);inputBindingEnabled=g(gc,{optional:!0})!==null;titleStrategy=g(yy);options=g(Vr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(Ef);createViewTransition=g(_y,{optional:!0});navigationErrorHandler=g(Cy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>N(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new sf(i)),r=i=>this.events.next(new af(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(P(_({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new He(null),this.transitions.pipe(Ke(r=>r!==null),$e(r=>{let i=!1;return N(r).pipe($e(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",it.SupersededByNewNavigation),at;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?P(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new kn(o.id,this.urlSerializer.serialize(o.rawUrl),c,ps.IgnoredSameUrlNavigation)),o.resolve(!1),at}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return N(o).pipe($e(c=>(this.events.next(new Lr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?at:Promise.resolve(c))),Uj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=P(_({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new sc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:f}=o,h=new Lr(c,this.urlSerializer.serialize(l),u,d);this.events.next(h);let p=AS(this.rootComponentType).snapshot;return this.currentTransition=r=P(_({},o),{targetSnapshot:p,urlAfterRedirects:l,extras:P(_({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,N(r)}else{let c="";return this.events.next(new kn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,ps.IgnoredByUrlHandlingStrategy)),o.resolve(!1),at}}),Ve(o=>{let s=new tf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),H(o=>(this.currentTransition=r=P(_({},o),{guards:oj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),mj(this.environmentInjector,o=>this.events.next(o)),Ve(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw gf(this.urlSerializer,o.guardsResult);let s=new nf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ke(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",it.GuardRejected),!1)),Xv(o=>{if(o.guards.canActivateChecks.length!==0)return N(o).pipe(Ve(s=>{let a=new rf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),$e(s=>{let a=!1;return N(s).pipe(Bj(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",it.NoDataFromResolver)}}))}),Ve(s=>{let a=new of(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Xv(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let l=Es(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Ve(u=>{a.component=u}),H(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Xs(s(o.targetSnapshot.root)).pipe(_r(null),Kn(1))}),Xv(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?fe(a).pipe(H(()=>r)):N(r)}),H(o=>{let s=ej(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=P(_({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Ve(()=>{this.events.next(new ac)}),ij(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Kn(1),Ql(new k(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ke(()=>!i&&!r.targetRouterState),Ve(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",it.Aborted)}))),Ve({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ht(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ql(this.transitionAbortWithErrorSubject.pipe(Ve(o=>{throw o}))),ti(()=>{i||this.cancelNavigationTransition(r,"",it.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yn(o=>{if(this.destroyed)return r.resolve(!1),at;if(i=!0,kS(o))this.events.next(new On(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),rj(o)?this.events.next(new vs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new gs(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=_e(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ys){let{message:c,cancellationCode:l}=gf(this.urlSerializer,a);this.events.next(new On(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new vs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return at}))}))}cancelNavigationTransition(n,r,i){let o=new On(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Yj(e){return e!==fs}var zS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>g(Kj),providedIn:"root"})}return e})(),vf=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},Kj=(()=>{class e extends vf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Xt(e)))(i||e)}})();static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),GS=(()=>{class e{urlSerializer=g(Vi);options=g(Vr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(xr);urlHandlingStrategy=g(Ef);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new xn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof xn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=AS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>g(Zj),providedIn:"root"})}return e})(),Zj=(()=>{class e extends GS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Lr?this.updateStateMemento():n instanceof kn?this.commitTransition(r):n instanceof sc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ac?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof On&&n.code!==it.SupersededByNewNavigation&&n.code!==it.Redirect?this.restoreHistory(r):n instanceof gs?this.restoreHistory(r,!0):n instanceof Ht&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=_(_({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=_(_({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Xt(e)))(i||e)}})();static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function If(e,t){e.events.pipe(Ke(n=>n instanceof Ht||n instanceof On||n instanceof gs||n instanceof kn),H(n=>n instanceof Ht||n instanceof kn?0:(n instanceof On?n.code===it.Redirect||n.code===it.SupersededByNewNavigation:!1)?2:1),Ke(n=>n!==2),Kn(1)).subscribe(()=>{t()})}var Qj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(Ed);stateManager=g(GS);options=g(Vr,{optional:!0})||{};pendingTasks=g(Qt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(Cf);urlSerializer=g(Vi);location=g(xr);urlHandlingStrategy=g(Ef);injector=g(he);_events=new be;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(zS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(Ui,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(gc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ve;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof On&&r.code!==it.Redirect&&r.code!==it.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ht)this.navigated=!0;else if(r instanceof vs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=_({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Yj(i.source)},s);this.scheduleNavigation(a,fs,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ZV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=_({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(dt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(vy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=wS(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return DS(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Fr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,fs,null,r)}navigate(n,r={skipLocationChange:!1}){return Xj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=_({},Qj):r===!1?i=_({},Jj):i=r,Fr(n))return oS(this.currentUrlTree,n,i);let o=this.parseUrl(n);return oS(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return If(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Xj(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new b(4008,!1)}var Is=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Dt(null);get href(){return Ut(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new be;applicationErrorHandler=g(dt);options=g(Vr,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(g(new xd("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Ht&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Fr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Fr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(x(Fn),x(Pn),Ta("tabindex"),x(At),x(rt),x(nn))};static \u0275dir=pe({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ge("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ar("href",i.reactiveHref(),Om)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Oi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Oi],replaceUrl:[2,"replaceUrl","replaceUrl",Oi],routerLink:"routerLink"},features:[or]})}return e})();var vc=class{};var qS=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ke(n=>n instanceof Ht),gn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Di(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return fe(i).pipe(So())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=N(null);let o=i.pipe(we(s=>s===null?N(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return fe([o,s]).pipe(So())}else return o})}static \u0275fac=function(r){return new(r||e)(R(Fn),R(he),R(vc),R(_f))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),YS=new I(""),eU=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=fs;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Lr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ht?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof kn&&n.code===ps.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ms&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>m(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ms(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Jm()};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();function by(e,...t){return lt([{provide:Ui,multi:!0,useValue:e},[],{provide:Pn,useFactory:KS,deps:[Fn]},{provide:sr,multi:!0,useFactory:ZS},t.map(n=>n.\u0275providers)])}function KS(e){return e.routerState.root}function yc(e,t){return{\u0275kind:e,\u0275providers:t}}function ZS(){let e=g(ye);return t=>{let n=e.get(Ze);if(t!==n.components[0])return;let r=e.get(Fn),i=e.get(QS);e.get(wy)===1&&r.initialNavigation(),e.get(e0,null,{optional:!0})?.setUpPreloading(),e.get(YS,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var QS=new I("",{factory:()=>new be}),wy=new I("",{providedIn:"root",factory:()=>1});function JS(){let e=[{provide:wy,useValue:0},Cd(()=>{let t=g(ye);return t.get(Sv,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(Fn),o=t.get(QS);If(i,()=>{r(!0)}),t.get(Cf).afterPreactivation=()=>(r(!0),o.closed?N(void 0):o),i.initialNavigation()}))})];return yc(2,e)}function XS(){let e=[Cd(()=>{g(Fn).setUpLocationChangeListener()}),{provide:wy,useValue:2}];return yc(3,e)}var e0=new I("");function t0(e){return yc(0,[{provide:e0,useExisting:qS},{provide:vc,useExisting:e}])}function n0(){return yc(8,[gy,{provide:gc,useExisting:gy}])}function r0(e){ht("NgRouterViewTransitions");let t=[{provide:_y,useValue:WS},{provide:Ey,useValue:_({skipNextTransition:!!e?.skipInitialTransition},e)}];return yc(9,t)}var i0=[xr,{provide:Vi,useClass:Pr},Fn,ji,{provide:Pn,useFactory:KS,deps:[Fn]},_f,[]],_c=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[i0,[],{provide:Ui,multi:!0,useValue:n},[],r?.errorHandler?{provide:Cy,useValue:r.errorHandler}:[],{provide:Vr,useValue:r||{}},r?.useHash?nU():rU(),tU(),r?.preloadingStrategy?t0(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?iU(r):[],r?.bindToComponentInputs?n0().\u0275providers:[],r?.enableViewTransitions?r0().\u0275providers:[],oU()]}}static forChild(n){return{ngModule:e,providers:[{provide:Ui,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=en({type:e});static \u0275inj=Pt({})}return e})();function tU(){return{provide:YS,useFactory:()=>{let e=g(MT),t=g(re),n=g(Vr),r=g(Cf),i=g(Vi);return n.scrollOffset&&e.setOffset(n.scrollOffset),new eU(i,r,e,t,n)}}}function nU(){return{provide:nn,useClass:Nv}}function rU(){return{provide:nn,useClass:Fd}}function iU(e){return[e.initialNavigation==="disabled"?XS().\u0275providers:[],e.initialNavigation==="enabledBlocking"?JS().\u0275providers:[]]}var Iy=new I("");function oU(){return[{provide:Iy,useFactory:ZS},{provide:sr,multi:!0,useExisting:Iy}]}var bf=class e{title=Dt("cabbingo");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Rt({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&(w(0,"main"),Se(1,"router-outlet"),D())},dependencies:[pc],encapsulation:2})};var g0=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(x(At),x(rt))};static \u0275dir=pe({type:e})}return e})(),Nf=(()=>{class e extends g0{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Xt(e)))(i||e)}})();static \u0275dir=pe({type:e,features:[pt]})}return e})(),Tc=new I("");var sU={provide:Tc,useExisting:Et(()=>Of),multi:!0};function aU(){let e=Bt()?Bt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var cU=new I(""),Of=(()=>{class e extends g0{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!aU())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(x(At),x(rt),x(cU,8))};static \u0275dir=pe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ge("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Rn([sU]),pt]})}return e})();var xf=new I(""),m0=new I("");function lU(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function uU(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function s0(e){return null}function v0(e){return e!=null}function y0(e){return Ar(e)?fe(e):e}function _0(e){let t={};return e.forEach(n=>{t=n!=null?_(_({},t),n):t}),Object.keys(t).length===0?null:t}function E0(e,t){return t.map(n=>n(e))}function dU(e){return!e.validate}function C0(e){return e.map(t=>dU(t)?t:n=>t.validate(n))}function fU(e){if(!e)return null;let t=e.filter(v0);return t.length==0?null:function(n){return _0(E0(n,t))}}function Ay(e){return e!=null?fU(C0(e)):null}function hU(e){if(!e)return null;let t=e.filter(v0);return t.length==0?null:function(n){let r=E0(n,t).map(y0);return vp(r).pipe(H(_0))}}function Ry(e){return e!=null?hU(C0(e)):null}function a0(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function pU(e){return e._rawValidators}function gU(e){return e._rawAsyncValidators}function Dy(e){return e?Array.isArray(e)?e:[e]:[]}function Df(e,t){return Array.isArray(e)?e.includes(t):e===t}function c0(e,t){let n=Dy(t);return Dy(e).forEach(i=>{Df(n,i)||n.push(i)}),n}function l0(e,t){return Dy(t).filter(n=>!Df(e,n))}var Tf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ay(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ry(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Ds=class extends Tf{name;get formDirective(){return null}get path(){return null}},Dc=class extends Tf{_parent=null;name=null;valueAccessor=null},Sf=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},mU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Gne=P(_({},mU),{"[class.ng-submitted]":"isSubmitted"}),I0=(()=>{class e extends Sf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(x(Dc,2))};static \u0275dir=pe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&La("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[pt]})}return e})(),b0=(()=>{class e extends Sf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(x(Ds,10))};static \u0275dir=pe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&La("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[pt]})}return e})();var Ec="VALID",wf="INVALID",bs="PENDING",Cc="DISABLED",jr=class{},Af=class extends jr{value;source;constructor(t,n){super(),this.value=t,this.source=n}},bc=class extends jr{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},wc=class extends jr{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},ws=class extends jr{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Ty=class extends jr{source;constructor(t){super(),this.source=t}},Sy=class extends jr{source;constructor(t){super(),this.source=t}};function w0(e){return(kf(e)?e.validators:e)||null}function vU(e){return Array.isArray(e)?Ay(e):e||null}function D0(e,t){return(kf(t)?t.asyncValidators:e)||null}function yU(e){return Array.isArray(e)?Ry(e):e||null}function kf(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function _U(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function EU(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var Rf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ut(this.statusReactive)}set status(t){Ut(()=>this.statusReactive.set(t))}_status=Mi(()=>this.statusReactive());statusReactive=Dt(void 0);get valid(){return this.status===Ec}get invalid(){return this.status===wf}get pending(){return this.status==bs}get disabled(){return this.status===Cc}get enabled(){return this.status!==Cc}errors;get pristine(){return Ut(this.pristineReactive)}set pristine(t){Ut(()=>this.pristineReactive.set(t))}_pristine=Mi(()=>this.pristineReactive());pristineReactive=Dt(!0);get dirty(){return!this.pristine}get touched(){return Ut(this.touchedReactive)}set touched(t){Ut(()=>this.touchedReactive.set(t))}_touched=Mi(()=>this.touchedReactive());touchedReactive=Dt(!1);get untouched(){return!this.touched}_events=new be;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(c0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(c0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(l0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(l0(t,this._rawAsyncValidators))}hasValidator(t){return Df(this._rawValidators,t)}hasAsyncValidator(t){return Df(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(P(_({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new wc(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new wc(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(P(_({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new bc(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new bc(!0,r))}markAsPending(t={}){this.status=bs;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ws(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(P(_({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Cc,this.errors=null,this._forEachChild(i=>{i.disable(P(_({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Af(this.value,r)),this._events.next(new ws(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(P(_({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ec,this._forEachChild(r=>{r.enable(P(_({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(P(_({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ec||this.status===bs)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Af(this.value,n)),this._events.next(new ws(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(P(_({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cc:Ec}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=bs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=y0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ws(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?Cc:this.errors?wf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bs)?bs:this._anyControlsHaveStatus(wf)?wf:Ec}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new bc(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new wc(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){kf(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=vU(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=yU(this._rawAsyncValidators)}},Mf=class extends Rf{constructor(t,n,r){super(w0(n),D0(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){EU(this,!0,t),Object.keys(t).forEach(r=>{_U(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var My=new I("",{providedIn:"root",factory:()=>Ny}),Ny="always";function CU(e,t){return[...t.path,e]}function T0(e,t,n=Ny){S0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),bU(e,t),DU(e,t),wU(e,t),IU(e,t)}function u0(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function IU(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function S0(e,t){let n=pU(e);t.validator!==null?e.setValidators(a0(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=gU(e);t.asyncValidator!==null?e.setAsyncValidators(a0(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();u0(t._rawValidators,i),u0(t._rawAsyncValidators,i)}function bU(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&A0(e,t)})}function wU(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&A0(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function A0(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function DU(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function TU(e,t){e==null,S0(e,t)}function SU(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function AU(e){return Object.getPrototypeOf(e.constructor)===Nf}function RU(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function MU(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Of?n=o:AU(o)?r=o:i=o}),i||r||n||null}var NU={provide:Ds,useExisting:Et(()=>Oy)},Ic=Promise.resolve(),Oy=(()=>{class e extends Ds{callSetDisabledState;get submitted(){return Ut(this.submittedReactive)}_submitted=Mi(()=>this.submittedReactive());submittedReactive=Dt(!1);_directives=new Set;form;ngSubmit=new Ne;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Mf({},Ay(n),Ry(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ic.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),T0(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ic.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ic.then(()=>{let r=this._findContainer(n.path),i=new Mf({});TU(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ic.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ic.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),RU(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Ty(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new Sy(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(x(xf,10),x(m0,10),x(My,8))};static \u0275dir=pe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ge("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Rn([NU]),pt]})}return e})();function d0(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function f0(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var OU=class extends Rf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(w0(n),D0(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(f0(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){d0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){d0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){f0(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var xU={provide:Dc,useExisting:Et(()=>xy)},h0=Promise.resolve(),xy=(()=>{class e extends Dc{_changeDetectorRef;callSetDisabledState;control=new OU;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ne;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=MU(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),SU(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){T0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){h0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Oi(r);h0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?CU(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(x(Ds,9),x(xf,10),x(m0,10),x(Tc,10),x(Or,8),x(My,8))};static \u0275dir=pe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Rn([xU]),pt,or]})}return e})();var R0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=pe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),kU={provide:Tc,useExisting:Et(()=>ky),multi:!0},ky=(()=>{class e extends Nf{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Xt(e)))(i||e)}})();static \u0275dir=pe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ge("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Rn([kU]),pt]})}return e})();var PU={provide:Tc,useExisting:Et(()=>Pf),multi:!0};function M0(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function FU(e){return e.split(":")[0]}var Pf=(()=>{class e extends Nf{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=g(Ze).injector;destroyRef=g(Zt);cdr=g(Or);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Yo({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=M0(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=FU(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Xt(e)))(i||e)}})();static \u0275dir=pe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ge("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Rn([PU]),pt]})}return e})(),N0=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(M0(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(x(rt),x(At),x(Pf,9))};static \u0275dir=pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),LU={provide:Tc,useExisting:Et(()=>O0),multi:!0};function p0(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function VU(e){return e.split(":")[0]}var O0=(()=>{class e extends Nf{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=VU(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Xt(e)))(i||e)}})();static \u0275dir=pe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ge("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Rn([LU]),pt]})}return e})(),x0=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(p0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(p0(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(x(rt),x(At),x(O0,9))};static \u0275dir=pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function k0(e){return typeof e=="number"?e:parseFloat(e)}var P0=(()=>{class e{_validator=s0;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):s0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=pe({type:e,features:[or]})}return e})(),jU={provide:xf,useExisting:Et(()=>Py),multi:!0},Py=(()=>{class e extends P0{max;inputName="max";normalizeInput=n=>k0(n);createValidator=n=>uU(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Xt(e)))(i||e)}})();static \u0275dir=pe({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ar("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Rn([jU]),pt]})}return e})(),UU={provide:xf,useExisting:Et(()=>Fy),multi:!0},Fy=(()=>{class e extends P0{min;inputName="min";normalizeInput=n=>k0(n);createValidator=n=>lU(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Xt(e)))(i||e)}})();static \u0275dir=pe({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ar("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Rn([UU]),pt]})}return e})();var BU=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=en({type:e});static \u0275inj=Pt({})}return e})();var F0=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:My,useValue:n.callSetDisabledState??Ny}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=en({type:e});static \u0275inj=Pt({imports:[BU]})}return e})();var Bi=class{mockTiles1=[{id:1,title:"Draconic Visage",src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Foldschool.runescape.wiki%2Fimages%2Fthumb%2FDraconic_visage_detail.png%2F640px-Draconic_visage_detail.png%3F6edab&f=1&nofb=1&ipt=9aa9374a957e7a5a937b233244e3cfde042354fa7459254f457e7188786b5690",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)"]},{id:2,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:3,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:4,title:"Any megarare",src:"https://oldschool.runescape.wiki/images/thumb/Twisted_bow_detail.png/150px-Twisted_bow_detail.png?7aa10",bossSrc:"./assets/raids.png",alt:"Twisted Bow",description:"Obtain any megarare drop from any raid",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:5,title:"5 Venator Shards",src:"./assets/venator_shards.png",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:6,title:"Ultor Vestige",src:"https://oldschool.runescape.wiki/images/thumb/Ultor_vestige_detail.png/130px-Ultor_vestige_detail.png?99817",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Vardorvis.png/200px-Vardorvis.png?48af8",alt:"Ultor Vestige",description:"Obtain an Ultor Vestige from Vardorvis",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:7,title:"Draconic Visage",src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Foldschool.runescape.wiki%2Fimages%2Fthumb%2FDraconic_visage_detail.png%2F640px-Draconic_visage_detail.png%3F6edab&f=1&nofb=1&ipt=9aa9374a957e7a5a937b233244e3cfde042354fa7459254f457e7188786b5690",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:8,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:9,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:10,title:"3 Blood shards",src:"./assets/blood_shards.png",bossSrc:"./assets/raids.png",alt:"Blood Shard",description:"Obtain 3 Blood Shards from vyres",itemsRequired:3,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:11,title:"5 Venator Shards",src:"https://oldschool.runescape.wiki/images/thumb/Venator_shard_detail.png/130px-Venator_shard_detail.png?3ad3e",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:12,title:"Moons of perilus",src:"./assets/moons_set.png",bossSrc:"./assets/moons_bosses.png",alt:"Moons of perilus",description:"Obtain a Moons of perilus from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]}];mockTiles2=[{id:1,title:"Draconic Visage",src:"https://oldschool.runescape.wiki/images/thumb/Draconic_visage_detail.png/130px-Draconic_visage_detail.png?6edab",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:2,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:3,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:4,title:"Any megarare",src:"https://oldschool.runescape.wiki/images/thumb/Twisted_bow_detail.png/150px-Twisted_bow_detail.png?7aa10",bossSrc:"./assets/raids.png",alt:"Twisted Bow",description:"Obtain any megarare drop from any raid",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:5,title:"5 Venator Shards",src:"https://oldschool.runescape.wiki/images/thumb/Venator_shard_detail.png/130px-Venator_shard_detail.png?3ad3e",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:5,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:6,title:"Ultor Vestige",src:"https://oldschool.runescape.wiki/images/thumb/Ultor_vestige_detail.png/130px-Ultor_vestige_detail.png?99817",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Vardorvis.png/200px-Vardorvis.png?48af8",alt:"Ultor Vestige",description:"Obtain an Ultor Vestige from Vardorvis",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]}];board=[this.mockTiles1,this.mockTiles2]};var Ur={production:!0,firebaseConfig:{apiKey:"AIzaSyB2e36wu47-6DOc2_rAuHfiFTq9vm6GBD0",authDomain:"cabbingo-db.firebaseapp.com",databaseURL:"https://cabbingo-db-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cabbingo-db",storageBucket:"cabbingo-db.firebasestorage.app",messagingSenderId:"684304316440",appId:"1:684304316440:web:0660b0d72a68752cadeb6d"}};var L0=()=>{};var Vy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var C=function(e,t){if(!e)throw Hi(t)},Hi=function(e){return new Error("Firebase Database ("+Vy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var U0=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},$U=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},As={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(U0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):$U(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new jy;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},jy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},By=function(e){let t=U0(e);return As.encodeByteArray(t,!0)},Ac=function(e){return By(e).replace(/\./g,"")},Ts=function(e){try{return As.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function B0(e){return H0(void 0,e)}function H0(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!WU(n)||(e[n]=H0(e[n],t[n]));return e}function WU(e){return e!=="__proto__"}function $0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zU=()=>$0().__FIREBASE_DEFAULTS__,GU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},qU=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Ts(e[1]);return t&&JSON.parse(t)},Hy=()=>{try{return L0()||zU()||GU()||qU()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},W0=e=>{var t,n;return(n=(t=Hy())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},z0=e=>{let t=W0(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},$y=()=>{var e;return(e=Hy())===null||e===void 0?void 0:e.config},G0=e=>{var t;return(t=Hy())===null||t===void 0?void 0:t[`_${e}`]};var sn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function $i(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function Wy(e){return m(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}function q0(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ac(JSON.stringify(n)),Ac(JSON.stringify(s)),""].join(".")}var Sc={};function YU(){let e={prod:[],emulator:[]};for(let t of Object.keys(Sc))Sc[t]?e.emulator.push(t):e.prod.push(t);return e}function KU(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var V0=!1;function zy(e,t){if(typeof window>"u"||typeof document>"u"||!$i(window.location.host)||Sc[e]===t||Sc[e]||V0)return;Sc[e]=t;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=YU().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{V0=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=KU(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),y=n("learnmore"),v=document.getElementById(y)||document.createElement("a"),E=n("preprendIcon"),$=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let ae=f.element;a(ae),u(v,y);let Z=l();c($,E),ae.append($,p,v,Z),document.body.appendChild(ae)}o?(p.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function Y0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function K0(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Lf(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vn(){return Vy.NODE_CLIENT===!0||Vy.NODE_ADMIN===!0}function Vf(){try{return typeof indexedDB=="object"}catch{return!1}}function Z0(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var ZU="FirebaseError",Ln=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=ZU,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}},an=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?QU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ln(i,a,r)}};function QU(e,t){return e.replace(JU,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var JU=/\{\$([^}]+)}/g;function Ss(e){return JSON.parse(e)}function Oe(e){return JSON.stringify(e)}var Q0=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=Ss(Ts(o[0])||""),n=Ss(Ts(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var J0=function(e){let t=Q0(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},X0=function(e){let t=Q0(e).claims;return typeof t=="object"&&t.admin===!0};function jn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Wi(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function jf(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Mc(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function zi(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(j0(o)&&j0(s)){if(!zi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function j0(e){return e!==null&&typeof e=="object"}function Nc(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}var Ff=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function eA(e,t){let n=new Uy(e,t);return n.subscribe.bind(n)}var Uy=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XU(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Ly),i.error===void 0&&(i.error=Ly),i.complete===void 0&&(i.complete=Ly);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function XU(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Ly(){}function Uf(e,t){return`${e} failed: ${t} argument `}var tA=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,C(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Oc=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var Xne=4*60*60*1e3;function kt(e){return e&&e._delegate?e._delegate:e}var ot=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Gi="[DEFAULT]";var Bf=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new sn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(t2(t))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Gi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return m(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Gi){return this.instances.has(t)}getOptions(t=Gi){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e2(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Gi){return this.component?this.component.multipleInstances?t:Gi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function e2(e){return e===Gi?void 0:e}function t2(e){return e.instantiationMode==="EAGER"}var xc=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Bf(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var n2=[],oe=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(oe||{}),r2={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},i2=oe.INFO,o2={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},s2=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=o2[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Un=class{constructor(t){this.name=t,this._logLevel=i2,this._logHandler=s2,this._userLogHandler=null,n2.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?r2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...t),this._logHandler(this,oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...t),this._logHandler(this,oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...t),this._logHandler(this,oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...t),this._logHandler(this,oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...t),this._logHandler(this,oe.ERROR,...t)}};var a2=(e,t)=>t.some(n=>e instanceof n),nA,rA;function c2(){return nA||(nA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l2(){return rA||(rA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var iA=new WeakMap,qy=new WeakMap,oA=new WeakMap,Gy=new WeakMap,Ky=new WeakMap;function u2(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Bn(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&iA.set(n,e)}).catch(()=>{}),Ky.set(t,e),t}function d2(e){if(qy.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});qy.set(e,t)}var Yy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||oA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function sA(e){Yy=e(Yy)}function f2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(Hf(this),t,...n);return oA.set(r,t.sort?t.sort():[t]),Bn(r)}:l2().includes(e)?function(...t){return e.apply(Hf(this),t),Bn(iA.get(this))}:function(...t){return Bn(e.apply(Hf(this),t))}}function h2(e){return typeof e=="function"?f2(e):(e instanceof IDBTransaction&&d2(e),a2(e,c2())?new Proxy(e,Yy):e)}function Bn(e){if(e instanceof IDBRequest)return u2(e);if(Gy.has(e))return Gy.get(e);let t=h2(e);return t!==e&&(Gy.set(e,t),Ky.set(t,e)),t}var Hf=e=>Ky.get(e);function cA(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=Bn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Bn(s.result),c.oldVersion,c.newVersion,Bn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var p2=["get","getKey","getAll","getAllKeys","count"],g2=["put","add","delete","clear"],Zy=new Map;function aA(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zy.get(t))return Zy.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=g2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||p2.includes(n)))return;let o=function(s,...a){return m(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Zy.set(t,o),o}sA(e=>P(_({},e),{get:(t,n,r)=>aA(t,n)||e.get(t,n,r),has:(t,n)=>!!aA(t,n)||e.has(t,n)}));var Jy=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function m2(e){let t=e.getComponent();return t?.type==="VERSION"}var Xy="@firebase/app",lA="0.13.2";var hr=new Un("@firebase/app"),v2="@firebase/app-compat",y2="@firebase/analytics-compat",_2="@firebase/analytics",E2="@firebase/app-check-compat",C2="@firebase/app-check",I2="@firebase/auth",b2="@firebase/auth-compat",w2="@firebase/database",D2="@firebase/data-connect",T2="@firebase/database-compat",S2="@firebase/functions",A2="@firebase/functions-compat",R2="@firebase/installations",M2="@firebase/installations-compat",N2="@firebase/messaging",O2="@firebase/messaging-compat",x2="@firebase/performance",k2="@firebase/performance-compat",P2="@firebase/remote-config",F2="@firebase/remote-config-compat",L2="@firebase/storage",V2="@firebase/storage-compat",j2="@firebase/firestore",U2="@firebase/ai",B2="@firebase/firestore-compat",H2="firebase",$2="11.10.0";var e_="[DEFAULT]",W2={[Xy]:"fire-core",[v2]:"fire-core-compat",[_2]:"fire-analytics",[y2]:"fire-analytics-compat",[C2]:"fire-app-check",[E2]:"fire-app-check-compat",[I2]:"fire-auth",[b2]:"fire-auth-compat",[w2]:"fire-rtdb",[D2]:"fire-data-connect",[T2]:"fire-rtdb-compat",[S2]:"fire-fn",[A2]:"fire-fn-compat",[R2]:"fire-iid",[M2]:"fire-iid-compat",[N2]:"fire-fcm",[O2]:"fire-fcm-compat",[x2]:"fire-perf",[k2]:"fire-perf-compat",[P2]:"fire-rc",[F2]:"fire-rc-compat",[L2]:"fire-gcs",[V2]:"fire-gcs-compat",[j2]:"fire-fst",[B2]:"fire-fst-compat",[U2]:"fire-vertex","fire-js":"fire-js",[H2]:"fire-js-all"};var kc=new Map,z2=new Map,t_=new Map;function uA(e,t){try{e.container.addComponent(t)}catch(n){hr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ln(e){let t=e.name;if(t_.has(t))return hr.debug(`There were multiple attempts to register component ${t}.`),!1;t_.set(t,e);for(let n of kc.values())uA(n,e);for(let n of z2.values())uA(n,e);return!0}function $f(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pr(e){return e==null?!1:e.settings!==void 0}var G2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new an("app","Firebase",G2);var n_=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}};var Rs=$2;function o_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:e_,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Br.create("bad-app-name",{appName:String(i)});if(n||(n=$y()),!n)throw Br.create("no-options");let o=kc.get(i);if(o){if(zi(n,o.options)&&zi(r,o.config))return o;throw Br.create("duplicate-app",{appName:i})}let s=new xc(i);for(let c of t_.values())s.addComponent(c);let a=new n_(n,r,s);return kc.set(i,a),a}function Ms(e=e_){let t=kc.get(e);if(!t&&e===e_&&$y())return o_();if(!t)throw Br.create("no-app",{appName:e});return t}function Wf(){return Array.from(kc.values())}function Ae(e,t,n){var r;let i=(r=W2[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hr.warn(a.join(" "));return}ln(new ot(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var q2="firebase-heartbeat-database",Y2=1,Pc="firebase-heartbeat-store",Qy=null;function pA(){return Qy||(Qy=cA(q2,Y2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Pc)}catch(n){console.warn(n)}}}}).catch(e=>{throw Br.create("idb-open",{originalErrorMessage:e.message})})),Qy}function K2(e){return m(this,null,function*(){try{let n=(yield pA()).transaction(Pc),r=yield n.objectStore(Pc).get(gA(e));return yield n.done,r}catch(t){if(t instanceof Ln)hr.warn(t.message);else{let n=Br.create("idb-get",{originalErrorMessage:t?.message});hr.warn(n.message)}}})}function dA(e,t){return m(this,null,function*(){try{let r=(yield pA()).transaction(Pc,"readwrite");yield r.objectStore(Pc).put(t,gA(e)),yield r.done}catch(n){if(n instanceof Ln)hr.warn(n.message);else{let r=Br.create("idb-set",{originalErrorMessage:n?.message});hr.warn(r.message)}}})}function gA(e){return`${e.name}!${e.options.appId}`}var Z2=1024,Q2=30,r_=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new i_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fA();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Q2){let s=X2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hr.warn(r)}})}getHeartbeatsHeader(){return m(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=fA(),{heartbeatsToSend:r,unsentEntries:i}=J2(this._heartbeatsCache.heartbeats),o=Ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return hr.warn(n),""}})}};function fA(){return new Date().toISOString().substring(0,10)}function J2(e,t=Z2){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),hA(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hA(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var i_=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Vf()?Z0().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield K2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dA(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dA(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function hA(e){return Ac(JSON.stringify({version:2,heartbeats:e})).length}function X2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function eB(e){ln(new ot("platform-logger",t=>new Jy(t),"PRIVATE")),ln(new ot("heartbeat",t=>new r_(t),"PRIVATE")),Ae(Xy,lA,e),Ae(Xy,lA,"esm2017"),Ae("fire-js","")}eB("");var tB="firebase",nB="11.10.0";Ae(tB,nB,"app");function mA(e){e===void 0&&(e=g(ye));let t=e.get(rr);return n=>new k(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Yi=new Nr("ANGULARFIRE2_VERSION");function Gf(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var Os=(e,t)=>{let n=t?[t]:Wf(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ns=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(Ns||{}),vA=Dv()&&typeof Zone<"u"?Ns.WARN:Ns.SILENT;var zf=class{zone;delegate;constructor(t,n=pp){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Ki=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=g(re);this.outsideAngular=n.runOutsideAngular(()=>new zf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new zf(typeof Zone>"u"?void 0:Zone.current,Do))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yA=!1;function rB(e,t){!yA&&(vA>Ns.SILENT||Dv())&&(yA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),vA>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function iB(e){let t=g(re,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function qi(e){let t=g(re,{optional:!0});return t?t.run(()=>e()):e()}var oB=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),_e(n,()=>qi(()=>e.apply(void 0,r)))),Hn=(e,t,n)=>(n||=t?Ns.WARN:Ns.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=g(Ki),s=g(rr),a=g(he)}catch{return rB(e,n),e.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(t&&(r||=qi(()=>s.add())),i[l]=oB(i[l],r,a));let c=iB(()=>e.apply(this,i));return t?c instanceof k?c.pipe(yr(o.outsideAngular),vr(o.insideAngular),mA(a)):c instanceof Promise?qi(()=>{let l=s.add();return new Promise((u,d)=>{c.then(f=>_e(a,()=>qi(()=>u(f))),f=>_e(a,()=>qi(()=>d(f)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:qi(()=>c):c instanceof k?c.pipe(yr(o.outsideAngular),vr(o.insideAngular)):qi(()=>c)});var Zi=class{constructor(t){return t}},Fc=class{constructor(){return Wf()}};function sB(e){return e&&e.length===1?e[0]:new Zi(Ms())}var s_=new I("angularfire2._apps"),aB={provide:Zi,useFactory:sB,deps:[[new Sn,s_]]},cB={provide:Fc,deps:[[new Sn,s_]]};function lB(e){return(t,n)=>{let r=n.get(ft);Ae("angularfire",Yi.full,"core"),Ae("angularfire",Yi.full,"app"),Ae("angular",vT.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new Zi(i)}}function _A(e,...t){return lt([aB,cB,{provide:s_,useFactory:lB(e),multi:!0,deps:[re,ye,Ki,...t]}])}var EA=Hn(o_,!0);var uB=new Map,dB={activated:!1,tokenObservers:[]},fB={initialized:!1,enabled:!1};function un(e){return uB.get(e)||Object.assign({},dB)}function wA(){return fB}var hB="https://content-firebaseappcheck.googleapis.com/v1";var pB="exchangeDebugToken",CA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},nie=24*60*60*1e3;var l_=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return m(this,null,function*(){this.stop();try{this.pending=new sn,this.pending.promise.catch(n=>{}),yield gB(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new sn,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function gB(e){return new Promise(t=>{setTimeout(t,e)})}var mB={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Hr=new an("appCheck","AppCheck",mB);function DA(e){if(!un(e).activated)throw Hr.create("use-before-activation",{appName:e.name})}function TA(r,i){return m(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(h){throw Hr.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw Hr.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw Hr.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Hr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function SA(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${hB}/projects/${n}/apps/${r}:${pB}?key=${i}`,body:{debug_token:t}}}var vB="firebase-app-check-database",yB=1,u_="firebase-app-check-store";var qf=null;function _B(){return qf||(qf=new Promise((e,t)=>{try{let n=indexedDB.open(vB,yB);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Hr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(u_,{keyPath:"compositeKey"})}}}catch(n){t(Hr.create("storage-open",{originalErrorMessage:n?.message}))}}),qf)}function EB(e,t){return CB(IB(e),t)}function CB(e,t){return m(this,null,function*(){let r=(yield _B()).transaction(u_,"readwrite"),o=r.objectStore(u_).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Hr.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function IB(e){return`${e.options.appId}-${e.name}`}var Lc=new Un("@firebase/app-check");function a_(e,t){return Vf()?EB(e,t).catch(n=>{Lc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function AA(){return wA().enabled}function RA(){return m(this,null,function*(){let e=wA();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var bB={error:"UNKNOWN_ERROR"};function wB(e){return As.encodeString(JSON.stringify(e),!1)}function d_(e,t=!1,n=!1){return m(this,null,function*(){let r=e.app;DA(r);let i=un(r),o=i.token,s;if(o&&!Vc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Vc(l)?o=l:yield a_(r,void 0))}if(!t&&o&&Vc(o))return{token:o.token};let a=!1;if(AA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=TA(SA(r,yield RA()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield a_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Lc.warn(l.message):n&&Lc.error(l),c_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield un(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Lc.warn(l.message):n&&Lc.error(l),s=l}let c;return o?s?Vc(o)?c={token:o.token,internalError:s}:c=c_(s):(c={token:o.token},i.token=o,yield a_(r,o)):c=c_(s),a&&AB(r,c),c})}function DB(e){return m(this,null,function*(){let t=e.app;DA(t);let{provider:n}=un(t);if(AA()){let r=yield RA(),{token:i}=yield TA(SA(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function TB(e,t,n,r){let{app:i}=e,o=un(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Vc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),IA(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>IA(e))}function MA(e,t){let n=un(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function IA(e){let{app:t}=e,n=un(t),r=n.tokenRefresher;r||(r=SB(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function SB(e){let{app:t}=e;return new l_(()=>m(null,null,function*(){let n=un(t),r;if(n.token?r=yield d_(e,!0):r=yield d_(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=un(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},CA.RETRIAL_MIN_WAIT,CA.RETRIAL_MAX_WAIT)}function AB(e,t){let n=un(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Vc(e){return e.expireTimeMillis-Date.now()>0}function c_(e){return{token:wB(bB),error:e}}var f_=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=un(this.app);for(let n of t)MA(this.app,n.next);return Promise.resolve()}};function RB(e,t){return new f_(e,t)}function MB(e){return{getToken:t=>d_(e,t),getLimitedUseToken:()=>DB(e),addTokenListener:t=>TB(e,"INTERNAL",t),removeTokenListener:t=>MA(e.app,t)}}var NB="@firebase/app-check",OB="0.10.1";var xB="app-check",bA="app-check-internal";function kB(){ln(new ot(xB,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return RB(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(bA).initialize()})),ln(new ot(bA,e=>{let t=e.getProvider("app-check").getImmediate();return MB(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ae(NB,OB)}kB();var PB="app-check";var Yf=class{constructor(){return Os(PB)}};var FB=["localhost","0.0.0.0","127.0.0.1"],gie=typeof window<"u"&&FB.includes(window.location.hostname);function VA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var jA=VA,UA=new an("auth","Firebase",VA());var Jf=new Un("@firebase/auth");function LB(e,...t){Jf.logLevel<=oe.WARN&&Jf.warn(`Auth (${Rs}): ${e}`,...t)}function Zf(e,...t){Jf.logLevel<=oe.ERROR&&Jf.error(`Auth (${Rs}): ${e}`,...t)}function NA(e,...t){throw w_(e,...t)}function b_(e,...t){return w_(e,...t)}function BA(e,t,n){let r=Object.assign(Object.assign({},jA()),{[t]:n});return new an("auth","Firebase",r).create(t,{appName:e.name})}function Qf(e){return BA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w_(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return UA.create(e,...t)}function te(e,t,...n){if(!e)throw w_(t,...n)}function jc(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Zf(t),new Error(t)}function Xf(e,t){e||jc(t)}function VB(){return OA()==="http:"||OA()==="https:"}function OA(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function jB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VB()||K0()||"connection"in navigator)?navigator.onLine:!0}function UB(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Xi=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xf(n>t,"Short delay should be less than long delay!"),this.isMobile=Rc()||Lf()}get(){return jB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function BB(e,t){Xf(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var eh=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var HB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var $B=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WB=new Xi(3e4,6e4);function HA(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function oh(o,s,a,c){return m(this,arguments,function*(e,t,n,r,i={}){return $A(e,i,()=>m(null,null,function*(){let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});let d=Nc(Object.assign({key:e.config.apiKey},u)).slice(1),f=yield e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:f},l);return Y0()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&$i(e.emulatorConfig.host)&&(h.credentials="include"),eh.fetch()(yield WA(e,e.config.apiHost,n,d),h)}))})}function $A(e,t,n){return m(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},HB),t);try{let i=new g_(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Kf(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kf(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Kf(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw Kf(e,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw BA(e,u,l);NA(e,u)}}catch(i){if(i instanceof Ln)throw i;NA(e,"network-request-failed",{message:String(i)})}})}function WA(e,t,n,r){return m(this,null,function*(){let i=`${t}${n}?${r}`,o=e,s=o.config.emulator?BB(e.config,i):`${e.config.apiScheme}://${i}`;return $B.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var g_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(b_(this.auth,"network-request-failed")),WB.get())})}};function Kf(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=b_(e,t,r);return i.customData._tokenResponse=n,i}function zB(e,t){return m(this,null,function*(){return oh(e,"POST","/v1/accounts:delete",t)})}function th(e,t){return m(this,null,function*(){return oh(e,"POST","/v1/accounts:lookup",t)})}function Uc(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function D_(e,t=!1){return m(this,null,function*(){let n=kt(e),r=yield n.getIdToken(t),i=zA(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Uc(h_(i.auth_time)),issuedAtTime:Uc(h_(i.iat)),expirationTime:Uc(h_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function h_(e){return Number(e)*1e3}function zA(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Zf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ts(n);return i?JSON.parse(i):(Zf("Failed to decode base64 JWT payload"),null)}catch(i){return Zf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xA(e){let t=zA(e);return te(t,"internal-error"),te(typeof t.exp<"u","internal-error"),te(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function m_(e,t,n=!1){return m(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof Ln&&GB(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function GB({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var v_=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Hc=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function nh(e){return m(this,null,function*(){var t;let n=e.auth,r=yield e.getIdToken(),i=yield m_(e,th(n,{idToken:r}));te(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?GA(o.providerUserInfo):[],a=qB(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Hc(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function T_(e){return m(this,null,function*(){let t=kt(e);yield nh(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function qB(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function GA(e){return e.map(t=>{var{providerId:n}=t,r=gp(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function YB(e,t){return m(this,null,function*(){let n=yield $A(e,{},()=>m(null,null,function*(){let r=Nc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=yield WA(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return e.emulatorConfig&&$i(e.emulatorConfig.host)&&(c.credentials="include"),eh.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function KB(e,t){return m(this,null,function*(){return oh(e,"POST","/v2/accounts:revokeToken",HA(e,t))})}var Bc=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){te(t.idToken,"internal-error"),te(typeof t.idToken<"u","internal-error"),te(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):xA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){te(t.length!==0,"internal-error");let n=xA(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return m(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield YB(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(te(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(te(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return jc("not implemented")}};function $r(e,t){te(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Qi=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=gp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new v_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return m(this,null,function*(){let n=yield m_(this,this.stsTokenManager.getToken(this.auth,t));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return D_(this,t)}reload(){return T_(this)}_assign(t){this!==t&&(te(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return m(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield nh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(pr(this.auth.app))return Promise.reject(Qf(this.auth));let t=yield this.getIdToken();return yield m_(this,zB(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:ae,emailVerified:Z,isAnonymous:Wt,providerData:qs,stsTokenManager:pl}=n;te(ae&&pl,t,"internal-error");let XM=Bc.fromJSON(this.name,pl);te(typeof ae=="string",t,"internal-error"),$r(d,t.name),$r(f,t.name),te(typeof Z=="boolean",t,"internal-error"),te(typeof Wt=="boolean",t,"internal-error"),$r(h,t.name),$r(p,t.name),$r(y,t.name),$r(v,t.name),$r(E,t.name),$r($,t.name);let Yh=new e({uid:ae,auth:t,email:f,emailVerified:Z,displayName:d,isAnonymous:Wt,photoURL:p,phoneNumber:h,tenantId:y,stsTokenManager:XM,createdAt:E,lastLoginAt:$});return qs&&Array.isArray(qs)&&(Yh.providerData=qs.map(eN=>Object.assign({},eN))),v&&(Yh._redirectEventId=v),Yh}static _fromIdTokenResponse(t,n,r=!1){return m(this,null,function*(){let i=new Bc;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield nh(o),o})}static _fromGetAccountInfoResponse(t,n,r){return m(this,null,function*(){let i=n.users[0];te(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?GA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Bc;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Hc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var kA=new Map;function Ji(e){Xf(e instanceof Function,"Expected a class definition");let t=kA.get(e);return t?(Xf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,kA.set(e,t),t)}var ZB=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),y_=ZB;function p_(e,t,n){return`firebase:${e}:${t}:${n}`}var rh=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=p_(this.userKey,i.apiKey,o),this.fullPersistenceKey=p_("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return m(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=yield th(this.auth,{idToken:t}).catch(()=>{});return n?Qi._fromGetAccountInfoResponse(this.auth,n,t):null}return Qi._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return m(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new e(Ji(y_),t,r);let i=(yield Promise.all(n.map(l=>m(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ji(y_),s=p_(r,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield th(t,{idToken:u}).catch(()=>{});if(!f)break;d=yield Qi._fromGetAccountInfoResponse(t,f,u)}else d=Qi._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>m(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,r))})}};function PA(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eH(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(QB(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nH(t))return"Blackberry";if(rH(t))return"Webos";if(JB(t))return"Safari";if((t.includes("chrome/")||XB(t))&&!t.includes("edge/"))return"Chrome";if(tH(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function QB(e=cn()){return/firefox\//i.test(e)}function JB(e=cn()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function XB(e=cn()){return/crios\//i.test(e)}function eH(e=cn()){return/iemobile/i.test(e)}function tH(e=cn()){return/android/i.test(e)}function nH(e=cn()){return/blackberry/i.test(e)}function rH(e=cn()){return/webos/i.test(e)}function qA(e,t=[]){let n;switch(e){case"Browser":n=PA(cn());break;case"Worker":n=`${PA(cn())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rs}/${r}`}var __=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return m(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function iH(n){return m(this,arguments,function*(e,t={}){return oh(e,"GET","/v2/passwordPolicy",HA(e,t))})}var oH=6,E_=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:oH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var C_=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ih(this),this.idTokenSubscription=new ih(this),this.beforeStateQueue=new __(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield rh.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return m(this,null,function*(){try{let n=yield th(this,{idToken:t}),r=yield Qi._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return m(this,null,function*(){var n;if(pr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return m(this,null,function*(){try{yield nh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=UB()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return m(this,null,function*(){if(pr(this.app))return Promise.reject(Qf(this));let n=t?kt(t):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return m(this,null,function*(){if(!this._deleted)return t&&te(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return pr(this.app)?Promise.reject(Qf(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return pr(this.app)?Promise.reject(Qf(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(Ji(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let t=yield iH(this),n=new E_(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new an("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield KB(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&Ji(t)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=yield rh.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return m(this,null,function*(){if(t===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return m(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var t;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&LB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function sH(e){return kt(e)}var ih=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=eA(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var aH={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cH(e){aH=e}function lH(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function uH(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ji);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}var Sie=lH("rcb"),Aie=new Xi(3e4,6e4);var Rie=new Xi(2e3,1e4);var Mie=10*60*1e3;var Nie=new Xi(3e4,6e4);var Oie=new Xi(5e3,15e3);var xie=encodeURIComponent("fac");var FA="@firebase/auth",LA="1.10.8";var I_=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function dH(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fH(e){ln(new ot("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qA(e)},l=new C_(r,i,o,c);return uH(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ln(new ot("auth-internal",t=>{let n=sH(t.getProvider("auth").getImmediate());return(r=>new I_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ae(FA,LA,dH(e)),Ae(FA,LA,"esm2017")}var hH=5*60,kie=G0("authIdTokenMaxAge")||hH;function pH(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}cH({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=b_("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",pH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fH("Browser");var f$="auth";var sh=class{constructor(){return Os(f$)}};var YA="@firebase/database",KA="1.0.20";var SE="";function h$(e){SE=e}var k_=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Oe(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ss(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var P_=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return jn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var SR=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new k_(t)}}catch{}return new P_},to=SR("localStorage"),F_=SR("sessionStorage");var Ps=new Un("@firebase/database"),p$=function(){let e=1;return function(){return e++}}(),AR=function(e){let t=tA(e),n=new Ff;n.update(t);let r=n.digest();return As.encodeByteArray(r)},al=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=al.apply(null,r):typeof r=="object"?t+=Oe(r):t+=r,t+=" "}return t},ro=null,ZA=!0,g$=function(e,t){C(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ps.logLevel=oe.VERBOSE,ro=Ps.log.bind(Ps),t&&F_.set("logging_enabled",!0)):typeof e=="function"?ro=e:(ro=null,F_.remove("logging_enabled"))},Qe=function(...e){if(ZA===!0&&(ZA=!1,ro===null&&F_.get("logging_enabled")===!0&&g$(!0)),ro){let t=al.apply(null,e);ro(t)}},cl=function(e){return function(...t){Qe(e,...t)}},L_=function(...e){let t="FIREBASE INTERNAL ERROR: "+al(...e);Ps.error(t)},gr=function(...e){let t=`FIREBASE FATAL ERROR: ${al(...e)}`;throw Ps.error(t),new Error(t)},gt=function(...e){let t="FIREBASE WARNING: "+al(...e);Ps.warn(t)},m$=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},RR=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},v$=function(e){if(Vn()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ls="[MIN_NAME]",io="[MAX_NAME]",Ws=function(e,t){if(e===t)return 0;if(e===Ls||t===io)return-1;if(t===Ls||e===io)return 1;{let n=QA(e),r=QA(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},y$=function(e,t){return e===t?0:e<t?-1:1},$c=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Oe(t))},AE=function(e){if(typeof e!="object"||e===null)return Oe(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Oe(t[r]),n+=":",n+=AE(e[t[r]]);return n+="}",n},MR=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function mt(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var NR=function(e){C(!RR(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},_$=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},E$=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function C$(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var I$=new RegExp("^-?(0*)\\d{1,10}$"),b$=-2147483648,w$=2147483647,QA=function(e){if(I$.test(e)){let t=Number(e);if(t>=b$&&t<=w$)return t}return null},zs=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw gt("Exception was thrown by user callback.",n),t},Math.floor(0))}},D$=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yc=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var V_=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,pr(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){gt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var j_=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gt(t)}},Kc=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),ch="5",OR="v",xR="s",kR="r",PR="f",FR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LR="ls",VR="p",U_="ac",jR="websocket",UR="long_polling";var lh=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=to.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&to.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function T$(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function BR(e,t,n){C(typeof t=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let r;if(t===jR)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===UR)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);T$(e)&&(n.ns=e.namespace);let i=[];return mt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var B_=class{constructor(){this.counters_={}}incrementCounter(t,n=1){jn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return B0(this.counters_)}};var S_={},A_={};function RE(e){let t=e.toString();return S_[t]||(S_[t]=new B_),S_[t]}function S$(e,t){let n=e.toString();return A_[n]||(A_[n]=t()),A_[n]}var H_=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&zs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var JA="start",A$="close",R$="pLPCommand",M$="pRTLPCB",HR="id",$R="pw",WR="ser",N$="cb",O$="seg",x$="ts",k$="d",P$="dframe",zR=1870,GR=30,F$=zR-GR,L$=25e3,V$=3e4,$_=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cl(t),this.stats_=RE(n),this.urlFn=c=>(this.appCheckToken&&(c[U_]=this.appCheckToken),BR(n,UR,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new H_(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(V$)),v$(()=>{if(this.isClosed_)return;this.scriptTagHolder=new W_((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===JA)this.id=a,this.password=c;else if(s===A$)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[JA]="t",r[WR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[N$]=this.scriptTagHolder.uniqueCallbackIdentifier),r[OR]=ch,this.transportSessionId&&(r[xR]=this.transportSessionId),this.lastSessionId&&(r[LR]=this.lastSessionId),this.applicationId&&(r[VR]=this.applicationId),this.appCheckToken&&(r[U_]=this.appCheckToken),typeof location<"u"&&location.hostname&&FR.test(location.hostname)&&(r[kR]=PR);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Vn()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_$()&&!E$()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=Oe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=By(n),i=MR(r,F$);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Vn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[P$]="t",r[HR]=t,r[$R]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=Oe(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},W_=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Vn())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p$(),window[R$+this.uniqueCallbackIdentifier]=t,window[M$+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Qe("frame writing exception"),a.stack&&Qe(a.stack),Qe(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Qe("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[HR]=this.myID,t[$R]=this.myPW,t[WR]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+GR+r.length<=zR;){let s=this.pendingSegs.shift();r=r+"&"+O$+i+"="+s.seg+"&"+x$+i+"="+s.ts+"&"+k$+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(L$)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){Vn()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var j$=16384,U$=45e3,uh=null;typeof MozWebSocket<"u"?uh=MozWebSocket:typeof WebSocket<"u"&&(uh=WebSocket);var Wc=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cl(this.connId),this.stats_=RE(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[OR]=ch,!Vn()&&typeof location<"u"&&location.hostname&&FR.test(location.hostname)&&(a[kR]=PR),r&&(a[xR]=r),i&&(a[LR]=i),o&&(a[U_]=o),s&&(a[VR]=s),BR(n,jR,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,to.set("previous_websocket_failure",!0);try{let i;if(Vn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${ch}/${SE}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new uh(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&uh!==null&&!e.forceDisallow_}static previouslyFailed(){return to.isInMemoryStorage||to.get("previous_websocket_failure")===!0}markConnectionHealthy(){to.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Ss(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(C(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Oe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=MR(r,j$);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(U$))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),B$=(()=>{class e{static get ALL_TRANSPORTS(){return[$_,Wc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Wc&&Wc.isAvailable(),i=r&&!Wc.previouslyFailed();if(n.webSocketOnly&&(r||gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Wc];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),H$=6e4,$$=5e3,W$=10*1024,z$=100*1024,R_="t",XA="d",G$="s",eR="r",q$="e",tR="o",nR="a",rR="n",iR="p",Y$="h",z_=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cl("c:"+this.id+":"),this.transportManager_=new B$(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Yc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>z$?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>W$?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(R_ in t){let n=t[R_];n===nR?this.upgradeIfSecondaryHealthy_():n===eR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=$c("t",t),r=$c("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:iR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:nR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=$c("t",t),r=$c("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=$c(R_,t);if(XA in t){let r=t[XA];if(n===Y$){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===rR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===G$?this.onConnectionShutdown_(r):n===eR?this.onReset_(r):n===q$?L_("Server Error: "+r):n===tR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):L_("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ch!==r&&gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Yc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(H$))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($$))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:iR,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(to.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var dh=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var fh=class{constructor(t){this.allowedEvents_=t,this.listeners_={},C(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){C(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var hh=class e extends fh{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return C(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var oR=32,sR=768,se=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function J(){return new se("")}function G(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Gr(e){return e.pieces_.length-e.pieceNum_}function le(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new se(e.pieces_,t)}function qR(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function K$(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function YR(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function KR(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new se(t,0)}function Le(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof se)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new se(n,0)}function Y(e){return e.pieceNum_>=e.pieces_.length}function st(e,t){let n=G(e),r=G(t);if(n===null)return t;if(n===r)return st(le(e),le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ME(e,t){if(Gr(e)!==Gr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function fn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Gr(e)>Gr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var G_=class{constructor(t,n){this.errorPrefix_=n,this.parts_=YR(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Oc(this.parts_[r]);ZR(this)}};function Z$(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Oc(t),ZR(e)}function Q$(e){let t=e.parts_.pop();e.byteLength_-=Oc(t),e.parts_.length>0&&(e.byteLength_-=1)}function ZR(e){if(e.byteLength_>sR)throw new Error(e.errorPrefix_+"has a key path longer than "+sR+" bytes ("+e.byteLength_+").");if(e.parts_.length>oR)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+oR+") or object contains a cycle "+eo(e))}function eo(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var q_=class e extends fh{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return C(t==="visible","Unknown event type: "+t),[this.visible_]}};var zc=1e3,J$=60*5*1e3,aR=30*1e3,X$=1.3,e3=3e4,t3="server_kill",cR=3,NE=(()=>{class e extends dh{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=cl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zc,this.maxReconnectDelay_=J$,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Vn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");q_.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&hh.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Oe(s)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new sn,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&jn(n,"w")){let i=Wi(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||X0(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=aR)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=J0(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Oe(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):L_("Unrecognized action received from server: "+Oe(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=zc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>e3&&(this.reconnectDelay_=zc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*X$)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){C(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new z_(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{gt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(t3)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&gt(f),l())}}})}interrupt(n){Qe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Qe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],jf(this.interruptReasons_)&&(this.reconnectDelay_=zc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>AE(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new se(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Qe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=cR&&(this.reconnectDelay_=aR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Qe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=cR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Vn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+SE.replace(/\./g,"-")]=1,Rc()?n["framework.cordova"]=1:Lf()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=hh.getInstance().currentlyOnline();return jf(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),q=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var Vs=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new q(Ls,t),i=new q(Ls,n);return this.compare(r,i)!==0}minPost(){return q.MIN}};var ah,ph=class extends Vs{static get __EMPTY_NODE(){return ah}static set __EMPTY_NODE(t){ah=t}compare(t,n){return Ws(t.name,n.name)}isDefinedOn(t){throw Hi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return q.MIN}maxPost(){return new q(io,ah)}makePost(t,n){return C(typeof t=="string","KeyIndex indexValue must always be a string."),new q(t,ah)}toString(){return".key"}},Fs=new ph;var ks=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},dn=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??$t.EMPTY_NODE,this.right=s??$t.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return $t.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return $t.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Y_=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new dn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},$t=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,dn.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,dn.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ks(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ks(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ks(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ks(this.root_,null,this.comparator_,!0,t)}};$t.EMPTY_NODE=new Y_;function n3(e,t){return Ws(e.name,t.name)}function OE(e,t){return Ws(e,t)}var K_;function r3(e){K_=e}var QR=function(e){return typeof e=="number"?"number:"+NR(e):"string:"+e},JR=function(e){if(e.isLeafNode()){let t=e.val();C(typeof t=="string"||typeof t=="number"||typeof t=="object"&&jn(t,".sv"),"Priority must be a string or number.")}else C(e===K_||e.isEmpty(),"priority of unexpected type.");C(e===K_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var lR,js=(()=>{class e{static set __childrenNodeConstructor(n){lR=n}static get __childrenNodeConstructor(){return lR}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),JR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Y(n)?this:G(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=G(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(C(i!==".priority"||Gr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+QR(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=NR(this.value_):n+=this.value_,this.lazyHash_=AR(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(C(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return C(o>=0,"Unknown leaf type: "+r),C(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),XR,eM;function i3(e){XR=e}function o3(e){eM=e}var Z_=class extends Vs{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ws(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return q.MIN}maxPost(){return new q(io,new js("[PRIORITY-POST]",eM))}makePost(t,n){let r=XR(t);return new q(n,new js("[PRIORITY-POST]",r))}toString(){return".priority"}},Ie=new Z_;var s3=Math.log(2),Q_=class{constructor(t){let n=o=>parseInt(Math.log(o)/s3,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},gh=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new dn(f,d.node,dn.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),y=i(h+1,l);return d=e[h],f=n?n(d):d,new dn(f,d.node,dn.BLACK,p,y)}},o=function(c){let l=null,u=null,d=e.length,f=function(p,y){let v=d-p,E=d;d-=p;let $=i(v+1,E),ae=e[v],Z=n?n(ae):ae;h(new dn(Z,ae.node,y,null,$))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let y=c.nextBitIsOne(),v=Math.pow(2,c.count-(p+1));y?f(v,dn.BLACK):(f(v,dn.BLACK),f(v,dn.RED))}return u},s=new Q_(e.length),a=o(s);return new $t(r||t,a)};var M_,xs={},Us=class e{static get Default(){return C(xs&&Ie,"ChildrenNode.ts has not been loaded"),M_=M_||new e({".priority":xs},{".priority":Ie}),M_}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=Wi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof $t?n:null}hasIndex(t){return jn(this.indexSet_,t.toString())}addIndex(t,n){C(t!==Fs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(q.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=gh(r,t.getCompare()):a=xs;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=Mc(this.indexes_,(i,o)=>{let s=Wi(this.indexSet_,o);if(C(s,"Missing index implementation for "+o),i===xs)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator(q.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),gh(a,s.getCompare())}else return xs;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new q(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=Mc(this.indexes_,i=>{if(i===xs)return i;{let o=n.get(t.name);return o?i.remove(new q(t.name,o)):i}});return new e(r,this.indexSet_)}};var Gc,B=(()=>{class e{static get EMPTY_NODE(){return Gc||(Gc=new e(new $t(OE),null,Us.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&JR(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gc}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Gc:r}}getChild(n){let r=G(n);return r===null?this:this.getImmediateChild(r).getChild(le(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(C(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new q(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Gc:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=G(n);if(i===null)return r;{C(G(n)!==".priority"||Gr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(le(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Ie,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+QR(this.getPriority().val())+":"),this.forEachChild(Ie,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":AR(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new q(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new q(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new q(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ll?-1:0}withIndex(n){if(n===Fs||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Fs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ie),o=r.getIterator(Ie),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Fs?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),J_=class extends B{constructor(){super(new $t(OE),B.EMPTY_NODE,Us.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return B.EMPTY_NODE}isEmpty(){return!1}},ll=new J_;Object.defineProperties(q,{MIN:{value:new q(Ls,B.EMPTY_NODE)},MAX:{value:new q(io,ll)}});ph.__EMPTY_NODE=B.EMPTY_NODE;js.__childrenNodeConstructor=B;r3(ll);o3(ll);var a3=!0;function Be(e,t=null){if(e===null)return B.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),C(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new js(n,Be(t))}if(!(e instanceof Array)&&a3){let n=[],r=!1;if(mt(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=Be(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new q(s,c)))}}),n.length===0)return B.EMPTY_NODE;let o=gh(n,n3,s=>s.name,OE);if(r){let s=gh(n,Ie.getCompare());return new B(o,Be(t),new Us({".priority":s},{".priority":Ie}))}else return new B(o,Be(t),Us.Default)}else{let n=B.EMPTY_NODE;return mt(e,(r,i)=>{if(jn(e,r)&&r.substring(0,1)!=="."){let o=Be(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Be(t))}}i3(Be);var X_=class extends Vs{constructor(t){super(),this.indexPath_=t,C(!Y(t)&&G(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ws(t.name,n.name):o}makePost(t,n){let r=Be(t),i=B.EMPTY_NODE.updateChild(this.indexPath_,r);return new q(n,i)}maxPost(){let t=B.EMPTY_NODE.updateChild(this.indexPath_,ll);return new q(io,t)}toString(){return YR(this.indexPath_,0).join("/")}};var eE=class extends Vs{compare(t,n){let r=t.node.compareTo(n.node);return r===0?Ws(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return q.MIN}maxPost(){return q.MAX}makePost(t,n){let r=Be(t);return new q(n,r)}toString(){return".value"}},c3=new eE;function tM(e){return{type:"value",snapshotNode:e}}function Bs(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Xc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function el(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function l3(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var tl=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){C(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Xc(n,a)):C(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Bs(n,r)):s.trackChildChange(el(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ie,(i,o)=>{n.hasChild(i)||r.trackChildChange(Xc(i,o))}),n.isLeafNode()||n.forEachChild(Ie,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(el(i,o,s))}else r.trackChildChange(Bs(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?B.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var mh=class e{constructor(t){this.indexedFilter_=new tl(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new q(n,r))||(r=B.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=B.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(B.EMPTY_NODE);let o=this;return n.forEachChild(Ie,(s,a)=>{o.matches(new q(s,a))||(i=i.updateImmediateChild(s,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var tE=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new mh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new q(n,r))||(r=B.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=B.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(B.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;C(a.numChildren()===this.limit_,"");let c=new q(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(el(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Xc(n,d));let y=a.updateImmediateChild(n,B.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Bs(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?t:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(Xc(l.name,l.node)),o.trackChildChange(Bs(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,B.EMPTY_NODE)):t}};var nE=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ls}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:io}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function u3(e){return e.loadsAllData()?new tl(e.getIndex()):e.hasLimit()?new tE(e):new mh(e)}function uR(e){let t={};if(e.isDefault())return t;let n;if(e.index_===Ie?n="$priority":e.index_===c3?n="$value":e.index_===Fs?n="$key":(C(e.index_ instanceof X_,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Oe(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=Oe(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Oe(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Oe(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Oe(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function dR(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ie&&(t.i=e.index_.toString()),t}var rE=class e extends dh{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(C(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=cl("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=uR(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Wi(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=uR(t._queryParams),r=t._path.toString(),i=new sn;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Nc(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Ss(a.responseText)}catch{gt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&gt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var iE=class{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function vh(){return{value:null,children:new Map}}function nM(e,t,n){if(Y(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=G(t);e.children.has(r)||e.children.set(r,vh());let i=e.children.get(r);t=le(t),nM(i,t,n)}}function oE(e,t,n){e.value!==null?n(t,e.value):d3(e,(r,i)=>{let o=new se(t.toString()+"/"+r);oE(i,o,n)})}function d3(e,t){e.children.forEach((n,r)=>{t(r,n)})}var sE=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&mt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var fR=10*1e3,f3=30*1e3,h3=5*60*1e3,aE=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new sE(t);let r=fR+(f3-fR)*Math.random();Yc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;mt(t,(i,o)=>{o>0&&jn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Yc(this.reportStats_.bind(this),Math.floor(Math.random()*2*h3))}};var $n=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}($n||{});function rM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kE(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var cE=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=$n.ACK_USER_WRITE,this.source=rM()}operationForChild(t){if(Y(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new se(t));return new e(J(),n,this.revert)}}else return C(G(this.path)===t,"operationForChild called for unrelated child."),new e(le(this.path),this.affectedTree,this.revert)}};var yh=class e{constructor(t,n){this.source=t,this.path=n,this.type=$n.LISTEN_COMPLETE}operationForChild(t){return Y(this.path)?new e(this.source,J()):new e(this.source,le(this.path))}};var Hs=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=$n.OVERWRITE}operationForChild(t){return Y(this.path)?new e(this.source,J(),this.snap.getImmediateChild(t)):new e(this.source,le(this.path),this.snap)}};var _h=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=$n.MERGE}operationForChild(t){if(Y(this.path)){let n=this.children.subtree(new se(t));return n.isEmpty()?null:n.value?new Hs(this.source,J(),n.value):new e(this.source,J(),n)}else return C(G(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Wn=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Y(t))return this.isFullyInitialized()&&!this.filtered_;let n=G(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var lE=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function p3(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(l3(s.childName,s.snapshotNode))}),qc(e,i,"child_removed",t,r,n),qc(e,i,"child_added",t,r,n),qc(e,i,"child_moved",o,r,n),qc(e,i,"child_changed",t,r,n),qc(e,i,"value",t,r,n),i}function qc(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>m3(e,a,c)),s.forEach(a=>{let c=g3(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function g3(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function m3(e,t,n){if(t.childName==null||n.childName==null)throw Hi("Should only compare child_ events.");let r=new q(t.childName,t.snapshotNode),i=new q(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function xh(e,t){return{eventCache:e,serverCache:t}}function Zc(e,t,n,r){return xh(new Wn(t,n,r),e.serverCache)}function iM(e,t,n,r){return xh(e.eventCache,new Wn(t,n,r))}function Eh(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function oo(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var N_,v3=()=>(N_||(N_=new $t(y$)),N_),vt=class e{static fromObject(t){let n=new e(null);return mt(t,(r,i)=>{n=n.set(new se(r),i)}),n}constructor(t,n=v3()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:J(),value:this.value};if(Y(t))return null;{let r=G(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(le(t),n);return o!=null?{path:Le(new se(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Y(t))return this;{let n=G(t),r=this.children.get(n);return r!==null?r.subtree(le(t)):new e(null)}}set(t,n){if(Y(t))return new e(n,this.children);{let r=G(t),o=(this.children.get(r)||new e(null)).set(le(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(Y(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=G(t),r=this.children.get(n);if(r){let i=r.remove(le(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(Y(t))return this.value;{let n=G(t),r=this.children.get(n);return r?r.get(le(t)):null}}setTree(t,n){if(Y(t))return n;{let r=G(t),o=(this.children.get(r)||new e(null)).setTree(le(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(J(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Le(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,J(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Y(t))return null;{let o=G(t),s=this.children.get(o);return s?s.findOnPath_(le(t),Le(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,J(),n)}foreachOnPath_(t,n,r){if(Y(t))return this;{this.value&&r(n,this.value);let i=G(t),o=this.children.get(i);return o?o.foreachOnPath_(le(t),Le(n,i),r):new e(null)}}foreach(t){this.foreach_(J(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Le(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var hn=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new vt(null))}};function Qc(e,t,n){if(Y(t))return new hn(new vt(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=st(i,t);return o=o.updateChild(s,n),new hn(e.writeTree_.set(i,o))}else{let i=new vt(n),o=e.writeTree_.setTree(t,i);return new hn(o)}}}function hR(e,t,n){let r=e;return mt(n,(i,o)=>{r=Qc(r,Le(t,i),o)}),r}function pR(e,t){if(Y(t))return hn.empty();{let n=e.writeTree_.setTree(t,new vt(null));return new hn(n)}}function uE(e,t){return so(e,t)!=null}function so(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(st(n.path,t)):null}function gR(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ie,(r,i)=>{t.push(new q(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new q(r,i.value))}),t}function Wr(e,t){if(Y(t))return e;{let n=so(e,t);return n!=null?new hn(new vt(n)):new hn(e.writeTree_.subtree(t))}}function dE(e){return e.writeTree_.isEmpty()}function $s(e,t){return oM(J(),e.writeTree_,t)}function oM(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(C(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=oM(Le(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Le(e,".priority"),r)),n}}function kh(e,t){return lM(t,e)}function y3(e,t,n,r,i){C(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Qc(e.visibleWrites,t,n)),e.lastWriteId=r}function _3(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function E3(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);C(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&C3(a,r.path)?i=!1:fn(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return I3(e),!0;if(r.snap)e.visibleWrites=pR(e.visibleWrites,r.path);else{let a=r.children;mt(a,c=>{e.visibleWrites=pR(e.visibleWrites,Le(r.path,c))})}return!0}else return!1}function C3(e,t){if(e.snap)return fn(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&fn(Le(e.path,n),t))return!0;return!1}function I3(e){e.visibleWrites=sM(e.allWrites,b3,J()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function b3(e){return e.visible}function sM(e,t,n){let r=hn.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)fn(n,s)?(a=st(n,s),r=Qc(r,a,o.snap)):fn(s,n)&&(a=st(s,n),r=Qc(r,J(),o.snap.getChild(a)));else if(o.children){if(fn(n,s))a=st(n,s),r=hR(r,a,o.children);else if(fn(s,n))if(a=st(s,n),Y(a))r=hR(r,J(),o.children);else{let c=Wi(o.children,G(a));if(c){let l=c.getChild(le(a));r=Qc(r,J(),l)}}}else throw Hi("WriteRecord should have .snap or .children")}}return r}function aM(e,t,n,r,i){if(!r&&!i){let o=so(e.visibleWrites,t);if(o!=null)return o;{let s=Wr(e.visibleWrites,t);if(dE(s))return n;if(n==null&&!uE(s,J()))return null;{let a=n||B.EMPTY_NODE;return $s(s,a)}}}else{let o=Wr(e.visibleWrites,t);if(!i&&dE(o))return n;if(!i&&n==null&&!uE(o,J()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(fn(l.path,t)||fn(t,l.path))},a=sM(e.allWrites,s,t),c=n||B.EMPTY_NODE;return $s(a,c)}}}function w3(e,t,n){let r=B.EMPTY_NODE,i=so(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ie,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Wr(e.visibleWrites,t);return n.forEachChild(Ie,(s,a)=>{let c=$s(Wr(o,new se(s)),a);r=r.updateImmediateChild(s,c)}),gR(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Wr(e.visibleWrites,t);return gR(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function D3(e,t,n,r,i){C(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Le(t,n);if(uE(e.visibleWrites,o))return null;{let s=Wr(e.visibleWrites,o);return dE(s)?i.getChild(n):$s(s,i.getChild(n))}}function T3(e,t,n,r){let i=Le(t,n),o=so(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Wr(e.visibleWrites,i);return $s(s,r.getNode().getImmediateChild(n))}else return null}function S3(e,t){return so(e.visibleWrites,t)}function A3(e,t,n,r,i,o,s){let a,c=Wr(e.visibleWrites,t),l=so(c,J());if(l!=null)a=l;else if(n!=null)a=$s(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function R3(){return{visibleWrites:hn.empty(),allWrites:[],lastWriteId:-1}}function Ch(e,t,n,r){return aM(e.writeTree,e.treePath,t,n,r)}function PE(e,t){return w3(e.writeTree,e.treePath,t)}function mR(e,t,n,r){return D3(e.writeTree,e.treePath,t,n,r)}function Ih(e,t){return S3(e.writeTree,Le(e.treePath,t))}function M3(e,t,n,r,i,o){return A3(e.writeTree,e.treePath,t,n,r,i,o)}function FE(e,t,n){return T3(e.writeTree,e.treePath,t,n)}function cM(e,t){return lM(Le(e.treePath,t),e.writeTree)}function lM(e,t){return{treePath:e,writeTree:t}}var fE=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,el(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Xc(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Bs(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,el(r,t.snapshotNode,i.oldSnap));else throw Hi("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var hE=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},uM=new hE,nl=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new Wn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return FE(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:oo(this.viewCache_),o=M3(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function N3(e){return{filter:e}}function O3(e,t){C(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),C(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function x3(e,t,n,r,i){let o=new fE,s,a;if(n.type===$n.OVERWRITE){let l=n;l.source.fromUser?s=pE(e,t,l.path,l.snap,r,i,o):(C(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Y(l.path),s=bh(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===$n.MERGE){let l=n;l.source.fromUser?s=P3(e,t,l.path,l.children,r,i,o):(C(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=gE(e,t,l.path,l.children,r,i,a,o))}else if(n.type===$n.ACK_USER_WRITE){let l=n;l.revert?s=V3(e,t,l.path,r,i,o):s=F3(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===$n.LISTEN_COMPLETE)s=L3(e,t,n.path,r,o);else throw Hi("Unknown operation type: "+n.type);let c=o.getChanges();return k3(t,s,c),{viewCache:s,changes:c}}function k3(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Eh(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(tM(Eh(t)))}}function dM(e,t,n,r,i,o){let s=t.eventCache;if(Ih(r,n)!=null)return t;{let a,c;if(Y(n))if(C(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=oo(t),u=l instanceof B?l:B.EMPTY_NODE,d=PE(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=Ch(r,oo(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=G(n);if(l===".priority"){C(Gr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=mR(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=le(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let f=mR(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=FE(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return Zc(t,a,s.isFullyInitialized()||Y(n),e.filter.filtersNodes())}}function bh(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(Y(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=G(n);if(!c.isCompleteForPath(n)&&Gr(n)>1)return t;let p=le(n),v=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),v):l=u.updateChild(c.getNode(),h,v,p,uM,null)}let d=iM(t,l,c.isFullyInitialized()||Y(n),u.filtersNodes()),f=new nl(i,d,o);return dM(e,d,n,i,f,a)}function pE(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new nl(i,t,o);if(Y(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Zc(t,l,!0,e.filter.filtersNodes());else{let d=G(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Zc(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=le(n),h=a.getNode().getImmediateChild(d),p;if(Y(f))p=r;else{let y=u.getCompleteChild(d);y!=null?qR(f)===".priority"&&y.getChild(KR(f)).isEmpty()?p=y:p=y.updateChild(f,r):p=B.EMPTY_NODE}if(h.equals(p))c=t;else{let y=e.filter.updateChild(a.getNode(),d,p,f,u,s);c=Zc(t,y,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function vR(e,t){return e.eventCache.isCompleteForChild(t)}function P3(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=Le(n,c);vR(t,G(u))&&(a=pE(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Le(n,c);vR(t,G(u))||(a=pE(e,a,u,l,i,o,s))}),a}function yR(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function gE(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;Y(n)?l=r:l=new vt(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=yR(e,h,f);c=bh(e,c,new se(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),y=yR(e,p,f);c=bh(e,c,new se(d),y,i,o,s,a)}}),c}function F3(e,t,n,r,i,o,s){if(Ih(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(Y(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return bh(e,t,n,c.getNode().getChild(n),i,o,a,s);if(Y(n)){let l=new vt(null);return c.getNode().forEachChild(Fs,(u,d)=>{l=l.set(new se(u),d)}),gE(e,t,n,l,i,o,a,s)}else return t}else{let l=new vt(null);return r.foreach((u,d)=>{let f=Le(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),gE(e,t,n,l,i,o,a,s)}}function L3(e,t,n,r,i){let o=t.serverCache,s=iM(t,o.getNode(),o.isFullyInitialized()||Y(n),o.isFiltered());return dM(e,s,n,r,uM,i)}function V3(e,t,n,r,i,o){let s;if(Ih(r,n)!=null)return t;{let a=new nl(r,t,i),c=t.eventCache.getNode(),l;if(Y(n)||G(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Ch(r,oo(t));else{let d=t.serverCache.getNode();C(d instanceof B,"serverChildren would be complete if leaf node"),u=PE(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=G(n),d=FE(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,le(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,B.EMPTY_NODE,le(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Ch(r,oo(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||Ih(r,J())!=null,Zc(t,l,s,e.filter.filtersNodes())}}var mE=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new tl(r.getIndex()),o=u3(r);this.processor_=N3(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(B.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(B.EMPTY_NODE,a.getNode(),null),u=new Wn(c,s.isFullyInitialized(),i.filtersNodes()),d=new Wn(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=xh(d,u),this.eventGenerator_=new lE(this.query_)}get query(){return this.query_}};function j3(e){return e.viewCache_.serverCache.getNode()}function U3(e){return Eh(e.viewCache_)}function B3(e,t){let n=oo(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Y(t)&&!n.getImmediateChild(G(t)).isEmpty())?n.getChild(t):null}function _R(e){return e.eventRegistrations_.length===0}function H3(e,t){e.eventRegistrations_.push(t)}function ER(e,t,n){let r=[];if(n){C(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function CR(e,t,n,r){t.type===$n.MERGE&&t.source.queryId!==null&&(C(oo(e.viewCache_),"We should always have a full cache before handling merges"),C(Eh(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=x3(e.processor_,i,t,n,r);return O3(e.processor_,o.viewCache),C(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,fM(e,o.changes,o.viewCache.eventCache.getNode(),null)}function $3(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ie,(o,s)=>{r.push(Bs(o,s))}),n.isFullyInitialized()&&r.push(tM(n.getNode())),fM(e,r,n.getNode(),t)}function fM(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return p3(e.eventGenerator_,t,n,i)}var wh,Dh=class{constructor(){this.views=new Map}};function W3(e){C(!wh,"__referenceConstructor has already been defined"),wh=e}function z3(){return C(wh,"Reference.ts has not been loaded"),wh}function G3(e){return e.views.size===0}function LE(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return C(o!=null,"SyncTree gave us an op for an invalid query."),CR(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(CR(s,t,n,r));return o}}function hM(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=Ch(n,i?r:null),c=!1;a?c=!0:r instanceof B?(a=PE(n,r),c=!1):(a=B.EMPTY_NODE,c=!1);let l=xh(new Wn(a,c,!1),new Wn(r,i,!1));return new mE(t,l)}return s}function q3(e,t,n,r,i,o){let s=hM(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),H3(s,n),$3(s,n)}function Y3(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=qr(e);if(i==="default")for(let[c,l]of e.views.entries())s=s.concat(ER(l,n,r)),_R(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(i);c&&(s=s.concat(ER(c,n,r)),_R(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!qr(e)&&o.push(new(z3())(t._repo,t._path)),{removed:o,events:s}}function pM(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function zr(e,t){let n=null;for(let r of e.views.values())n=n||B3(r,t);return n}function gM(e,t){if(t._queryParams.loadsAllData())return Ph(e);{let r=t._queryIdentifier;return e.views.get(r)}}function mM(e,t){return gM(e,t)!=null}function qr(e){return Ph(e)!=null}function Ph(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Th;function K3(e){C(!Th,"__referenceConstructor has already been defined"),Th=e}function Z3(){return C(Th,"Reference.ts has not been loaded"),Th}var Q3=1,Sh=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new vt(null),this.pendingWriteTree_=R3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function vM(e,t,n,r,i){return y3(e.pendingWriteTree_,t,n,r,i),i?dl(e,new Hs(rM(),t,n)):[]}function no(e,t,n=!1){let r=_3(e.pendingWriteTree_,t);if(E3(e.pendingWriteTree_,t)){let o=new vt(null);return r.snap!=null?o=o.set(J(),!0):mt(r.children,s=>{o=o.set(new se(s),!0)}),dl(e,new cE(r.path,o,n))}else return[]}function ul(e,t,n){return dl(e,new Hs(xE(),t,n))}function J3(e,t,n){let r=vt.fromObject(n);return dl(e,new _h(xE(),t,r))}function X3(e,t){return dl(e,new yh(xE(),t))}function eW(e,t,n){let r=jE(e,n);if(r){let i=UE(r),o=i.path,s=i.queryId,a=st(o,t),c=new yh(kE(s),a);return BE(e,o,c)}else return[]}function Ah(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||mM(s,t))){let c=Y3(s,t,n,r);G3(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>qr(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=rW(f);for(let p=0;p<h.length;++p){let y=h[p],v=y.query,E=CM(e,y);e.listenProvider_.startListening(Jc(v),rl(e,v),E.hashFn,E.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(Jc(t),null):l.forEach(f=>{let h=e.queryToTagMap.get(Fh(f));e.listenProvider_.stopListening(Jc(f),h)}))}iW(e,l)}return a}function yM(e,t,n,r){let i=jE(e,r);if(i!=null){let o=UE(i),s=o.path,a=o.queryId,c=st(s,t),l=new Hs(kE(a),c,n);return BE(e,s,l)}else return[]}function tW(e,t,n,r){let i=jE(e,r);if(i){let o=UE(i),s=o.path,a=o.queryId,c=st(s,t),l=vt.fromObject(n),u=new _h(kE(a),c,l);return BE(e,s,u)}else return[]}function vE(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=st(f,i);o=o||zr(h,p),s=s||qr(h)});let a=e.syncPointTree_.get(i);a?(s=s||qr(a),o=o||zr(a,J())):(a=new Dh,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=B.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let y=zr(p,J());y&&(o=o.updateImmediateChild(h,y))}));let l=mM(a,t);if(!l&&!t._queryParams.loadsAllData()){let f=Fh(t);C(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=oW();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=kh(e.pendingWriteTree_,i),d=q3(a,t,n,u,o,c);if(!l&&!s&&!r){let f=gM(a,t);d=d.concat(sW(e,t,f))}return d}function VE(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=st(s,t),l=zr(a,c);if(l)return l});return aM(i,t,o,n,!0)}function nW(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=st(l,n);r=r||zr(u,d)});let i=e.syncPointTree_.get(n);i?r=r||zr(i,J()):(i=new Dh,e.syncPointTree_=e.syncPointTree_.set(n,i));let o=r!=null,s=o?new Wn(r,!0,!1):null,a=kh(e.pendingWriteTree_,t._path),c=hM(i,t,a,o?s.getNode():B.EMPTY_NODE,o);return U3(c)}function dl(e,t){return _M(t,e.syncPointTree_,null,kh(e.pendingWriteTree_,J()))}function _M(e,t,n,r){if(Y(e.path))return EM(e,t,n,r);{let i=t.get(J());n==null&&i!=null&&(n=zr(i,J()));let o=[],s=G(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=cM(r,s);o=o.concat(_M(a,c,l,u))}return i&&(o=o.concat(LE(i,e,r,n))),o}}function EM(e,t,n,r){let i=t.get(J());n==null&&i!=null&&(n=zr(i,J()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=cM(r,s),u=e.operationForChild(s);u&&(o=o.concat(EM(u,a,c,l)))}),i&&(o=o.concat(LE(i,e,r,n))),o}function CM(e,t){let n=t.query,r=rl(e,n);return{hashFn:()=>(j3(t)||B.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?eW(e,n._path,r):X3(e,n._path);{let o=C$(i,n);return Ah(e,n,null,o)}}}}function rl(e,t){let n=Fh(t);return e.queryToTagMap.get(n)}function Fh(e){return e._path.toString()+"$"+e._queryIdentifier}function jE(e,t){return e.tagToQueryMap.get(t)}function UE(e){let t=e.indexOf("$");return C(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new se(e.substr(0,t))}}function BE(e,t,n){let r=e.syncPointTree_.get(t);C(r,"Missing sync point for query tag that we're tracking");let i=kh(e.pendingWriteTree_,t);return LE(r,n,i,null)}function rW(e){return e.fold((t,n,r)=>{if(n&&qr(n))return[Ph(n)];{let i=[];return n&&(i=pM(n)),mt(r,(o,s)=>{i=i.concat(s)}),i}})}function Jc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Z3())(e._repo,e._path):e}function iW(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=Fh(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function oW(){return Q3++}function sW(e,t,n){let r=t._path,i=rl(e,t),o=CM(e,n),s=e.listenProvider_.startListening(Jc(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)C(!qr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!Y(l)&&u&&qr(u))return[Ph(u).query];{let f=[];return u&&(f=f.concat(pM(u).map(h=>h.query))),mt(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(Jc(u),rl(e,u))}}return s}var yE=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},_E=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=Le(this.path_,t);return new e(this.syncTree_,n)}node(){return VE(this.syncTree_,this.path_)}},aW=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},IR=function(e,t,n){if(!e||typeof e!="object")return e;if(C(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return cW(e[".sv"],t,n);if(typeof e[".sv"]=="object")return lW(e[".sv"],t);C(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},cW=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+e)}},lW=function(e,t,n){e.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&C(!1,"Unexpected increment value: "+r);let i=t.node();if(C(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},uW=function(e,t,n,r){return HE(t,new _E(n,e),r)},IM=function(e,t,n){return HE(e,new yE(t),n)};function HE(e,t,n){let r=e.getPriority().val(),i=IR(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=IR(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new js(a,Be(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new js(i))),s.forEachChild(Ie,(a,c)=>{let l=HE(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var il=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function $E(e,t){let n=t instanceof se?t:new se(t),r=e,i=G(n);for(;i!==null;){let o=Wi(r.node.children,i)||{children:{},childCount:0};r=new il(i,r,o),n=le(n),i=G(n)}return r}function Gs(e){return e.node.value}function bM(e,t){e.node.value=t,EE(e)}function wM(e){return e.node.childCount>0}function dW(e){return Gs(e)===void 0&&!wM(e)}function Lh(e,t){mt(e.node.children,(n,r)=>{t(new il(n,e,r))})}function DM(e,t,n,r){n&&!r&&t(e),Lh(e,i=>{DM(i,t,!0,r)}),n&&r&&t(e)}function fW(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function fl(e){return new se(e.parent===null?e.name:fl(e.parent)+"/"+e.name)}function EE(e){e.parent!==null&&hW(e.parent,e.name,e)}function hW(e,t,n){let r=dW(n),i=jn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,EE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,EE(e))}var pW=/[\[\].#$\/\u0000-\u001F\u007F]/,gW=/[\[\].#$\u0000-\u001F\u007F]/,O_=10*1024*1024,TM=function(e){return typeof e=="string"&&e.length!==0&&!pW.test(e)},SM=function(e){return typeof e=="string"&&e.length!==0&&!gW.test(e)},mW=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),SM(e)};var vW=function(e,t,n,r){r&&t===void 0||WE(Uf(e,"value"),t,n)},WE=function(e,t,n){let r=n instanceof se?new G_(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+eo(r));if(typeof t=="function")throw new Error(e+"contains a function "+eo(r)+" with contents = "+t.toString());if(RR(t))throw new Error(e+"contains "+t.toString()+" "+eo(r));if(typeof t=="string"&&t.length>O_/3&&Oc(t)>O_)throw new Error(e+"contains a string greater than "+O_+" utf8 bytes "+eo(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(mt(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!TM(s)))throw new Error(e+" contains an invalid key ("+s+") "+eo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Z$(r,s),WE(e,a,r),Q$(r)}),i&&o)throw new Error(e+' contains ".value" child '+eo(r)+" in addition to actual children.")}};var AM=function(e,t,n,r){if(!(r&&n===void 0)&&!SM(n))throw new Error(Uf(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},yW=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),AM(e,t,n,r)},_W=function(e,t){if(G(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},EW=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!TM(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!mW(n))throw new Error(Uf(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var CE=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function zE(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!ME(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function RM(e,t,n){zE(e,n),MM(e,r=>ME(r,t))}function zn(e,t,n){zE(e,n),MM(e,r=>fn(r,t)||fn(t,r))}function MM(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(CW(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function CW(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();ro&&Qe("event: "+n.toString()),zs(r)}}}var IW="repo_interrupt",bW=25,IE=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new CE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vh(),this.transactionQueueTree_=new il,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function wW(e,t,n){if(e.stats_=RE(e.repoInfo_),e.forceRestClient_||D$())e.server_=new rE(e.repoInfo_,(r,i,o,s)=>{bR(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>wR(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Oe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new NE(e.repoInfo_,t,(r,i,o,s)=>{bR(e,r,i,o,s)},r=>{wR(e,r)},r=>{TW(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=S$(e.repoInfo_,()=>new aE(e.stats_,e.server_)),e.infoData_=new iE,e.infoSyncTree_=new Sh({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=ul(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),qE(e,"connected",!1),e.serverSyncTree_=new Sh({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);zn(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function DW(e){let n=e.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function GE(e){return aW({timestamp:DW(e)})}function bR(e,t,n,r,i){e.dataUpdateCount++;let o=new se(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=Mc(n,l=>Be(l));s=tW(e.serverSyncTree_,o,c,i)}else{let c=Be(n);s=yM(e.serverSyncTree_,o,c,i)}else if(r){let c=Mc(n,l=>Be(l));s=J3(e.serverSyncTree_,o,c)}else{let c=Be(n);s=ul(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=jh(e,o)),zn(e.eventQueue_,a,s)}function wR(e,t){qE(e,"connected",t),t===!1&&RW(e)}function TW(e,t){mt(t,(n,r)=>{qE(e,n,r)})}function qE(e,t,n){let r=new se("/.info/"+t),i=Be(n);e.infoData_.updateSnapshot(r,i);let o=ul(e.infoSyncTree_,r,i);zn(e.eventQueue_,r,o)}function NM(e){return e.nextWriteId_++}function SW(e,t,n){let r=nW(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{let o=Be(i).withIndex(t._queryParams.getIndex());vE(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=ul(e.serverSyncTree_,t._path,o);else{let a=rl(e.serverSyncTree_,t);s=yM(e.serverSyncTree_,t._path,o,a)}return zn(e.eventQueue_,t._path,s),Ah(e.serverSyncTree_,t,n,null,!0),o},i=>(Vh(e,"get for query "+Oe(t)+" failed: "+i),Promise.reject(new Error(i))))}function AW(e,t,n,r,i){Vh(e,"set",{path:t.toString(),value:n,priority:r});let o=GE(e),s=Be(n,r),a=VE(e.serverSyncTree_,t),c=IM(s,a,o),l=NM(e),u=vM(e.serverSyncTree_,t,c,l,!0);zE(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||gt("set at "+t+" failed: "+f);let y=no(e.serverSyncTree_,l,!p);zn(e.eventQueue_,t,y),OW(e,i,f,h)});let d=FM(e,t);jh(e,d),zn(e.eventQueue_,d,[])}function RW(e){Vh(e,"onDisconnectEvents");let t=GE(e),n=vh();oE(e.onDisconnect_,J(),(i,o)=>{let s=uW(i,o,e.serverSyncTree_,t);nM(n,i,s)});let r=[];oE(n,J(),(i,o)=>{r=r.concat(ul(e.serverSyncTree_,i,o));let s=FM(e,i);jh(e,s)}),e.onDisconnect_=vh(),zn(e.eventQueue_,J(),r)}function MW(e,t,n){let r;G(t._path)===".info"?r=vE(e.infoSyncTree_,t,n):r=vE(e.serverSyncTree_,t,n),RM(e.eventQueue_,t._path,r)}function DR(e,t,n){let r;G(t._path)===".info"?r=Ah(e.infoSyncTree_,t,n):r=Ah(e.serverSyncTree_,t,n),RM(e.eventQueue_,t._path,r)}function NW(e){e.persistentConnection_&&e.persistentConnection_.interrupt(IW)}function Vh(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Qe(n,...t)}function OW(e,t,n,r){t&&zs(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function OM(e,t,n){return VE(e.serverSyncTree_,t,n)||B.EMPTY_NODE}function YE(e,t=e.transactionQueueTree_){if(t||Uh(e,t),Gs(t)){let n=kM(e,t);C(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&xW(e,fl(t),n)}else wM(t)&&Lh(t,n=>{YE(e,n)})}function xW(e,t,n){let r=n.map(l=>l.currentWriteId),i=OM(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];C(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=st(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{Vh(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(no(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Uh(e,$E(e.transactionQueueTree_,t)),YE(e,e.transactionQueueTree_),zn(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)zs(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{gt("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}jh(e,t)}},s)}function jh(e,t){let n=xM(e,t),r=fl(n),i=kM(e,n);return kW(e,i,r),r}function kW(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=st(n,c.path),u=!1,d;if(C(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(no(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=bW)u=!0,d="maxretry",i=i.concat(no(e.serverSyncTree_,c.currentWriteId,!0));else{let f=OM(e,c.path,s);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){WE("transaction failed: Data returned ",h,c.path);let p=Be(h);typeof h=="object"&&h!=null&&jn(h,".priority")||(p=p.updatePriority(f.getPriority()));let v=c.currentWriteId,E=GE(e),$=IM(p,f,E);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=$,c.currentWriteId=NM(e),s.splice(s.indexOf(v),1),i=i.concat(vM(e.serverSyncTree_,c.path,$,c.currentWriteId,c.applyLocally)),i=i.concat(no(e.serverSyncTree_,v,!0))}else u=!0,d="nodata",i=i.concat(no(e.serverSyncTree_,c.currentWriteId,!0))}zn(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Uh(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)zs(r[a]);YE(e,e.transactionQueueTree_)}function xM(e,t){let n,r=e.transactionQueueTree_;for(n=G(t);n!==null&&Gs(r)===void 0;)r=$E(r,n),t=le(t),n=G(t);return r}function kM(e,t){let n=[];return PM(e,t,n),n.sort((r,i)=>r.order-i.order),n}function PM(e,t,n){let r=Gs(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Lh(t,i=>{PM(e,i,n)})}function Uh(e,t){let n=Gs(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,bM(t,n.length>0?n:void 0)}Lh(t,r=>{Uh(e,r)})}function FM(e,t){let n=fl(xM(e,t)),r=$E(e.transactionQueueTree_,t);return fW(r,i=>{x_(e,i)}),x_(e,r),DM(r,i=>{x_(e,i)}),n}function x_(e,t){let n=Gs(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(C(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(C(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(no(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?bM(t,void 0):n.length=o+1,zn(e.eventQueue_,fl(t),i);for(let s=0;s<r.length;s++)zs(r[s])}}function PW(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function FW(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gt(`Invalid query segment '${n}' in query '${e}'`)}return t}var TR=function(e,t){let n=LW(e),r=n.namespace;n.domain==="firebase.com"&&gr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&gr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||m$();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lh(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new se(n.pathString)}},LW=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=PW(e.substring(u,d)));let f=FW(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Rh=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Oe(this.snapshot.exportVal())}},Mh=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Nh=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return C(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var bE=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Y(this._path)?null:qR(this._path)}get ref(){return new Gn(this._repo,this._path)}get _queryIdentifier(){let t=dR(this._queryParams),n=AE(t);return n==="{}"?"default":n}get _queryObject(){return dR(this._queryParams)}isEqual(t){if(t=kt(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=ME(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+K$(this._path)}};var Gn=class e extends bE{constructor(t,n){super(t,n,new nE,!1)}get parent(){let t=KR(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},ol=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new se(t),r=sl(this.ref,t);return new e(this._node.getChild(n),r,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,sl(this.ref,r),Ie)))}hasChild(t){let n=new se(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function LM(e,t){return e=kt(e),e._checkNotDeleted("ref"),t!==void 0?sl(e._root,t):e._root}function sl(e,t){return e=kt(e),G(e._path)===null?yW("child","path",t,!1):AM("child","path",t,!1),new Gn(e._repo,Le(e._path,t))}function VM(e,t){e=kt(e),_W("set",e._path),vW("set",t,e._path,!1);let n=new sn;return AW(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function jM(e){e=kt(e);let t=new Nh(()=>{}),n=new Oh(t);return SW(e._repo,e,n).then(r=>new ol(r,new Gn(e._repo,e._path),e._queryParams.getIndex()))}var Oh=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new Rh("value",this,new ol(t.snapshotNode,new Gn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Mh(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},wE=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Mh(this,t,n):null}createEvent(t,n){C(t.childName!=null,"Child events should have a childName.");let r=sl(new Gn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Rh(t.type,this,new ol(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function VW(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{DR(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new Nh(n,o||void 0),a=t==="value"?new Oh(s):new wE(t,s);return MW(e._repo,e,a),()=>DR(e._repo,e,a)}function UM(e,t,n,r){return VW(e,"value",t,n,r)}W3(Gn);K3(Gn);var jW="FIREBASE_DATABASE_EMULATOR_HOST",DE={},UW=!1;function BW(e,t,n,r){let i=t.lastIndexOf(":"),o=t.substring(0,i),s=$i(o);e.repoInfo_=new lh(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function HW(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||gr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=TR(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[jW]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=TR(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Kc(Kc.OWNER):new j_(e.name,e.options,t);EW("Invalid Firebase Database URL",s),Y(s.path)||gr("Database URL must point to the root of a Firebase Database (not including a child path).");let d=WW(a,e,u,new V_(e,n));return new TE(d,e)}function $W(e,t){let n=DE[t];(!n||n[e.key]!==e)&&gr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),NW(e),delete n[e.key]}function WW(e,t,n,r){let i=DE[t.name];i||(i={},DE[t.name]=i);let o=i[e.toURLString()];return o&&gr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new IE(e,UW,n,r),i[e.toURLString()]=o,o}var TE=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(wW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gn(this._repo,J())),this._rootInternal}_delete(){return this._rootInternal!==null&&($W(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&gr("Cannot call "+t+" on a deleted database.")}};function BM(e=Ms(),t){let n=$f(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=z0("database");r&&HM(n,...r)}return n}function HM(e,t,n,r={}){e=kt(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&zi(r,o.repoInfo_.emulatorOptions))return;gr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&gr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Kc(Kc.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:q0(r.mockUserToken,e.app.options.projectId);s=new Kc(a)}$i(t)&&(Wy(t),zy("Database",!0)),BW(o,i,r,s)}function zW(e){h$(Rs),ln(new ot("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return HW(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Ae(YA,KA,e),Ae(YA,KA,"esm2017")}NE.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};NE.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};zW();var ao=class{constructor(t){return t}},$M="database",KE=class{constructor(){return Os($M)}};var ZE=new I("angularfire2.database-instances");function GW(e,t){let n=Gf($M,e,t);return n&&new ao(n)}function qW(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new ao(r)}}var YW={provide:KE,deps:[[new Sn,ZE]]},KW={provide:ao,useFactory:GW,deps:[[new Sn,ZE],Zi]};function WM(e,...t){return Ae("angularfire",Yi.full,"rtdb"),lt([KW,YW,{provide:ZE,useFactory:qW(e),multi:!0,deps:[re,ye,Ki,Fc,[new Sn,sh],[new Sn,Yf],...t]}])}var Bh=Hn(jM,!0),zM=Hn(BM,!0);var QE=Hn(UM,!0);var co=Hn(LM,!0,2);var GM=Hn(VM,!0,2);var Yr=class e{constructor(t,n){this.database=t;this.platformId=n}getTiles(){return ur(this.platformId)?new k(t=>{let n=co(this.database,"Boards"),r=QE(n,i=>{let o=i.val();if(o){let s=[];for(let a in o){let c=[];for(let l in o[a])if(o[a].hasOwnProperty(l)){let u=o[a][l];c.push(u)}s.push(c)}t.next(s)}else t.next([])},i=>{t.error(i)});return()=>{r()}}):N([])}updateTile(t,n,r){let i=co(this.database,`Boards/Team ${t+1}/${r}`);return GM(i,n)}getTeamCredentials(t){let n=co(this.database,`LoginCredentials/Team ${t+1}`);return Bh(n)}getDonations2(){return ur(this.platformId)?new k(t=>{let n=co(this.database,"Donations/"),r=QE(n,i=>{let o=i.val();if(o){let s=[];for(let a in o)for(let c in o[a])s.push({name:c,amount:o[a][c]});t.next(s)}else t.next([])},i=>{t.error(i)});return()=>{r()}}):N([])}getDonations(){return m(this,null,function*(){if(!ur(this.platformId))return[];let t=[],n=0;for(;;){let r=co(this.database,`Donations/${n}`),i=yield Bh(r);if(!i.exists())break;let o=i.val(),s,a;if(o&&typeof o=="object"&&!Array.isArray(o)){let c=Object.entries(o);if(c.length===1){let[l,u]=c[0];s=String(l),a=typeof u=="number"?u:Number(u??0)||0,t.push({name:s,amount:a}),n++;continue}}n++}return t})}getTeamNames(){return m(this,null,function*(){if(!ur(this.platformId))return[];let t=[],n=1;for(;;){let r=co(this.database,`LoginCredentials/Team ${n}/name`),i=yield Bh(r);if(!i.exists())break;let o=i.val();t.push(typeof o=="string"?o:String(o)),n++}return t})}static \u0275fac=function(n){return new(n||e)(R(ao),R(ft))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};var Hh=(n=>(n[n.Team1=0]="Team1",n[n.Team2=1]="Team2",n))(Hh||{});var $h=class e{constructor(t){this.databaseService=t}session={team:-1,authenticated:!1};validPassword(t,n){return m(this,null,function*(){if(Ur.production===!0&&n!==-1)try{let r=yield this.databaseService.getTeamCredentials(n),i=r.val()?JSON.stringify(r.val().password):"";return n===0&&i===JSON.stringify(t)?(this.loginForTeam(0),!0):n===1&&i===JSON.stringify(t)?(this.loginForTeam(1),!0):!1}catch{return!1}else return Ur.production===!1?(this.loginForTeam(n),!0):!1})}loginForTeam(t){t===0?this.session={team:0,authenticated:!0}:t===1&&(this.session={team:1,authenticated:!0})}logout(){this.session={team:-1,authenticated:!1}}static \u0275fac=function(n){return new(n||e)(R(Yr))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};var JW=()=>({standalone:!0}),XW=e=>({"is-invalid":e}),qM=()=>[""];function ez(e,t){e&1&&(w(0,"label",10),T(1,"Team 1 Password:"),D())}function tz(e,t){e&1&&(w(0,"label",10),T(1,"Team 2 Password:"),D())}function nz(e,t){if(e&1){let n=lr();w(0,"input",12),Xo("ngModelChange",function(i){tt(n);let o=z(2);return Va(o.password,i)||(o.password=i),nt(i)}),D()}if(e&2){let n=z(2);ue("ngClass",es(2,XW,n.errorMessage!=="")),Jo("ngModel",n.password)}}function rz(e,t){if(e&1){let n=lr();w(0,"form",4)(1,"div",5)(2,"label",6),T(3,"Choose your team"),D(),w(4,"select",7),Xo("ngModelChange",function(i){tt(n);let o=z();return Va(o.selectedTeam,i)||(o.selectedTeam=i),nt(i)}),ge("change",function(){tt(n);let i=z();return nt(i.onTeamSelect(i.selectedTeam))}),w(5,"option",8),T(6,"Select Team"),D(),w(7,"option",9),T(8),D(),w(9,"option",9),T(10),D()()(),Se(11,"br"),w(12,"div",5),ke(13,ez,2,0,"label",10),ke(14,tz,2,0,"label",10),ke(15,nz,1,4,"input",11),D()()}if(e&2){let n=z();A(4),Jo("ngModel",n.selectedTeam),ue("ngModelOptions",Rr(10,JW)),A(),ue("value",-1),A(2),ue("value",0),A(),Ge(n.teamNames[0]),A(),ue("value",1),A(),Ge(n.teamNames[1]),A(3),Pe(n.selectedTeam===0?13:-1),A(),Pe(n.selectedTeam===1?14:-1),A(),Pe(n.selectedTeam!==-1?15:-1)}}function iz(e,t){e&1&&(w(0,"tr")(1,"td",20),T(2,"No tiles available"),D()())}function oz(e,t){if(e&1){let n=lr();w(0,"tr")(1,"td"),T(2),D(),w(3,"td")(4,"div"),Se(5,"img",21),D()(),w(6,"td")(7,"div"),Se(8,"img",21),D()(),w(9,"td"),T(10),D(),w(11,"td"),T(12),D(),w(13,"td"),T(14),D(),w(15,"td")(16,"input",22),Xo("ngModelChange",function(i){let o=tt(n).$implicit;return Va(o.itemsObtained,i)||(o.itemsObtained=i),nt(i)}),D()(),w(17,"td")(18,"button",23),ge("click",function(){let i=tt(n).$implicit,o=z(4);return nt(o.saveTile(i,i.id-1))}),T(19,"Save"),D()()()}if(e&2){let n=t.$implicit;A(2),de(" ",n.title," "),A(3),ue("src",n.src,Sr),A(3),ue("src",n.bossSrc,Sr),A(2),Ge(n.points),A(2),Ge(n.description),A(2),Ge(n.itemsRequired),A(2),Jo("ngModel",n.itemsObtained),ue("max",n.itemsRequired)}}function sz(e,t){if(e&1&&Mt(0,oz,20,8,"tr",null,Ai),e&2){let n=t.$implicit;Nt(n)}}function az(e,t){if(e&1&&Mt(0,sz,2,0,null,null,Ai),e&2){let n=z(2);Nt(n.board)}}function cz(e,t){if(e&1){let n=lr();w(0,"div")(1,"div",13)(2,"h2"),T(3),D(),w(4,"p"),T(5,"This is where you can edit your board!"),D(),w(6,"div",14)(7,"button",15),T(8,"Return to board"),D(),w(9,"button",16),ge("click",function(){tt(n);let i=z();return nt(i.logout())}),T(10,"Log out"),D()()(),w(11,"div",17)(12,"table",18)(13,"thead")(14,"tr",19)(15,"th"),T(16,"Tile title"),D(),w(17,"th"),T(18,"Image"),D(),w(19,"th"),T(20,"Boss image"),D(),w(21,"th"),T(22,"Points"),D(),w(23,"th"),T(24,"Description"),D(),w(25,"th"),T(26,"Required"),D(),w(27,"th"),T(28,"Obtained"),D(),w(29,"th"),T(30,"Actions"),D()()(),w(31,"tbody"),ke(32,iz,3,0,"tr")(33,az,2,0),D()()()()}if(e&2){let n=z();A(3),de("Welcome ",n.teamNames[n.sessionService.session.team],"!"),A(4),ue("routerLink",Rr(3,qM)),A(25),Pe(n.board.length===0?32:33)}}function lz(e,t){if(e&1&&(w(0,"div",24),T(1),D()),e&2){let n=z(2);A(),Ge(n.errorMessage)}}function uz(e,t){e&1&&Se(0,"br")}function dz(e,t){if(e&1){let n=lr();ke(0,lz,2,1,"div",24)(1,uz,1,0,"br"),w(2,"div",25)(3,"button",16),ge("click",function(){tt(n);let i=z();return nt(i.login())}),T(4,"Log in"),D(),w(5,"button",15),T(6,"Return to board"),D()()}if(e&2){let n=z();Pe(n.errorMessage.length>0?0:1),A(5),ue("routerLink",Rr(2,qM))}}var Wh=class e{constructor(t,n,r){this.databaseService=t;this.platformId=n;this.sessionService=r}selectedTeam=-1;boardSize=6;password="";board=[[]];teamNames=["Team 1","Team 2"];errorMessage="";ngOnInit(){this.databaseService.getTeamNames().then(t=>{this.teamNames[0]=t[0]||"Team 1",this.teamNames[1]=t[1]||"Team 2"}),this.sessionService.session.authenticated&&(this.selectedTeam=this.sessionService.session.team,this.loadTilesFromFirebase())}onTeamSelect(t){this.selectedTeam=parseInt(t),this.loadTilesFromFirebase()}loadTilesFromFirebase(){this.databaseService.getTiles().subscribe({next:t=>{t&&t.length>0&&this.generateBoard(t[this.selectedTeam])},error:t=>{}})}saveTile(t,n){this.databaseService.updateTile(this.selectedTeam,t,n).catch(r=>{})}generateBoard(t){this.board=[];let n=0;for(let r=0;r<this.boardSize;r++){this.board[r]=[];for(let i=0;i<this.boardSize;i++){if(n>=t.length)return;this.board[r][i]=P(_({},t[n]),{id:r*this.boardSize+i+1}),n++}}}login(){return m(this,null,function*(){if(yield this.sessionService.validPassword(this.password,this.selectedTeam))if(Ur.production===!1){let n=new Bi;this.board=n.board,this.generateBoard(this.board[this.selectedTeam])}else ur(this.platformId)&&this.loadTilesFromFirebase();else this.errorMessage="Incorrect password. Please try again."})}logout(){this.sessionService.logout(),this.selectedTeam=-1,this.board=[[]],this.password="",this.errorMessage=""}handleKeyboardEvent(t){t.key==="Enter"&&this.login()}static \u0275fac=function(n){return new(n||e)(x(Yr),x(ft),x($h))};static \u0275cmp=Rt({type:e,selectors:[["app-cabbingo-edit-board"]],hostBindings:function(n,r){n&1&&ge("keydown",function(o){return r.handleKeyboardEvent(o)},xm)},decls:9,vars:2,consts:[[1,"page-wrap"],[1,"banner"],[1,"d-flex","justify-content-center"],[1,"osrs-border-thick-login","px-5","py-4","mb-5","d-flex","flex-column","justify-content-between",2,"height","auto"],[2,"width","500px"],[1,"col-12"],["for","teamSelect",1,"form-label"],["id","teamSelect",1,"form-control",3,"ngModelChange","change","ngModel","ngModelOptions"],["disabled","","selected","",3,"value"],[3,"value"],["for","password"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",3,"ngClass","ngModel"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",3,"ngModelChange","ngClass","ngModel"],[1,"d-flex","flex-row","justify-content-between"],[1,"d-flex","flex-row","gap-4"],[1,"btn","custom-btn",3,"routerLink"],["type","submit",1,"btn","custom-btn",3,"click"],[1,"mt-2","overflow-auto",2,"max-height","600px"],[1,"table","osrs-table","table-bordered"],[1,"sticky-top",2,"top","-1px","box-shadow","black 0px 1px 0px 0px"],["colspan","8"],[1,"tile-image",3,"src"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel","max"],[1,"btn","custom-btn","col-12",3,"click"],[1,"text-danger","mt-2"],[1,"d-flex","justify-content-between"]],template:function(n,r){n&1&&(w(0,"div",0),Se(1,"div",1),w(2,"div",2)(3,"div",3)(4,"div",2),ke(5,rz,16,11,"form",4)(6,cz,34,4,"div"),D(),w(7,"div"),ke(8,dz,7,3),D()()()()),n&2&&(A(5),Pe(r.sessionService.session.authenticated?6:5),A(3),Pe(r.sessionService.session.authenticated?-1:8))},dependencies:[Vd,Ga,F0,R0,N0,x0,Of,ky,Pf,I0,b0,Fy,Py,xy,Oy,_c,Is],encapsulation:2})};function fz(e,t){if(e&1&&(Ce(0,"div",25)(1,"div",26),T(2),me(),Ce(3,"div",27),T(4),me()(),Ce(5,"div",28),T(6),ts(7,"number"),me()),e&2){let n=z().$implicit,r=z().$index;A(2),de("",r+1,"."),A(2),Ge(n.player_name_with_capitalization),A(2),de("+ ",ns(7,3,n.gain,"1.0-0")," ")}}function hz(e,t){if(e&1&&ke(0,fz,8,6),e&2){let n=t.$implicit,r=z().$implicit;Pe(n.username===r?0:-1)}}function pz(e,t){if(e&1&&(Ce(0,"div",8),Mt(1,hz,1,1,null,null,Ai),me()),e&2){let n=z();A(),Nt(n.participants)}}function gz(e,t){if(e&1&&(Ce(0,"div",24)(1,"p",29),T(2),me(),Ce(3,"span",30),T(4),ts(5,"number"),me()()),e&2){let n=t.$implicit,r=t.$index;A(2),Qo("",r+1,". ",n.name,":"),A(2),de("+",ns(5,3,n.amount,"1.0-0"),"M")}}var zh=class e{teams=[];participants=[];currentTeam=0;endDatetime=new Date;donations=[];subscription;now=Date.now();endDateTimemillis=0;remainingTime="";prizePool=0;ngOnInit(){this.setBingoEndCountdown()}getTeamMvp(){let t=this.teams[this.currentTeam];return this.participants.find(n=>n.username===t.mvp)?.player_name_with_capitalization??t.mvp}setBingoEndCountdown(){if(this.endDatetime){let t=new Date(this.endDatetime);t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),this.endDateTimemillis=t.getTime(),this.updateCountdown(),this.subscription=ta(1e3).subscribe(()=>this.updateCountdown())}}updateCountdown(){let t=new Date().getTime(),r=this.endDateTimemillis-t;if(r<0){this.remainingTime="Expired",this.subscription?.unsubscribe();return}let i=Math.floor(r/(1e3*60*60*24)),o=Math.floor(r%(1e3*60*60*24)/(1e3*60*60)),s=Math.floor(r%(1e3*60*60)/(1e3*60)),a=Math.floor(r%(1e3*60)/1e3);this.remainingTime=`${i}d ${o}h ${s}m ${a}s`}ngOnDestroy(){this.subscription?.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Rt({type:e,selectors:[["app-cabbingo-stats"]],inputs:{teams:"teams",participants:"participants",currentTeam:"currentTeam",endDatetime:"endDatetime",donations:"donations",prizePool:"prizePool"},decls:54,vars:10,consts:[[1,"d-flex","justify-content-center"],[1,"d-flex","flex-row","justify-content-between","d-flex","justify-content-center","gap-3"],[1,"osrs-border","p-1","col-4"],[1,"stats-outline","mb-2"],[1,"d-flex","flex-column","justify-content-center","align-items-center","stats-item","px-5"],[2,"color","#FF9933"],[1,"d-flex","justify-content-center","p-0","m-0"],["src","assets/members.png","height","25",1,"me-2"],[1,"d-flex","flex-row","justify-content-between","mx-2"],[1,"osrs-border","p-1","col-8"],[1,"d-flex","flex-column","justify-content-between","align-items-center","gap-5"],[1,"d-flex","flex-column","justify-content-between","align-items-center","gap-2","w-100"],[1,"stats-outline","w-100"],[1,"d-flex","justify-content-center","p-0","m-0",2,"color","#FF9933"],["src","assets/xp.png","height","25",1,"me-2"],[1,"d-flex","justify-content-center","align-items-center","align-content-center","p-0","m-0"],[1,"d-flex","flex-row","w-100","gap-1"],["src","assets/mvp.png","height","25",1,"me-2"],["src","assets/timeleft.png","height","25",1,"me-2"],[1,"d-flex","justify-content-center","align-items-center","align-content-center","p-0","m-0",2,"color","#FF9933"],["src","assets/prizepool.png","height","25",1,"me-2"],[1,"d-flex","flex-column","stats-item","px-5"],["src","assets/coins.png","height","25",1,"me-2"],[1,"w-100","d-grid","gap-3","mb-2",2,"grid-template-columns","repeat(2, 1fr)","justify-items","center"],[1,"d-flex","align-items-baseline",2,"font-size","20px"],[1,"d-flex","flex-row","col-7",2,"color","#FF9933"],[1,"col-1","align"],[1,"col-11"],[1,"d-flex","justify-content-end","align-items-center","col-5"],[1,"m-0"],[1,"text-success","ms-2"]],template:function(n,r){if(n&1&&(Ce(0,"h3",0),T(1,"Team Statistics"),me(),Ce(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h3",6),cr(8,"img",7),T(9," Members "),me()()()(),Mt(10,pz,3,0,"div",8,Ai),me(),Ce(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",4)(17,"h3",13),cr(18,"img",14),T(19," Total experience gained "),me(),Ce(20,"h3",15),T(21),ts(22,"number"),me()()(),Ce(23,"div",16)(24,"div",12)(25,"div",4)(26,"h3",13),cr(27,"img",17),T(28," Team MVP "),me(),Ce(29,"h3",6),T(30),me()()(),Ce(31,"div",12)(32,"div",4)(33,"h3",13),cr(34,"img",18),T(35," Time left "),me(),Ce(36,"h3",6),T(37),me()()()(),Ce(38,"div",12)(39,"div",4)(40,"h3",19),cr(41,"img",20),T(42," Prize pool "),me(),Ce(43,"h3",15),T(44),ts(45,"number"),me()()(),Ce(46,"div",12)(47,"div",21)(48,"h3",19),cr(49,"img",22),T(50," Donations "),me(),Ce(51,"div",23),Mt(52,gz,6,6,"div",24,Si),me()()()()()()()),n&2){A(10),Nt(r.teams[r.currentTeam].members);let i=r.teams[r.currentTeam];A(11),de(" ",ns(22,4,+i.gain||0,"1.0-0")," "),A(9),de(" ",r.getTeamMvp()||"Not found"," "),A(7),de(" ",r.remainingTime," "),A(7),de(" ",ns(45,7,r.prizePool,"1.0-0")," GP "),A(8),Nt(r.donations)}},dependencies:[xv],encapsulation:2})};var hl=class e{constructor(t){this.renderer=t}tooltipText="";tooltipElement;onMouseEnter(){let t="Open ",n=this.renderer.createElement("div"),r=this.renderer.createElement("span"),i=this.renderer.createElement("span");this.renderer.appendChild(r,this.renderer.createText(t)),this.renderer.appendChild(i,this.renderer.createText(this.tooltipText)),this.renderer.setStyle(n,"font-family","Runescape"),this.renderer.setStyle(n,"font-size","18px"),this.renderer.setStyle(n,"position","fixed"),this.renderer.setStyle(n,"background","rgb(72, 62, 51, 0.6)"),this.renderer.setStyle(n,"border","1px solid rgb(46, 43, 35, 0.8)"),this.renderer.setStyle(n,"padding","2px 8px"),this.renderer.setStyle(n,"border-radius","4px"),this.renderer.setStyle(n,"pointer-events","none"),this.renderer.setStyle(n,"z-index","1000"),this.renderer.setStyle(n,"display","inline-block"),this.renderer.setStyle(n,"white-space","nowrap"),this.renderer.setStyle(r,"color","rgba(255, 255, 255, 1)"),this.renderer.setStyle(i,"color","rgba(0, 255, 255, 1)"),this.renderer.appendChild(n,r),this.renderer.appendChild(n,i),this.tooltipElement=n,this.renderer.appendChild(document.body,this.tooltipElement)}onMouseMove(t){this.tooltipElement&&(this.renderer.setStyle(this.tooltipElement,"top",`${t.clientY+10}px`),this.renderer.setStyle(this.tooltipElement,"left",`${t.clientX+10}px`))}onMouseLeave(){this.tooltipElement&&(this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null)}static \u0275fac=function(n){return new(n||e)(x(At))};static \u0275cmp=Rt({type:e,selectors:[["app-osrs-tooltip"]],hostBindings:function(n,r){n&1&&ge("mouseenter",function(){return r.onMouseEnter()})("mousemove",function(o){return r.onMouseMove(o)})("mouseleave",function(){return r.onMouseLeave()})},inputs:{tooltipText:[0,"appCursorTooltip","tooltipText"]},decls:0,vars:0,template:function(n,r){},encapsulation:2})};var Gh=class e{constructor(t){this.http=t}apiUrl="https://steep-unit-c896.tehnumberone87.workers.dev/templeosrs/api/";getCompetition(t){let n=new rn().set("id",t);return this.http.get(`${this.apiUrl}competition_info_v2.php`,{params:n})}static \u0275fac=function(n){return new(n||e)(R(qd))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};var vz=()=>["/edit-board"],yz=()=>[],YM=(e,t)=>({"rules-btn-selected":e,"rules-btn":t}),_z=(e,t)=>({"tile-selected":e,"tile-completed":t}),KM=e=>({"progress-bar-completed":e}),Ez=(e,t)=>t.id;function Cz(e,t){if(e&1&&(w(0,"div",23),T(1),Se(2,"i",25),D()),e&2){let n=z().$index;A(),de("Column ",n+1," ")}}function Iz(e,t){if(e&1&&(w(0,"div",24),T(1),D()),e&2){let n=z().$index;A(),de("Column ",n+1)}}function bz(e,t){if(e&1&&ke(0,Cz,3,1,"div",23)(1,Iz,2,1,"div",24),e&2){let n=t.$index,r=z();Pe(r.getTotalPoints()>0&&r.calculateColumnBonuses(n)>0?0:1)}}function wz(e,t){if(e&1&&(w(0,"div",26),T(1),Se(2,"i",25),D()),e&2){let n=z().$index;A(),de("Row ",n+1," ")}}function Dz(e,t){if(e&1&&(w(0,"div",27),T(1),D()),e&2){let n=z().$index;A(),de("Row ",n+1)}}function Tz(e,t){if(e&1){let n=lr();w(0,"button",29),ge("click",function(){let i=tt(n).$implicit,o=z(2);return nt(o.onTileClick(i))})("mousemove",function(i){tt(n);let o=z(2);return nt(o.onMouseMove(i))})("mouseenter",function(){let i=tt(n).$implicit,o=z(2);return nt(o.onMouseEnter(i.title))})("mouseleave",function(){tt(n);let i=z(2);return nt(i.onMouseLeave())}),w(1,"div")(2,"div",30)(3,"div",31),Se(4,"div",32),D()(),Se(5,"img",33),w(6,"p",34),T(7),D()()()}if(e&2){let n=t.$implicit,r=z(2);ue("ngClass",ja(12,_z,n===r.selectedTile,n.itemsObtained>=n.itemsRequired)),A(2),Zo("background-color",n.itemsObtained>=n.itemsRequired?"transparent!important":null),ue("ngClass",es(15,KM,n.itemsObtained>=n.itemsRequired)),A(),Zo("width",n.itemsObtained/n.itemsRequired*100,"%"),ue("ngClass",es(17,KM,n.itemsObtained>=n.itemsRequired)),ar("aria-valuenow",n.itemsObtained)("aria-valuemax",n.itemsRequired),A(2),ue("src",n.src,Sr)("alt",n.alt),A(2),Ge(n.title)}}function Sz(e,t){if(e&1&&(w(0,"div",11),ke(1,wz,3,1,"div",26)(2,Dz,2,1,"div",27),Mt(3,Tz,8,19,"button",28,Ez),D()),e&2){let n=t.$implicit,r=t.$index,i=z();A(),Pe(i.getTotalPoints()>0&&i.calculateRowBonuses(r)>0?1:2),A(2),Nt(n)}}function Az(e,t){if(e&1&&(w(0,"div"),T(1),D(),w(2,"div"),Se(3,"img",35),D(),w(4,"div",36)(5,"div",37),T(6," Points: "),w(7,"p",38),T(8),D()(),w(9,"div"),T(10),D()()),e&2){let n=z();A(),Ge(n.selectedTile.description),A(2),ue("src",n.selectedTile.bossSrc,Sr)("alt",n.selectedTile.alt||""),A(5),de(" ",n.selectedTile.points," "),A(),Zo("color",n.selectedTile.itemsObtained>=n.selectedTile.itemsRequired?"rgb(8, 255, 8)":null),A(),Qo(" ",n.selectedTile.itemsObtained," / ",n.selectedTile.itemsRequired," Obtained ")}}function Rz(e,t){e&1&&(w(0,"p"),T(1,"Click on a tile!"),D())}function Mz(e,t){e&1&&T(0," There are no rules for this tile. ")}function Nz(e,t){if(e&1&&T(0),e&2){let n=z().$implicit;de(" ",n," ")}}function Oz(e,t){if(e&1&&(w(0,"strong",39),T(1),D()),e&2){let n=z().$implicit;A(),Ge(n.replace("-",""))}}function xz(e,t){if(e&1&&(w(0,"strong",40),T(1),D()),e&2){let n=z().$implicit;A(),Ge(n.replace("+",""))}}function kz(e,t){if(e&1&&(w(0,"strong",41),T(1),D()),e&2){let n=z().$implicit;A(),Ge(n)}}function Pz(e,t){if(e&1&&(ke(0,Nz,1,1)(1,Oz,2,1,"strong",39)(2,xz,2,1,"strong",40)(3,kz,2,1,"strong",41),Se(4,"br")),e&2){let n=t.$implicit;Pe(n.includes("Excluded")||n.includes("Allowed")?0:n.includes("-")?1:n.includes("+")?2:3)}}function Fz(e,t){if(e&1&&Mt(0,Pz,5,1,null,null,Si),e&2){let n=z(2);Nt(n.selectedTile==null?null:n.selectedTile.rules)}}function Lz(e,t){if(e&1&&ke(0,Mz,1,0)(1,Fz,2,0),e&2){let n=z();Pe(!(n.selectedTile!=null&&n.selectedTile.rules)||(n.selectedTile==null||n.selectedTile.rules==null?null:n.selectedTile.rules.length)===0?0:1)}}function Vz(e,t){if(e&1&&(w(0,"ul",19)(1,"li"),T(2,"Multiple accounts are allowed, but only one can be logged in at once."),D(),w(3,"li"),T(4,"The EXP tile will only be counted for ONE account. If you are playing with multiple. "),D(),w(5,"li"),T(6),D(),w(7,"li"),T(8,"Tiles can be completed in any order."),D(),w(9,"li",40),T(10,"Good luck and have fun!"),D()()),e&2){let n=z();A(6),de("Complete a full row or column to earn a ",n.rowBonus," point bonus!")}}function jz(e,t){if(e&1&&(w(0,"div",22),Se(1,"app-cabbingo-stats",42),D()),e&2){let n=z();A(),ue("teams",n.teams)("participants",n.participants)("currentTeam",n.currentTeam)("endDatetime",n.info.end_date)("donations",n.donations)("prizePool",n.prizePool)}}var qh=class e{constructor(t,n,r){this.databaseService=t;this.platformId=n;this.templeOSService=r}teamEnum=Hh;currentTeam=0;selectedTile=void 0;board=[];boardSize=6;columnBonus=5;rowBonus=5;bingoRulesOpened=!0;teamNames=["Team 1","Team 2"];teams=[];participants=[];info={};donations=[];subscription;prizePool=0;buyinCost=3;tooltip;ngOnInit(){if(this.teams.length===0&&this.getTempleOSData(),this.subscription=ta(6e4).subscribe(()=>this.getTempleOSData()),Ur.production===!1){let t=new Bi;this.board=t.board,this.generateBoard(this.board[this.currentTeam])}else ur(this.platformId)&&(this.getTeamNames(),this.loadTilesFromFirebase())}getTeamNames(){this.databaseService.getTeamNames().then(t=>{this.teamNames[0]=t[0]||"Team 1",this.teamNames[1]=t[1]||"Team 2"})}getDonations(){this.databaseService.getDonations2().subscribe({next:t=>{t.sort((n,r)=>r.amount-n.amount),this.donations=t,this.getPrizePool()},error:t=>{console.error("Error loading donations:",t)}})}getPrizePool(){this.prizePool=0;for(let t of this.donations)this.prizePool+=t.amount;this.prizePool+=this.participants.length*this.buyinCost,this.prizePool*=1e6}getTempleOSData(){this.templeOSService.getCompetition("32578").subscribe({next:t=>{let n=t.data.teams,r=Object.keys(n).filter(i=>!Number.isNaN(Number(i))).sort((i,o)=>Number(i)-Number(o)).map(i=>n[i]);this.teams=r,this.participants=t.data.participants,this.info=t.data.info,this.getDonations()},error:t=>console.error("Error loading TempleOSRS data:",t)})}loadTilesFromFirebase(){this.databaseService.getTiles().subscribe({next:t=>{t&&t.length>0&&(this.generateBoard(t[this.currentTeam]),this.selectedTile&&(this.selectedTile=this.board[this.currentTeam][this.selectedTile?.id-1]))},error:t=>{console.error("Error loading tiles:",t)}})}generateBoard(t){this.board=[];let n=0;for(let r=0;r<this.boardSize;r++){this.board[r]=[];for(let i=0;i<this.boardSize;i++){if(n>=t.length)return;this.board[r][i]=P(_({},t[n]),{id:r*this.boardSize+i+1}),n++}}}onTileClick(t){this.selectedTile=t,this.bingoRulesOpened=!1}switchTeam(t){if(this.currentTeam!==t)if(this.currentTeam=t,this.selectedTile=void 0,this.bingoRulesOpened=!0,Ur.production===!1){let n=new Bi;this.board=n.board,this.generateBoard(this.board[this.currentTeam])}else this.loadTilesFromFirebase()}getTotalPoints(){let t=0;for(let n=0;n<this.board.length;n++){let r=this.board[n],i=!0;for(let o of r)o.itemsObtained>=o.itemsRequired?t+=o.points||0:i=!1;i&&(t+=5)}return t+=this.calculateColumnBonuses(),t}calculateColumnBonuses(t){let n=0,r=t!==void 0?[t]:Array.from({length:this.boardSize},(i,o)=>o);for(let i of r){let o=!0;for(let s=0;s<this.board.length;s++){let a=this.board[s][i];if(!a||a.itemsObtained<a.itemsRequired){o=!1;break}}o&&(n+=this.columnBonus)}return n}calculateRowBonuses(t){let n=0,r=t!==void 0?[t]:Array.from({length:this.board.length},(i,o)=>o);for(let i of r){let o=!0;for(let s of this.board[i])if(!s||s.itemsObtained<s.itemsRequired){o=!1;break}o&&(n+=this.rowBonus)}return n}onMouseEnter(t){this.tooltip.tooltipText=t,this.tooltip.onMouseEnter()}onMouseLeave(){this.tooltip.onMouseLeave()}onMouseMove(t){this.tooltip.onMouseMove(t)}static \u0275fac=function(n){return new(n||e)(x(Yr),x(ft),x(Gh))};static \u0275cmp=Rt({type:e,selectors:[["app-cabbingo-board"]],viewQuery:function(n,r){if(n&1&&hv(hl,5),n&2){let i;bd(i=wd())&&(r.tooltip=i.first)}},decls:41,vars:19,consts:[[1,"page-wrap"],[1,"w-100"],[1,"d-flex","justify-content-center","align-items-center","w-100","banner"],[1,"btn","button","login-btn",3,"routerLink"],[1,"osrs-border-thick","px-4","py-2","mb-4"],[1,"row","teams","mb-2"],[1,"button","btn","col-md-5",3,"click","ngClass"],[1,"gap-2","d-flex","justify-content-center"],[1,"tiles","osrs-border","column","col-auto"],[1,"d-flex","align-items-center","gap-2"],[1,"d-flex","align-items-center","mx-2","me-0","row-tile"],[1,"d-flex","justify-content-left","px-2","py-1","gap-2"],[1,"infoArea","d-flex","justify-content-between","col-auto"],[1,"infobox","osrs-border","d-flex","flex-column","justify-content-between","align-items-center",2,"min-height","300px"],[1,"d-flex","flex-column","infobox","osrs-border-brighter","justify-content-center","align-items-center"],[1,"d-flex","d-row","justify-content-center","gap-2","py-1","m-0"],[1,"btn","row-tile",2,"width","115px","height","40px",3,"click","ngClass"],[2,"color","#FF9933","width","auto"],[1,"rulesbox","custom-scrollbar","overflow-y-scroll","osrs-border-darker"],[1,"px-2"],[1,"mt-2"],[1,"btn","button","disabled","float-bottom"],[1,"osrs-border-thick","px-4","py-2","mb-4","d-flex","flex-column","justify-content-between"],[1,"d-flex","justify-content-center","gap-2","column-tile","text-success"],[1,"d-flex","justify-content-center","gap-2","column-tile"],[1,"bi","bi-check-circle-fill"],[1,"d-flex","align-items-center","row-tile","text-success"],[1,"d-flex","align-items-center","row-tile"],[1,"btn","tile","d-flex","flex-column",3,"ngClass"],[1,"btn","tile","d-flex","flex-column",3,"click","mousemove","mouseenter","mouseleave","ngClass"],[1,"progress",2,"height","5px",3,"ngClass"],["role","progressbar","aria-valuemin","0",1,"progress-bar","bg-success",3,"ngClass"],[2,"width","110px"],[1,"tile-image","p-1",3,"src","alt"],[1,"tile-text"],[1,"bossImage",3,"src","alt"],[1,"d-flex","flex-column","align-items-center"],[1,"d-flex","flex-row","pt-3"],[1,"mx-2",2,"color","rgb(8, 255, 8)"],[2,"color","#E40303"],[2,"color","#0CD90D"],[2,"color","#FF9933"],[3,"teams","participants","currentTeam","endDatetime","donations","prizePool"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),T(4," Log in as captain "),D()()(),w(5,"div",4)(6,"div",5)(7,"button",6),ge("click",function(){return r.switchTeam(r.teamEnum.Team1)}),T(8),D(),w(9,"button",6),ge("click",function(){return r.switchTeam(r.teamEnum.Team2)}),T(10),D()(),w(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10),T(15,"."),D(),Mt(16,bz,2,1,null,null,Si),D(),Mt(18,Sz,5,1,"div",11,Si),D(),w(20,"div",12)(21,"div")(22,"div",13),ke(23,Az,11,8)(24,Rz,2,0,"p"),D(),w(25,"div",14)(26,"div",15)(27,"button",16),ge("click",function(){return r.bingoRulesOpened=!0}),w(28,"p",17),T(29,"Bingo Rulez"),D()(),w(30,"button",16),ge("click",function(){return r.bingoRulesOpened=!1}),w(31,"p",17),T(32,"Tile Rulez"),D()()(),w(33,"div",18),ke(34,Lz,2,1)(35,Vz,11,1,"ul",19),D()()(),w(36,"div",20)(37,"button",21),T(38),D()()()()(),ke(39,jz,2,6,"div",22),D(),Se(40,"app-osrs-tooltip")),n&2&&(A(3),ue("routerLink",Rr(11,vz)),A(4),ue("ngClass",r.currentTeam===r.teamEnum.Team1?"btn selected-team":""),A(),de(" ",r.teamNames[0]," "),A(),ue("ngClass",r.currentTeam===r.teamEnum.Team2?"btn selected-team":""),A(),de(" ",r.teamNames[1]," "),A(6),Nt(Rr(12,yz).constructor(r.boardSize)),A(2),Nt(r.board),A(5),Pe(r.selectedTile?23:24),A(4),ue("ngClass",ja(13,YM,r.bingoRulesOpened,!r.bingoRulesOpened)),A(3),ue("ngClass",ja(16,YM,!r.bingoRulesOpened,r.bingoRulesOpened)),A(4),Pe(r.bingoRulesOpened?35:34),A(4),de(" Total points: ",r.getTotalPoints()," "),A(),Pe(r.teams[r.currentTeam]?39:-1))},dependencies:[Ga,_c,Is,zh,hl],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar-button:single-button{background-color:#404040;display:block;background-size:10px;background-repeat:no-repeat}@font-face{font-family:Runescape;src:url("./media/RuneScape-Plain-12-T6CWJQYQ.otf") format("opentype")}@font-face{font-family:Runescape-Bold;font-weight:700;src:url("./media/RuneScape-Bold-12-YYN5KYKT.otf") format("opentype")}@font-face{font-family:Runescape-Quill;src:url("./media/RuneScape-Quill-2XBT7J23.otf") format("opentype")}.osrs-border[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#393228;background:url("./media/tiles-backdrop-Y5VRY7K2.png") repeat top center;background-size:700px}.osrs-border-brighter[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#3e3529;background-size:700px}.osrs-border-darker[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#332b21;background-size:700px}.osrs-border-thick[_ngcontent-%COMP%]{border:3px solid rgb(66,67,65);outline:6px solid rgb(14,14,12);background-color:#393228;background:url("./media/tiles-backdrop-Y5VRY7K2.png") repeat top center;background-size:700px;width:fit-content;min-width:1175px;max-width:1175px}.osrs-border-thick-login[_ngcontent-%COMP%]{border:3px solid rgb(66,67,65);outline:6px solid rgb(14,14,12);background-color:#393228;background:url("./media/tiles-backdrop-Y5VRY7K2.png") repeat top center;background-size:700px;width:fit-content}.page-wrap[_ngcontent-%COMP%] > .osrs-border-thick[_ngcontent-%COMP%], .osrs-border-thick-login[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%}.page-wrap[_ngcontent-%COMP%]{background:url("./media/bg2_upscaled-E25LY5MM.jpg") repeat-y center top;overflow:auto;background-size:100%;min-width:90vw;min-width:90dvw;min-height:100vh;min-height:100dvh}main[_ngcontent-%COMP%]{width:100%;min-height:100%}body[_ngcontent-%COMP%]{background:#000;color:#fff;font-family:Runescape-Bold;text-shadow:black 2px 2px 2px;font-size:16px;margin:0}.banner[_ngcontent-%COMP%]{background:url("./media/Logo-W5ERYSIZ.png") no-repeat center;background-size:contain;display:block;position:relative;height:180px;text-align:center}.button[_ngcontent-%COMP%]{background:url("./media/button-UB2HKL6L.png") no-repeat top center;position:relative;width:243px;height:54px;font-family:Runescape-Bold;font-size:27px;align-content:center;text-align:center}.teams[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-evenly}.board[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;margin-top:30px;max-height:auto;height:650px}.bossImage[_ngcontent-%COMP%]{height:125px;filter:drop-shadow(5px 6px 6px #000000)}.tile-image[_ngcontent-%COMP%]{height:55px;object-fit:contain;filter:drop-shadow(3px 4px 2px #000000);z-index:0}.tile-text[_ngcontent-%COMP%]{color:#f93;font-size:16px;height:16px;max-width:120px;white-space:wrap;word-break:break-word;z-index:1;line-height:normal;text-shadow:black 2px 2px 2px}.tile[_ngcontent-%COMP%]{transition:all .5s ease-in-out;width:125px;height:105px;flex-wrap:nowrap;justify-content:space-between;border:1px solid rgb(46,43,35);outline:1px solid rgb(86,75,61);background-color:#483e33}.tile[_ngcontent-%COMP%]:focus-visible, .tile[_ngcontent-%COMP%]:active, .tile[_ngcontent-%COMP%]:hover{transition:all .5s ease-in-out;background-color:#645546;color:gold!important}.rules-btn[_ngcontent-%COMP%], .row-tile[_ngcontent-%COMP%], .column-tile[_ngcontent-%COMP%]{background-color:#483e33;text-align:center;border-radius:4px;height:auto;width:125px;border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12)}.rules-btn[_ngcontent-%COMP%], .row-tile[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;width:45px}.tile[_ngcontent-%COMP%]:hover{filter:drop-shadow(0px 0px .5mm gold)}.tile-selected[_ngcontent-%COMP%]{border:gold 2px solid}.tile-completed[_ngcontent-%COMP%]{transition:all .5 ease-in-out;background:#364732}.tile-completed[_ngcontent-%COMP%]:hover{transition:all .5s ease-in-out;background:#475e42}.progress-bar-completed[_ngcontent-%COMP%]{transition:all .5s ease-in-out;background-color:transparent!important}.rules-btn-selected[_ngcontent-%COMP%]{border:gold 2px solid}.rules-btn[_ngcontent-%COMP%]:focus-visible, .rules-btn[_ngcontent-%COMP%]:active, .rules-btn[_ngcontent-%COMP%]:hover{background-color:#645546;color:gold!important}.tiles[_ngcontent-%COMP%]{top:5px;width:auto;padding-top:10px;padding-bottom:10px;position:relative;align-items:center;align-content:center;flex-direction:column;justify-content:space-evenly}.infoArea[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:center;display:flex}.rulesbox[_ngcontent-%COMP%], .infobox[_ngcontent-%COMP%]{width:250px;min-height:240px;text-align:center;margin-top:5px;padding-left:8px;padding-right:8px}.rulesbox[_ngcontent-%COMP%]{text-align:left;height:300px;padding-left:8px;padding-right:8px}.btn[_ngcontent-%COMP%]{--bs-btn-color: var(white) !important;color:#fff!important;text-shadow:black 2px 2px 2px}.btn[_ngcontent-%COMP%]:hover{color:gold!important}.selected-team[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 1mm gold)}.progress[_ngcontent-%COMP%]{--bs-progress-bg: rgb(57, 50, 40);background-color:var(--bs-progress-bg)}.osrs-table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{--bs-table-color: #fff;--bs-table-bg: #212529;--bs-table-border-color: #4d5154;--bs-table-striped-bg: #2c3034;--bs-table-striped-color: #fff;--bs-table-active-bg: #373b3e;--bs-table-active-color: #fff;--bs-table-hover-bg: #323539;--bs-table-hover-color: #fff;border:1px solid rgb(14,14,12);--bs-table-bg: rgb(57, 50, 40);background-color:var(--bs-table-bg)}.custom-btn[_ngcontent-%COMP%]{background-color:#483e33;text-align:center;border-radius:4px;height:auto;min-width:40px;border:2px solid rgb(14,14,12)}.custom-btn[_ngcontent-%COMP%]:focus-visible, .custom-btn[_ngcontent-%COMP%]:active, .custom-btn[_ngcontent-%COMP%]:hover{border:2px solid rgb(14,14,12);background-color:#645546;color:gold!important}.custom-scrollbar[_ngcontent-%COMP%]{height:300px;overflow-y:scroll;scrollbar-width:thin;scrollbar-color:rgb(114,98,72) #27221B;scroll-behavior:smooth}.login-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;z-index:1050}@media (max-width: 420px){.login-btn[_ngcontent-%COMP%]{transform:scale(.85);transform-origin:top right;right:6px;top:6px}}.stats-item[_ngcontent-%COMP%]{border:3px solid #685C4C;background-color:#574e42;mask:radial-gradient(6px at 6px 6px,#0000 98%,#000) -6px -6px}.stats-outline[_ngcontent-%COMP%]{border:3px solid #2E2B23;mask:radial-gradient(10px at 10px 10px,#0000 98%,#000) -10px -10px}']})};var ZM=[{path:"edit-board",component:Wh},{path:"",component:qh},{path:"**",redirectTo:"",pathMatch:"full"}];var QM={production:!0,firebaseConfig:{apiKey:"AIzaSyB2e36wu47-6DOc2_rAuHfiFTq9vm6GBD0",authDomain:"cabbingo-db.firebaseapp.com",databaseURL:"https://cabbingo-db-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cabbingo-db",storageBucket:"cabbingo-db.firebasestorage.app",messagingSenderId:"684304316440",appId:"1:684304316440:web:0660b0d72a68752cadeb6d"}};var JM={providers:[Yv(),by(ZM),iS(rS(),nS()),_A(()=>EA(QM.firebaseConfig)),WM(()=>zM())]};Wv(bf,JM).catch(e=>console.error("Bootstrap error:",e));
