var ON=Object.defineProperty,xN=Object.defineProperties;var kN=Object.getOwnPropertyDescriptors;var cl=Object.getOwnPropertySymbols;var FE=Object.prototype.hasOwnProperty,LE=Object.prototype.propertyIsEnumerable;var PE=(e,t,n)=>t in e?ON(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||={})FE.call(t,n)&&PE(e,n,t[n]);if(cl)for(var n of cl(t))LE.call(t,n)&&PE(e,n,t[n]);return e},k=(e,t)=>xN(e,kN(t));var VE=(e,t)=>{var n={};for(var r in e)FE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cl)for(var r of cl(e))t.indexOf(r)<0&&LE.call(e,r)&&(n[r]=e[r]);return n};var m=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var Uh;function ll(){return Uh}function pn(e){let t=Uh;return Uh=e,t}var jE=Symbol("NotFound");function ao(e){return e===jE||e?.name==="\u0275NotFound"}function pl(e,t){return Object.is(e,t)}var ze=null,ul=!1,Bh=1,PN=null,Ge=Symbol("SIGNAL");function F(e){let t=ze;return ze=e,t}function gl(){return ze}var Gr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function co(e){if(ul)throw new Error("");if(ze===null)return;ze.consumerOnSignalRead(e);let t=ze.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=ze.recomputing;if(r&&(n=t!==void 0?t.nextProducer:ze.producers,n!==void 0&&n.producer===e)){ze.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===ze&&(!r||LN(i,ze)))return;let o=uo(ze),s={producer:e,consumer:ze,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};ze.producersTail=s,t!==void 0?t.nextProducer=s:ze.producers=s,o&&BE(e,s)}function UE(){Bh++}function ml(e){if(!(uo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Bh)){if(!e.producerMustRecompute(e)&&!Ws(e)){hl(e);return}e.producerRecomputeValue(e),hl(e)}}function Hh(e){if(e.consumers===void 0)return;let t=ul;ul=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||FN(r)}}finally{ul=t}}function $h(){return ze?.consumerAllowSignalWrites!==!1}function FN(e){e.dirty=!0,Hh(e),e.consumerMarkedDirty?.(e)}function hl(e){e.dirty=!1,e.lastCleanEpoch=Bh}function qr(e){return e&&(e.producersTail=void 0,e.recomputing=!0),F(e)}function lo(e,t){if(F(t),!e)return;e.recomputing=!1;let n=e.producersTail,r=n!==void 0?n.nextProducer:e.producers;if(r!==void 0){if(uo(e))do r=Wh(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function Ws(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(ml(n),r!==n.version))return!0}return!1}function zs(e){if(uo(e)){let t=e.producers;for(;t!==void 0;)t=Wh(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function BE(e,t){let n=e.consumersTail,r=uo(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)BE(i.producer,i)}function Wh(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!uo(t)){let o=t.producers;for(;o!==void 0;)o=Wh(o)}return n}function uo(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function vl(e){PN?.(e)}function LN(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function yl(e,t){let n=Object.create(VN);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(ml(n),co(n),n.value===$s)throw n.error;return n.value};return r[Ge]=n,vl(n),r}var dl=Symbol("UNSET"),fl=Symbol("COMPUTING"),$s=Symbol("ERRORED"),VN=k(_({},Gr),{value:dl,dirty:!0,error:null,equal:pl,kind:"computed",producerMustRecompute(e){return e.value===dl||e.value===fl},producerRecomputeValue(e){if(e.value===fl)throw new Error("");let t=e.value;e.value=fl;let n=qr(e),r,i=!1;try{r=e.computation(),F(null),i=t!==dl&&t!==$s&&r!==$s&&e.equal(t,r)}catch(o){r=$s,e.error=o}finally{lo(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function jN(){throw new Error}var HE=jN;function $E(e){HE(e)}function zh(e){HE=e}var UN=null;function Gh(e,t){let n=Object.create(_l);n.value=e,t!==void 0&&(n.equal=t);let r=()=>WE(n);return r[Ge]=n,vl(n),[r,s=>fo(n,s),s=>qh(n,s)]}function WE(e){return co(e),e.value}function fo(e,t){$h()||$E(e),e.equal(e.value,t)||(e.value=t,BN(e))}function qh(e,t){$h()||$E(e),fo(e,t(e.value))}var _l=k(_({},Gr),{equal:pl,value:void 0,kind:"signal"});function BN(e){e.version++,UE(),Hh(e),UN?.(e)}function V(e){return typeof e=="function"}function ho(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var El=ho(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Yr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var me=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(V(r))try{r()}catch(o){t=o instanceof El?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zE(o)}catch(s){t=t??[],s instanceof El?t=[...t,...s.errors]:t.push(s)}}if(t)throw new El(t)}}add(t){var n;if(t&&t!==this)if(this.closed)zE(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Yr(n,t)}remove(t){let{_finalizers:n}=this;n&&Yr(n,t),t instanceof e&&t._removeParent(this)}};me.EMPTY=(()=>{let e=new me;return e.closed=!0,e})();var Yh=me.EMPTY;function Cl(e){return e instanceof me||e&&"closed"in e&&V(e.remove)&&V(e.add)&&V(e.unsubscribe)}function zE(e){V(e)?e():e.unsubscribe()}var $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var po={setTimeout(e,t,...n){let{delegate:r}=po;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=po;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Il(e){po.setTimeout(()=>{let{onUnhandledError:t}=$t;if(t)t(e);else throw e})}function Gs(){}var GE=Kh("C",void 0,void 0);function qE(e){return Kh("E",void 0,e)}function YE(e){return Kh("N",e,void 0)}function Kh(e,t,n){return{kind:e,value:t,error:n}}var Kr=null;function go(e){if($t.useDeprecatedSynchronousErrorHandling){let t=!Kr;if(t&&(Kr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Kr;if(Kr=null,n)throw r}}else e()}function KE(e){$t.useDeprecatedSynchronousErrorHandling&&Kr&&(Kr.errorThrown=!0,Kr.error=e)}var Zr=class extends me{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Cl(t)&&t.add(this)):this.destination=WN}static create(t,n,r){return new mo(t,n,r)}next(t){this.isStopped?Qh(YE(t),this):this._next(t)}error(t){this.isStopped?Qh(qE(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Qh(GE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},HN=Function.prototype.bind;function Zh(e,t){return HN.call(e,t)}var Jh=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){bl(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){bl(r)}else bl(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){bl(n)}}},mo=class extends Zr{constructor(t,n,r){super();let i;if(V(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&$t.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Zh(t.next,o),error:t.error&&Zh(t.error,o),complete:t.complete&&Zh(t.complete,o)}):i=t}this.destination=new Jh(i)}};function bl(e){$t.useDeprecatedSynchronousErrorHandling?KE(e):Il(e)}function $N(e){throw e}function Qh(e,t){let{onStoppedNotification:n}=$t;n&&po.setTimeout(()=>n(e,t))}var WN={closed:!0,next:Gs,error:$N,complete:Gs};var vo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gt(e){return e}function Xh(...e){return ep(e)}function ep(e){return e.length===0?gt:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var x=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=GN(n)?n:new mo(n,r,i);return go(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ZE(r),new r((i,o)=>{let s=new mo({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[vo](){return this}pipe(...n){return ep(n)(this)}toPromise(n){return n=ZE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function ZE(e){var t;return(t=e??$t.Promise)!==null&&t!==void 0?t:Promise}function zN(e){return e&&V(e.next)&&V(e.error)&&V(e.complete)}function GN(e){return e&&e instanceof Zr||zN(e)&&Cl(e)}function tp(e){return V(e?.lift)}function Q(e){return t=>{if(tp(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(e,t,n,r,i){return new np(e,t,n,r,i)}var np=class extends Zr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function yo(){return Q((e,t)=>{let n=null;e._refCount++;let r=K(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var _o=class extends x{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,tp(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new me;let n=this.getSubject();t.add(this.source.subscribe(K(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=me.EMPTY)}return t}refCount(){return yo()(this)}};var QE=ho(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=(()=>{class e extends x{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new wl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new QE}next(n){go(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){go(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){go(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Yh:(this.currentObservers=null,o.push(n),new me(()=>{this.currentObservers=null,Yr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new x;return n.source=this,n}}return e.create=(t,n)=>new wl(t,n),e})(),wl=class extends Te{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Yh}};var Ue=class extends Te{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var rp={now(){return(rp.delegate||Date).now()},delegate:void 0};var Dl=class extends me{constructor(t,n){super()}schedule(t,n=0){return this}};var qs={setInterval(e,t,...n){let{delegate:r}=qs;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=qs;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Eo=class extends Dl{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return qs.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&qs.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Yr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Co=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Co.now=rp.now;var Io=class extends Co{constructor(t,n=Co.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var bo=new Io(Eo),ip=bo;var Tl=class extends Eo{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var Sl=class extends Io{};var op=new Sl(Tl);var it=new x(e=>e.complete());function Al(e){return e&&V(e.schedule)}function JE(e){return e[e.length-1]}function Rl(e){return V(JE(e))?e.pop():void 0}function gr(e){return Al(JE(e))?e.pop():void 0}function sp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function eC(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function XE(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qr(e){return this instanceof Qr?(this.v=e,this):new Qr(e)}function tC(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(y){return new Promise(function(v,E){o.push([h,y,v,E])>1||c(h,y)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(y){f(o[0][3],y)}}function l(h){h.value instanceof Qr?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function nC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof XE=="function"?XE(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Nl=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ml(e){return V(e?.then)}function Ol(e){return V(e[vo])}function xl(e){return Symbol.asyncIterator&&V(e?.[Symbol.asyncIterator])}function kl(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pl=qN();function Fl(e){return V(e?.[Pl])}function Ll(e){return tC(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Qr(n.read());if(i)return yield Qr(void 0);yield yield Qr(r)}}finally{n.releaseLock()}})}function Vl(e){return V(e?.getReader)}function Se(e){if(e instanceof x)return e;if(e!=null){if(Ol(e))return YN(e);if(Nl(e))return KN(e);if(Ml(e))return ZN(e);if(xl(e))return rC(e);if(Fl(e))return QN(e);if(Vl(e))return JN(e)}throw kl(e)}function YN(e){return new x(t=>{let n=e[vo]();if(V(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KN(e){return new x(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function ZN(e){return new x(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Il)})}function QN(e){return new x(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function rC(e){return new x(t=>{XN(e,t).catch(n=>t.error(n))})}function JN(e){return rC(Ll(e))}function XN(e,t){var n,r,i,o;return eC(this,void 0,void 0,function*(){try{for(n=nC(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function ot(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function mr(e,t=0){return Q((n,r)=>{n.subscribe(K(r,i=>ot(r,e,()=>r.next(i),t),()=>ot(r,e,()=>r.complete(),t),i=>ot(r,e,()=>r.error(i),t)))})}function vr(e,t=0){return Q((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function iC(e,t){return Se(e).pipe(vr(t),mr(t))}function oC(e,t){return Se(e).pipe(vr(t),mr(t))}function sC(e,t){return new x(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function aC(e,t){return new x(n=>{let r;return ot(n,t,()=>{r=e[Pl](),ot(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>V(r?.return)&&r.return()})}function jl(e,t){if(!e)throw new Error("Iterable cannot be null");return new x(n=>{ot(n,t,()=>{let r=e[Symbol.asyncIterator]();ot(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function cC(e,t){return jl(Ll(e),t)}function lC(e,t){if(e!=null){if(Ol(e))return iC(e,t);if(Nl(e))return sC(e,t);if(Ml(e))return oC(e,t);if(xl(e))return jl(e,t);if(Fl(e))return aC(e,t);if(Vl(e))return cC(e,t)}throw kl(e)}function de(e,t){return t?lC(e,t):Se(e)}function N(...e){let t=gr(e);return de(e,t)}function wo(e,t){let n=V(e)?e:()=>e,r=i=>i.error(n());return new x(t?i=>t.schedule(r,0,i):r)}function ap(e){return!!e&&(e instanceof x||V(e.lift)&&V(e.subscribe))}var Gn=ho(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function uC(e){return e instanceof Date&&!isNaN(e)}function B(e,t){return Q((n,r)=>{let i=0;n.subscribe(K(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:eM}=Array;function tM(e,t){return eM(t)?e(...t):e(t)}function Ul(e){return B(t=>tM(e,t))}var{isArray:nM}=Array,{getPrototypeOf:rM,prototype:iM,keys:oM}=Object;function Bl(e){if(e.length===1){let t=e[0];if(nM(t))return{args:t,keys:null};if(sM(t)){let n=oM(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function sM(e){return e&&typeof e=="object"&&rM(e)===iM}function Hl(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Ys(...e){let t=gr(e),n=Rl(e),{args:r,keys:i}=Bl(e);if(r.length===0)return de([],t);let o=new x(aM(r,t,i?s=>Hl(i,s):gt));return n?o.pipe(Ul(n)):o}function aM(e,t,n=gt){return r=>{dC(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)dC(t,()=>{let l=de(e[c],t),u=!1;l.subscribe(K(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function dC(e,t,n){e?ot(n,e,t):t()}function fC(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=y=>l<r?p(y):c.push(y),p=y=>{o&&t.next(y),l++;let v=!1;Se(n(y,u++)).subscribe(K(t,E=>{i?.(E),o?h(E):t.next(E)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let E=c.shift();s?ot(t,s,()=>p(E)):p(E)}f()}catch(E){t.error(E)}}))};return e.subscribe(K(t,h,()=>{d=!0,f()})),()=>{a?.()}}function be(e,t,n=1/0){return V(t)?be((r,i)=>B((o,s)=>t(r,o,i,s))(Se(e(r,i))),n):(typeof t=="number"&&(n=t),Q((r,i)=>fC(r,i,e,n)))}function Do(e=1/0){return be(gt,e)}function hC(){return Do(1)}function To(...e){return hC()(de(e,gr(e)))}function Ks(e){return new x(t=>{Se(e()).subscribe(t)})}function cp(...e){let t=Rl(e),{args:n,keys:r}=Bl(e),i=new x(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Se(n[u]).subscribe(K(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Hl(r,a):a),o.complete())}))}});return t?i.pipe(Ul(t)):i}function pC(e=0,t,n=ip){let r=-1;return t!=null&&(Al(t)?n=t:r=t),new x(i=>{let o=uC(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Zs(e=0,t=bo){return e<0&&(e=0),pC(e,e,t)}function qe(e,t){return Q((n,r)=>{let i=0;n.subscribe(K(r,o=>e.call(t,o,i++)&&r.next(o)))})}function qn(e){return Q((t,n)=>{let r=null,i=!1,o;r=t.subscribe(K(n,void 0,void 0,s=>{o=Se(e(s,qn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function gC(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(K(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function gn(e,t){return V(t)?be(e,t,1):be(e,1)}function yr(e){return Q((t,n)=>{let r=!1;t.subscribe(K(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Yn(e){return e<=0?()=>it:Q((t,n)=>{let r=0;t.subscribe(K(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function $l(e=cM){return Q((t,n)=>{let r=!1;t.subscribe(K(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function cM(){return new Gn}function Jr(e){return Q((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Kn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?qe((i,o)=>e(i,o,r)):gt,Yn(1),n?yr(t):$l(()=>new Gn))}function So(e){return e<=0?()=>it:Q((t,n)=>{let r=[];t.subscribe(K(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function lp(e,t){let n=arguments.length>=2;return r=>r.pipe(e?qe((i,o)=>e(i,o,r)):gt,So(1),n?yr(t):$l(()=>new Gn))}function up(e,t){return Q(gC(e,t,arguments.length>=2,!0))}function dp(...e){let t=gr(e);return Q((n,r)=>{(t?To(e,n,t):To(e,n)).subscribe(r)})}function Be(e,t){return Q((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(K(r,c=>{i?.unsubscribe();let l=0,u=o++;Se(e(c,u)).subscribe(i=K(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Wl(e){return Q((t,n)=>{Se(e).subscribe(K(n,()=>n.complete(),Gs)),!n.closed&&t.subscribe(n)})}function Le(e,t,n){let r=V(e)||t||n?{next:e,error:t,complete:n}:e;return r?Q((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(K(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):gt}function mC(e){let t=F(null);try{return e()}finally{F(t)}}var Kl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",b=class extends Error{code;constructor(t,n){super(mn(t,n)),this.code=t}};function lM(e){return`NG0${Math.abs(e)}`}function mn(e,t){return`${lM(e)}${t?": "+t:""}`}var vn=globalThis;function ne(e){for(let t in e)if(e[t]===ne)return t;throw Error("")}function _C(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Qn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Qn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function wp(e,t){return e?t?`${e} ${t}`:e:t||""}var uM=ne({__forward_ref__:ne});function vt(e){return e.__forward_ref__=vt,e.toString=function(){return Qn(this())},e}function He(e){return Dp(e)?e():e}function Dp(e){return typeof e=="function"&&e.hasOwnProperty(uM)&&e.__forward_ref__===vt}function EC(e,t){e==null&&Tp(t,e,null,"!=")}function Tp(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function S(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Nt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ta(e){return dM(e,Zl)}function Sp(e){return ta(e)!==null}function dM(e,t){return e.hasOwnProperty(t)&&e[t]||null}function fM(e){let t=e?.[Zl]??null;return t||null}function hp(e){return e&&e.hasOwnProperty(Gl)?e[Gl]:null}var Zl=ne({\u0275prov:ne}),Gl=ne({\u0275inj:ne}),I=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ap(e){return e&&!!e.\u0275providers}var Rp=ne({\u0275cmp:ne}),Np=ne({\u0275dir:ne}),Mp=ne({\u0275pipe:ne}),Op=ne({\u0275mod:ne}),Xs=ne({\u0275fac:ne}),ri=ne({__NG_ELEMENT_ID__:ne}),vC=ne({__NG_ENV_ID__:ne});function ii(e){return typeof e=="string"?e:e==null?"":String(e)}function ql(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ii(e)}var xp=ne({ngErrorCode:ne}),CC=ne({ngErrorMessage:ne}),Js=ne({ngTokenPath:ne});function kp(e,t){return IC("",-200,t)}function Ql(e,t){throw new b(-201,!1)}function hM(e,t){e[Js]??=[];let n=e[Js],r;typeof t=="object"&&"multi"in t&&t?.multi===!0?(EC(t.provide,"Token with multi: true should have a provide property"),r=ql(t.provide)):r=ql(t),n[0]!==r&&e[Js].unshift(r)}function pM(e,t){let n=e[Js],r=e[xp],i=e[CC]||e.message;return e.message=mM(i,r,n,t),e}function IC(e,t,n){let r=new b(t,e);return r[xp]=t,r[CC]=e,n&&(r[Js]=n),r}function gM(e){return e[xp]}function mM(e,t,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return mn(t,`${e}${o}${i}`)}var pp;function bC(){return pp}function Je(e){let t=pp;return pp=e,t}function Pp(e,t,n){let r=ta(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Ql(e,"Injector")}var vM={},Xr=vM,gp="__NG_DI_FLAG__",mp=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=ei(n)||0;try{return this.injector.get(t,r&8?null:Xr,r)}catch(i){if(ao(i))return i;throw i}}};function yM(e,t=0){let n=ll();if(n===void 0)throw new b(-203,!1);if(n===null)return Pp(e,void 0,t);{let r=_M(t),i=n.retrieve(e,r);if(ao(i)){if(r.optional)return null;throw i}return i}}function R(e,t=0){return(bC()||yM)(He(e),t)}function g(e,t){return R(e,ei(t))}function ei(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function _M(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function vp(e){let t=[];for(let n=0;n<e.length;n++){let r=He(e[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=EM(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(R(i,o))}else t.push(R(r))}return t}function wC(e,t){return e[gp]=t,e.prototype[gp]=t,e}function EM(e){return e[gp]}function _r(e,t){let n=e.hasOwnProperty(Xs);return n?e[Xs]:null}function Jl(e,t){e.forEach(n=>Array.isArray(n)?Jl(n,t):t(n))}function Fp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function na(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function DC(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function TC(e,t,n){let r=Ro(e,t);return r>=0?e[r|1]=n:(r=~r,DC(e,r,t,n)),r}function Xl(e,t){let n=Ro(e,t);if(n>=0)return e[n|1]}function Ro(e,t){return CM(e,t,1)}function CM(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Cr={},mt=[],zt=new I(""),Lp=new I("",-1),Vp=new I(""),ea=class{get(t,n=Xr){if(n===Xr){let i=IC("",-201);throw i.name="\u0275NotFound",i}return n}};function jp(e){return e[Op]||null}function yn(e){return e[Rp]||null}function eu(e){return e[Np]||null}function Up(e){return e[Mp]||null}function st(e){return{\u0275providers:e}}function SC(...e){return{\u0275providers:tu(!0,e),\u0275fromNgModule:!0}}function tu(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Jl(t,s=>{let a=s;Yl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&AC(i,o),n}function AC(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Bp(i,o=>{t(o,r)})}}function Yl(e,t,n,r){if(e=He(e),!e)return!1;let i=null,o=hp(e),s=!o&&yn(e);if(!o&&!s){let c=e.ngModule;if(o=hp(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Yl(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Jl(o.imports,u=>{Yl(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&AC(l,t)}if(!a){let l=_r(i)||(()=>new i);t({provide:i,useFactory:l,deps:mt},i),t({provide:Vp,useValue:i,multi:!0},i),t({provide:zt,useValue:()=>R(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Bp(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Bp(e,t){for(let n of e)Ap(n)&&(n=n.\u0275providers),Array.isArray(n)?Bp(n,t):t(n)}var IM=ne({provide:String,useValue:ne});function RC(e){return e!==null&&typeof e=="object"&&IM in e}function bM(e){return!!(e&&e.useExisting)}function wM(e){return!!(e&&e.useFactory)}function ti(e){return typeof e=="function"}function NC(e){return!!e.useClass}var ra=new I(""),zl={},yC={},fp;function ia(){return fp===void 0&&(fp=new ea),fp}var fe=class{},ni=class extends fe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,_p(t,s=>this.processProvider(s)),this.records.set(Lp,Ao(void 0,this)),i.has("environment")&&this.records.set(fe,Ao(void 0,this));let o=this.records.get(ra);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Vp,mt,{self:!0}))}retrieve(t,n){let r=ei(n)||0;try{return this.get(t,Xr,r)}catch(i){if(ao(i))return i;throw i}}destroy(){Qs(this),this._destroyed=!0;let t=F(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(t)}}onDestroy(t){return Qs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Qs(this);let n=pn(this),r=Je(void 0),i;try{return t()}finally{pn(n),Je(r)}}get(t,n=Xr,r){if(Qs(this),t.hasOwnProperty(vC))return t[vC](this);let i=ei(r),o,s=pn(this),a=Je(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=RM(t)&&ta(t);u&&this.injectableDefInScope(u)?l=Ao(yp(t),zl):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?ia():this.parent;return n=i&8&&n===Xr?null:n,c.get(t,n)}catch(c){let l=gM(c);throw l===-200||l===-201?new b(l,null):c}finally{Je(a),pn(s)}}resolveInjectorInitializers(){let t=F(null),n=pn(this),r=Je(void 0),i;try{let o=this.get(zt,mt,{self:!0});for(let s of o)s()}finally{pn(n),Je(r),F(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Qn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=He(t);let n=ti(t)?t:He(t&&t.provide),r=TM(t);if(!ti(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Ao(void 0,zl,!0),i.factory=()=>vp(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=F(null);try{if(n.value===yC)throw kp(Qn(t));return n.value===zl&&(n.value=yC,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&AM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{F(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=He(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function yp(e){let t=ta(e),n=t!==null?t.factory:_r(e);if(n!==null)return n;if(e instanceof I)throw new b(204,!1);if(e instanceof Function)return DM(e);throw new b(204,!1)}function DM(e){if(e.length>0)throw new b(204,!1);let n=fM(e);return n!==null?()=>n.factory(e):()=>new e}function TM(e){if(RC(e))return Ao(void 0,e.useValue);{let t=Hp(e);return Ao(t,zl)}}function Hp(e,t,n){let r;if(ti(e)){let i=He(e);return _r(i)||yp(i)}else if(RC(e))r=()=>He(e.useValue);else if(wM(e))r=()=>e.useFactory(...vp(e.deps||[]));else if(bM(e))r=(i,o)=>R(He(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=He(e&&(e.useClass||e.provide));if(SM(e))r=()=>new i(...vp(e.deps));else return _r(i)||yp(i)}return r}function Qs(e){if(e.destroyed)throw new b(205,!1)}function Ao(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function SM(e){return!!e.deps}function AM(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function RM(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function _p(e,t){for(let n of e)Array.isArray(n)?_p(n,t):n&&Ap(n)?_p(n.\u0275providers,t):t(n)}function ye(e,t){let n;e instanceof ni?(Qs(e),n=e):n=new mp(e);let r,i=pn(n),o=Je(void 0);try{return t()}finally{pn(i),Je(o)}}function MC(){return bC()!==void 0||ll()!=null}var Xe=0,M=1,L=2,Ae=3,Mt=4,Ot=5,at=6,No=7,we=8,Gt=9,_n=10,ie=11,Mo=12,$p=13,oi=14,et=15,si=16,ai=17,ci=18,oa=19,Wp=20,Zn=21,nu=22,sa=23,yt=24,li=25,ce=26,OC=1,qt=6,En=7,aa=8,ca=9,Ve=10;function _t(e){return Array.isArray(e)&&typeof e[OC]=="object"}function Et(e){return Array.isArray(e)&&e[OC]===!0}function zp(e){return(e.flags&4)!==0}function Xn(e){return e.componentOffset>-1}function ru(e){return(e.flags&1)===1}function Cn(e){return!!e.template}function ui(e){return(e[L]&512)!==0}function Ir(e){return(e[L]&256)===256}var xC="svg",kC="math";function Ct(e){for(;Array.isArray(e);)e=e[Xe];return e}function Gp(e,t){return Ct(t[e])}function xt(e,t){return Ct(t[e.index])}function di(e,t){return e.data[t]}function PC(e,t){return e[t]}function qp(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function kt(e,t){let n=t[e];return _t(n)?n:n[Xe]}function iu(e){return(e[L]&128)===128}function FC(e){return Et(e[Ae])}function In(e,t){return t==null?null:e[t]}function Yp(e){e[ai]=0}function Kp(e){e[L]&1024||(e[L]|=1024,iu(e)&&Oo(e))}function LC(e,t){for(;e>0;)t=t[oi],e--;return t}function la(e){return!!(e[L]&9216||e[yt]?.dirty)}function ou(e){e[_n].changeDetectionScheduler?.notify(8),e[L]&64&&(e[L]|=1024),la(e)&&Oo(e)}function Oo(e){e[_n].changeDetectionScheduler?.notify(0);let t=Er(e);for(;t!==null&&!(t[L]&8192||(t[L]|=8192,!iu(t)));)t=Er(t)}function Zp(e,t){if(Ir(e))throw new b(911,!1);e[Zn]===null&&(e[Zn]=[]),e[Zn].push(t)}function VC(e,t){if(e[Zn]===null)return;let n=e[Zn].indexOf(t);n!==-1&&e[Zn].splice(n,1)}function Er(e){let t=e[Ae];return Et(t)?t[Ae]:t}function jC(e){return e[No]??=[]}function UC(e){return e.cleanup??=[]}var $={lFrame:eI(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ua=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(ua||{}),NM=0,Ep=!1;function BC(){return $.lFrame.elementDepthCount}function HC(){$.lFrame.elementDepthCount++}function Qp(){$.lFrame.elementDepthCount--}function $C(){return $.bindingsEnabled}function Jp(){return $.skipHydrationRootTNode!==null}function Xp(e){return $.skipHydrationRootTNode===e}function WC(e){$.skipHydrationRootTNode=e}function eg(){$.skipHydrationRootTNode=null}function W(){return $.lFrame.lView}function Ye(){return $.lFrame.tView}function Pt(e){return $.lFrame.contextLView=e,e[we]}function Ft(e){return $.lFrame.contextLView=null,e}function Ke(){let e=tg();for(;e!==null&&e.type===64;)e=e.parent;return e}function tg(){return $.lFrame.currentTNode}function zC(){let e=$.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function xo(e,t){let n=$.lFrame;n.currentTNode=e,n.isParent=t}function ng(){return $.lFrame.isParent}function GC(){$.lFrame.isParent=!1}function rg(e){Tp("Must never be called in production mode"),NM=e}function ig(){return Ep}function og(e){let t=Ep;return Ep=e,t}function da(){let e=$.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function qC(){return $.lFrame.bindingIndex}function YC(e){return $.lFrame.bindingIndex=e}function fi(){return $.lFrame.bindingIndex++}function sg(e){let t=$.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function KC(){return $.lFrame.inI18n}function ZC(e,t){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=e,su(t)}function QC(){return $.lFrame.currentDirectiveIndex}function su(e){$.lFrame.currentDirectiveIndex=e}function JC(e){let t=$.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function ag(e){$.lFrame.currentQueryIndex=e}function MM(e){let t=e[M];return t.type===2?t.declTNode:t.type===1?e[Ot]:null}function cg(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=MM(o),i===null||(o=o[oi],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=$.lFrame=XC();return r.currentTNode=t,r.lView=e,!0}function au(e){let t=XC(),n=e[M];$.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function XC(){let e=$.lFrame,t=e===null?null:e.child;return t===null?eI(e):t}function eI(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function tI(){let e=$.lFrame;return $.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var lg=tI;function cu(){let e=tI();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function nI(e){return($.lFrame.contextLView=LC(e,$.lFrame.contextLView))[we]}function er(){return $.lFrame.selectedIndex}function br(e){$.lFrame.selectedIndex=e}function lu(){let e=$.lFrame;return di(e.tView,e.selectedIndex)}function ug(){return $.lFrame.currentNamespace}var rI=!0;function uu(){return rI}function tr(e){rI=e}function Cp(e,t=null,n=null,r){let i=dg(e,t,n,r);return i.resolveInjectorInitializers(),i}function dg(e,t=null,n=null,r,i=new Set){let o=[n||mt,SC(e)];return r=r||(typeof e=="object"?void 0:Qn(e)),new ni(o,t||ia(),r||null,i)}var ve=class e{static THROW_IF_NOT_FOUND=Xr;static NULL=new ea;static create(t,n){if(Array.isArray(t))return Cp({name:""},n,t,"");{let r=t.name??"";return Cp({name:r},t.parent,t.providers,r)}}static \u0275prov=S({token:e,providedIn:"any",factory:()=>R(Lp)});static __NG_ELEMENT_ID__=-1},_e=new I(""),Yt=(()=>{class e{static __NG_ELEMENT_ID__=OM;static __NG_ENV_ID__=n=>n}return e})(),Ip=class extends Yt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Ir(this._lView)}onDestroy(t){let n=this._lView;return Zp(n,t),()=>VC(n,t)}};function OM(){return new Ip(W())}var Wt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},ct=new I("",{providedIn:"root",factory:()=>{let e=g(fe),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Wt),t.handleError(n))}}}),iI={provide:zt,useValue:()=>void g(Wt),multi:!0};function fg(e){return typeof e=="function"&&e[Ge]!==void 0}function It(e,t){let[n,r,i]=Gh(e,t?.equal),o=n,s=o[Ge];return o.set=r,o.update=i,o.asReadonly=oI.bind(o),o}function oI(){let e=this[Ge];if(e.readonlyFn===void 0){let t=()=>this();t[Ge]=e,e.readonlyFn=t}return e.readonlyFn}function hg(e){return fg(e)&&typeof e.set=="function"}var Jn=class{},fa=new I("",{providedIn:"root",factory:()=>!1});var pg=new I(""),gg=new I("");var du=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=xM}return e})();function xM(){return new du(W(),Ke())}var Kt=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ue(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new x(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=S({token:e,providedIn:"root",factory:()=>new e})}return e})(),nr=(()=>{class e{internalPendingTasks=g(Kt);scheduler=g(Jn);errorHandler=g(ct);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=S({token:e,providedIn:"root",factory:()=>new e})}return e})();function ha(...e){}var mg=(()=>{class e{static \u0275prov=S({token:e,providedIn:"root",factory:()=>new bp})}return e})(),bp=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var fu={JSACTION:"jsaction"};function Ho(e){return{toString:e}.toString()}var hu="__parameters__";function BM(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function HM(e,t,n){return Ho(()=>{let r=BM(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(hu)?c[hu]:Object.defineProperty(c,hu,{value:[]})[hu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Tn=wC(HM("Optional"),8);function $M(e){return typeof e=="function"}var Cu=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function GI(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var ir=(()=>{let e=()=>qI;return e.ngInherit=!0,e})();function qI(e){return e.type.prototype.ngOnChanges&&(e.setInput=zM),WM}function WM(){let e=KI(this),t=e?.current;if(t){let n=e.previous;if(n===Cr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function zM(e,t,n,r,i){let o=this.declaredInputs[r],s=KI(e)||GM(e,{previous:Cr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Cu(l&&l.currentValue,n,c===Cr),GI(e,t,i,n)}var YI="__ngSimpleChanges__";function KI(e){return e[YI]||null}function GM(e,t){return e[YI]=t}var sI=[];var X=function(e,t=null,n){for(let r=0;r<sI.length;r++){let i=sI[r];i(e,t,n)}};function qM(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=qI(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function YM(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function mu(e,t,n){ZI(e,t,3,n)}function vu(e,t,n,r){(e[L]&3)===n&&ZI(e,t,n,r)}function vg(e,t){let n=e[L];(n&3)===t&&(n&=16383,n+=1,e[L]=n)}function ZI(e,t,n,r){let i=r!==void 0?e[ai]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[ai]+=65536),(a<o||o==-1)&&(KM(e,n,t,c),e[ai]=(e[ai]&4294901760)+c+2),c++}function aI(e,t){X(4,e,t);let n=F(null);try{t.call(e)}finally{F(n),X(5,e,t)}}function KM(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[L]>>14<e[ai]>>16&&(e[L]&3)===t&&(e[L]+=16384,aI(a,o)):aI(a,o)}var Po=-1,mi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function ZM(e){return(e.flags&8)!==0}function QM(e){return(e.flags&16)!==0}function JM(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];XM(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function QI(e){return e===3||e===4||e===6}function XM(e){return e.charCodeAt(0)===64}function Vo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?cI(e,n,i,null,t[++r]):cI(e,n,i,null,null))}}return e}function cI(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function JI(e){return e!==Po}function Iu(e){return e&32767}function eO(e){return e>>16}function bu(e,t){let n=eO(e),r=t;for(;n>0;)r=r[oi],n--;return r}var Og=!0;function wu(e){let t=Og;return Og=e,t}var tO=256,XI=tO-1,eb=5,nO=0,bn={};function rO(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ri)&&(r=n[ri]),r==null&&(r=n[ri]=nO++);let i=r&XI,o=1<<i;t.data[e+(i>>eb)]|=o}function Du(e,t){let n=tb(e,t);if(n!==-1)return n;let r=t[M];r.firstCreatePass&&(e.injectorIndex=t.length,yg(r.data,e),yg(t,null),yg(r.blueprint,null));let i=rm(e,t),o=e.injectorIndex;if(JI(i)){let s=Iu(i),a=bu(i,t),c=a[M].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function yg(e,t){e.push(0,0,0,0,0,0,0,0,t)}function tb(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function rm(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=sb(i),r===null)return Po;if(n++,i=i[oi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Po}function xg(e,t,n){rO(e,t,n)}function iO(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(QI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function nb(e,t,n){if(n&8||e!==void 0)return e;Ql(t,"NodeInjector")}function rb(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[Gt],o=Je(void 0);try{return i?i.get(t,r,n&8):Pp(t,r,n&8)}finally{Je(o)}}return nb(r,t,n)}function ib(e,t,n,r=0,i){if(e!==null){if(t[L]&2048&&!(r&2)){let s=lO(e,t,n,r,bn);if(s!==bn)return s}let o=ob(e,t,n,r,bn);if(o!==bn)return o}return rb(t,n,r,i)}function ob(e,t,n,r,i){let o=aO(n);if(typeof o=="function"){if(!cg(t,e,r))return r&1?nb(i,n,r):rb(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ql(n);else return s}finally{lg()}}else if(typeof o=="number"){let s=null,a=tb(e,t),c=Po,l=r&1?t[et][Ot]:null;for((a===-1||r&4)&&(c=a===-1?rm(e,t):t[a+8],c===Po||!uI(r,!1)?a=-1:(s=t[M],a=Iu(c),t=bu(c,t)));a!==-1;){let u=t[M];if(lI(o,a,u.data)){let d=oO(a,t,n,s,r,l);if(d!==bn)return d}c=t[a+8],c!==Po&&uI(r,t[M].data[a+8]===l)&&lI(o,a,t)?(s=u,a=Iu(c),t=bu(c,t)):a=-1}}return i}function oO(e,t,n,r,i,o){let s=t[M],a=s.data[e+8],c=r==null?Xn(a)&&Og:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=sO(a,s,n,c,l);return u!==null?Tu(t,s,u,a,i):bn}function sO(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&Cn(h)&&h.type===n)return c}return null}function Tu(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof mi){let a=o;if(a.resolving){let h=ql(s[n]);throw kp(h)}let c=wu(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?Je(a.injectImpl):null,f=cg(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&qM(n,s[n],t)}finally{d!==null&&Je(d),wu(c),a.resolving=!1,lg()}}return o}function aO(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ri)?e[ri]:void 0;return typeof t=="number"?t>=0?t&XI:cO:t}function lI(e,t,n){let r=1<<e;return!!(n[t+(e>>eb)]&r)}function uI(e,t){return!(e&2)&&!(e&1&&t)}var gi=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ib(this._tNode,this._lView,t,ei(r),n)}};function cO(){return new gi(Ke(),W())}function Qt(e){return Ho(()=>{let t=e.prototype.constructor,n=t[Xs]||kg(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Xs]||kg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function kg(e){return Dp(e)?()=>{let t=kg(He(e));return t&&t()}:_r(e)}function lO(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[L]&2048&&!ui(s);){let a=ob(o,s,n,r|2,bn);if(a!==bn)return a;let c=o.parent;if(!c){let l=s[Wp];if(l){let u=l.get(n,bn,r);if(u!==bn)return u}c=sb(s),s=s[oi]}o=c}return i}function sb(e){let t=e[M],n=t.type;return n===2?t.declTNode:n===1?e[Ot]:null}function Ca(e){return iO(Ke(),e)}function uO(){return im(Ke(),W())}function im(e,t){return new Lt(xt(e,t))}var Lt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=uO}return e})();var ab="ngSkipHydration",dO="ngskiphydration";function cb(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===dO)return!0}return!1}function lb(e){return e.hasAttribute(ab)}function Su(e){return(e.flags&128)===128}function ub(e){if(Su(e))return!0;let t=e.parent;for(;t;){if(Su(e)||cb(t))return!0;t=t.parent}return!1}var om=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(om||{}),db=new Map,fO=0;function hO(){return fO++}function pO(e){db.set(e[oa],e)}function Pg(e){db.delete(e[oa])}var dI="__ngContext__";function jo(e,t){_t(t)?(e[dI]=t[oa],pO(t)):e[dI]=t}function fb(e){return pb(e[Mo])}function hb(e){return pb(e[Mt])}function pb(e){for(;e!==null&&!Et(e);)e=e[Mt];return e}var Fg;function sm(e){Fg=e}function Ia(){if(Fg!==void 0)return Fg;if(typeof document<"u")return document;throw new b(210,!1)}var Sn=new I("",{providedIn:"root",factory:()=>gO}),gO="ng",zu=new I(""),lt=new I("",{providedIn:"platform",factory:()=>"unknown"});var Gu=new I("",{providedIn:"root",factory:()=>Ia().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function mO(){let e=new Ii;return e.store=gb(Ia(),g(Sn)),e}var Ii=(()=>{class e{static \u0275prov=S({token:e,providedIn:"root",factory:mO});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function gb(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var mb="h",vb="b",vO="f",yO="n",yb="e",_b="t",qu="c",am="x",ma="r",Eb="i",Cb="n",cm="d";var Ib="di",bb="s",wb="p";var ba=new I(""),Db=!1,lm=new I("",{providedIn:"root",factory:()=>Db});var um=new I(""),Tb=!1,Sb=new I(""),dm=new I("",{providedIn:"root",factory:()=>new Map});var wa="ngb";var Ab=(e,t,n)=>{let r=e,i=r.__jsaction_fns??new Map,o=i.get(t)??[];o.push(n),i.set(t,o),r.__jsaction_fns=i},Rb=(e,t)=>{let n=e,r=n.getAttribute(wa)??"",i=t.get(r)??new Set;i.has(n)||i.add(n),t.set(r,i)};var Nb=e=>{e.removeAttribute(fu.JSACTION),e.removeAttribute(wa),e.__jsaction_fns=void 0},Mb=new I("",{providedIn:"root",factory:()=>({})});function fm(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var Lg=new Map;function Ob(e,t){return Lg.set(e,t),()=>Lg.delete(e)}var fI=!1,xb=(e,t,n,r)=>{};function _O(e,t,n,r){xb(e,t,n,r)}function kb(){fI||(xb=(e,t,n,r)=>{let i=e[Gt].get(Sn);Lg.get(i)?.(t,n,r)},fI=!0)}var Yu=new I("");function Ku(e){return(e.flags&32)===32}var EO="__nghData__",hm=EO,CO="__nghDeferData__",Pb=CO;var yu="ngh",Fb="nghm",Lb=()=>null;function IO(e,t,n=!1){let r=e.getAttribute(yu);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=t.get(Ii,null,{optional:!0});u!==null&&(c=u.get(hm,[])[Number(r)])}let l={data:c,firstChild:e.firstChild??null};return n&&(l.firstChild=e,Zu(l,0,e.nextSibling)),a?e.setAttribute(yu,a):e.removeAttribute(yu),l}function Vb(){Lb=IO}function jb(e,t,n=!1){return Lb(e,t,n)}function Ub(e){let t=e._lView;return t[M].type===2?null:(ui(t)&&(t=t[ce]),t)}function bO(e){return e.textContent?.replace(/\s/gm,"")}function wO(e){let t=Ia(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=bO(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function Zu(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Vg(e,t){return e.segmentHeads?.[t]??null}function Bb(e){return e.get(Sb,!1,{optional:!0})}function DO(e,t){let n=e.data,r=n[yb]?.[t]??null;return r===null&&n[qu]?.[t]&&(r=pm(e,t)),r}function Hb(e,t){return e.data[qu]?.[t]??null}function pm(e,t){let n=Hb(e,t)??[],r=0;for(let i of n)r+=i[ma]*(i[am]??1);return r}function TO(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[cm];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function $b(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[cm];e.disconnectedNodes=n?new Set(n):null}return!!TO(e)?.has(t)}function Qu(e,t){let n=e[at];return n!==null&&!Jp()&&!Ku(t)&&!$b(n,t.index-ce)}function SO(e,t){let n=t.get(Yu),i=t.get(Ii).get(Pb,{}),o=!1,s=e,a=null,c=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}c.unshift(s),s=i[s][wb]}return{parentBlockPromise:a,hydrationQueue:c}}function _g(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===Fb}function hI(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function Wb(e){for(let r of e.body.childNodes)if(_g(r))return;let t=hI(e.body.previousSibling);if(_g(t))return;let n=hI(e.head.lastChild);if(!_g(n))throw new b(-507,!1)}function zb(e,t){let n=e.contentQueries;if(n!==null){let r=F(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];ag(o),a.contentQueries(2,t[s],s)}}}finally{F(r)}}}function jg(e,t,n){ag(0);let r=F(null);try{t(e,n)}finally{F(r)}}function Gb(e,t,n){if(zp(t)){let r=F(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{F(r)}}}var rr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(rr||{});var pu;function AO(){if(pu===void 0&&(pu=null,vn.trustedTypes))try{pu=vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return pu}function pI(e){return AO()?.createScriptURL(e)||e}var Au=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Kl})`}};function $o(e){return e instanceof Au?e.changingThisBreaksApplicationSecurity:e}function Ju(e,t){let n=qb(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Kl})`)}return n===t}function qb(e){return e instanceof Au&&e.getTypeName()||null}var RO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gm(e){return e=String(e),e.match(RO)?e:"unsafe:"+e}var Da=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Da||{});function wr(e){let t=Kb();return t?t.sanitize(Da.URL,e)||"":Ju(e,"URL")?$o(e):gm(ii(e))}function Yb(e){let t=Kb();if(t)return pI(t.sanitize(Da.RESOURCE_URL,e)||"");if(Ju(e,"ResourceURL"))return pI($o(e));throw new b(904,!1)}function NO(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Yb:wr}function mm(e,t,n){return NO(t,n)(e)}function Kb(){let e=W();return e&&e[_n].sanitizer}var MO=/^>|^->|<!--|-->|--!>|<!-$/g,OO=/(<|>)/g,xO="\u200B$1\u200B";function kO(e){return e.replace(MO,t=>t.replace(OO,xO))}function vm(e){return e.ownerDocument}function Zb(e){return e.ownerDocument.body}function Qb(e){return e instanceof Function?e():e}function PO(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Jb="ng-template";function FO(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&PO(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ym(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ym(e){return e.type===4&&e.value!==Jb}function LO(e,t,n){let r=e.type===4&&!n?Jb:e.value;return t===r}function VO(e,t,n){let r=4,i=e.attrs,o=i!==null?BO(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Zt(r)&&!Zt(c))return!1;if(s&&Zt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!LO(e,c,n)||c===""&&t.length===1){if(Zt(r))return!1;s=!0}}else if(r&8){if(i===null||!FO(e,i,c,n)){if(Zt(r))return!1;s=!0}}else{let l=t[++a],u=jO(c,i,ym(e),n);if(u===-1){if(Zt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Zt(r))return!1;s=!0}}}}return Zt(r)||s}function Zt(e){return(e&1)===0}function jO(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return HO(t,e)}function UO(e,t,n=!1){for(let r=0;r<t.length;r++)if(VO(e,t[r],n))return!0;return!1}function BO(e){for(let t=0;t<e.length;t++){let n=e[t];if(QI(n))return t}return e.length}function HO(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function gI(e,t){return e?":not("+t.trim()+")":t}function $O(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Zt(s)&&(t+=gI(o,i),i=""),r=s,o=o||!Zt(r);n++}return i!==""&&(t+=gI(o,i)),t}function WO(e){return e.map($O).join(",")}function zO(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Zt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var wt={};function Xb(e,t){return e.createText(t)}function GO(e,t,n){e.setValue(t,n)}function ew(e,t){return e.createComment(kO(t))}function _m(e,t,n){return e.createElement(t,n)}function Ru(e,t,n,r,i){e.insertBefore(t,n,r,i)}function tw(e,t,n){e.appendChild(t,n)}function mI(e,t,n,r,i){r!==null?Ru(e,t,n,r,i):tw(e,t,n)}function Em(e,t,n){e.removeChild(null,t,n)}function nw(e){e.textContent=""}function qO(e,t,n){e.setAttribute(t,"style",n)}function YO(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function rw(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&JM(e,t,r),i!==null&&YO(e,t,i),o!==null&&qO(e,t,o)}function Cm(e,t,n,r,i,o,s,a,c,l,u){let d=ce+r,f=d+i,h=KO(d,f),p=typeof l=="function"?l():l;return h[M]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function KO(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:wt);return n}function ZO(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Cm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Im(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[Xe]=i,d[L]=r|4|128|8|64|1024,(l!==null||e&&e[L]&2048)&&(d[L]|=2048),Yp(d),d[Ae]=d[oi]=e,d[we]=n,d[_n]=s||e&&e[_n],d[ie]=a||e&&e[ie],d[Gt]=c||e&&e[Gt]||null,d[Ot]=o,d[oa]=hO(),d[at]=u,d[Wp]=l,d[et]=t.type==2?e[et]:d,d}function QO(e,t,n){let r=xt(t,e),i=ZO(n),o=e[_n].rendererFactory,s=bm(e,Im(e,i,null,iw(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function iw(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function ow(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function bm(e,t){return e[Mo]?e[$p][Mt]=t:e[Mo]=t,e[$p]=t,t}function A(e=1){sw(Ye(),W(),er()+e,!1)}function sw(e,t,n,r){if(!r)if((t[L]&3)===3){let o=e.preOrderCheckHooks;o!==null&&mu(t,o,n)}else{let o=e.preOrderHooks;o!==null&&vu(t,o,0,n)}br(n)}var Xu=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Xu||{});function Ug(e,t,n,r){let i=F(null);try{let[o,s,a]=e.inputs[n],c=null;(s&Xu.SignalBased)!==0&&(c=t[o][Ge]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):GI(t,c,o,r)}finally{F(i)}}var wn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(wn||{}),JO;function wm(e,t){return JO(e,t)}function ko(e,t,n,r,i){if(r!=null){let o,s=!1;Et(r)?o=r:_t(r)&&(s=!0,r=r[Xe]);let a=Ct(r);e===0&&n!==null?i==null?tw(t,n,a):Ru(t,n,a,i||null,!0):e===1&&n!==null?Ru(t,n,a,i||null,!0):e===2?Em(t,a,s):e===3&&t.destroyNode(a),o!=null&&ux(t,e,o,n,i)}}function XO(e,t){aw(e,t),t[Xe]=null,t[Ot]=null}function ex(e,t,n,r,i,o){r[Xe]=i,r[Ot]=t,td(e,r,n,1,i,o)}function aw(e,t){t[_n].changeDetectionScheduler?.notify(9),td(e,t,t[ie],2,null,null)}function tx(e){let t=e[Mo];if(!t)return Eg(e[M],e);for(;t;){let n=null;if(_t(t))n=t[Mo];else{let r=t[Ve];r&&(n=r)}if(!n){for(;t&&!t[Mt]&&t!==e;)_t(t)&&Eg(t[M],t),t=t[Ae];t===null&&(t=e),_t(t)&&Eg(t[M],t),n=t&&t[Mt]}t=n}}function Dm(e,t){let n=e[ca],r=n.indexOf(t);n.splice(r,1)}function ed(e,t){if(Ir(t))return;let n=t[ie];n.destroyNode&&td(e,t,n,3,null,null),tx(t)}function Eg(e,t){if(Ir(t))return;let n=F(null);try{t[L]&=-129,t[L]|=256,t[yt]&&zs(t[yt]),rx(e,t),nx(e,t),t[M].type===1&&t[ie].destroy();let r=t[si];if(r!==null&&Et(t[Ae])){r!==t[Ae]&&Dm(r,t);let i=t[ci];i!==null&&i.detachView(e)}Pg(t)}finally{F(n)}}function nx(e,t){let n=e.cleanup,r=t[No];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[No]=null);let i=t[Zn];if(i!==null){t[Zn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[sa];if(o!==null){t[sa]=null;for(let s of o)s.destroy()}}function rx(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof mi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];X(4,a,c);try{c.call(a)}finally{X(5,a,c)}}else{X(4,i,o);try{o.call(i)}finally{X(5,i,o)}}}}}function ix(e,t,n){return ox(e,t.parent,n)}function ox(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Xe];if(Xn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===rr.None||i===rr.Emulated)return null}return xt(r,n)}function sx(e,t,n){return cx(e,t,n)}function ax(e,t,n){return e.type&40?xt(e,n):null}var cx=ax,vI;function Tm(e,t,n,r){let i=ix(e,r,t),o=t[ie],s=r.parent||t[Ot],a=sx(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)mI(o,i,n[c],a,!1);else mI(o,i,n,a,!1);vI!==void 0&&vI(o,r,t,n,i)}function pa(e,t){if(t!==null){let n=t.type;if(n&3)return xt(t,e);if(n&4)return Bg(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return pa(e,r);{let i=e[t.index];return Et(i)?Bg(-1,i):Ct(i)}}else{if(n&128)return pa(e,t.next);if(n&32)return wm(t,e)()||Ct(e[t.index]);{let r=cw(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Er(e[et]);return pa(i,r)}else return pa(e,t.next)}}}return null}function cw(e,t){if(t!==null){let r=e[et][Ot],i=t.projection;return r.projection[i]}return null}function Bg(e,t){let n=Ve+e+1;if(n<t.length){let r=t[n],i=r[M].firstChild;if(i!==null)return pa(r,i)}return t[En]}function Sm(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&jo(Ct(a),r),n.flags|=2),!Ku(n))if(c&8)Sm(e,t,n.child,r,i,o,!1),ko(t,e,i,a,o);else if(c&32){let l=wm(n,r),u;for(;u=l();)ko(t,e,i,u,o);ko(t,e,i,a,o)}else c&16?lx(e,t,r,n,i,o):ko(t,e,i,a,o);n=s?n.projectionNext:n.next}}function td(e,t,n,r,i,o){Sm(n,r,e.firstChild,t,i,o,!1)}function lx(e,t,n,r,i,o){let s=n[et],c=s[Ot].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];ko(t,e,i,u,o)}else{let l=c,u=s[Ae];Su(r)&&(l.flags|=128),Sm(e,t,l,u,i,o,!0)}}function ux(e,t,n,r,i){let o=n[En],s=Ct(n);o!==s&&ko(t,e,r,o,i);for(let a=Ve;a<n.length;a++){let c=n[a];td(c[M],c,e,t,r,o)}}function dx(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:wn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=wn.Important),e.setStyle(n,r,i,o))}}function lw(e,t,n,r,i){let o=er(),s=r&2;try{br(-1),s&&t.length>ce&&sw(e,t,ce,!1),X(s?2:0,i,n),n(r,i)}finally{br(o),X(s?3:1,i,n)}}function uw(e,t,n){yx(e,t,n),(n.flags&64)===64&&_x(e,t,n)}function Am(e,t,n=xt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function fx(e,t,n,r){let o=r.get(lm,Db)||n===rr.ShadowDom,s=e.selectRootElement(t,o);return hx(s),s}function hx(e){dw(e)}var dw=()=>null;function px(e){lb(e)?nw(e):wO(e)}function fw(){dw=px}function gx(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function hw(e,t,n,r,i,o){let s=t[M];if(Nm(e,s,t,n,r)){Xn(e)&&vx(t,e.index);return}e.type&3&&(n=gx(n)),mx(e,t,n,r,i,o)}function mx(e,t,n,r,i,o){if(e.type&3){let s=xt(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function vx(e,t){let n=kt(t,e);n[L]&16||(n[L]|=64)}function yx(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Xn(n)&&QO(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Du(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Tu(t,e,s,n);if(jo(c,t),o!==null&&wx(t,s-r,c,a,n,o),Cn(a)){let l=kt(n.index,t);l[we]=Tu(t,e,s,n)}}}function _x(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=QC();try{br(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];su(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Ex(c,l)}}finally{br(-1),su(s)}}function Ex(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Cx(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];UO(t,o.selectors,!1)&&(r??=[],Cn(o)?r.unshift(o):r.push(o))}return r}function Ix(e,t,n,r,i,o){let s=xt(e,t);bx(t[ie],s,o,e.value,n,r,i)}function bx(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?ii(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function wx(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Ug(r,n,c,l)}}function pw(e,t,n,r,i){let o=ce+n,s=t[M],a=i(s,t,e,r,n);t[o]=a,xo(e,!0);let c=e.type===2;return c?(rw(t[ie],a,e),(BC()===0||ru(e))&&jo(a,t),HC()):jo(a,t),uu()&&(!c||!Ku(e))&&Tm(s,t,a,e),e}function gw(e){let t=e;return ng()?GC():(t=t.parent,xo(t,!1)),t}function Rm(e,t){let n=e[Gt];if(!n)return;n.get(ct,null)?.(t)}function Nm(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Ug(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];Ug(u,l,r,i),a=!0}return a}function Dx(e,t){let n=kt(t,e),r=n[M];Tx(r,n);let i=n[Xe];i!==null&&n[at]===null&&(n[at]=jb(i,n[Gt])),X(18),Mm(r,n,n[we]),X(19,n[we])}function Tx(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Mm(e,t,n){au(t);try{let r=e.viewQuery;r!==null&&jg(1,r,n);let i=e.template;i!==null&&lw(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ci]?.finishViewCreation(e),e.staticContentQueries&&zb(e,t),e.staticViewQueries&&jg(2,e.viewQuery,n);let o=e.components;o!==null&&Sx(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[L]&=-5,cu()}}function Sx(e,t){for(let n=0;n<t.length;n++)Dx(e,t[n])}function nd(e,t,n,r){let i=F(null);try{let o=t.tView,a=e[L]&4096?4096:16,c=Im(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[si]=l;let u=e[ci];return u!==null&&(c[ci]=u.createEmbeddedView(o)),Mm(o,c,n),c}finally{F(i)}}function Uo(e,t){return!t||t.firstChild===null||Su(e)}var yI=!1,Ax=new I("");function va(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Ct(o)),Et(o)&&mw(o,r);let s=n.type;if(s&8)va(e,t,n.child,r);else if(s&32){let a=wm(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=cw(t,n);if(Array.isArray(a))r.push(...a);else{let c=Er(t[et]);va(c[M],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function mw(e,t){for(let n=Ve;n<e.length;n++){let r=e[n],i=r[M].firstChild;i!==null&&va(r[M],r,i,t)}e[En]!==e[Xe]&&t.push(e[En])}function vw(e){if(e[li]!==null){for(let t of e[li])t.impl.addSequence(t);e[li].length=0}}var yw=[];function Rx(e){return e[yt]??Nx(e)}function Nx(e){let t=yw.pop()??Object.create(Ox);return t.lView=e,t}function Mx(e){e.lView[yt]!==e&&(e.lView=null,yw.push(e))}var Ox=k(_({},Gr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Oo(e.lView)},consumerOnSignalRead(){this.lView[yt]=this}});function xx(e){let t=e[yt]??Object.create(kx);return t.lView=e,t}var kx=k(_({},Gr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Er(e.lView);for(;t&&!_w(t[M]);)t=Er(t);t&&Kp(t)},consumerOnSignalRead(){this.lView[yt]=this}});function _w(e){return e.type!==2}function Ew(e){if(e[sa]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[sa])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[L]&8192)}}var Px=100;function Om(e,t=0){let r=e[_n].rendererFactory,i=!1;i||r.begin?.();try{Fx(e,t)}finally{i||r.end?.()}}function Fx(e,t){let n=ig();try{og(!0),Hg(e,t);let r=0;for(;la(e);){if(r===Px)throw new b(103,!1);r++,Hg(e,1)}}finally{og(n)}}function Cw(e,t){rg(t?ua.Exhaustive:ua.OnlyDirtyViews);try{Om(e)}finally{rg(ua.Off)}}function Lx(e,t,n,r){if(Ir(t))return;let i=t[L],o=!1,s=!1;au(t);let a=!0,c=null,l=null;o||(_w(e)?(l=Rx(t),c=qr(l)):gl()===null?(a=!1,l=xx(t),c=qr(l)):t[yt]&&(zs(t[yt]),t[yt]=null));try{Yp(t),YC(e.bindingStartIndex),n!==null&&lw(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&mu(t,h,null)}else{let h=e.preOrderHooks;h!==null&&vu(t,h,0,null),vg(t,0)}if(s||Vx(t),Ew(t),Iw(t,0),e.contentQueries!==null&&zb(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&mu(t,h)}else{let h=e.contentHooks;h!==null&&vu(t,h,1),vg(t,1)}Ux(e,t);let d=e.components;d!==null&&ww(t,d,0);let f=e.viewQuery;if(f!==null&&jg(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&mu(t,h)}else{let h=e.viewHooks;h!==null&&vu(t,h,2),vg(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[nu]){for(let h of t[nu])h();t[nu]=null}o||(vw(t),t[L]&=-73)}catch(u){throw o||Oo(t),u}finally{l!==null&&(lo(l,c),a&&Mx(l)),cu()}}function Iw(e,t){for(let n=fb(e);n!==null;n=hb(n))for(let r=Ve;r<n.length;r++){let i=n[r];bw(i,t)}}function Vx(e){for(let t=fb(e);t!==null;t=hb(t)){if(!(t[L]&2))continue;let n=t[ca];for(let r=0;r<n.length;r++){let i=n[r];Kp(i)}}}function jx(e,t,n){X(18);let r=kt(t,e);bw(r,n),X(19,r[we])}function bw(e,t){iu(e)&&Hg(e,t)}function Hg(e,t){let r=e[M],i=e[L],o=e[yt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ws(o)),s||=!1,o&&(o.dirty=!1),e[L]&=-9217,s)Lx(r,e,r.template,e[we]);else if(i&8192){let a=F(null);try{Ew(e),Iw(e,1);let c=r.components;c!==null&&ww(e,c,1),vw(e)}finally{F(a)}}}function ww(e,t,n){for(let r=0;r<t.length;r++)jx(e,t[r],n)}function Ux(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)br(~i);else{let o=i,s=n[++r],a=n[++r];ZC(s,o);let c=t[o];X(24,c),a(2,c),X(25,c)}}}finally{br(-1)}}function rd(e,t){let n=ig()?64:1088;for(e[_n].changeDetectionScheduler?.notify(t);e;){e[L]|=n;let r=Er(e);if(ui(e)&&!r)return e;e=r}return null}function Dw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Tw(e,t){let n=Ve+t;if(n<e.length)return e[n]}function Ta(e,t,n,r=!0){let i=t[M];if(Bx(i,t,e,n),r){let s=Bg(n,e),a=t[ie],c=a.parentNode(e[En]);c!==null&&ex(i,e[Ot],a,t,c,s)}let o=t[at];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xm(e,t){let n=ya(e,t);return n!==void 0&&ed(n[M],n),n}function ya(e,t){if(e.length<=Ve)return;let n=Ve+t,r=e[n];if(r){let i=r[si];i!==null&&i!==e&&Dm(i,r),t>0&&(e[n-1][Mt]=r[Mt]);let o=na(e,Ve+t);XO(r[M],r);let s=o[ci];s!==null&&s.detachView(o[M]),r[Ae]=null,r[Mt]=null,r[L]&=-129}return r}function Bx(e,t,n,r){let i=Ve+r,o=n.length;r>0&&(n[i-1][Mt]=t),r<o-Ve?(t[Mt]=n[i],Fp(n,Ve+r,t)):(n.push(t),t[Mt]=null),t[Ae]=n;let s=t[si];s!==null&&n!==s&&Sw(s,t);let a=t[ci];a!==null&&a.insertView(e),ou(t),t[L]|=128}function Sw(e,t){let n=e[ca],r=t[Ae];if(_t(r))e[L]|=2;else{let i=r[Ae][et];t[et]!==i&&(e[L]|=2)}n===null?e[ca]=[t]:n.push(t)}var vi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[M];return va(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[we]}set context(t){this._lView[we]=t}get destroyed(){return Ir(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ae];if(Et(t)){let n=t[aa],r=n?n.indexOf(this):-1;r>-1&&(ya(t,r),na(n,r))}this._attachedToViewContainer=!1}ed(this._lView[M],this._lView)}onDestroy(t){Zp(this._lView,t)}markForCheck(){rd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[L]&=-129}reattach(){ou(this._lView),this._lView[L]|=128}detectChanges(){this._lView[L]|=1024,Om(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Gt].get(Ax,yI)}catch{this.exhaustive=yI}}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=ui(this._lView),n=this._lView[si];n!==null&&!t&&Dm(n,this._lView),aw(this._lView[M],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=t;let n=ui(this._lView),r=this._lView[si];r!==null&&!n&&Sw(r,this._lView),ou(this._lView)}};function id(e,t,n,r,i){let o=e.data[t];if(o===null)o=Hx(e,t,n,r,i),KC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=zC();o.injectorIndex=s===null?-1:s.injectorIndex}return xo(o,!0),o}function Hx(e,t,n,r,i){let o=tg(),s=ng(),a=s?o:o&&o.parent,c=e.data[t]=Wx(e,a,n,t,r,i);return $x(e,c,o,s),c}function $x(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function Wx(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Jp()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var zx=new RegExp(`^(\\d+)*(${vb}|${mb})*(.*)`);function Gx(e){let t=e.match(zx),[n,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function qx(e){return!e.prev&&e.parent?.type===8}function Cg(e){return e.index-ce}function Yx(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function od(e,t,n,r){let i=Cg(r),o=Yx(e,i);if(o===void 0){let s=e.data[Cb];if(s?.[i])o=Zx(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(qx(r)){let l=Cg(r.parent);o=Vg(e,l)}else{let l=xt(c,n);if(a)o=l.firstChild;else{let u=Cg(c),d=Vg(e,u);if(c.type===2&&d){let h=pm(e,u)+1;o=sd(h,d)}else o=l.nextSibling}}}}return o}function sd(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function Kx(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case vO:n=n.firstChild;break;case yO:n=n.nextSibling;break}}return n}function Zx(e,t){let[n,...r]=Gx(e),i;if(n===mb)i=t[et][Xe];else if(n===vb)i=Zb(t[et][Xe]);else{let o=Number(n);i=Ct(t[o+ce])}return Kx(i,r)}var Qx=!1;function Aw(e){Qx=e}function Jx(e){let t=e[at];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let i=e[ie];for(let o of r.values())Xx(i,n,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function Xx(e,t,n){for(let r of n.node.cases[n.case]){let i=t.get(r.index-ce);i&&Em(e,i,!1)}}function ad(e){let t=e[qt]??[],r=e[Ae][ie],i=[];for(let o of t)o.data[Ib]!==void 0?i.push(o):Rw(o,r);e[qt]=i}function ek(e){let{lContainer:t}=e,n=t[qt];if(n===null)return;let i=t[Ae][ie];for(let o of n)Rw(o,i)}function Rw(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[ma];for(;n<i;){let o=r.nextSibling;Em(t,r,!1),r=o,n++}}}function cd(e){ad(e);let t=e[Xe];_t(t)&&Nu(t);for(let n=Ve;n<e.length;n++)Nu(e[n])}function Nu(e){Jx(e);let t=e[M];for(let n=ce;n<t.bindingStartIndex;n++)if(Et(e[n])){let r=e[n];cd(r)}else _t(e[n])&&Nu(e[n])}function km(e){let t=e._views;for(let n of t){let r=Ub(n);r!==null&&r[Xe]!==null&&(_t(r)?Nu(r):cd(r))}}function tk(e,t,n,r){e!==null&&(n.cleanup(t),cd(e.lContainer),km(r))}function nk(e,t){let n=[];for(let r of t)for(let i=0;i<(r[am]??1);i++){let o={data:r,firstChild:null};r[ma]>0&&(o.firstChild=e,e=sd(r[ma],e)),n.push(o)}return[e,n]}var Nw=()=>null,Mw=()=>null;function Ow(){Nw=rk,Mw=ik}function rk(e,t){return kw(e,t)?e[qt].shift():(ad(e),null)}function Mu(e,t){return Nw(e,t)}function ik(e,t,n){if(t.tView.ssrId===null)return null;let r=Mu(e,t.tView.ssrId);return n[M].firstUpdatePass&&r===null&&ok(n,t),r}function xw(e,t,n){return Mw(e,t,n)}function ok(e,t){let n=t;for(;n;){if(_I(e,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=t.next;n&&(n.flags&512)===512;){if(_I(e,n))return;n=n.next}}function kw(e,t){let n=e[qt];return!t||n===null||n.length===0?!1:n[0].data[Eb]===t}function _I(e,t){let n=t.tView?.ssrId;if(n==null)return!1;let r=e[t.index];return Et(r)&&kw(r,n)?(ad(r),!0):!1}var Pw=class{},ld=class{},$g=class{resolveComponentFactory(t){throw new b(917,!1)}},Sa=class{static NULL=new $g},yi=class{},Jt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>sk()}return e})();function sk(){let e=W(),t=Ke(),n=kt(t.index,e);return(_t(n)?n:e)[ie]}var Fw=(()=>{class e{static \u0275prov=S({token:e,providedIn:"root",factory:()=>null})}return e})();var _u={},Fo=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,_u,r);return i!==_u||n===_u?i:this.parentInjector.get(t,n,r)}};function Ou(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=wp(i,a);else if(o==2){let c=a,l=t[++s];r=wp(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function P(e,t=0){let n=W();if(n===null)return R(e,t);let r=Ke();return ib(r,n,He(e),t)}function Pm(){let e="invalid";throw new Error(e)}function ak(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}uk(e,t,n,a,o,c,l)}o!==null&&r!==null&&ck(n,r,o)}function ck(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new b(-301,!1);r.push(t[i],o)}}function lk(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function uk(e,t,n,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&Cn(h)&&(c=!0,lk(e,n,f)),xg(Du(n,t),e,h.type)}mk(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=ow(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=Vo(n.mergedAttrs,h.hostAttrs),fk(e,n,t,d,h),gk(d,h,i),s!==null&&s.has(h)){let[y,v]=s.get(h);n.directiveToIndex.set(h.type,[d,y+n.directiveStart,v+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}dk(e,n,o)}function dk(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))EI(0,t,i,r),EI(1,t,i,r),II(t,r,!1);else{let o=n.get(i);CI(0,t,o,r),CI(1,t,o,r),II(t,r,!0)}}}function EI(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Lw(t,o)}}function CI(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Lw(t,s)}}function Lw(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function II(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||ym(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function fk(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=_r(i.type,!0)),s=new mi(o,Cn(i),P,null);e.blueprint[r]=s,n[r]=s,hk(e,t,r,ow(e,n,i.hostVars,wt),i)}function hk(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;pk(s)!=a&&s.push(a),s.push(n,r,o)}}function pk(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function gk(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Cn(t)&&(n[""]=e)}}function mk(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Vw(e,t,n,r,i,o,s,a){let c=t[M],l=c.consts,u=In(l,s),d=id(c,e,n,r,u);return o&&ak(c,t,d,In(l,a),i),d.mergedAttrs=Vo(d.mergedAttrs,d.attrs),d.attrs!==null&&Ou(d,d.attrs,!1),d.mergedAttrs!==null&&Ou(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function jw(e,t){YM(e,t),zp(t)&&e.queries.elementEnd(t)}function vk(e,t,n,r,i,o){let s=t.consts,a=In(s,i),c=id(t,e,n,r,a);if(c.mergedAttrs=Vo(c.mergedAttrs,c.attrs),o!=null){let l=In(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&Ou(c,c.attrs,!1),c.mergedAttrs!==null&&Ou(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Fm(e,t,n){return e[t]=n}function yk(e,t){return e[t]}function Dn(e,t,n){if(n===wt)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Uw(e,t,n,r){let i=Dn(e,t,n);return Dn(e,t+1,r)||i}function Ig(e,t,n){return function r(i){let o=Xn(e)?kt(e.index,t):t;rd(o,5);let s=t[we],a=bI(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=bI(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function bI(e,t,n,r){let i=F(null);try{return X(6,t,n),n(r)!==!1}catch(o){return Rm(e,o),!1}finally{X(7,t,n),F(i)}}function _k(e,t,n,r,i,o,s,a){let c=ru(e),l=!1,u=null;if(!r&&c&&(u=Ek(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=xt(e,n),f=r?r(d):d;_O(n,f,o,a);let h=i.listen(f,o,a),p=r?y=>r(Ct(y[e.index])):e.index;Bw(p,t,n,o,a,h,!1)}return l}function Ek(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[No],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Bw(e,t,n,r,i,o,s){let a=t.firstCreatePass?UC(t):null,c=jC(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function wI(e,t,n,r,i,o){let s=t[n],a=t[M],l=a.data[n].outputs[r],d=s[l].subscribe(o);Bw(e.index,a,t,i,o,d,!0)}var Wg=Symbol("BINDING");var xu=class extends Sa{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=yn(t);return new _i(n,this.ngModule)}};function Ck(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Xu.SignalBased)!==0};return i&&(o.transform=i),o})}function Ik(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function bk(e,t,n){let r=t instanceof fe?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Fo(n,r):n}function wk(e){let t=e.get(yi,null);if(t===null)throw new b(407,!1);let n=e.get(Fw,null),r=e.get(Jn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Dk(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return _m(t,n,n==="svg"?xC:n==="math"?kC:null)}var _i=class extends ld{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Ck(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Ik(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=WO(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){X(22);let a=F(null);try{let c=this.componentDef,l=Tk(r,c,s,o),u=bk(c,i||this.ngModule,t),d=wk(u),f=d.rendererFactory.createRenderer(null,c),h=r?fx(f,r,c.encapsulation,u):Dk(c,f),p=s?.some(DI)||o?.some(E=>typeof E!="function"&&E.bindings.some(DI)),y=Im(null,l,null,512|iw(c),null,null,d,f,u,null,jb(h,u,!0));y[ce]=h,au(y);let v=null;try{let E=Vw(ce,y,2,"#host",()=>l.directiveRegistry,!0,0);h&&(rw(f,h,E),jo(h,y)),uw(l,y,E),Gb(l,E,y),jw(l,E),n!==void 0&&Ak(E,this.ngContentSelectors,n),v=kt(E.index,y),y[we]=v[we],Mm(l,y,null)}catch(E){throw v!==null&&Pg(v),Pg(y),E}finally{X(23),cu()}return new ku(this.componentType,y,!!p)}finally{F(a)}}};function Tk(e,t,n,r){let i=e?["ng-version","20.1.7"]:zO(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Wg].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let f of d.bindings){a+=f[Wg].requiredVars;let h=u+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,f=eu(d);c.push(f)}return Cm(0,null,Sk(o,s),1,a,c,null,null,null,[i],null)}function Sk(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function DI(e){let t=e[Wg].kind;return t==="input"||t==="twoWay"}var ku=class extends Pw{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=di(n[M],ce),this.location=im(this._tNode,n),this.instance=kt(this._tNode.index,n)[we],this.hostView=this.changeDetectorRef=new vi(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Nm(r,i[M],i,t,n);this.previousInputValues.set(t,n);let s=kt(r.index,i);rd(s,1)}get injector(){return new gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Ak(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Aa=(()=>{class e{static __NG_ELEMENT_ID__=Rk}return e})();function Rk(){let e=Ke();return Mk(e,W())}var Nk=Aa,Hw=class extends Nk{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return im(this._hostTNode,this._hostLView)}get injector(){return new gi(this._hostTNode,this._hostLView)}get parentInjector(){let t=rm(this._hostTNode,this._hostLView);if(JI(t)){let n=bu(t,this._hostLView),r=Iu(t),i=n[M].data[r+8];return new gi(i,n)}else return new gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=TI(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Ve}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Mu(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Uo(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!$M(t),l;if(c)l=n;else{let v=n||{};l=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let u=c?t:new _i(yn(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let E=(c?d:this.parentInjector).get(fe,null);E&&(o=E)}let f=yn(u.componentType??{}),h=Mu(this._lContainer,f?.id??null),p=h?.firstChild??null,y=u.create(d,i,p,o,s,a);return this.insertImpl(y.hostView,l,Uo(this._hostTNode,h)),y}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(FC(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Ae],l=new Hw(c,c[Ot],c[Ae]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Ta(s,i,o,r),t.attachToViewContainerRef(),Fp(bg(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=TI(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=ya(this._lContainer,n);r&&(na(bg(this._lContainer),n),ed(r[M],r))}detach(t){let n=this._adjustIndex(t,-1),r=ya(this._lContainer,n);return r&&na(bg(this._lContainer),n)!=null?new vi(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function TI(e){return e[aa]}function bg(e){return e[aa]||(e[aa]=[])}function Mk(e,t){let n,r=t[e.index];return Et(r)?n=r:(n=Dw(r,t,null,e),t[e.index]=n,bm(t,n)),$w(n,t,e,r),new Hw(n,e,t)}function Ok(e,t){let n=e[ie],r=n.createComment(""),i=xt(t,e),o=n.parentNode(i);return Ru(n,o,r,n.nextSibling(i),!1),r}var $w=Ww,Lm=()=>!1;function xk(e,t,n){return Lm(e,t,n)}function Ww(e,t,n,r){if(e[En])return;let i;n.type&8?i=Ct(r):i=Ok(t,n),e[En]=i}function kk(e,t,n){if(e[En]&&e[qt])return!0;let r=n[at],i=t.index-ce;if(!r||ub(t)||$b(r,i))return!1;let s=Vg(r,i),a=r.data[qu]?.[i],[c,l]=nk(s,a);return e[En]=c,e[qt]=l,!0}function Pk(e,t,n,r){Lm(e,n,t)||Ww(e,t,n,r)}function zw(){$w=Pk,Lm=kk}var SI=new Set;function ut(e){SI.has(e)||(SI.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Ei=class{},ud=class{};var Pu=class extends Ei{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new xu(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=jp(t);this._bootstrapComponents=Qb(o.bootstrap),this._r3Injector=dg(t,n,[{provide:Ei,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver},...r],Qn(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Fu=class extends ud{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Pu(this.moduleType,t,[])}};var _a=class extends Ei{injector;componentFactoryResolver=new xu(this);instance=null;constructor(t){super();let n=new ni([...t.providers,{provide:Ei,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],t.parent||ia(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function bi(e,t,n=null){return new _a({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Fk=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=tu(!1,n.type),i=r.length>0?bi([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=S({token:e,providedIn:"environment",factory:()=>new e(R(fe))})}return e})();function Xt(e){return Ho(()=>{let t=Gw(e),n=k(_({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===om.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(Fk).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||rr.Emulated,styles:e.styles||mt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&ut("NgStandalone"),qw(n);let r=e.dependencies;return n.directiveDefs=AI(r,Lk),n.pipeDefs=AI(r,Up),n.id=Uk(n),n})}function Lk(e){return yn(e)||eu(e)}function en(e){return Ho(()=>({type:e.type,bootstrap:e.bootstrap||mt,declarations:e.declarations||mt,imports:e.imports||mt,exports:e.exports||mt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Vk(e,t){if(e==null)return Cr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Xu.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function jk(e){if(e==null)return Cr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function he(e){return Ho(()=>{let t=Gw(e);return qw(t),t})}function Vm(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Gw(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Cr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||mt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Vk(e.inputs,t),outputs:jk(e.outputs),debugInfo:null}}function qw(e){e.features?.forEach(t=>t(e))}function AI(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function Uk(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Bk(e){return Object.getPrototypeOf(e.prototype).constructor}function dt(e){let t=Bk(e.type),n=!0,r=[e];for(;t;){let i;if(Cn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new b(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=wg(e.inputs),s.declaredInputs=wg(e.declaredInputs),s.outputs=wg(e.outputs);let a=i.hostBindings;a&&Gk(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Wk(e,c),l&&zk(e,l),Hk(e,i),_C(e.outputs,i.outputs),Cn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===dt&&(n=!1)}}t=Object.getPrototypeOf(t)}$k(r)}function Hk(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function $k(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Vo(i.hostAttrs,n=Vo(n,i.hostAttrs))}}function wg(e){return e===Cr?{}:e===mt?[]:e}function Wk(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function zk(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function Gk(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function qk(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Vo(e.mergedAttrs,e.attrs);let u=e.tView=Cm(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),xo(e,!1);let c=Yw(n,t,e,r);uu()&&Tm(n,t,c,e),jo(c,t);let l=Dw(c,t,c,e);t[r+ce]=l,bm(t,l),xk(l,e,t)}function Lu(e,t,n,r,i,o,s,a,c,l,u){let d=n+ce,f;if(t.firstCreatePass){if(f=id(t,d,4,s||null,a||null),l!=null){let h=In(t.consts,l);f.localNames=[];for(let p=0;p<h.length;p+=2)f.localNames.push(h[p],-1)}}else f=t.data[d];return qk(f,e,t,n,r,i,o,c),l!=null&&Am(e,f,u),f}var Yw=Kw;function Kw(e,t,n,r){return tr(!0),t[ie].createComment("")}function Yk(e,t,n,r){let i=!Qu(t,n);tr(i);let o=t[at]?.data[_b]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return Kw(e,t);let s=t[at],a=od(s,e,t,n);Zu(s,r,a);let c=pm(s,r);return sd(c,a)}function Zw(){Yw=Yk}var bt=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(bt||{}),RI=0,Kk=1,Re=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(Re||{});var Zk=0,Ra=1;var Qk=4,Jk=5;var Xk=7,Lo=8,eP=9,jm=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(jm||{});function Eu(e,t){let n=nP(e),r=t[n];if(r!==null){for(let i of r)i();t[n]=null}}function tP(e){Eu(1,e),Eu(0,e),Eu(2,e)}function nP(e){let t=Qk;return e===1?t=Jk:e===2&&(t=eP),t}var dd=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(dd||{}),wi=new I(""),Qw=!1,zg=class extends Te{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,MC()&&(this.destroyRef=g(Yt,{optional:!0})??void 0,this.pendingTasks=g(Kt,{optional:!0})??void 0)}emit(t){let n=F(null);try{super.next(t)}finally{F(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof me&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ne=zg;function Jw(e){let t,n;function r(){e=ha;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function NI(e){return queueMicrotask(()=>e()),()=>{e=ha}}var Um="isAngularZone",Vu=Um+"_ID",rP=0,re=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ne(!1);onMicrotaskEmpty=new Ne(!1);onStable=new Ne(!1);onError=new Ne(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Qw}=t;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,sP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Um)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new b(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,iP,ha,ha);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},iP={};function Bm(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function oP(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Jw(()=>{e.callbackScheduled=!1,Gg(e),e.isCheckStableRunning=!0,Bm(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Gg(e)}function sP(e){let t=()=>{oP(e)},n=rP++;e._inner=e._inner.fork({name:"angular",properties:{[Um]:!0,[Vu]:n,[Vu+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(aP(c))return r.invokeTask(o,s,a,c);try{return MI(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),OI(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return MI(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!cP(c)&&t(),OI(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Gg(e),Bm(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Gg(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function MI(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function OI(e){e._nesting--,Bm(e)}var ju=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ne;onMicrotaskEmpty=new Ne;onStable=new Ne;onError=new Ne;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function aP(e){return Xw(e,"__ignore_ng_zone__")}function cP(e){return Xw(e,"__scheduler_tick__")}function Xw(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Hm=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=S({token:e,providedIn:"root",factory:()=>new e})}return e})(),eD=[0,1,2,3],tD=(()=>{class e{ngZone=g(re);scheduler=g(Jn);errorHandler=g(Wt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(wi,{optional:!0})}execute(){let n=this.sequences.size>0;n&&X(16),this.executing=!0;for(let r of eD)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&X(17)}register(n){let{view:r}=n;r!==void 0?((r[li]??=[]).push(n),Oo(r),r[L]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(dd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=S({token:e,providedIn:"root",factory:()=>new e})}return e})(),Uu=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[li];t&&(this.view[li]=t.filter(n=>n!==this))}};function Wo(e,t){let n=t?.injector??g(ve);return ut("NgAfterNextRender"),uP(e,n,t,!0)}function lP(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function uP(e,t,n,r){let i=t.get(Hm);i.impl??=t.get(tD);let o=t.get(wi,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(Yt):null,a=t.get(du,null,{optional:!0}),c=new Uu(i.impl,lP(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}function nD(e){return e+1}function zo(e,t){let n=e[M],r=nD(t.index);return e[r]}function Na(e,t){let n=nD(t.index);return e.data[n]}function dP(e,t,n){let r=t[M],i=Na(r,n);switch(e){case Re.Complete:return i.primaryTmplIndex;case Re.Loading:return i.loadingTmplIndex;case Re.Error:return i.errorTmplIndex;case Re.Placeholder:return i.placeholderTmplIndex;default:return null}}function xI(e,t){return t===Re.Placeholder?e.placeholderBlockConfig?.[RI]??null:t===Re.Loading?e.loadingBlockConfig?.[RI]??null:null}function fP(e){return e.loadingBlockConfig?.[Kk]??null}function kI(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function hP(e,t){let n=t.primaryTmplIndex+ce;return di(e,n)}var pP=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?bi(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=S({token:e,providedIn:"environment",factory:()=>new e})}return e})();var rD=new I("");function Dg(e,t,n){return e.get(pP).getOrCreateInjector(t,e,n,"")}function gP(e,t,n){if(e instanceof Fo){let i=e.injector,o=e.parentInjector,s=Dg(o,t,n);return new Fo(i,s)}let r=e.get(fe);if(r!==e){let i=Dg(r,t,n);return new Fo(e,i)}return Dg(e,t,n)}function pi(e,t,n,r=!1){let i=n[Ae],o=i[M];if(Ir(i))return;let s=zo(i,t),a=s[Ra],c=s[Xk];if(!(c!==null&&e<c)&&PI(a,e)&&PI(s[Zk]??-1,e)){let l=Na(o,t),d=!r&&!0&&(fP(l)!==null||xI(l,Re.Loading)!==null||xI(l,Re.Placeholder))?yP:vP;try{d(e,s,n,t,i)}catch(f){Rm(i,f)}}}function mP(e,t){let n=e[qt]?.findIndex(i=>i.data[bb]===t[Ra])??-1;return{dehydratedView:n>-1?e[qt][n]:null,dehydratedViewIx:n}}function vP(e,t,n,r,i){X(20);let o=dP(e,i,r);if(o!==null){t[Ra]=e;let s=i[M],a=o+ce,c=di(s,a),l=0;xm(n,l);let u;if(e===Re.Complete){let p=Na(s,r),y=p.providers;y&&y.length>0&&(u=gP(i[Gt],p,y))}let{dehydratedView:d,dehydratedViewIx:f}=mP(n,t),h=nd(i,c,null,{injector:u,dehydratedView:d});if(Ta(n,h,l,Uo(c,d)),rd(h,2),f>-1&&n[qt]?.splice(f,1),(e===Re.Complete||e===Re.Error)&&Array.isArray(t[Lo])){for(let p of t[Lo])p();t[Lo]=null}}X(21)}function PI(e,t){return e<t}function FI(e,t,n){e.loadingPromise.then(()=>{e.loadingState===bt.COMPLETE?pi(Re.Complete,t,n):e.loadingState===bt.FAILED&&pi(Re.Error,t,n)})}var yP=null;var fd=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var $m=new I("");function Dr(e){return!!e&&typeof e.then=="function"}function Wm(e){return!!e&&typeof e.subscribe=="function"}var zm=new I("");function hd(e){return st([{provide:zm,multi:!0,useValue:e}])}var Gm=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=g(zm,{optional:!0})??[];injector=g(ve);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=ye(this.injector,i);if(Dr(o))n.push(o);else if(Wm(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),or=new I("");function iD(){zh(()=>{let e="";throw new b(600,e)})}function oD(e){return e.isBoundToModule}var _P=10;var Ze=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(ct);afterRenderManager=g(Hm);zonelessEnabled=g(fa);rootEffectScheduler=g(mg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Te;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(Kt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(B(n=>!n))}constructor(){g(wi,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=g(fe);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=ve.NULL){return this._injector.get(re).run(()=>{X(10);let s=n instanceof ld;if(!this._injector.get(Gm).done){let p="";throw new b(405,p)}let c;s?c=n:c=this._injector.get(Sa).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=oD(c)?void 0:this._injector.get(Ei),u=r||c.selector,d=c.create(i,[],u,l),f=d.location.nativeElement,h=d.injector.get($m,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),ga(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),X(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){X(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(dd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new b(101,!1);let n=F(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,F(n),this.afterTick.next(),X(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(yi,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<_P;)X(14),this.synchronizeOnce(),X(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!la(i))continue;let o=r&&!this.zonelessEnabled?0:1;Om(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>la(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ga(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(or,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ga(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ga(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function sD(e,t,n){let r=t[Gt],i=t[M];if(e.loadingState!==bt.NOT_STARTED)return e.loadingPromise??Promise.resolve();let o=zo(t,n),s=hP(i,e);e.loadingState=bt.IN_PROGRESS,Eu(1,o);let a=e.dependencyResolverFn,c=r.get(nr).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(l=>{let u=!1,d=[],f=[];for(let h of l)if(h.status==="fulfilled"){let p=h.value,y=yn(p)||eu(p);if(y)d.push(y);else{let v=Up(p);v&&f.push(v)}}else{u=!0;break}if(u){if(e.loadingState=bt.FAILED,e.errorTmplIndex===null){let h="",p=new b(-750,!1);Rm(t,p)}}else{e.loadingState=bt.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=kI(h.directiveRegistry,d);let p=d.map(v=>v.type),y=tu(!1,...p);e.providers=y}f.length>0&&(h.pipeRegistry=kI(h.pipeRegistry,f))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,c()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=bt.COMPLETE,c()}),e.loadingPromise)}function EP(e,t){return t[Gt].get(rD,null,{optional:!0})?.behavior!==jm.Manual}function CP(e,t,n){let r=t[M],i=t[n.index];if(!EP(e,t))return;let o=zo(t,n),s=Na(r,n);switch(tP(o),s.loadingState){case bt.NOT_STARTED:pi(Re.Loading,n,i),sD(s,t,n),s.loadingState===bt.IN_PROGRESS&&FI(s,n,i);break;case bt.IN_PROGRESS:pi(Re.Loading,n,i),FI(s,n,i);break;case bt.COMPLETE:pi(Re.Complete,n,i);break;case bt.FAILED:pi(Re.Error,n,i);break;default:}}function aD(e,t,n){return m(this,null,function*(){let r=e.get(Yu);if(r.hydrating.has(t))return;let{parentBlockPromise:o,hydrationQueue:s}=SO(t,e);if(s.length===0)return;o!==null&&s.shift(),wP(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield LI(e,s,n):r.awaitParentBlock(a,()=>m(null,null,function*(){return yield LI(e,s,n)}))})}function LI(e,t,n){return m(this,null,function*(){let r=e.get(Yu),i=r.hydrating,o=e.get(Kt),s=o.add();for(let c=0;c<t.length;c++){let l=t[c],u=r.get(l);if(u!=null){if(yield TP(u),yield DP(e),IP(u)){ek(u),VI(t.slice(c),r);break}i.get(l).resolve()}else{bP(c,t,r),VI(t.slice(c),r);break}}let a=t[t.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(t),tk(r.get(a),t,r,e.get(Ze))})}function IP(e){return zo(e.lView,e.tNode)[Ra]===Re.Error}function bP(e,t,n){let r=e-1,i=r>-1?n.get(t[r]):null;i&&cd(i.lContainer)}function VI(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function wP(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}function DP(e){return new Promise(t=>Wo(t,{injector:e}))}function TP(e){return m(this,null,function*(){let{tNode:t,lView:n}=e,r=zo(n,t);return new Promise(i=>{SP(r,i),CP(2,n,t)})})}function SP(e,t){Array.isArray(e[Lo])||(e[Lo]=[]),e[Lo].push(t)}function sr(e,t,n,r){let i=W(),o=fi();if(Dn(i,o,t)){let s=Ye(),a=lu();Ix(a,i,e,t,n,r)}return sr}var qg=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function Tg(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function AP(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=s&&o<=c;){let l=e.at(o),u=t[o],d=Tg(o,l,o,u,n);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let f=e.at(s),h=t[c],p=Tg(s,f,c,h,n);if(p!==0){p<0&&e.updateValue(s,h),s--,c--;continue}let y=n(o,l),v=n(s,f),E=n(o,u);if(Object.is(E,v)){let H=n(c,h);Object.is(H,y)?(e.swap(o,s),e.updateValue(s,h),c--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(r??=new Bu,i??=UI(e,o,s,n),Yg(e,r,o,E))e.updateValue(o,u),o++,s++;else if(i.has(E))r.set(y,e.detach(o)),s--;else{let H=e.create(o,t[o]);e.attach(o,H),o++,s++}}for(;o<=c;)jI(e,r,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=e.at(o),d=l.value,f=Tg(o,u,o,d,n);if(f!==0)f<0&&e.updateValue(o,d),o++,l=c.next();else{r??=new Bu,i??=UI(e,o,s,n);let h=n(o,d);if(Yg(e,r,o,h))e.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(h))e.attach(o,e.create(o,d)),o++,s++,l=c.next();else{let p=n(o,u);r.set(p,e.detach(o)),s--}}}for(;!l.done;)jI(e,r,n,e.length,l.value),l=c.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function Yg(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function jI(e,t,n,r,i){if(Yg(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function UI(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var Bu=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function xe(e,t,n,r,i,o,s,a){ut("NgControlFlow");let c=W(),l=Ye(),u=In(l.consts,o);return Lu(c,l,e,t,n,r,i,u,256,s,a),qm}function qm(e,t,n,r,i,o,s,a){ut("NgControlFlow");let c=W(),l=Ye(),u=In(l.consts,o);return Lu(c,l,e,t,n,r,i,u,512,s,a),qm}function ke(e,t){ut("NgControlFlow");let n=W(),r=fi(),i=n[r]!==wt?n[r]:-1,o=i!==-1?Hu(n,ce+i):void 0,s=0;if(Dn(n,r,e)){let a=F(null);try{if(o!==void 0&&xm(o,s),e!==-1){let c=ce+e,l=Hu(n,c),u=Jg(n[M],c),d=xw(l,u,n),f=nd(n,u,t,{dehydratedView:d});Ta(l,f,s,Uo(u,d))}}finally{F(a)}}else if(o!==void 0){let a=Tw(o,s);a!==void 0&&(a[we]=t)}}var Kg=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ve}};function Di(e){return e}function Ti(e,t){return t}var Zg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Dt(e,t,n,r,i,o,s,a,c,l,u,d,f){ut("NgControlFlow");let h=W(),p=Ye(),y=c!==void 0,v=W(),E=a?s.bind(v[et][we]):s,H=new Zg(y,E);v[ce+e]=H,Lu(h,p,e+1,t,n,r,i,In(p.consts,o),256),y&&Lu(h,p,e+2,c,l,u,d,In(p.consts,f),512)}var Qg=class extends qg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Ve}at(t){return this.getLView(t)[we].$implicit}attach(t,n){let r=n[at];this.needsIndexUpdate||=t!==this.length,Ta(this.lContainer,n,t,Uo(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,RP(this.lContainer,t)}create(t,n){let r=Mu(this.lContainer,this.templateTNode.tView.ssrId),i=nd(this.hostLView,this.templateTNode,new Kg(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){ed(t[M],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[we].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[we].$index=t}getLView(t){return NP(this.lContainer,t)}};function Tt(e){let t=F(null),n=er();try{let r=W(),i=r[M],o=r[n],s=n+1,a=Hu(r,s);if(o.liveCollection===void 0){let l=Jg(i,s);o.liveCollection=new Qg(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(AP(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=fi(),u=c.length===0;if(Dn(r,l,u)){let d=n+2,f=Hu(r,d);if(u){let h=Jg(i,d),p=xw(f,h,r),y=nd(r,h,void 0,{dehydratedView:p});Ta(f,y,0,Uo(h,p))}else i.firstUpdatePass&&ad(f),xm(f,0)}}}finally{F(t)}}function Hu(e,t){return e[t]}function RP(e,t){return ya(e,t)}function NP(e,t){return Tw(e,t)}function Jg(e,t){return di(e,t)}function pe(e,t,n){let r=W(),i=fi();if(Dn(r,i,t)){let o=Ye(),s=lu();hw(s,r,e,t,r[ie],n)}return pe}function BI(e,t,n,r,i){Nm(t,e,n,i?"class":"style",r)}function w(e,t,n,r){let i=W(),o=i[M],s=e+ce,a=o.firstCreatePass?Vw(s,i,2,t,Cx,$C(),n,r):o.data[s];if(pw(a,i,e,t,Ym),ru(a)){let c=i[M];uw(c,i,a),Gb(c,a,i)}return r!=null&&Am(i,a),w}function D(){let e=Ye(),t=Ke(),n=gw(t);return e.firstCreatePass&&jw(e,n),Xp(n)&&eg(),Qp(),n.classesWithoutHost!=null&&ZM(n)&&BI(e,n,W(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&QM(n)&&BI(e,n,W(),n.stylesWithoutHost,!1),D}function Me(e,t,n,r){return w(e,t,n,r),D(),Me}function Ee(e,t,n,r){let i=W(),o=i[M],s=e+ce,a=o.firstCreatePass?vk(s,o,2,t,n,r):o.data[s];return pw(a,i,e,t,Ym),r!=null&&Am(i,a),Ee}function ge(){let e=Ke(),t=gw(e);return Xp(t)&&eg(),Qp(),ge}function ar(e,t,n,r){return Ee(e,t,n,r),ge(),ar}var Ym=(e,t,n,r,i)=>(tr(!0),_m(t[ie],r,ug()));function MP(e,t,n,r,i){let o=!Qu(t,n);if(tr(o),o)return _m(t[ie],r,ug());let s=t[at],a=od(s,e,t,n);return Hb(s,i)&&Zu(s,i,a.nextSibling),s&&(cb(n)||lb(a))&&Xn(n)&&(WC(n),nw(a)),a}function cD(){Ym=MP}var OP=(e,t,n,r,i)=>(tr(!0),ew(t[ie],""));function xP(e,t,n,r,i){let o,s=!Qu(t,n);if(tr(s),s)return ew(t[ie],"");let a=t[at],c=od(a,e,t,n),l=DO(a,i);return Zu(a,i,c),o=sd(l,c),o}function lD(){OP=xP}function cr(){return W()}var hi=void 0;function kP(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var PP=["en",[["a","p"],["AM","PM"],hi],[["AM","PM"],hi,hi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hi,"{1} 'at' {0}",hi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",kP],Sg={};function pd(e){let t=FP(e),n=HI(t);if(n)return n;let r=t.split("-")[0];if(n=HI(r),n)return n;if(r==="en")return PP;throw new b(701,!1)}function HI(e){return e in Sg||(Sg[e]=vn.ng&&vn.ng.common&&vn.ng.common.locales&&vn.ng.common.locales[e]),Sg[e]}var Si=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Si||{});function FP(e){return e.toLowerCase().replace(/_/g,"-")}var Ma="en-US";var LP=Ma;function uD(e){typeof e=="string"&&(LP=e.toLowerCase().replace(/_/g,"-"))}function Ce(e,t,n){let r=W(),i=Ye(),o=Ke();return dD(i,r,r[ie],o,e,t,n),Ce}function dD(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Ig(r,t,o),_k(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],h=u[d+1];c??=Ig(r,t,o),wI(r,t,f,h,i,c)}if(l&&l.length)for(let d of l)c??=Ig(r,t,o),wI(r,t,d,i,i,c)}}function q(e=1){return nI(e)}function gu(e,t){return e<<17|t<<2}function Ci(e){return e>>17&32767}function VP(e){return(e&2)==2}function jP(e,t){return e&131071|t<<17}function Xg(e){return e|2}function Bo(e){return(e&131068)>>2}function Ag(e,t){return e&-131069|t<<2}function UP(e){return(e&1)===1}function em(e){return e|1}function BP(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Ci(s),c=Bo(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Ro(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=Ci(e[a+1]);e[r+1]=gu(f,a),f!==0&&(e[f+1]=Ag(e[f+1],r)),e[a+1]=jP(e[a+1],r)}else e[r+1]=gu(a,0),a!==0&&(e[a+1]=Ag(e[a+1],r)),a=r;else e[r+1]=gu(c,0),a===0?a=r:e[c+1]=Ag(e[c+1],r),c=r;l&&(e[r+1]=Xg(e[r+1])),$I(e,u,r,!0),$I(e,u,r,!1),HP(t,u,e,r,o),s=gu(a,c),o?t.classBindings=s:t.styleBindings=s}function HP(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Ro(o,t)>=0&&(n[r+1]=em(n[r+1]))}function $I(e,t,n,r){let i=e[n+1],o=t===null,s=r?Ci(i):Bo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];$P(c,t)&&(a=!0,e[s+1]=r?em(l):Xg(l)),s=r?Ci(l):Bo(l)}a&&(e[n+1]=r?Xg(i):em(i))}function $P(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ro(e,t)>=0:!1}function Go(e,t,n){return fD(e,t,n,!1),Go}function Oa(e,t){return fD(e,t,null,!0),Oa}function fD(e,t,n,r){let i=W(),o=Ye(),s=sg(2);if(o.firstUpdatePass&&zP(o,e,s,r),t!==wt&&Dn(i,s,t)){let a=o.data[er()];ZP(o,a,i,i[ie],e,i[s+1]=QP(t,n),r,s)}}function WP(e,t){return t>=e.expandoStartIndex}function zP(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[er()],s=WP(e,n);JP(o,r)&&t===null&&!s&&(t=!1),t=GP(i,o,t,r),BP(i,o,t,n,s,r)}}function GP(e,t,n,r){let i=JC(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Rg(null,e,t,n,r),n=Ea(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Rg(i,e,t,n,r),o===null){let c=qP(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Rg(null,e,t,c[1],r),c=Ea(c,t.attrs,r),YP(e,t,r,c))}else o=KP(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function qP(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Bo(r)!==0)return e[Ci(r)]}function YP(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Ci(i)]=r}function KP(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Ea(r,s,n)}return Ea(r,t.attrs,n)}function Rg(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Ea(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Ea(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),TC(e,s,n?!0:t[++o]))}return e===void 0?null:e}function ZP(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=UP(l)?WI(c,t,n,i,Bo(l),s):void 0;if(!$u(u)){$u(o)||VP(l)&&(o=WI(c,null,n,i,a,s));let d=Gp(er(),n);dx(r,s,d,i,o)}}function WI(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===wt&&(f=d?mt:void 0);let h=d?Xl(f,r):u===r?f:void 0;if(l&&!$u(h)&&(h=Xl(c,r)),$u(h)&&(a=h,s))return a;let p=e[i+1];i=s?Ci(p):Bo(p)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Xl(c,r))}return a}function $u(e){return e!==void 0}function QP(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Qn($o(e)))),e}function JP(e,t){return(e.flags&(t?8:16))!==0}function T(e,t=""){let n=W(),r=Ye(),i=e+ce,o=r.firstCreatePass?id(r,i,1,t,null):r.data[i],s=hD(r,n,o,t,e);n[i]=s,uu()&&Tm(r,n,s,o),xo(o,!1)}var hD=(e,t,n,r,i)=>(tr(!0),Xb(t[ie],r));function XP(e,t,n,r,i){let o=!Qu(t,n);if(tr(o),o)return Xb(t[ie],r);let s=t[at];return od(s,e,t,n)}function pD(){hD=XP}function e1(e,t,n,r=""){return Dn(e,fi(),n)?t+ii(n)+r:wt}function t1(e,t,n,r,i,o=""){let s=qC(),a=Uw(e,s,n,i);return sg(2),a?t+ii(n)+r+ii(i)+o:wt}function $e(e){return ue("",e),$e}function ue(e,t,n){let r=W(),i=e1(r,e,t,n);return i!==wt&&gD(r,er(),i),ue}function qo(e,t,n,r,i){let o=W(),s=t1(o,e,t,n,r,i);return s!==wt&&gD(o,er(),s),qo}function gD(e,t,n){let r=Gp(t,e);GO(e[ie],r,n)}function Yo(e,t,n){hg(t)&&(t=t());let r=W(),i=fi();if(Dn(r,i,t)){let o=Ye(),s=lu();hw(s,r,e,t,r[ie],n)}return Yo}function xa(e,t){let n=hg(e);return n&&e.set(t),n}function Ko(e,t){let n=W(),r=Ye(),i=Ke();return dD(r,n,n[ie],i,e,t),Ko}function n1(e,t,n){let r=Ye();if(r.firstCreatePass){let i=Cn(e);tm(n,r.data,r.blueprint,i,!0),tm(t,r.data,r.blueprint,i,!1)}}function tm(e,t,n,r,i){if(e=He(e),Array.isArray(e))for(let o=0;o<e.length;o++)tm(e[o],t,n,r,i);else{let o=Ye(),s=W(),a=Ke(),c=ti(e)?e:He(e.provide),l=Hp(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(ti(e)||!e.multi){let h=new mi(l,i,P,null),p=Mg(c,t,i?u:u+f,d);p===-1?(xg(Du(a,s),o,c),Ng(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Mg(c,t,u+f,d),p=Mg(c,t,u,u+f),y=h>=0&&n[h],v=p>=0&&n[p];if(i&&!v||!i&&!y){xg(Du(a,s),o,c);let E=o1(i?i1:r1,n.length,i,r,l,e);!i&&v&&(n[p].providerFactory=E),Ng(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)}else{let E=mD(n[i?p:h],l,!i&&r);Ng(o,e,h>-1?h:p,E)}!i&&r&&v&&n[p].componentProviders++}}}function Ng(e,t,n,r){let i=ti(t),o=NC(t);if(i||o){let c=(o?He(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function mD(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Mg(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function r1(e,t,n,r,i){return nm(this.multi,[])}function i1(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Tu(r,r[M],this.providerFactory.index,i);s=c.slice(0,a),nm(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],nm(o,s);return s}function nm(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function o1(e,t,n,r,i,o){let s=new mi(e,n,P,null);return s.multi=[],s.index=t,s.componentProviders=0,mD(s,i,r&&!n),s}function An(e,t=[]){return n=>{n.providersResolver=(r,i)=>n1(r,i?i(e):e,t)}}function Tr(e,t,n){let r=da()+e,i=W();return i[r]===wt?Fm(i,r,n?t.call(n):t()):yk(i,r)}function Km(e,t,n,r){return s1(W(),da(),e,t,n,r)}function ka(e,t,n,r,i){return yD(W(),da(),e,t,n,r,i)}function vD(e,t){let n=e[t];return n===wt?void 0:n}function s1(e,t,n,r,i,o){let s=t+n;return Dn(e,s,i)?Fm(e,s+1,o?r.call(o,i):r(i)):vD(e,s+1)}function yD(e,t,n,r,i,o,s){let a=t+n;return Uw(e,a,i,o)?Fm(e,a+2,s?r.call(s,i,o):r(i,o)):vD(e,a+2)}function Zo(e,t){let n=Ye(),r,i=e+ce;n.firstCreatePass?(r=a1(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=_r(r.type,!0)),s,a=Je(P);try{let c=wu(!1),l=o();return wu(c),qp(n,W(),i,l),l}finally{Je(a)}}function a1(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Qo(e,t,n,r){let i=e+ce,o=W(),s=PC(o,i);return c1(o,i)?yD(o,da(),t,s.transform,n,r,s):s.transform(n,r)}function c1(e,t){return e[M].data[t].pure}var Wu=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Zm=(()=>{class e{compileModuleSync(n){return new Fu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=jp(n),o=Qb(i.declarations).reduce((s,a)=>{let c=yn(a);return c&&s.push(new _i(c)),s},[]);return new Wu(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var l1=(()=>{class e{zone=g(re);changeDetectionScheduler=g(Jn);applicationRef=g(Ze);applicationErrorHandler=g(ct);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _D({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new re(k(_({},ED()),{scheduleInRootZone:n})),[{provide:re,useFactory:e},{provide:zt,multi:!0,useFactory:()=>{let r=g(l1,{optional:!0});return()=>r.initialize()}},{provide:zt,multi:!0,useFactory:()=>{let r=g(u1);return()=>{r.initialize()}}},t===!0?{provide:pg,useValue:!0}:[],{provide:gg,useValue:n??Qw},{provide:ct,useFactory:()=>{let r=g(re),i=g(fe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Wt),o.handleError(s))})}}}]}function ED(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var u1=(()=>{class e{subscription=new me;initialized=!1;zone=g(re);pendingTasks=g(Kt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{re.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var CD=(()=>{class e{applicationErrorHandler=g(ct);appRef=g(Ze);taskService=g(Kt);ngZone=g(re);zonelessEnabled=g(fa);tracing=g(wi,{optional:!0});disableScheduling=g(pg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Vu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(gg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ju||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?NI:Jw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Vu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,NI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function d1(){return typeof $localize<"u"&&$localize.locale||Ma}var Pa=new I("",{providedIn:"root",factory:()=>g(Pa,{optional:!0,skipSelf:!0})||d1()});function Vt(e){return mC(e)}function Ai(e,t){return yl(e,t?.equal)}var ID=class{[Ge];constructor(t){this[Ge]=t}destroy(){this[Ge].destroy()}};var tv={JSACTION:"__jsaction",OWNER:"__owner"},TD={};function f1(e){return e[tv.JSACTION]}function bD(e,t){e[tv.JSACTION]=t}function h1(e){return TD[e]}function p1(e,t){TD[e]=t}var O={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},g1=[O.MOUSEENTER,O.MOUSELEAVE,"pointerenter","pointerleave"],S7=[O.CLICK,O.DBLCLICK,O.FOCUSIN,O.FOCUSOUT,O.KEYDOWN,O.KEYUP,O.KEYPRESS,O.MOUSEOVER,O.MOUSEOUT,O.SUBMIT,O.TOUCHSTART,O.TOUCHEND,O.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],m1=[O.FOCUS,O.BLUR,O.ERROR,O.LOAD,O.TOGGLE],nv=e=>m1.indexOf(e)>=0;function v1(e){return e===O.MOUSEENTER?O.MOUSEOVER:e===O.MOUSELEAVE?O.MOUSEOUT:e===O.POINTERENTER?O.POINTEROVER:e===O.POINTERLEAVE?O.POINTEROUT:e}function y1(e,t,n,r){let i=!1;nv(t)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return e.addEventListener(t,n,o),{eventType:t,handler:n,capture:i,passive:r}}function _1(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function E1(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var wD=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function C1(e){return e.which===2||e.which==null&&e.button===4}function I1(e){return wD&&e.metaKey||!wD&&e.ctrlKey||C1(e)||e.shiftKey}function b1(e,t,n){let r=e.relatedTarget;return(e.type===O.MOUSEOVER&&t===O.MOUSEENTER||e.type===O.MOUSEOUT&&t===O.MOUSELEAVE||e.type===O.POINTEROVER&&t===O.POINTERENTER||e.type===O.POINTEROUT&&t===O.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function w1(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let i=r,o=e[i];typeof o!="function"&&(n[i]=o)}return e.type===O.MOUSEOVER?n.type=O.MOUSEENTER:e.type===O.MOUSEOUT?n.type=O.MOUSELEAVE:e.type===O.POINTEROVER?n.type=O.POINTERENTER:n.type=O.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var D1=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),yd=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){D1&&(this.element.style.cursor="pointer"),this.handlerInfos.push(y1(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)_1(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},T1={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function Sr(e){return e.eventType}function rv(e,t){e.eventType=t}function md(e){return e.event}function SD(e,t){e.event=t}function AD(e){return e.targetElement}function RD(e,t){e.targetElement=t}function ND(e){return e.eic}function S1(e,t){e.eic=t}function A1(e){return e.timeStamp}function R1(e,t){e.timeStamp=t}function vd(e){return e.eia}function MD(e,t,n){e.eia=[t,n]}function Qm(e){e.eia=void 0}function gd(e){return e[1]}function N1(e){return e.eirp}function OD(e,t){e.eirp=t}function xD(e){return e.eir}function kD(e,t){e.eir=t}function PD(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function M1(e,t,n,r,i,o,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Jm=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return Sr(this.eventInfo)}setEventType(t){rv(this.eventInfo,t)}getEvent(){return md(this.eventInfo)}setEvent(t){SD(this.eventInfo,t)}getTargetElement(){return AD(this.eventInfo)}setTargetElement(t){RD(this.eventInfo,t)}getContainer(){return ND(this.eventInfo)}setContainer(t){S1(this.eventInfo,t)}getTimestamp(){return A1(this.eventInfo)}setTimestamp(t){R1(this.eventInfo,t)}getAction(){let t=vd(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){Qm(this.eventInfo);return}MD(this.eventInfo,t.name,t.element)}getIsReplay(){return N1(this.eventInfo)}setIsReplay(t){OD(this.eventInfo,t)}getResolved(){return xD(this.eventInfo)}setResolved(t){kD(this.eventInfo,t)}clone(){return new e(PD(this.eventInfo))}},O1={},x1=/\s*;\s*/,k1=O.CLICK,Xm=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&Sr(t)===O.CLICK&&I1(md(t))?rv(t,O.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){xD(t)||(this.populateAction(t,AD(t)),kD(t,!0))}resolveParentAction(t){let n=vd(t),r=n&&gd(n);Qm(t);let i=r&&this.getParentNode(r);i&&this.populateAction(t,i)}populateAction(t,n){let r=n;for(;r&&r!==ND(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!vd(t));)r=this.getParentNode(r);let i=vd(t);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(Sr(t)===O.MOUSEENTER||Sr(t)===O.MOUSELEAVE||Sr(t)===O.POINTERENTER||Sr(t)===O.POINTERLEAVE)))if(b1(md(t),Sr(t),gd(i))){let o=w1(md(t),gd(i));SD(t,o),RD(t,gd(i))}else Qm(t)}getParentNode(t){let n=t[tv.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),i=r[Sr(n)];i!==void 0&&MD(n,i,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=f1(t);if(!n){let r=t.getAttribute(fu.JSACTION);if(!r)n=O1,bD(t,n);else{if(n=h1(r),!n){n={};let i=r.split(x1);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(T1.EVENT_ACTION_SEPARATOR),c=a!==-1,l=c?s.substr(0,a).trim():k1,u=c?s.substr(a+1).trim():s;n[l]=u}p1(r,n)}bD(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},FD=function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e}(FD||{}),ev=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new Jm(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&P1(r.element,n)&&E1(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function P1(e,t){return e.tagName==="A"&&(t.getEventType()===O.CLICK||t.getEventType()===O.CLICKMOD)}var LD=Symbol.for("propagationStopped"),iv={REPLAY:101};var F1="`preventDefault` called during event replay.";var L1="`composedPath` called during event replay.",_d=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new Xm({clickModSupport:n}),this.dispatcher=new ev(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&U1(t),V1(t);t.getAction();){if(B1(t),nv(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),j1(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function V1(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[LD]=!0,n()};Ri(t,"stopPropagation",r),Ri(t,"stopImmediatePropagation",r)}function j1(e){return!!e.getEvent()[LD]}function U1(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);Ri(t,"target",n),Ri(t,"eventPhase",iv.REPLAY),Ri(t,"preventDefault",()=>{throw r(),new Error(F1+"")}),Ri(t,"composedPath",()=>{throw new Error(L1+"")})}function B1(e){let t=e.getEvent(),n=e.getAction()?.element;n&&Ri(t,"currentTarget",n,{configurable:!0})}function Ri(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function VD(e,t){e.ecrd(n=>{t.dispatch(n)},FD.I_AM_THE_JSACTION_FRAMEWORK)}function H1(e){return e?.q??[]}function $1(e){e&&(DD(e.c,e.et,e.h),DD(e.c,e.etc,e.h,!0))}function DD(e,t,n,r){for(let i=0;i<t.length;i++)e.removeEventListener(t[i],n,r)}var W1=!1,jD=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=W1;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=M1(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){OD(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&g1.indexOf(n)>=0)return;let o=(a,c,l)=>{this.handleEvent(a,c,l)};this.eventHandlers[n]=o;let s=v1(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(n,c,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),$1(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=PD(i);rv(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return e})();function UD(e,t=window){return H1(t._ejsas?.[e])}function ov(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var GD=Symbol("InputSignalNode#UNSET"),vF=k(_({},_l),{transformFn:void 0,applyValueToInputSignal(e,t){fo(e,t)}});function qD(e,t){let n=Object.create(vF);n.value=e,n.transformFn=t?.transform;function r(){if(co(n),n.value===GD){let i=null;throw new b(-950,i)}return n.value}return r[Ge]=n,r}var bd=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Ca(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},yF=new I("");yF.__NG_ELEMENT_ID__=e=>{let t=Ke();if(t===null)throw new b(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new b(204,!1)};function BD(e,t){return qD(e,t)}function _F(e){return qD(GD,e)}var YD=(BD.required=_F,BD);var Ar=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},KD=new Ar("20.1.7");var sv=new I(""),EF=new I("");function Fa(e){return!e.moduleRef}function CF(e){let t=Fa(e)?e.r3Injector:e.moduleRef.injector,n=t.get(re);return n.run(()=>{Fa(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(ct),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Fa(e)){let o=()=>t.destroy(),s=e.platformInjector.get(sv);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(sv);s.add(o),e.moduleRef.onDestroy(()=>{ga(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return bF(r,n,()=>{let o=t.get(Kt),s=o.add(),a=t.get(Gm);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Pa,Ma);if(uD(c||Ma),!t.get(EF,!0))return Fa(e)?t.get(Ze):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Fa(e)){let u=t.get(Ze);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return IF?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var IF;function bF(e,t,n){try{let r=n();return Dr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Cd=null;function wF(e=[],t){return ve.create({name:t,providers:[{provide:ra,useValue:"platform"},{provide:sv,useValue:new Set([()=>Cd=null])},...e]})}function DF(e=[]){if(Cd)return Cd;let t=wF(e);return Cd=t,iD(),TF(t),t}function TF(e){let t=e.get(zu,null);ye(e,()=>{t?.forEach(n=>n())})}function av(){return!1}var Rr=(()=>{class e{static __NG_ELEMENT_ID__=SF}return e})();function SF(e){return AF(Ke(),W(),(e&16)===16)}function AF(e,t,n){if(Xn(e)&&!n){let r=kt(e.index,t);return new vi(r,r)}else if(e.type&175){let r=t[et];return new vi(r,t)}return null}function ZD(e){X(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=DF(r),o=[_D({}),{provide:Jn,useExisting:CD},iI,...n||[]],s=new _a({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return CF({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{X(9)}}var Ed=new WeakSet,HD="",Id=[];function $D(e){return e.get(um,Tb)}function QD(){let e=[{provide:um,useFactory:()=>{let t=!0;{let n=g(Sn);t=!!window._ejsas?.[n]}return t&&ut("NgEventReplay"),t}}];return e.push({provide:zt,useValue:()=>{let t=g(Ze),{injector:n}=t;if(!Ed.has(t)){let r=g(dm);if($D(n)){kb();let i=n.get(Sn),o=Ob(i,(s,a,c)=>{s.nodeType===Node.ELEMENT_NODE&&(Ab(s,a,c),Rb(s,r))});t.onDestroy(o)}}},multi:!0},{provide:or,useFactory:()=>{let t=g(Ze),{injector:n}=t;return()=>{if(!$D(n)||Ed.has(t))return;Ed.add(t);let r=n.get(Sn);t.onDestroy(()=>{Ed.delete(t),ov(r)}),t.whenStable().then(()=>{if(t.destroyed)return;let i=n.get(Mb);RF(i,n);let o=n.get(dm);o.get(HD)?.forEach(Nb),o.delete(HD);let s=i.instance;Bb(n)?t.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),e}var RF=(e,t)=>{let n=t.get(Sn),r=window._ejsas[n],i=e.instance=new jD(new yd(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=UD(n);i.replayEarlyEventInfos(o),ov(n);let s=new _d(a=>{NF(t,a,a.currentTarget)});VD(i,s)};function NF(e,t,n){let r=(n&&n.getAttribute(wa))??"";/d\d+/.test(r)?MF(r,e,t,n):t.eventPhase===iv.REPLAY&&fm(t,n)}function MF(e,t,n,r){Id.push({event:n,currentTarget:r}),aD(t,e,OF)}function OF(e){let t=[...Id],n=new Set(e);Id=[];for(let{event:r,currentTarget:i}of t){let o=i.getAttribute(wa);n.has(o)?fm(r,i):Id.push({event:r,currentTarget:i})}}var WD=!1;function xF(){WD||(WD=!0,Vb(),cD(),pD(),lD(),Zw(),zw(),Ow(),fw())}function kF(e){return e.whenStable()}function JD(){let e=[{provide:ba,useFactory:()=>{let t=!0;return t=!!g(Ii,{optional:!0})?.get(hm,null),t&&ut("NgHydration"),t}},{provide:zt,useValue:()=>{Aw(!1),g(ba)&&(Wb(Ia()),xF())},multi:!0}];return e.push({provide:lm,useFactory:()=>g(ba)},{provide:or,useFactory:()=>{if(g(ba)){let t=g(Ze);return()=>{kF(t).then(()=>{t.destroyed||km(t)})}}return()=>{}},multi:!0}),st(e)}function Ni(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function XD(e){let t=yn(e);if(!t)return null;let n=new _i(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var nT=null;function jt(){return nT}function cv(e){nT??=e}var La=class{},Va=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>g(rT),providedIn:"platform"})}return e})(),lv=new I(""),rT=(()=>{class e extends Va{_location;_history;_doc=g(_e);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jt().getBaseHref(this._doc)}onPopState(n){let r=jt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=jt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Dd(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function eT(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function tn(e){return e&&e[0]!=="?"?`?${e}`:e}var nn=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>g(Sd),providedIn:"root"})}return e})(),Td=new I(""),Sd=(()=>{class e extends nn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Dd(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+tn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+tn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+tn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(R(Va),R(Td,8))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Nr=(()=>{class e{_subject=new Te;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=LF(eT(tT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+tn(r))}normalize(n){return e.stripTrailingSlash(FF(this._basePath,tT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+tn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+tn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=tn;static joinWithSlash=Dd;static stripTrailingSlash=eT;static \u0275fac=function(r){return new(r||e)(R(nn))};static \u0275prov=S({token:e,factory:()=>PF(),providedIn:"root"})}return e})();function PF(){return new Nr(R(nn))}function FF(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function tT(e){return e.replace(/\/index.html$/,"")}function LF(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var hv=(()=>{class e extends nn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Dd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+tn(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+tn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(R(Va),R(Td,8))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();var pv=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(pv||{});var Rn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Jo(e,t){let n=pd(e),r=n[Si.NumberSymbols][t];if(typeof r>"u"){if(t===Rn.CurrencyDecimal)return n[Si.NumberSymbols][Rn.Decimal];if(t===Rn.CurrencyGroup)return n[Si.NumberSymbols][Rn.Group]}return r}function sT(e,t){return pd(e)[Si.NumberFormats][t]}var VF=/^(\d+)?\.((\d+)(-(\d+))?)?$/,iT=22,Ad=".",ja="0",jF=";",UF=",",uv="#";function BF(e,t,n,r,i,o,s=!1){let a="",c=!1;if(!isFinite(e))a=Jo(n,Rn.Infinity);else{let l=WF(e);s&&(l=$F(l));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(o){let H=o.match(VF);if(H===null)throw new b(2306,!1);let ae=H[1],Z=H[3],Ht=H[5];ae!=null&&(u=dv(ae)),Z!=null&&(d=dv(Z)),Ht!=null?f=dv(Ht):Z!=null&&d>f&&(f=d)}zF(l,d,f);let h=l.digits,p=l.integerLen,y=l.exponent,v=[];for(c=h.every(H=>!H);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?v=h.splice(p,h.length):(v=h,h=[0]);let E=[];for(h.length>=t.lgSize&&E.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)E.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&E.unshift(h.join("")),a=E.join(Jo(n,r)),v.length&&(a+=Jo(n,i)+v.join("")),y&&(a+=Jo(n,Rn.Exponential)+"+"+y)}return e<0&&!c?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function aT(e,t,n){let r=sT(t,pv.Decimal),i=HF(r,Jo(t,Rn.MinusSign));return BF(e,i,t,Rn.Group,Rn.Decimal,n)}function HF(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(jF),i=r[0],o=r[1],s=i.indexOf(Ad)!==-1?i.split(Ad):[i.substring(0,i.lastIndexOf(ja)+1),i.substring(i.lastIndexOf(ja)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(uv));for(let u=0;u<c.length;u++){let d=c.charAt(u);d===ja?n.minFrac=n.maxFrac=u+1:d===uv?n.maxFrac=u+1:n.posSuf+=d}let l=a.split(UF);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let u=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(uv);n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+u).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function $F(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function WF(e){let t=Math.abs(e)+"",n=0,r,i,o,s,a;for((i=t.indexOf(Ad))>-1&&(t=t.replace(Ad,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===ja;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===ja;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>iT&&(r=r.splice(0,iT-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function zF(e,t,n){if(t>n)throw new b(2307,!1);let r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=t+e.integerLen,u=r.reduceRight(function(d,f,h,p){return f=f+d,p[h]=f<10?f:f-10,c&&(p[h]===0&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}function dv(e){let t=parseInt(e);if(isNaN(t))throw new b(2305,!1);return t}var fv=/\s+/,oT=[],Ua=(()=>{class e{_ngEl;_renderer;initialClasses=oT;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(fv):oT}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(fv):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(fv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(P(Lt),P(Jt))};static \u0275dir=he({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();function GF(e,t){return new b(2100,!1)}var gv=(()=>{class e{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!qF(n))return null;i||=this._locale;try{let o=YF(n);return aT(o,i,r)}catch(o){throw GF(e,o.message)}}static \u0275fac=function(r){return new(r||e)(P(Pa,16))};static \u0275pipe=Vm({name:"number",type:e,pure:!0})}return e})();function qF(e){return!(e==null||e===""||e!==e)}function YF(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new b(2309,!1);return e}var Rd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=en({type:e});static \u0275inj=Nt({})}return e})();function Ba(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Mi=class{};var vv="browser";function lr(e){return e===vv}var cT=(()=>{class e{static \u0275prov=S({token:e,providedIn:"root",factory:()=>new mv(g(_e),window)})}return e})(),mv=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(k(_({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=ZF(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(mn(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(k(_({},n),{left:i-s[0],top:o-s[1]}))}};function ZF(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Md=new I(""),Iv=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(R(Md),R(re))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),Ha=class{_doc;constructor(t){this._doc=t}manager},yv="ng-app-id";function uT(e){for(let t of e)t.remove()}function dT(e,t){let n=t.createElement("style");return n.textContent=e,n}function QF(e,t,n,r){let i=e.head?.querySelectorAll(`style[${yv}="${t}"],link[${yv}="${t}"]`);if(i)for(let o of i)o.removeAttribute(yv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Ev(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var bv=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,QF(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,dT);r?.forEach(i=>this.addUsage(i,this.external,Ev))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(uT(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])uT(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,dT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Ev(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(R(_e),R(Sn),R(Gu,8),R(lt))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),_v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},wv=/%COMP%/g;var hT="%COMP%",JF=`_nghost-${hT}`,XF=`_ngcontent-${hT}`,eL=!0,tL=new I("",{providedIn:"root",factory:()=>eL});function nL(e){return XF.replace(wv,e)}function rL(e){return JF.replace(wv,e)}function pT(e,t){return t.map(n=>n.replace(wv,e))}var Dv=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new $a(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Nd?i.applyToHost(n):i instanceof Wa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case rr.Emulated:o=new Nd(c,l,r,this.appId,u,s,a,d,f);break;case rr.ShadowDom:return new Cv(c,l,n,r,s,a,this.nonce,d,f);default:o=new Wa(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(R(Iv),R(bv),R(Sn),R(tL),R(_e),R(lt),R(re),R(Gu),R(wi,8))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),$a=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(_v[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(fT(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(fT(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=_v[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=_v[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(wn.DashCase|wn.Important)?t.style.setProperty(n,r,i&wn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&wn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=jt().getGlobalEventTarget(this.doc,t),!t))throw new b(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function fT(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Cv=class extends $a{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=pT(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Ev(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wa=class extends $a{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?pT(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Nd=class extends Wa{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,l,u),this.contentAttr=nL(u),this.hostAttr=rL(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Od=class e extends La{supportsDOMEvents=!0;static makeCurrent(){cv(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=iL();return n==null?null:oL(n)}resetBaseElement(){za=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ba(document.cookie,t)}},za=null;function iL(){return za=za||document.head.querySelector("base"),za?za.getAttribute("href"):null}function oL(e){return new URL(e,document.baseURI).pathname}var sL=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),mT=(()=>{class e extends Ha{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(R(_e))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),gT=["alt","control","meta","shift"],aL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},vT=(()=>{class e extends Ha{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),gT.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=aL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),gT.forEach(s=>{if(s!==i){let a=cL[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(R(_e))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();function Tv(e,t){let n=_({rootComponent:e},lL(t));return ZD(n)}function lL(e){return{appProviders:[...pL,...e?.providers??[]],platformProviders:hL}}function uL(){Od.makeCurrent()}function dL(){return new Wt}function fL(){return sm(document),document}var hL=[{provide:lt,useValue:vv},{provide:zu,useValue:uL,multi:!0},{provide:_e,useFactory:fL}];var pL=[{provide:ra,useValue:"root"},{provide:Wt,useFactory:dL},{provide:Md,useClass:mT,multi:!0,deps:[_e]},{provide:Md,useClass:vT,multi:!0,deps:[_e]},Dv,bv,Iv,{provide:yi,useExisting:Dv},{provide:Mi,useClass:sL},[]];var ts=class{},Ga=class{},ur=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var kd=class{encodeKey(t){return yT(t)}encodeValue(t){return yT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function gL(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var mL=/%(\d[a-f0-9])/gi,vL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yT(e){return encodeURIComponent(e).replace(mL,(t,n)=>vL[n]??t)}function xd(e){return`${e}`}var rn=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new kd,t.fromString){if(t.fromObject)throw new b(2805,!1);this.map=gL(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(xd):[xd(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(xd(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(xd(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Pd=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function yL(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function _T(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function ET(e){return typeof Blob<"u"&&e instanceof Blob}function CT(e){return typeof FormData<"u"&&e instanceof FormData}function _L(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var IT="Content-Type",bT="Accept",wT="X-Request-URL",DT="text/plain",TT="application/json",EL=`${TT}, ${DT}, */*`,Xo=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(yL(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new ur,this.context??=new Pd,!this.params)this.params=new rn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||_T(this.body)||ET(this.body)||CT(this.body)||_L(this.body)?this.body:this.body instanceof rn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||CT(this.body)?null:ET(this.body)?this.body.type||null:_T(this.body)?null:typeof this.body=="string"?DT:this.body instanceof rn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?TT:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,l=t.redirect||this.redirect,u=t.credentials||this.credentials,d=t.transferCache??this.transferCache,f=t.timeout??this.timeout,h=t.body!==void 0?t.body:this.body,p=t.withCredentials??this.withCredentials,y=t.reportProgress??this.reportProgress,v=t.headers||this.headers,E=t.params||this.params,H=t.context??this.context;return t.setHeaders!==void 0&&(v=Object.keys(t.setHeaders).reduce((ae,Z)=>ae.set(Z,t.setHeaders[Z]),v)),t.setParams&&(E=Object.keys(t.setParams).reduce((ae,Z)=>ae.set(Z,t.setParams[Z]),E)),new e(n,r,h,{params:E,headers:v,context:H,reportProgress:y,responseType:i,withCredentials:p,transferCache:d,keepalive:o,cache:a,priority:s,timeout:f,mode:c,redirect:l,credentials:u})}},Oi=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Oi||{}),ns=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new ur,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Fd=class e extends ns{constructor(t={}){super(t)}type=Oi.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},rs=class e extends ns{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Oi.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},es=class extends ns{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},CL=200,IL=204;function Sv(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect}}var Vd=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Xo)o=n;else{let c;i.headers instanceof ur?c=i.headers:c=new ur(i.headers);let l;i.params&&(i.params instanceof rn?l=i.params:l=new rn({fromObject:i.params})),o=new Xo(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let s=N(o).pipe(gn(c=>this.handler.handle(c)));if(n instanceof Xo||i.observe==="events")return s;let a=s.pipe(qe(c=>c instanceof rs));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(B(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new b(2806,!1);return c.body}));case"blob":return a.pipe(B(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new b(2807,!1);return c.body}));case"text":return a.pipe(B(c=>{if(c.body!==null&&typeof c.body!="string")throw new b(2808,!1);return c.body}));case"json":default:return a.pipe(B(c=>c.body))}case"response":return a;default:throw new b(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new rn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Sv(i,r))}post(n,r,i={}){return this.request("POST",n,Sv(i,r))}put(n,r,i={}){return this.request("PUT",n,Sv(i,r))}static \u0275fac=function(r){return new(r||e)(R(ts))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();var bL=new I("");function wL(e,t){return t(e)}function DL(e,t,n){return(r,i)=>ye(n,()=>t(r,o=>e(o,i)))}var ST=new I(""),Rv=new I(""),AT=new I("",{providedIn:"root",factory:()=>!0});var Ld=(()=>{class e extends ts{backend;injector;chain=null;pendingTasks=g(nr);contributeToStability=g(AT);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(ST),...this.injector.get(Rv,[])]));this.chain=r.reduceRight((i,o)=>DL(i,o,this.injector),wL)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Jr(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(R(Ga),R(fe))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();var TL=/^\)\]\}',?\n/,SL=RegExp(`^${wT}:`,"m");function AL(e){return"responseURL"in e&&e.responseURL?e.responseURL:SL.test(e.getAllResponseHeaders())?e.getResponseHeader(wT):null}var Av=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new b(-2800,!1);let r=this.xhrFactory;return N(null).pipe(Be(()=>new x(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,E)=>s.setRequestHeader(v,E.join(","))),n.headers.has(bT)||s.setRequestHeader(bT,EL),!n.headers.has(IT)){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader(IT,v)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let v=s.statusText||"OK",E=new ur(s.getAllResponseHeaders()),H=AL(s)||n.url;return c=new Fd({headers:E,status:s.status,statusText:v,url:H}),c},u=()=>{let{headers:v,status:E,statusText:H,url:ae}=l(),Z=null;E!==IL&&(Z=typeof s.response>"u"?s.responseText:s.response),E===0&&(E=Z?CL:0);let Ht=E>=200&&E<300;if(n.responseType==="json"&&typeof Z=="string"){let Hs=Z;Z=Z.replace(TL,"");try{Z=Z!==""?JSON.parse(Z):null}catch(al){Z=Hs,Ht&&(Ht=!1,Z={error:al,text:Z})}}Ht?(o.next(new rs({body:Z,headers:v,status:E,statusText:H,url:ae||void 0})),o.complete()):o.error(new es({error:Z,headers:v,status:E,statusText:H,url:ae||void 0}))},d=v=>{let{url:E}=l(),H=new es({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(H)},f=d;n.timeout&&(f=v=>{let{url:E}=l(),H=new es({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:E||void 0});o.error(H)});let h=!1,p=v=>{h||(o.next(l()),h=!0);let E={type:Oi.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(E.total=v.total),n.responseType==="text"&&s.responseText&&(E.partialText=s.responseText),o.next(E)},y=v=>{let E={type:Oi.UploadProgress,loaded:v.loaded};v.lengthComputable&&(E.total=v.total),o.next(E)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",f),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:Oi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",f),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(R(Mi))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),RT=new I(""),RL="XSRF-TOKEN",NL=new I("",{providedIn:"root",factory:()=>RL}),ML="X-XSRF-TOKEN",OL=new I("",{providedIn:"root",factory:()=>ML}),qa=class{},xL=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ba(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(R(_e),R(NL))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();function kL(e,t){let n=e.url.toLowerCase();if(!g(RT)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=g(qa).getToken(),i=g(OL);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function Nv(...e){let t=[Vd,Av,Ld,{provide:ts,useExisting:Ld},{provide:Ga,useFactory:()=>g(bL,{optional:!0})??g(Av)},{provide:ST,useValue:kL,multi:!0},{provide:RT,useValue:!0},{provide:qa,useClass:xL}];for(let n of e)t.push(...n.\u0275providers);return st(t)}var PL=new I(""),FL="b",LL="h",VL="s",jL="st",UL="u",BL="rt",Mv=new I(""),HL=["GET","HEAD"];function $L(e,t){let h=g(Mv),{isCacheActive:n}=h,r=VE(h,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!HL.includes(o)||!r.includeRequestsWithAuthHeaders&&WL(e)||r.filter?.(e)===!1)return t(e);let s=g(Ii);if(g(PL,{optional:!0}))throw new b(2803,!1);let c=e.url,l=zL(e,c),u=s.get(l,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[FL]:p,[BL]:y,[LL]:v,[VL]:E,[jL]:H,[UL]:ae}=u,Z=p;switch(y){case"arraybuffer":Z=new TextEncoder().encode(p).buffer;break;case"blob":Z=new Blob([p]);break}let Ht=new ur(v);return N(new rs({body:Z,headers:Ht,status:E,statusText:H,url:ae}))}return t(e)}function WL(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function NT(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function zL(e,t){let{params:n,method:r,responseType:i}=e,o=NT(n),s=e.serializeBody();s instanceof URLSearchParams?s=NT(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),c=GL(a);return c}function GL(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function MT(e){return[{provide:Mv,useFactory:()=>(ut("NgHttpTransferCache"),_({isCacheActive:!0},e))},{provide:Rv,useValue:$L,multi:!0},{provide:or,multi:!0,useFactory:()=>{let t=g(Ze),n=g(Mv);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var OT=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(R(_e))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ya=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e}(Ya||{});function xT(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function kT(){return xT(Ya.NoHttpTransferCache)}function PT(){return xT(Ya.EventReplay,QD())}function FT(...e){let t=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);let r=n.has(Ya.HttpTransferCacheOptions);return st([[],JD(),n.has(Ya.NoHttpTransferCache)||r?[]:MT({}),t])}var j="primary",ac=Symbol("RouteTitle"),Fv=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Pi(e){return new Fv(e)}function WT(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function KL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Nn(e[n],t[n]))return!1;return!0}function Nn(e,t){let n=e?Lv(e):void 0,r=t?Lv(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!zT(e[i],t[i]))return!1;return!0}function Lv(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function zT(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function GT(e){return e.length>0?e[e.length-1]:null}function dr(e){return ap(e)?e:Dr(e)?de(Promise.resolve(e)):N(e)}var ZL={exact:YT,subset:KT},qT={exact:QL,subset:JL,ignored:()=>!0};function LT(e,t,n){return ZL[n.paths](e.root,t.root,n.matrixParams)&&qT[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function QL(e,t){return Nn(e,t)}function YT(e,t,n){if(!xi(e.segments,t.segments)||!Bd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!YT(e.children[r],t.children[r],n))return!1;return!0}function JL(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>zT(e[n],t[n]))}function KT(e,t,n){return ZT(e,t,t.segments,n)}function ZT(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!xi(i,n)||t.hasChildren()||!Bd(i,n,r))}else if(e.segments.length===n.length){if(!xi(e.segments,n)||!Bd(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!KT(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!xi(e.segments,i)||!Bd(e.segments,i,r)||!e.children[j]?!1:ZT(e.children[j],t,o,r)}}function Bd(e,t,n){return t.every((r,i)=>qT[n](e[i].parameters,r.parameters))}var On=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ee([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Pi(this.queryParams),this._queryParamMap}toString(){return tV.serialize(this)}},ee=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hd(this)}},Mr=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Pi(this.parameters),this._parameterMap}toString(){return JT(this)}};function XL(e,t){return xi(e,t)&&e.every((n,r)=>Nn(n.parameters,t[r].parameters))}function xi(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function eV(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===j&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==j&&(n=n.concat(t(i,r)))}),n}var Fi=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>new Or,providedIn:"root"})}return e})(),Or=class{parse(t){let n=new jv(t);return new On(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Ka(t.root,!0)}`,r=iV(t.queryParams),i=typeof t.fragment=="string"?`#${nV(t.fragment)}`:"";return`${n}${r}${i}`}},tV=new Or;function Hd(e){return e.segments.map(t=>JT(t)).join("/")}function Ka(e,t){if(!e.hasChildren())return Hd(e);if(t){let n=e.children[j]?Ka(e.children[j],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==j&&r.push(`${i}:${Ka(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=eV(e,(r,i)=>i===j?[Ka(e.children[j],!1)]:[`${i}:${Ka(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[j]!=null?`${Hd(e)}/${n[0]}`:`${Hd(e)}/(${n.join("//")})`}}function QT(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jd(e){return QT(e).replace(/%3B/gi,";")}function nV(e){return encodeURI(e)}function Vv(e){return QT(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $d(e){return decodeURIComponent(e)}function VT(e){return $d(e.replace(/\+/g,"%20"))}function JT(e){return`${Vv(e.path)}${rV(e.parameters)}`}function rV(e){return Object.entries(e).map(([t,n])=>`;${Vv(t)}=${Vv(n)}`).join("")}function iV(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${jd(n)}=${jd(i)}`).join("&"):`${jd(n)}=${jd(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var oV=/^[^\/()?;#]+/;function Ov(e){let t=e.match(oV);return t?t[0]:""}var sV=/^[^\/()?;=#]+/;function aV(e){let t=e.match(sV);return t?t[0]:""}var cV=/^[^=?&#]+/;function lV(e){let t=e.match(cV);return t?t[0]:""}var uV=/^[^&#]+/;function dV(e){let t=e.match(uV);return t?t[0]:""}var jv=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[j]=new ee(t,n)),r}parseSegment(){let t=Ov(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(t),new Mr($d(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=aV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ov(this.remaining);i&&(r=i,this.capture(r))}t[$d(n)]=$d(r)}parseQueryParam(t){let n=lV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=dV(this.remaining);s&&(r=s,this.capture(r))}let i=VT(n),o=VT(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ov(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=j);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[j]:new ee([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new b(4011,!1)}};function XT(e){return e.segments.length>0?new ee([],{[j]:e}):e}function eS(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=eS(i);if(r===j&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ee(e.segments,t);return fV(n)}function fV(e){if(e.numberOfChildren===1&&e.children[j]){let t=e.children[j];return new ee(e.segments.concat(t.segments),t.children)}return e}function xr(e){return e instanceof On}function tS(e,t,n=null,r=null){let i=nS(e);return rS(i,t,n,r)}function nS(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ee(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=XT(r);return t??i}function rS(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return xv(i,i,i,n,r);let o=hV(t);if(o.toRoot())return xv(i,i,new ee([],{}),n,r);let s=pV(o,i,e),a=s.processChildren?Qa(s.segmentGroup,s.index,o.commands):oS(s.segmentGroup,s.index,o.commands);return xv(i,s.segmentGroup,a,n,r)}function Wd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Xa(e){return typeof e=="object"&&e!=null&&e.outlets}function xv(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=iS(e,t,n);let a=XT(eS(s));return new On(a,o,i)}function iS(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=iS(o,t,n)}),new ee(e.segments,r)}var zd=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Wd(r[0]))throw new b(4003,!1);let i=r.find(Xa);if(i&&i!==GT(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hV(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new zd(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new zd(n,t,r)}var ss=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function pV(e,t,n){if(e.isAbsolute)return new ss(t,!0,0);if(!n)return new ss(t,!1,NaN);if(n.parent===null)return new ss(n,!0,0);let r=Wd(e.commands[0])?0:1,i=n.segments.length-1+r;return gV(n,i,e.numberOfDoubleDots)}function gV(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new ss(r,!1,i-o)}function mV(e){return Xa(e[0])?e[0].outlets:{[j]:e}}function oS(e,t,n){if(e??=new ee([],{}),e.segments.length===0&&e.hasChildren())return Qa(e,t,n);let r=vV(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ee(e.segments.slice(0,r.pathIndex),{});return o.children[j]=new ee(e.segments.slice(r.pathIndex),e.children),Qa(o,0,i)}else return r.match&&i.length===0?new ee(e.segments,{}):r.match&&!e.hasChildren()?Uv(e,t,n):r.match?Qa(e,0,i):Uv(e,t,n)}function Qa(e,t,n){if(n.length===0)return new ee(e.segments,{});{let r=mV(n),i={};if(Object.keys(r).some(o=>o!==j)&&e.children[j]&&e.numberOfChildren===1&&e.children[j].segments.length===0){let o=Qa(e.children[j],t,n);return new ee(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=oS(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ee(e.segments,i)}}function vV(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(Xa(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!UT(c,l,s))return o;r+=2}else{if(!UT(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Uv(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(Xa(o)){let c=yV(o.outlets);return new ee(r,c)}if(i===0&&Wd(n[0])){let c=e.segments[t];r.push(new Mr(c.path,jT(n[0]))),i++;continue}let s=Xa(o)?o.outlets[j]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Wd(a)?(r.push(new Mr(s,jT(a))),i+=2):(r.push(new Mr(s,{})),i++)}return new ee(r,{})}function yV(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Uv(new ee([],{}),0,r))}),t}function jT(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function UT(e,t,n){return e==n.path&&Nn(t,n.parameters)}var as="imperative",Pe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Pe||{}),At=class{id;url;constructor(t,n){this.id=t,this.url=n}},kr=class extends At{type=Pe.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ut=class extends At{urlAfterRedirects;type=Pe.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},tt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(tt||{}),ls=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ls||{}),Mn=class extends At{reason;code;type=Pe.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xn=class extends At{reason;code;type=Pe.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},us=class extends At{error;target;type=Pe.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ec=class extends At{urlAfterRedirects;state;type=Pe.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gd=class extends At{urlAfterRedirects;state;type=Pe.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qd=class extends At{urlAfterRedirects;state;shouldActivate;type=Pe.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yd=class extends At{urlAfterRedirects;state;type=Pe.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kd=class extends At{urlAfterRedirects;state;type=Pe.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zd=class{route;type=Pe.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qd=class{route;type=Pe.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jd=class{snapshot;type=Pe.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xd=class{snapshot;type=Pe.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ef=class{snapshot;type=Pe.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tf=class{snapshot;type=Pe.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ds=class{routerEvent;position;anchor;type=Pe.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},tc=class{},fs=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function _V(e){return!(e instanceof tc)&&!(e instanceof fs)}function EV(e,t){return e.providers&&!e._injector&&(e._injector=bi(e.providers,t,`Route: ${e.path}`)),e._injector??t}function on(e){return e.outlet||j}function CV(e,t){let n=e.filter(r=>on(r)===t);return n.push(...e.filter(r=>on(r)!==t)),n}function gs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var nf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return gs(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Li(this.rootInjector)}},Li=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new nf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(R(fe))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rf=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Bv(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Bv(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Hv(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Hv(t,this._root).map(n=>n.value)}};function Bv(e,t){if(e===t.value)return t;for(let n of t.children){let r=Bv(e,n);if(r)return r}return null}function Hv(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Hv(e,n);if(r.length)return r.unshift(t),r}return[]}var St=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function os(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var nc=class extends rf{snapshot;constructor(t,n){super(t),this.snapshot=n,Zv(this,t)}toString(){return this.snapshot.toString()}};function sS(e){let t=IV(e),n=new Ue([new Mr("",{})]),r=new Ue({}),i=new Ue({}),o=new Ue({}),s=new Ue(""),a=new kn(n,r,o,s,i,j,e,t.root);return a.snapshot=t.root,new nc(new St(a,[]),t)}function IV(e){let t={},n={},r={},i="",o=new ki([],t,r,i,n,j,e,null,{});return new rc("",new St(o,[]))}var kn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(B(l=>l[ac]))??N(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(t=>Pi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(t=>Pi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function of(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:_(_({},t.params),e.params),data:_(_({},t.data),e.data),resolve:_(_(_(_({},e.data),t.data),i?.data),e._resolvedData)}:r={params:_({},e.params),data:_({},e.data),resolve:_(_({},e.data),e._resolvedData??{})},i&&cS(i)&&(r.resolve[ac]=i.title),r}var ki=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ac]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},rc=class extends rf{url;constructor(t,n){super(n),this.url=t,Zv(this,n)}toString(){return aS(this._root)}};function Zv(e,t){t.value._routerState=e,t.children.forEach(n=>Zv(e,n))}function aS(e){let t=e.children.length>0?` { ${e.children.map(aS).join(", ")} } `:"";return`${e.value}${t}`}function kv(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Nn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Nn(t.params,n.params)||e.paramsSubject.next(n.params),KL(t.url,n.url)||e.urlSubject.next(n.url),Nn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function $v(e,t){let n=Nn(e.params,t.params)&&XL(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||$v(e.parent,t.parent))}function cS(e){return typeof e.title=="string"||e.title===null}var lS=new I(""),cc=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=j;activateEvents=new Ne;deactivateEvents=new Ne;attachEvents=new Ne;detachEvents=new Ne;routerOutletData=YD(void 0);parentContexts=g(Li);location=g(Aa);changeDetector=g(Rr);inputBinder=g(lc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Wv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=he({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ir]})}return e})(),Wv=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===kn?this.route:t===Li?this.childContexts:t===lS?this.outletData:this.parent.get(t,n)}},lc=new I(""),Qv=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Ys([r.queryParams,r.params,r.data]).pipe(Be(([o,s,a],c)=>(a=_(_(_({},o),s),a),c===0?N(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=XD(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),Jv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Xt({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Me(0,"router-outlet")},dependencies:[cc],encapsulation:2})}return e})();function Xv(e){let t=e.children&&e.children.map(Xv),n=t?k(_({},e),{children:t}):_({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=Jv),n}function bV(e,t,n){let r=ic(e,t._root,n?n._root:void 0);return new nc(r,t)}function ic(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=wV(e,t,n);return new St(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ic(e,a)),s}}let r=DV(t.value),i=t.children.map(o=>ic(e,o));return new St(r,i)}}function wV(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ic(e,r,i);return ic(e,r)})}function DV(e){return new kn(new Ue(e.url),new Ue(e.params),new Ue(e.queryParams),new Ue(e.fragment),new Ue(e.data),e.outlet,e.component,e)}var hs=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},uS="ngNavigationCancelingError";function sf(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=xr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=dS(!1,tt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function dS(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[uS]=!0,n.cancellationCode=t,n}function TV(e){return fS(e)&&xr(e.url)}function fS(e){return!!e&&e[uS]}var SV=(e,t,n,r)=>B(i=>(new zv(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),zv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),kv(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=os(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=os(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=os(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=os(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new tf(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Xd(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(kv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kv(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},af=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},cs=class{component;route;constructor(t,n){this.component=t,this.route=n}};function AV(e,t,n){let r=e._root,i=t?t._root:null;return Za(r,i,n,[r.value])}function RV(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function ms(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Sp(e)?e:t.get(e):r}function Za(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=os(t);return e.children.forEach(s=>{NV(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ja(a,n.getContext(s),i)),i}function NV(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=MV(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new af(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Za(e,t,a?a.children:null,r,i):Za(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new cs(a.outlet.component,s))}else s&&Ja(t,a,i),i.canActivateChecks.push(new af(r)),o.component?Za(e,null,a?a.children:null,r,i):Za(e,null,n,r,i);return i}function MV(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!xi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!xi(e.url,t.url)||!Nn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$v(e,t)||!Nn(e.queryParams,t.queryParams);case"paramsChange":default:return!$v(e,t)}}function Ja(e,t,n){let r=os(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Ja(s,t.children.getContext(o),n):Ja(s,null,n):Ja(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new cs(t.outlet.component,i)):n.canDeactivateChecks.push(new cs(null,i)):n.canDeactivateChecks.push(new cs(null,i))}function uc(e){return typeof e=="function"}function OV(e){return typeof e=="boolean"}function xV(e){return e&&uc(e.canLoad)}function kV(e){return e&&uc(e.canActivate)}function PV(e){return e&&uc(e.canActivateChild)}function FV(e){return e&&uc(e.canDeactivate)}function LV(e){return e&&uc(e.canMatch)}function hS(e){return e instanceof Gn||e?.name==="EmptyError"}var Ud=Symbol("INITIAL_VALUE");function ps(){return Be(e=>Ys(e.map(t=>t.pipe(Yn(1),dp(Ud)))).pipe(B(t=>{for(let n of t)if(n!==!0){if(n===Ud)return Ud;if(n===!1||VV(n))return n}return!0}),qe(t=>t!==Ud),Yn(1)))}function VV(e){return xr(e)||e instanceof hs}function jV(e,t){return be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?N(k(_({},n),{guardsResult:!0})):UV(s,r,i,e).pipe(be(a=>a&&OV(a)?BV(r,o,e,t):N(a)),B(a=>k(_({},n),{guardsResult:a})))})}function UV(e,t,n,r){return de(e).pipe(be(i=>GV(i.component,i.route,n,t,r)),Kn(i=>i!==!0,!0))}function BV(e,t,n,r){return de(t).pipe(gn(i=>To($V(i.route.parent,r),HV(i.route,r),zV(e,i.path,n),WV(e,i.route,n))),Kn(i=>i!==!0,!0))}function HV(e,t){return e!==null&&t&&t(new ef(e)),N(!0)}function $V(e,t){return e!==null&&t&&t(new Jd(e)),N(!0)}function WV(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(o=>Ks(()=>{let s=gs(t)??n,a=ms(o,s),c=kV(a)?a.canActivate(t,e):ye(s,()=>a(t,e));return dr(c).pipe(Kn())}));return N(i).pipe(ps())}function zV(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>RV(s)).filter(s=>s!==null).map(s=>Ks(()=>{let a=s.guards.map(c=>{let l=gs(s.node)??n,u=ms(c,l),d=PV(u)?u.canActivateChild(r,e):ye(l,()=>u(r,e));return dr(d).pipe(Kn())});return N(a).pipe(ps())}));return N(o).pipe(ps())}function GV(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return N(!0);let s=o.map(a=>{let c=gs(t)??i,l=ms(a,c),u=FV(l)?l.canDeactivate(e,t,n,r):ye(c,()=>l(e,t,n,r));return dr(u).pipe(Kn())});return N(s).pipe(ps())}function qV(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return N(!0);let o=i.map(s=>{let a=ms(s,e),c=xV(a)?a.canLoad(t,n):ye(e,()=>a(t,n));return dr(c)});return N(o).pipe(ps(),pS(r))}function pS(e){return Xh(Le(t=>{if(typeof t!="boolean")throw sf(e,t)}),B(t=>t===!0))}function YV(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return N(!0);let o=i.map(s=>{let a=ms(s,e),c=LV(a)?a.canMatch(t,n):ye(e,()=>a(t,n));return dr(c)});return N(o).pipe(ps(),pS(r))}var oc=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},sc=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function is(e){return wo(new oc(e))}function KV(e){return wo(new b(4e3,!1))}function ZV(e){return wo(dS(!1,tt.GuardRejected))}var Gv=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[j])return KV(`${t.redirectTo}`);i=i.children[j]}}applyRedirectCommands(t,n,r,i,o){return QV(n,i,o).pipe(B(s=>{if(s instanceof On)throw new sc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new sc(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new On(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new ee(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function QV(e,t,n){if(typeof e=="string")return N(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return dr(ye(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var qv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JV(e,t,n,r,i){let o=gS(e,t,n);return o.matched?(r=EV(t,r),YV(r,t,n,i).pipe(B(s=>s===!0?o:_({},qv)))):N(o)}function gS(e,t,n){if(t.path==="**")return XV(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?_({},qv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||WT)(n,e,t);if(!i)return _({},qv);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?_(_({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function XV(e){return{matched:!0,parameters:e.length>0?GT(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function BT(e,t,n,r){return n.length>0&&nj(e,n,r)?{segmentGroup:new ee(t,tj(r,new ee(n,e.children))),slicedSegments:[]}:n.length===0&&rj(e,n,r)?{segmentGroup:new ee(e.segments,ej(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ee(e.segments,e.children),slicedSegments:n}}function ej(e,t,n,r){let i={};for(let o of n)if(lf(e,t,o)&&!r[on(o)]){let s=new ee([],{});i[on(o)]=s}return _(_({},r),i)}function tj(e,t){let n={};n[j]=t;for(let r of e)if(r.path===""&&on(r)!==j){let i=new ee([],{});n[on(r)]=i}return n}function nj(e,t,n){return n.some(r=>lf(e,t,r)&&on(r)!==j)}function rj(e,t,n){return n.some(r=>lf(e,t,r))}function lf(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ij(e,t,n){return t.length===0&&!e.children[n]}var Yv=class{};function oj(e,t,n,r,i,o,s="emptyOnly"){return new Kv(e,t,n,r,i,s,o).recognize()}var sj=31,Kv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Gv(this.urlSerializer,this.urlTree)}noMatchError(t){return new b(4002,`'${t.segmentGroup}'`)}recognize(){let t=BT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(B(({children:n,rootSnapshot:r})=>{let i=new St(r,n),o=new rc("",i),s=tS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new ki([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),j,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,j,n).pipe(B(r=>({children:r,rootSnapshot:n})),qn(r=>{if(r instanceof sc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oc?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(B(s=>s instanceof St?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return de(o).pipe(gn(s=>{let a=r.children[s],c=CV(n,s);return this.processSegmentGroup(t,c,a,s,i)}),up((s,a)=>(s.push(...a),s)),yr(null),lp(),be(s=>{if(s===null)return is(r);let a=mS(s);return aj(a),N(a)}))}processSegment(t,n,r,i,o,s,a){return de(n).pipe(gn(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(qn(l=>{if(l instanceof oc)return N(null);throw l}))),Kn(c=>!!c),qn(c=>{if(hS(c))return ij(r,i,o)?N(new Yv):is(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return on(r)!==s&&(s===j||!lf(i,o,r))?is(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):is(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=gS(n,i,o);if(!c)return is(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>sj&&(this.allowRedirects=!1));let h=new ki(o,l,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,HT(i),on(i),i.component??i._loadedComponent??null,i,$T(i)),p=of(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(p.params),h.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t).pipe(Be(v=>this.applyRedirects.lineralizeSegments(i,v)),be(v=>this.processSegment(t,r,n,v.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=JV(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Be(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Be(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new ki(f,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,HT(r),on(r),r.component??r._loadedComponent??null,r,$T(r)),y=of(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let{segmentGroup:v,slicedSegments:E}=BT(n,f,h,l);if(E.length===0&&v.hasChildren())return this.processChildren(u,l,v,p).pipe(B(ae=>new St(p,ae)));if(l.length===0&&E.length===0)return N(new St(p,[]));let H=on(r)===o;return this.processSegment(u,l,v,E,H?j:o,!0,p).pipe(B(ae=>new St(p,ae instanceof St?[ae]:[])))}))):is(n)))}getChildConfig(t,n,r){return n.children?N({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):qV(t,n,r,this.urlSerializer).pipe(be(i=>i?this.configLoader.loadChildren(t,n).pipe(Le(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):ZV(n))):N({routes:[],injector:t})}};function aj(e){e.sort((t,n)=>t.value.outlet===j?-1:n.value.outlet===j?1:t.value.outlet.localeCompare(n.value.outlet))}function cj(e){let t=e.value.routeConfig;return t&&t.path===""}function mS(e){let t=[],n=new Set;for(let r of e){if(!cj(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=mS(r.children);t.push(new St(r.value,i))}return t.filter(r=>!n.has(r))}function HT(e){return e.data||{}}function $T(e){return e.resolve||{}}function lj(e,t,n,r,i,o){return be(s=>oj(e,t,n,r,s.extractedUrl,i,o).pipe(B(({state:a,tree:c})=>k(_({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function uj(e,t){return be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of vS(c))s.add(l);let a=0;return de(s).pipe(gn(c=>o.has(c)?dj(c,r,e,t):(c.data=of(c,c.parent,e).resolve,N(void 0))),Le(()=>a++),So(1),be(c=>a===s.size?N(n):it))})}function vS(e){let t=e.children.map(n=>vS(n)).flat();return[e,...t]}function dj(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!cS(i)&&(o[ac]=i.title),Ks(()=>(e.data=of(e,e.parent,n).resolve,fj(o,e,t,r).pipe(B(s=>(e._resolvedData=s,e.data=_(_({},e.data),s),null)))))}function fj(e,t,n,r){let i=Lv(e);if(i.length===0)return N({});let o={};return de(i).pipe(be(s=>hj(e[s],t,n,r).pipe(Kn(),Le(a=>{if(a instanceof hs)throw sf(new Or,a);o[s]=a}))),So(1),B(()=>o),qn(s=>hS(s)?it:wo(s)))}function hj(e,t,n,r){let i=gs(t)??r,o=ms(e,i),s=o.resolve?o.resolve(t,n):ye(i,()=>o(t,n));return dr(s)}function Pv(e){return Be(t=>{let n=e(t);return n?de(n).pipe(B(()=>t)):N(t)})}var ey=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===j);return r}getResolvedTitleForRoute(n){return n.data[ac]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>g(yS),providedIn:"root"})}return e})(),yS=(()=>{class e extends ey{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(R(OT))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pr=new I("",{providedIn:"root",factory:()=>({})}),Vi=new I(""),uf=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(Zm);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=dr(ye(n,()=>r.loadComponent())).pipe(B(ES),Be(CS),Le(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Jr(()=>{this.componentLoaders.delete(r)})),o=new _o(i,()=>new Te).pipe(yo());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=_S(r,this.compiler,n,this.onLoadEndListener).pipe(Jr(()=>{this.childrenLoaders.delete(r)})),s=new _o(o,()=>new Te).pipe(yo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _S(e,t,n,r){return dr(ye(n,()=>e.loadChildren())).pipe(B(ES),Be(CS),be(i=>i instanceof ud||Array.isArray(i)?N(i):de(t.compileModuleAsync(i))),B(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Vi,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xv),injector:o}}))}function pj(e){return e&&typeof e=="object"&&"default"in e}function ES(e){return pj(e)?e.default:e}function CS(e){return N(e)}var df=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>g(gj),providedIn:"root"})}return e})(),gj=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ty=new I(""),ny=new I("");function IS(e,t,n){let r=e.get(ny),i=e.get(_e);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),mj(e)));a.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&ye(e,()=>c({transition:a,from:t,to:n})),s}function mj(e){return new Promise(t=>{Wo({read:()=>setTimeout(t)},{injector:e})})}var ry=new I(""),ff=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Te;transitionAbortWithErrorSubject=new Te;configLoader=g(uf);environmentInjector=g(fe);destroyRef=g(Yt);urlSerializer=g(Fi);rootContexts=g(Li);location=g(Nr);inputBindingEnabled=g(lc,{optional:!0})!==null;titleStrategy=g(ey);options=g(Pr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(df);createViewTransition=g(ty,{optional:!0});navigationErrorHandler=g(ry,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>N(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Zd(i)),r=i=>this.events.next(new Qd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(k(_({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new Ue(null),this.transitions.pipe(qe(r=>r!==null),Be(r=>{let i=!1;return N(r).pipe(Be(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",tt.SupersededByNewNavigation),it;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?k(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new xn(o.id,this.urlSerializer.serialize(o.rawUrl),c,ls.IgnoredSameUrlNavigation)),o.resolve(!1),it}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return N(o).pipe(Be(c=>(this.events.next(new kr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?it:Promise.resolve(c))),lj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Le(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=k(_({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new ec(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:f}=o,h=new kr(c,this.urlSerializer.serialize(l),u,d);this.events.next(h);let p=sS(this.rootComponentType).snapshot;return this.currentTransition=r=k(_({},o),{targetSnapshot:p,urlAfterRedirects:l,extras:k(_({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,N(r)}else{let c="";return this.events.next(new xn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,ls.IgnoredByUrlHandlingStrategy)),o.resolve(!1),it}}),Le(o=>{let s=new Gd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),B(o=>(this.currentTransition=r=k(_({},o),{guards:AV(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),jV(this.environmentInjector,o=>this.events.next(o)),Le(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw sf(this.urlSerializer,o.guardsResult);let s=new qd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),qe(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",tt.GuardRejected),!1)),Pv(o=>{if(o.guards.canActivateChecks.length!==0)return N(o).pipe(Le(s=>{let a=new Yd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Be(s=>{let a=!1;return N(s).pipe(uj(this.paramsInheritanceStrategy,this.environmentInjector),Le({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",tt.NoDataFromResolver)}}))}),Le(s=>{let a=new Kd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Pv(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let l=gs(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Le(u=>{a.component=u}),B(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Ys(s(o.targetSnapshot.root)).pipe(yr(null),Yn(1))}),Pv(()=>this.afterPreactivation()),Be(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?de(a).pipe(B(()=>r)):N(r)}),B(o=>{let s=bV(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=k(_({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Le(()=>{this.events.next(new tc)}),SV(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Yn(1),Wl(new x(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(qe(()=>!i&&!r.targetRouterState),Le(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",tt.Aborted)}))),Le({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ut(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Wl(this.transitionAbortWithErrorSubject.pipe(Le(o=>{throw o}))),Jr(()=>{i||this.cancelNavigationTransition(r,"",tt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),qn(o=>{if(this.destroyed)return r.resolve(!1),it;if(i=!0,fS(o))this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),TV(o)?this.events.next(new fs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new us(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=ye(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof hs){let{message:c,cancellationCode:l}=sf(this.urlSerializer,a);this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new fs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return it}))}))}cancelNavigationTransition(n,r,i){let o=new Mn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vj(e){return e!==as}var bS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>g(yj),providedIn:"root"})}return e})(),cf=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},yj=(()=>{class e extends cf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wS=(()=>{class e{urlSerializer=g(Fi);options=g(Pr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(Nr);urlHandlingStrategy=g(df);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new On;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof On?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=sS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>g(_j),providedIn:"root"})}return e})(),_j=(()=>{class e extends wS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof kr?this.updateStateMemento():n instanceof xn?this.commitTransition(r):n instanceof ec?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof tc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Mn&&n.code!==tt.SupersededByNewNavigation&&n.code!==tt.Redirect?this.restoreHistory(r):n instanceof us?this.restoreHistory(r,!0):n instanceof Ut&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=_(_({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=_(_({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hf(e,t){e.events.pipe(qe(n=>n instanceof Ut||n instanceof Mn||n instanceof us||n instanceof xn),B(n=>n instanceof Ut||n instanceof xn?0:(n instanceof Mn?n.code===tt.Redirect||n.code===tt.SupersededByNewNavigation:!1)?2:1),qe(n=>n!==2),Yn(1)).subscribe(()=>{t()})}var Ej={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Pn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(fd);stateManager=g(wS);options=g(Pr,{optional:!0})||{};pendingTasks=g(Kt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(ff);urlSerializer=g(Fi);location=g(Nr);urlHandlingStrategy=g(df);injector=g(fe);_events=new Te;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(bS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(Vi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(lc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new me;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mn&&r.code!==tt.Redirect&&r.code!==tt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ut)this.navigated=!0;else if(r instanceof fs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=_({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vj(i.source)},s);this.scheduleNavigation(a,as,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_V(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),as,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=_({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(ct)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Xv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=nS(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return rS(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=xr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,as,null,r)}navigate(n,r={skipLocationChange:!1}){return Ij(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=_({},Ej):r===!1?i=_({},Cj):i=r,xr(n))return LT(this.currentUrlTree,n,i);let o=this.parseUrl(n);return LT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return hf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ij(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new b(4008,!1)}var vs=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=It(null);get href(){return Vt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Te;applicationErrorHandler=g(ct);options=g(Pr,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(g(new bd("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Ut&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:xr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(P(Pn),P(kn),Ca("tabindex"),P(Jt),P(Lt),P(nn))};static \u0275dir=he({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Ce("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&sr("href",i.reactiveHref(),mm)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ni],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ni],replaceUrl:[2,"replaceUrl","replaceUrl",Ni],routerLink:"routerLink"},features:[ir]})}return e})();var dc=class{};var DS=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(qe(n=>n instanceof Ut),gn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=bi(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return de(i).pipe(Do())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=N(null);let o=i.pipe(be(s=>s===null?N(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return de([o,s]).pipe(Do())}else return o})}static \u0275fac=function(r){return new(r||e)(R(Pn),R(fe),R(dc),R(uf))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TS=new I(""),bj=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=as;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof kr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ut?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof xn&&n.code===ls.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ds&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>m(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ds(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Pm()};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();function oy(e,...t){return st([{provide:Vi,multi:!0,useValue:e},[],{provide:kn,useFactory:SS,deps:[Pn]},{provide:or,multi:!0,useFactory:AS},t.map(n=>n.\u0275providers)])}function SS(e){return e.routerState.root}function fc(e,t){return{\u0275kind:e,\u0275providers:t}}function AS(){let e=g(ve);return t=>{let n=e.get(Ze);if(t!==n.components[0])return;let r=e.get(Pn),i=e.get(RS);e.get(sy)===1&&r.initialNavigation(),e.get(OS,null,{optional:!0})?.setUpPreloading(),e.get(TS,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var RS=new I("",{factory:()=>new Te}),sy=new I("",{providedIn:"root",factory:()=>1});function NS(){let e=[{provide:sy,useValue:0},hd(()=>{let t=g(ve);return t.get(lv,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(Pn),o=t.get(RS);hf(i,()=>{r(!0)}),t.get(ff).afterPreactivation=()=>(r(!0),o.closed?N(void 0):o),i.initialNavigation()}))})];return fc(2,e)}function MS(){let e=[hd(()=>{g(Pn).setUpLocationChangeListener()}),{provide:sy,useValue:2}];return fc(3,e)}var OS=new I("");function xS(e){return fc(0,[{provide:OS,useExisting:DS},{provide:dc,useExisting:e}])}function kS(){return fc(8,[Qv,{provide:lc,useExisting:Qv}])}function PS(e){ut("NgRouterViewTransitions");let t=[{provide:ty,useValue:IS},{provide:ny,useValue:_({skipNextTransition:!!e?.skipInitialTransition},e)}];return fc(9,t)}var FS=[Nr,{provide:Fi,useClass:Or},Pn,Li,{provide:kn,useFactory:SS,deps:[Pn]},uf,[]],hc=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[FS,[],{provide:Vi,multi:!0,useValue:n},[],r?.errorHandler?{provide:ry,useValue:r.errorHandler}:[],{provide:Pr,useValue:r||{}},r?.useHash?Dj():Tj(),wj(),r?.preloadingStrategy?xS(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Sj(r):[],r?.bindToComponentInputs?kS().\u0275providers:[],r?.enableViewTransitions?PS().\u0275providers:[],Aj()]}}static forChild(n){return{ngModule:e,providers:[{provide:Vi,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=en({type:e});static \u0275inj=Nt({})}return e})();function wj(){return{provide:TS,useFactory:()=>{let e=g(cT),t=g(re),n=g(Pr),r=g(ff),i=g(Fi);return n.scrollOffset&&e.setOffset(n.scrollOffset),new bj(i,r,e,t,n)}}}function Dj(){return{provide:nn,useClass:hv}}function Tj(){return{provide:nn,useClass:Sd}}function Sj(e){return[e.initialNavigation==="disabled"?MS().\u0275providers:[],e.initialNavigation==="enabledBlocking"?NS().\u0275providers:[]]}var iy=new I("");function Aj(){return[{provide:iy,useFactory:AS},{provide:or,multi:!0,useExisting:iy}]}var pf=class e{title=It("cabbingo");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Xt({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&(w(0,"main"),Me(1,"router-outlet"),D())},dependencies:[cc],encapsulation:2})};var qS=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(P(Jt),P(Lt))};static \u0275dir=he({type:e})}return e})(),If=(()=>{class e extends qS{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275dir=he({type:e,features:[dt]})}return e})(),Ec=new I("");var Rj={provide:Ec,useExisting:vt(()=>bf),multi:!0};function Nj(){let e=jt()?jt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Mj=new I(""),bf=(()=>{class e extends qS{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Nj())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(P(Jt),P(Lt),P(Mj,8))};static \u0275dir=he({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ce("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[An([Rj]),dt]})}return e})();var wf=new I(""),YS=new I("");function Oj(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function xj(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function VS(e){return null}function KS(e){return e!=null}function ZS(e){return Dr(e)?de(e):e}function QS(e){let t={};return e.forEach(n=>{t=n!=null?_(_({},t),n):t}),Object.keys(t).length===0?null:t}function JS(e,t){return t.map(n=>n(e))}function kj(e){return!e.validate}function XS(e){return e.map(t=>kj(t)?t:n=>t.validate(n))}function Pj(e){if(!e)return null;let t=e.filter(KS);return t.length==0?null:function(n){return QS(JS(n,t))}}function uy(e){return e!=null?Pj(XS(e)):null}function Fj(e){if(!e)return null;let t=e.filter(KS);return t.length==0?null:function(n){let r=JS(n,t).map(ZS);return cp(r).pipe(B(QS))}}function dy(e){return e!=null?Fj(XS(e)):null}function jS(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Lj(e){return e._rawValidators}function Vj(e){return e._rawAsyncValidators}function ay(e){return e?Array.isArray(e)?e:[e]:[]}function mf(e,t){return Array.isArray(e)?e.includes(t):e===t}function US(e,t){let n=ay(t);return ay(e).forEach(i=>{mf(n,i)||n.push(i)}),n}function BS(e,t){return ay(t).filter(n=>!mf(e,n))}var vf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=uy(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Es=class extends vf{name;get formDirective(){return null}get path(){return null}},_c=class extends vf{_parent=null;name=null;valueAccessor=null},yf=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},jj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ine=k(_({},jj),{"[class.ng-submitted]":"isSubmitted"}),e0=(()=>{class e extends yf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(P(_c,2))};static \u0275dir=he({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Oa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[dt]})}return e})(),t0=(()=>{class e extends yf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(P(Es,10))};static \u0275dir=he({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Oa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[dt]})}return e})();var pc="VALID",gf="INVALID",ys="PENDING",gc="DISABLED",Fr=class{},_f=class extends Fr{value;source;constructor(t,n){super(),this.value=t,this.source=n}},vc=class extends Fr{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},yc=class extends Fr{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},_s=class extends Fr{status;source;constructor(t,n){super(),this.status=t,this.source=n}},cy=class extends Fr{source;constructor(t){super(),this.source=t}},ly=class extends Fr{source;constructor(t){super(),this.source=t}};function n0(e){return(Df(e)?e.validators:e)||null}function Uj(e){return Array.isArray(e)?uy(e):e||null}function r0(e,t){return(Df(t)?t.asyncValidators:e)||null}function Bj(e){return Array.isArray(e)?dy(e):e||null}function Df(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Hj(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function $j(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var Ef=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Vt(this.statusReactive)}set status(t){Vt(()=>this.statusReactive.set(t))}_status=Ai(()=>this.statusReactive());statusReactive=It(void 0);get valid(){return this.status===pc}get invalid(){return this.status===gf}get pending(){return this.status==ys}get disabled(){return this.status===gc}get enabled(){return this.status!==gc}errors;get pristine(){return Vt(this.pristineReactive)}set pristine(t){Vt(()=>this.pristineReactive.set(t))}_pristine=Ai(()=>this.pristineReactive());pristineReactive=It(!0);get dirty(){return!this.pristine}get touched(){return Vt(this.touchedReactive)}set touched(t){Vt(()=>this.touchedReactive.set(t))}_touched=Ai(()=>this.touchedReactive());touchedReactive=It(!1);get untouched(){return!this.touched}_events=new Te;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(US(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(US(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(BS(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(BS(t,this._rawAsyncValidators))}hasValidator(t){return mf(this._rawValidators,t)}hasAsyncValidator(t){return mf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(k(_({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new yc(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new yc(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(k(_({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new vc(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new vc(!0,r))}markAsPending(t={}){this.status=ys;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new _s(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(k(_({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=gc,this.errors=null,this._forEachChild(i=>{i.disable(k(_({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new _f(this.value,r)),this._events.next(new _s(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(k(_({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=pc,this._forEachChild(r=>{r.enable(k(_({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(k(_({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pc||this.status===ys)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new _f(this.value,n)),this._events.next(new _s(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(k(_({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gc:pc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=ys,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=ZS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new _s(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?gc:this.errors?gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ys)?ys:this._anyControlsHaveStatus(gf)?gf:pc}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new vc(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new yc(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Df(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Uj(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Bj(this._rawAsyncValidators)}},Cf=class extends Ef{constructor(t,n,r){super(n0(n),r0(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){$j(this,!0,t),Object.keys(t).forEach(r=>{Hj(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var fy=new I("",{providedIn:"root",factory:()=>hy}),hy="always";function Wj(e,t){return[...t.path,e]}function i0(e,t,n=hy){o0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Gj(e,t),Yj(e,t),qj(e,t),zj(e,t)}function HS(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function zj(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function o0(e,t){let n=Lj(e);t.validator!==null?e.setValidators(jS(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=Vj(e);t.asyncValidator!==null?e.setAsyncValidators(jS(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();HS(t._rawValidators,i),HS(t._rawAsyncValidators,i)}function Gj(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&s0(e,t)})}function qj(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&s0(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function s0(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Yj(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function Kj(e,t){e==null,o0(e,t)}function Zj(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function Qj(e){return Object.getPrototypeOf(e.constructor)===If}function Jj(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Xj(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===bf?n=o:Qj(o)?r=o:i=o}),i||r||n||null}var eU={provide:Es,useExisting:vt(()=>py)},mc=Promise.resolve(),py=(()=>{class e extends Es{callSetDisabledState;get submitted(){return Vt(this.submittedReactive)}_submitted=Ai(()=>this.submittedReactive());submittedReactive=It(!1);_directives=new Set;form;ngSubmit=new Ne;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Cf({},uy(n),dy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){mc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),i0(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){mc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){mc.then(()=>{let r=this._findContainer(n.path),i=new Cf({});Kj(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){mc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){mc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Jj(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new cy(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new ly(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(P(wf,10),P(YS,10),P(fy,8))};static \u0275dir=he({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ce("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[An([eU]),dt]})}return e})();function $S(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function WS(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var tU=class extends Ef{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(n0(n),r0(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Df(n)&&(n.nonNullable||n.initialValueIsDefault)&&(WS(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$S(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$S(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){WS(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var nU={provide:_c,useExisting:vt(()=>gy)},zS=Promise.resolve(),gy=(()=>{class e extends _c{_changeDetectorRef;callSetDisabledState;control=new tU;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ne;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Xj(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Zj(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){i0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){zS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Ni(r);zS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Wj(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(P(Es,9),P(wf,10),P(YS,10),P(Ec,10),P(Rr,8),P(fy,8))};static \u0275dir=he({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[An([nU]),dt,ir]})}return e})();var a0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=he({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),rU={provide:Ec,useExisting:vt(()=>my),multi:!0},my=(()=>{class e extends If{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275dir=he({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ce("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[An([rU]),dt]})}return e})();var iU={provide:Ec,useExisting:vt(()=>Tf),multi:!0};function c0(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function oU(e){return e.split(":")[0]}var Tf=(()=>{class e extends If{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=g(Ze).injector;destroyRef=g(Yt);cdr=g(Rr);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Wo({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=c0(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=oU(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275dir=he({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ce("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[An([iU]),dt]})}return e})(),l0=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(c0(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(P(Lt),P(Jt),P(Tf,9))};static \u0275dir=he({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),sU={provide:Ec,useExisting:vt(()=>u0),multi:!0};function GS(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function aU(e){return e.split(":")[0]}var u0=(()=>{class e extends If{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=aU(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275dir=he({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ce("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[An([sU]),dt]})}return e})(),d0=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(GS(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(GS(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(P(Lt),P(Jt),P(u0,9))};static \u0275dir=he({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function f0(e){return typeof e=="number"?e:parseFloat(e)}var h0=(()=>{class e{_validator=VS;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):VS,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=he({type:e,features:[ir]})}return e})(),cU={provide:wf,useExisting:vt(()=>vy),multi:!0},vy=(()=>{class e extends h0{max;inputName="max";normalizeInput=n=>f0(n);createValidator=n=>xj(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275dir=he({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&sr("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[An([cU]),dt]})}return e})(),lU={provide:wf,useExisting:vt(()=>yy),multi:!0},yy=(()=>{class e extends h0{min;inputName="min";normalizeInput=n=>f0(n);createValidator=n=>Oj(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275dir=he({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&sr("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[An([lU]),dt]})}return e})();var uU=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=en({type:e});static \u0275inj=Nt({})}return e})();var p0=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:fy,useValue:n.callSetDisabledState??hy}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=en({type:e});static \u0275inj=Nt({imports:[uU]})}return e})();var ji=class{mockTiles1=[{id:1,title:"Draconic Visage",src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Foldschool.runescape.wiki%2Fimages%2Fthumb%2FDraconic_visage_detail.png%2F640px-Draconic_visage_detail.png%3F6edab&f=1&nofb=1&ipt=9aa9374a957e7a5a937b233244e3cfde042354fa7459254f457e7188786b5690",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)","You must obtain the item yourself (no trading)"]},{id:2,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:3,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:4,title:"Any megarare",src:"https://oldschool.runescape.wiki/images/thumb/Twisted_bow_detail.png/150px-Twisted_bow_detail.png?7aa10",bossSrc:"./assets/raids.png",alt:"Twisted Bow",description:"Obtain any megarare drop from any raid",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:5,title:"5 Venator Shards",src:"./assets/venator_shards.png",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:6,title:"Ultor Vestige",src:"https://oldschool.runescape.wiki/images/thumb/Ultor_vestige_detail.png/130px-Ultor_vestige_detail.png?99817",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Vardorvis.png/200px-Vardorvis.png?48af8",alt:"Ultor Vestige",description:"Obtain an Ultor Vestige from Vardorvis",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:7,title:"Draconic Visage",src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Foldschool.runescape.wiki%2Fimages%2Fthumb%2FDraconic_visage_detail.png%2F640px-Draconic_visage_detail.png%3F6edab&f=1&nofb=1&ipt=9aa9374a957e7a5a937b233244e3cfde042354fa7459254f457e7188786b5690",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:8,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:9,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:10,title:"3 Blood shards",src:"./assets/blood_shards.png",bossSrc:"./assets/raids.png",alt:"Blood Shard",description:"Obtain 3 Blood Shards from vyres",itemsRequired:3,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:11,title:"5 Venator Shards",src:"https://oldschool.runescape.wiki/images/thumb/Venator_shard_detail.png/130px-Venator_shard_detail.png?3ad3e",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:12,title:"Moons of perilus",src:"./assets/moons_set.png",bossSrc:"./assets/moons_bosses.png",alt:"Moons of perilus",description:"Obtain a Moons of perilus from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]}];mockTiles2=[{id:1,title:"Draconic Visage",src:"https://oldschool.runescape.wiki/images/thumb/Draconic_visage_detail.png/130px-Draconic_visage_detail.png?6edab",bossSrc:"https://oldschool.runescape.wiki/images/thumb/King_Black_Dragon.png/290px-King_Black_Dragon.png?d25f0",alt:"Draconic Visage",description:"Obtain a Draconic Visage from a King Black Dragon",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:2,title:"Any Scroll",src:"https://oldschool.runescape.wiki/images/thumb/Dexterous_prayer_scroll_detail.png/150px-Dexterous_prayer_scroll_detail.png?d6a6b",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Great_Olm.png/300px-Great_Olm.png?f1081",alt:"Dex Scroll",description:"Obtain any scroll from the Chamber of Xeric",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:3,title:"Any torva piece",src:"https://oldschool.runescape.wiki/images/thumb/Torva_full_helm_detail.png/120px-Torva_full_helm_detail.png?975a0",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Nex.png/270px-Nex.png?2a1b3",alt:"Torva Helm",description:"Obtain any piece of Torva from Nex",itemsRequired:1,itemsObtained:0,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:4,title:"Any megarare",src:"https://oldschool.runescape.wiki/images/thumb/Twisted_bow_detail.png/150px-Twisted_bow_detail.png?7aa10",bossSrc:"./assets/raids.png",alt:"Twisted Bow",description:"Obtain any megarare drop from any raid",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:5,title:"5 Venator Shards",src:"https://oldschool.runescape.wiki/images/thumb/Venator_shard_detail.png/130px-Venator_shard_detail.png?3ad3e",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Phantom_Muspah_%28ranged%29.png/250px-Phantom_Muspah_%28ranged%29.png?9cf6a",alt:"Venator Shard",description:"Obtain 5 Venator Shards from the Phantom Muspah",itemsRequired:5,itemsObtained:5,points:5,rules:["You must obtain the item yourself (no trading)"]},{id:6,title:"Ultor Vestige",src:"https://oldschool.runescape.wiki/images/thumb/Ultor_vestige_detail.png/130px-Ultor_vestige_detail.png?99817",bossSrc:"https://oldschool.runescape.wiki/images/thumb/Vardorvis.png/200px-Vardorvis.png?48af8",alt:"Ultor Vestige",description:"Obtain an Ultor Vestige from Vardorvis",itemsRequired:1,itemsObtained:1,points:5,rules:["You must obtain the item yourself (no trading)"]}];board=[this.mockTiles1,this.mockTiles2]};var Lr={production:!0,firebaseConfig:{apiKey:"AIzaSyB2e36wu47-6DOc2_rAuHfiFTq9vm6GBD0",authDomain:"cabbingo-db.firebaseapp.com",databaseURL:"https://cabbingo-db-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cabbingo-db",storageBucket:"cabbingo-db.firebasestorage.app",messagingSenderId:"684304316440",appId:"1:684304316440:web:0660b0d72a68752cadeb6d"}};var g0=()=>{};var Ey={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var C=function(e,t){if(!e)throw Ui(t)},Ui=function(e){return new Error("Firebase Database ("+Ey.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var y0=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},fU=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},bs={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(y0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):fU(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Cy;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Cy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},by=function(e){let t=y0(e);return bs.encodeByteArray(t,!0)},Ic=function(e){return by(e).replace(/\./g,"")},Cs=function(e){try{return bs.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _0(e){return E0(void 0,e)}function E0(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!hU(n)||(e[n]=E0(e[n],t[n]));return e}function hU(e){return e!=="__proto__"}function C0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var pU=()=>C0().__FIREBASE_DEFAULTS__,gU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},mU=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Cs(e[1]);return t&&JSON.parse(t)},wy=()=>{try{return g0()||pU()||gU()||mU()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},I0=e=>{var t,n;return(n=(t=wy())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},b0=e=>{let t=I0(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Dy=()=>{var e;return(e=wy())===null||e===void 0?void 0:e.config},w0=e=>{var t;return(t=wy())===null||t===void 0?void 0:t[`_${e}`]};var sn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function Bi(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function Ty(e){return m(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}function D0(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ic(JSON.stringify(n)),Ic(JSON.stringify(s)),""].join(".")}var Cc={};function vU(){let e={prod:[],emulator:[]};for(let t of Object.keys(Cc))Cc[t]?e.emulator.push(t):e.prod.push(t);return e}function yU(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var m0=!1;function Sy(e,t){if(typeof window>"u"||typeof document>"u"||!Bi(window.location.host)||Cc[e]===t||Cc[e]||m0)return;Cc[e]=t;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=vU().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{m0=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=yU(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),y=n("learnmore"),v=document.getElementById(y)||document.createElement("a"),E=n("preprendIcon"),H=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let ae=f.element;a(ae),u(v,y);let Z=l();c(H,E),ae.append(H,p,v,Z),document.body.appendChild(ae)}o?(p.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function T0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S0(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Af(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ln(){return Ey.NODE_CLIENT===!0||Ey.NODE_ADMIN===!0}function Rf(){try{return typeof indexedDB=="object"}catch{return!1}}function A0(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var _U="FirebaseError",Fn=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=_U,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}},an=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?EU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fn(i,a,r)}};function EU(e,t){return e.replace(CU,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var CU=/\{\$([^}]+)}/g;function Is(e){return JSON.parse(e)}function Oe(e){return JSON.stringify(e)}var R0=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=Is(Cs(o[0])||""),n=Is(Cs(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var N0=function(e){let t=R0(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},M0=function(e){let t=R0(e).claims;return typeof t=="object"&&t.admin===!0};function Vn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hi(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Nf(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wc(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function $i(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(v0(o)&&v0(s)){if(!$i(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function v0(e){return e!==null&&typeof e=="object"}function Dc(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}var Sf=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function O0(e,t){let n=new Iy(e,t);return n.subscribe.bind(n)}var Iy=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");IU(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=_y),i.error===void 0&&(i.error=_y),i.complete===void 0&&(i.complete=_y);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function IU(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function _y(){}function Mf(e,t){return`${e} failed: ${t} argument `}var x0=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,C(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Tc=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var Rne=4*60*60*1e3;function Rt(e){return e&&e._delegate?e._delegate:e}var nt=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Wi="[DEFAULT]";var Of=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new sn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wU(t))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Wi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return m(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Wi){return this.instances.has(t)}getOptions(t=Wi){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bU(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Wi){return this.component?this.component.multipleInstances?t:Wi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bU(e){return e===Wi?void 0:e}function wU(e){return e.instantiationMode==="EAGER"}var Sc=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Of(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var DU=[],oe=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(oe||{}),TU={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},SU=oe.INFO,AU={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},RU=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=AU[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},jn=class{constructor(t){this.name=t,this._logLevel=SU,this._logHandler=RU,this._userLogHandler=null,DU.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TU[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...t),this._logHandler(this,oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...t),this._logHandler(this,oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...t),this._logHandler(this,oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...t),this._logHandler(this,oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...t),this._logHandler(this,oe.ERROR,...t)}};var NU=(e,t)=>t.some(n=>e instanceof n),k0,P0;function MU(){return k0||(k0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OU(){return P0||(P0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var F0=new WeakMap,Ry=new WeakMap,L0=new WeakMap,Ay=new WeakMap,My=new WeakMap;function xU(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Un(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&F0.set(n,e)}).catch(()=>{}),My.set(t,e),t}function kU(e){if(Ry.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Ry.set(e,t)}var Ny={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ry.get(e);if(t==="objectStoreNames")return e.objectStoreNames||L0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Un(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function V0(e){Ny=e(Ny)}function PU(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(xf(this),t,...n);return L0.set(r,t.sort?t.sort():[t]),Un(r)}:OU().includes(e)?function(...t){return e.apply(xf(this),t),Un(F0.get(this))}:function(...t){return Un(e.apply(xf(this),t))}}function FU(e){return typeof e=="function"?PU(e):(e instanceof IDBTransaction&&kU(e),NU(e,MU())?new Proxy(e,Ny):e)}function Un(e){if(e instanceof IDBRequest)return xU(e);if(Ay.has(e))return Ay.get(e);let t=FU(e);return t!==e&&(Ay.set(e,t),My.set(t,e)),t}var xf=e=>My.get(e);function U0(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=Un(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Un(s.result),c.oldVersion,c.newVersion,Un(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var LU=["get","getKey","getAll","getAllKeys","count"],VU=["put","add","delete","clear"],Oy=new Map;function j0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Oy.get(t))return Oy.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=VU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LU.includes(n)))return;let o=function(s,...a){return m(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Oy.set(t,o),o}V0(e=>k(_({},e),{get:(t,n,r)=>j0(t,n)||e.get(t,n,r),has:(t,n)=>!!j0(t,n)||e.has(t,n)}));var ky=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function jU(e){let t=e.getComponent();return t?.type==="VERSION"}var Py="@firebase/app",B0="0.13.2";var fr=new jn("@firebase/app"),UU="@firebase/app-compat",BU="@firebase/analytics-compat",HU="@firebase/analytics",$U="@firebase/app-check-compat",WU="@firebase/app-check",zU="@firebase/auth",GU="@firebase/auth-compat",qU="@firebase/database",YU="@firebase/data-connect",KU="@firebase/database-compat",ZU="@firebase/functions",QU="@firebase/functions-compat",JU="@firebase/installations",XU="@firebase/installations-compat",e2="@firebase/messaging",t2="@firebase/messaging-compat",n2="@firebase/performance",r2="@firebase/performance-compat",i2="@firebase/remote-config",o2="@firebase/remote-config-compat",s2="@firebase/storage",a2="@firebase/storage-compat",c2="@firebase/firestore",l2="@firebase/ai",u2="@firebase/firestore-compat",d2="firebase",f2="11.10.0";var Fy="[DEFAULT]",h2={[Py]:"fire-core",[UU]:"fire-core-compat",[HU]:"fire-analytics",[BU]:"fire-analytics-compat",[WU]:"fire-app-check",[$U]:"fire-app-check-compat",[zU]:"fire-auth",[GU]:"fire-auth-compat",[qU]:"fire-rtdb",[YU]:"fire-data-connect",[KU]:"fire-rtdb-compat",[ZU]:"fire-fn",[QU]:"fire-fn-compat",[JU]:"fire-iid",[XU]:"fire-iid-compat",[e2]:"fire-fcm",[t2]:"fire-fcm-compat",[n2]:"fire-perf",[r2]:"fire-perf-compat",[i2]:"fire-rc",[o2]:"fire-rc-compat",[s2]:"fire-gcs",[a2]:"fire-gcs-compat",[c2]:"fire-fst",[u2]:"fire-fst-compat",[l2]:"fire-vertex","fire-js":"fire-js",[d2]:"fire-js-all"};var Ac=new Map,p2=new Map,Ly=new Map;function H0(e,t){try{e.container.addComponent(t)}catch(n){fr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ln(e){let t=e.name;if(Ly.has(t))return fr.debug(`There were multiple attempts to register component ${t}.`),!1;Ly.set(t,e);for(let n of Ac.values())H0(n,e);for(let n of p2.values())H0(n,e);return!0}function kf(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hr(e){return e==null?!1:e.settings!==void 0}var g2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new an("app","Firebase",g2);var Vy=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}};var ws=f2;function By(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:Fy,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Vr.create("bad-app-name",{appName:String(i)});if(n||(n=Dy()),!n)throw Vr.create("no-options");let o=Ac.get(i);if(o){if($i(n,o.options)&&$i(r,o.config))return o;throw Vr.create("duplicate-app",{appName:i})}let s=new Sc(i);for(let c of Ly.values())s.addComponent(c);let a=new Vy(n,r,s);return Ac.set(i,a),a}function Ds(e=Fy){let t=Ac.get(e);if(!t&&e===Fy&&Dy())return By();if(!t)throw Vr.create("no-app",{appName:e});return t}function Pf(){return Array.from(Ac.values())}function De(e,t,n){var r;let i=(r=h2[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fr.warn(a.join(" "));return}ln(new nt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var m2="firebase-heartbeat-database",v2=1,Rc="firebase-heartbeat-store",xy=null;function G0(){return xy||(xy=U0(m2,v2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Rc)}catch(n){console.warn(n)}}}}).catch(e=>{throw Vr.create("idb-open",{originalErrorMessage:e.message})})),xy}function y2(e){return m(this,null,function*(){try{let n=(yield G0()).transaction(Rc),r=yield n.objectStore(Rc).get(q0(e));return yield n.done,r}catch(t){if(t instanceof Fn)fr.warn(t.message);else{let n=Vr.create("idb-get",{originalErrorMessage:t?.message});fr.warn(n.message)}}})}function $0(e,t){return m(this,null,function*(){try{let r=(yield G0()).transaction(Rc,"readwrite");yield r.objectStore(Rc).put(t,q0(e)),yield r.done}catch(n){if(n instanceof Fn)fr.warn(n.message);else{let r=Vr.create("idb-set",{originalErrorMessage:n?.message});fr.warn(r.message)}}})}function q0(e){return`${e.name}!${e.options.appId}`}var _2=1024,E2=30,jy=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Uy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=W0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>E2){let s=I2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fr.warn(r)}})}getHeartbeatsHeader(){return m(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=W0(),{heartbeatsToSend:r,unsentEntries:i}=C2(this._heartbeatsCache.heartbeats),o=Ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return fr.warn(n),""}})}};function W0(){return new Date().toISOString().substring(0,10)}function C2(e,t=_2){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),z0(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),z0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Uy=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Rf()?A0().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield y2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function z0(e){return Ic(JSON.stringify({version:2,heartbeats:e})).length}function I2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function b2(e){ln(new nt("platform-logger",t=>new ky(t),"PRIVATE")),ln(new nt("heartbeat",t=>new jy(t),"PRIVATE")),De(Py,B0,e),De(Py,B0,"esm2017"),De("fire-js","")}b2("");var w2="firebase",D2="11.10.0";De(w2,D2,"app");function Y0(e){e===void 0&&(e=g(ve));let t=e.get(nr);return n=>new x(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Gi=new Ar("ANGULARFIRE2_VERSION");function Lf(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var Ss=(e,t)=>{let n=t?[t]:Pf(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ts=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(Ts||{}),K0=av()&&typeof Zone<"u"?Ts.WARN:Ts.SILENT;var Ff=class{zone;delegate;constructor(t,n=op){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},qi=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=g(re);this.outsideAngular=n.runOutsideAngular(()=>new Ff(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Ff(typeof Zone>"u"?void 0:Zone.current,bo))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Z0=!1;function T2(e,t){!Z0&&(K0>Ts.SILENT||av())&&(Z0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),K0>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function S2(e){let t=g(re,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function zi(e){let t=g(re,{optional:!0});return t?t.run(()=>e()):e()}var A2=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),ye(n,()=>zi(()=>e.apply(void 0,r)))),Bn=(e,t,n)=>(n||=t?Ts.WARN:Ts.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=g(qi),s=g(nr),a=g(fe)}catch{return T2(e,n),e.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(t&&(r||=zi(()=>s.add())),i[l]=A2(i[l],r,a));let c=S2(()=>e.apply(this,i));return t?c instanceof x?c.pipe(vr(o.outsideAngular),mr(o.insideAngular),Y0(a)):c instanceof Promise?zi(()=>{let l=s.add();return new Promise((u,d)=>{c.then(f=>ye(a,()=>zi(()=>u(f))),f=>ye(a,()=>zi(()=>d(f)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:zi(()=>c):c instanceof x?c.pipe(vr(o.outsideAngular),mr(o.insideAngular)):zi(()=>c)});var Yi=class{constructor(t){return t}},Nc=class{constructor(){return Pf()}};function R2(e){return e&&e.length===1?e[0]:new Yi(Ds())}var Hy=new I("angularfire2._apps"),N2={provide:Yi,useFactory:R2,deps:[[new Tn,Hy]]},M2={provide:Nc,deps:[[new Tn,Hy]]};function O2(e){return(t,n)=>{let r=n.get(lt);De("angularfire",Gi.full,"core"),De("angularfire",Gi.full,"app"),De("angular",KD.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new Yi(i)}}function Q0(e,...t){return st([N2,M2,{provide:Hy,useFactory:O2(e),multi:!0,deps:[re,ve,qi,...t]}])}var J0=Bn(By,!0);var x2=new Map,k2={activated:!1,tokenObservers:[]},P2={initialized:!1,enabled:!1};function un(e){return x2.get(e)||Object.assign({},k2)}function nA(){return P2}var F2="https://content-firebaseappcheck.googleapis.com/v1";var L2="exchangeDebugToken",X0={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Ore=24*60*60*1e3;var zy=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return m(this,null,function*(){this.stop();try{this.pending=new sn,this.pending.promise.catch(n=>{}),yield V2(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new sn,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function V2(e){return new Promise(t=>{setTimeout(t,e)})}var j2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},jr=new an("appCheck","AppCheck",j2);function rA(e){if(!un(e).activated)throw jr.create("use-before-activation",{appName:e.name})}function iA(r,i){return m(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(h){throw jr.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw jr.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw jr.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function oA(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${F2}/projects/${n}/apps/${r}:${L2}?key=${i}`,body:{debug_token:t}}}var U2="firebase-app-check-database",B2=1,Gy="firebase-app-check-store";var Vf=null;function H2(){return Vf||(Vf=new Promise((e,t)=>{try{let n=indexedDB.open(U2,B2);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(jr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Gy,{keyPath:"compositeKey"})}}}catch(n){t(jr.create("storage-open",{originalErrorMessage:n?.message}))}}),Vf)}function $2(e,t){return W2(z2(e),t)}function W2(e,t){return m(this,null,function*(){let r=(yield H2()).transaction(Gy,"readwrite"),o=r.objectStore(Gy).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(jr.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function z2(e){return`${e.options.appId}-${e.name}`}var Mc=new jn("@firebase/app-check");function $y(e,t){return Rf()?$2(e,t).catch(n=>{Mc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function sA(){return nA().enabled}function aA(){return m(this,null,function*(){let e=nA();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var G2={error:"UNKNOWN_ERROR"};function q2(e){return bs.encodeString(JSON.stringify(e),!1)}function qy(e,t=!1,n=!1){return m(this,null,function*(){let r=e.app;rA(r);let i=un(r),o=i.token,s;if(o&&!Oc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Oc(l)?o=l:yield $y(r,void 0))}if(!t&&o&&Oc(o))return{token:o.token};let a=!1;if(sA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=iA(oA(r,yield aA()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield $y(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Mc.warn(l.message):n&&Mc.error(l),Wy(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield un(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Mc.warn(l.message):n&&Mc.error(l),s=l}let c;return o?s?Oc(o)?c={token:o.token,internalError:s}:c=Wy(s):(c={token:o.token},i.token=o,yield $y(r,o)):c=Wy(s),a&&Q2(r,c),c})}function Y2(e){return m(this,null,function*(){let t=e.app;rA(t);let{provider:n}=un(t);if(sA()){let r=yield aA(),{token:i}=yield iA(oA(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function K2(e,t,n,r){let{app:i}=e,o=un(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Oc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),eA(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>eA(e))}function cA(e,t){let n=un(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function eA(e){let{app:t}=e,n=un(t),r=n.tokenRefresher;r||(r=Z2(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Z2(e){let{app:t}=e;return new zy(()=>m(null,null,function*(){let n=un(t),r;if(n.token?r=yield qy(e,!0):r=yield qy(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=un(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},X0.RETRIAL_MIN_WAIT,X0.RETRIAL_MAX_WAIT)}function Q2(e,t){let n=un(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Oc(e){return e.expireTimeMillis-Date.now()>0}function Wy(e){return{token:q2(G2),error:e}}var Yy=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=un(this.app);for(let n of t)cA(this.app,n.next);return Promise.resolve()}};function J2(e,t){return new Yy(e,t)}function X2(e){return{getToken:t=>qy(e,t),getLimitedUseToken:()=>Y2(e),addTokenListener:t=>K2(e,"INTERNAL",t),removeTokenListener:t=>cA(e.app,t)}}var eB="@firebase/app-check",tB="0.10.1";var nB="app-check",tA="app-check-internal";function rB(){ln(new nt(nB,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return J2(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(tA).initialize()})),ln(new nt(tA,e=>{let t=e.getProvider("app-check").getImmediate();return X2(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),De(eB,tB)}rB();var iB="app-check";var jf=class{constructor(){return Ss(iB)}};var oB=["localhost","0.0.0.0","127.0.0.1"],zre=typeof window<"u"&&oB.includes(window.location.hostname);function mA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var vA=mA,yA=new an("auth","Firebase",mA());var $f=new jn("@firebase/auth");function sB(e,...t){$f.logLevel<=oe.WARN&&$f.warn(`Auth (${ws}): ${e}`,...t)}function Bf(e,...t){$f.logLevel<=oe.ERROR&&$f.error(`Auth (${ws}): ${e}`,...t)}function lA(e,...t){throw s_(e,...t)}function o_(e,...t){return s_(e,...t)}function _A(e,t,n){let r=Object.assign(Object.assign({},vA()),{[t]:n});return new an("auth","Firebase",r).create(t,{appName:e.name})}function Hf(e){return _A(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s_(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return yA.create(e,...t)}function te(e,t,...n){if(!e)throw s_(t,...n)}function xc(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Bf(t),new Error(t)}function Wf(e,t){e||xc(t)}function aB(){return uA()==="http:"||uA()==="https:"}function uA(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function cB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aB()||S0()||"connection"in navigator)?navigator.onLine:!0}function lB(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Qi=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,Wf(n>t,"Short delay should be less than long delay!"),this.isMobile=bc()||Af()}get(){return cB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function uB(e,t){Wf(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var zf=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var dB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var fB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hB=new Qi(3e4,6e4);function EA(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Zf(o,s,a,c){return m(this,arguments,function*(e,t,n,r,i={}){return CA(e,i,()=>m(null,null,function*(){let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});let d=Dc(Object.assign({key:e.config.apiKey},u)).slice(1),f=yield e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:f},l);return T0()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Bi(e.emulatorConfig.host)&&(h.credentials="include"),zf.fetch()(yield IA(e,e.config.apiHost,n,d),h)}))})}function CA(e,t,n){return m(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},dB),t);try{let i=new Qy(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Uf(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uf(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Uf(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw Uf(e,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _A(e,u,l);lA(e,u)}}catch(i){if(i instanceof Fn)throw i;lA(e,"network-request-failed",{message:String(i)})}})}function IA(e,t,n,r){return m(this,null,function*(){let i=`${t}${n}?${r}`,o=e,s=o.config.emulator?uB(e.config,i):`${e.config.apiScheme}://${i}`;return fB.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Qy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(o_(this.auth,"network-request-failed")),hB.get())})}};function Uf(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=o_(e,t,r);return i.customData._tokenResponse=n,i}function pB(e,t){return m(this,null,function*(){return Zf(e,"POST","/v1/accounts:delete",t)})}function Gf(e,t){return m(this,null,function*(){return Zf(e,"POST","/v1/accounts:lookup",t)})}function kc(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function a_(e,t=!1){return m(this,null,function*(){let n=Rt(e),r=yield n.getIdToken(t),i=bA(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:kc(Ky(i.auth_time)),issuedAtTime:kc(Ky(i.iat)),expirationTime:kc(Ky(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ky(e){return Number(e)*1e3}function bA(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Bf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Cs(n);return i?JSON.parse(i):(Bf("Failed to decode base64 JWT payload"),null)}catch(i){return Bf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dA(e){let t=bA(e);return te(t,"internal-error"),te(typeof t.exp<"u","internal-error"),te(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Jy(e,t,n=!1){return m(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof Fn&&gB(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function gB({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var Xy=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Fc=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function qf(e){return m(this,null,function*(){var t;let n=e.auth,r=yield e.getIdToken(),i=yield Jy(e,Gf(n,{idToken:r}));te(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?wA(o.providerUserInfo):[],a=mB(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Fc(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function c_(e){return m(this,null,function*(){let t=Rt(e);yield qf(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function mB(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function wA(e){return e.map(t=>{var{providerId:n}=t,r=sp(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function vB(e,t){return m(this,null,function*(){let n=yield CA(e,{},()=>m(null,null,function*(){let r=Dc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=yield IA(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return e.emulatorConfig&&Bi(e.emulatorConfig.host)&&(c.credentials="include"),zf.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function yB(e,t){return m(this,null,function*(){return Zf(e,"POST","/v2/accounts:revokeToken",EA(e,t))})}var Pc=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){te(t.idToken,"internal-error"),te(typeof t.idToken<"u","internal-error"),te(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){te(t.length!==0,"internal-error");let n=dA(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return m(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield vB(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(te(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(te(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return xc("not implemented")}};function Ur(e,t){te(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Ki=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=sp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return m(this,null,function*(){let n=yield Jy(this,this.stsTokenManager.getToken(this.auth,t));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return a_(this,t)}reload(){return c_(this)}_assign(t){this!==t&&(te(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return m(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield qf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(hr(this.auth.app))return Promise.reject(Hf(this.auth));let t=yield this.getIdToken();return yield Jy(this,pB(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:ae,emailVerified:Z,isAnonymous:Ht,providerData:Hs,stsTokenManager:al}=n;te(ae&&al,t,"internal-error");let NN=Pc.fromJSON(this.name,al);te(typeof ae=="string",t,"internal-error"),Ur(d,t.name),Ur(f,t.name),te(typeof Z=="boolean",t,"internal-error"),te(typeof Ht=="boolean",t,"internal-error"),Ur(h,t.name),Ur(p,t.name),Ur(y,t.name),Ur(v,t.name),Ur(E,t.name),Ur(H,t.name);let jh=new e({uid:ae,auth:t,email:f,emailVerified:Z,displayName:d,isAnonymous:Ht,photoURL:p,phoneNumber:h,tenantId:y,stsTokenManager:NN,createdAt:E,lastLoginAt:H});return Hs&&Array.isArray(Hs)&&(jh.providerData=Hs.map(MN=>Object.assign({},MN))),v&&(jh._redirectEventId=v),jh}static _fromIdTokenResponse(t,n,r=!1){return m(this,null,function*(){let i=new Pc;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield qf(o),o})}static _fromGetAccountInfoResponse(t,n,r){return m(this,null,function*(){let i=n.users[0];te(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?wA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Pc;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Fc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var fA=new Map;function Zi(e){Wf(e instanceof Function,"Expected a class definition");let t=fA.get(e);return t?(Wf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fA.set(e,t),t)}var _B=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),e_=_B;function Zy(e,t,n){return`firebase:${e}:${t}:${n}`}var Yf=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Zy(this.userKey,i.apiKey,o),this.fullPersistenceKey=Zy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return m(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=yield Gf(this.auth,{idToken:t}).catch(()=>{});return n?Ki._fromGetAccountInfoResponse(this.auth,n,t):null}return Ki._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return m(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new e(Zi(e_),t,r);let i=(yield Promise.all(n.map(l=>m(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Zi(e_),s=Zy(r,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield Gf(t,{idToken:u}).catch(()=>{});if(!f)break;d=yield Ki._fromGetAccountInfoResponse(t,f,u)}else d=Ki._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>m(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,r))})}};function hA(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bB(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(EB(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(DB(t))return"Blackberry";if(TB(t))return"Webos";if(CB(t))return"Safari";if((t.includes("chrome/")||IB(t))&&!t.includes("edge/"))return"Chrome";if(wB(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function EB(e=cn()){return/firefox\//i.test(e)}function CB(e=cn()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function IB(e=cn()){return/crios\//i.test(e)}function bB(e=cn()){return/iemobile/i.test(e)}function wB(e=cn()){return/android/i.test(e)}function DB(e=cn()){return/blackberry/i.test(e)}function TB(e=cn()){return/webos/i.test(e)}function DA(e,t=[]){let n;switch(e){case"Browser":n=hA(cn());break;case"Worker":n=`${hA(cn())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ws}/${r}`}var t_=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return m(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function SB(n){return m(this,arguments,function*(e,t={}){return Zf(e,"GET","/v2/passwordPolicy",EA(e,t))})}var AB=6,n_=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:AB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var r_=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kf(this),this.idTokenSubscription=new Kf(this),this.beforeStateQueue=new t_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Yf.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return m(this,null,function*(){try{let n=yield Gf(this,{idToken:t}),r=yield Ki._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return m(this,null,function*(){var n;if(hr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return m(this,null,function*(){try{yield qf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=lB()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return m(this,null,function*(){if(hr(this.app))return Promise.reject(Hf(this));let n=t?Rt(t):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return m(this,null,function*(){if(!this._deleted)return t&&te(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return hr(this.app)?Promise.reject(Hf(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return hr(this.app)?Promise.reject(Hf(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(Zi(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let t=yield SB(this),n=new n_(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new an("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield yB(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&Zi(t)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=yield Yf.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return m(this,null,function*(){if(t===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return m(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var t;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&sB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function RB(e){return Rt(e)}var Kf=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=O0(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var NB={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MB(e){NB=e}function OB(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function xB(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zi);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}var rie=OB("rcb"),iie=new Qi(3e4,6e4);var oie=new Qi(2e3,1e4);var sie=10*60*1e3;var aie=new Qi(3e4,6e4);var cie=new Qi(5e3,15e3);var lie=encodeURIComponent("fac");var pA="@firebase/auth",gA="1.10.8";var i_=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function kB(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PB(e){ln(new nt("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DA(e)},l=new r_(r,i,o,c);return xB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ln(new nt("auth-internal",t=>{let n=RB(t.getProvider("auth").getImmediate());return(r=>new i_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),De(pA,gA,kB(e)),De(pA,gA,"esm2017")}var FB=5*60,uie=w0("authIdTokenMaxAge")||FB;function LB(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}MB({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=o_("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",LB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PB("Browser");var PH="auth";var Qf=class{constructor(){return Ss(PH)}};var TA="@firebase/database",SA="1.0.20";var lE="";function FH(e){lE=e}var m_=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Oe(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Is(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var v_=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Vn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var oR=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new m_(t)}}catch{}return new v_},Xi=oR("localStorage"),y_=oR("sessionStorage");var Ns=new jn("@firebase/database"),LH=function(){let e=1;return function(){return e++}}(),sR=function(e){let t=x0(e),n=new Sf;n.update(t);let r=n.digest();return bs.encodeByteArray(r)},tl=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=tl.apply(null,r):typeof r=="object"?t+=Oe(r):t+=r,t+=" "}return t},to=null,AA=!0,VH=function(e,t){C(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ns.logLevel=oe.VERBOSE,to=Ns.log.bind(Ns),t&&y_.set("logging_enabled",!0)):typeof e=="function"?to=e:(to=null,y_.remove("logging_enabled"))},Qe=function(...e){if(AA===!0&&(AA=!1,to===null&&y_.get("logging_enabled")===!0&&VH(!0)),to){let t=tl.apply(null,e);to(t)}},nl=function(e){return function(...t){Qe(e,...t)}},__=function(...e){let t="FIREBASE INTERNAL ERROR: "+tl(...e);Ns.error(t)},pr=function(...e){let t=`FIREBASE FATAL ERROR: ${tl(...e)}`;throw Ns.error(t),new Error(t)},ft=function(...e){let t="FIREBASE WARNING: "+tl(...e);Ns.warn(t)},jH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},aR=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},UH=function(e){if(Ln()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Os="[MIN_NAME]",no="[MAX_NAME]",js=function(e,t){if(e===t)return 0;if(e===Os||t===no)return-1;if(t===Os||e===no)return 1;{let n=RA(e),r=RA(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},BH=function(e,t){return e===t?0:e<t?-1:1},Lc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Oe(t))},uE=function(e){if(typeof e!="object"||e===null)return Oe(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Oe(t[r]),n+=":",n+=uE(e[t[r]]);return n+="}",n},cR=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ht(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var lR=function(e){C(!aR(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},HH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$H=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function WH(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var zH=new RegExp("^-?(0*)\\d{1,10}$"),GH=-2147483648,qH=2147483647,RA=function(e){if(zH.test(e)){let t=Number(e);if(t>=GH&&t<=qH)return t}return null},Us=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw ft("Exception was thrown by user callback.",n),t},Math.floor(0))}},YH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Hc=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var E_=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,hr(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){ft(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var C_=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ft(t)}},$c=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Xf="5",uR="v",dR="s",fR="r",hR="f",pR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gR="ls",mR="p",I_="ac",vR="websocket",yR="long_polling";var eh=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Xi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function KH(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function _R(e,t,n){C(typeof t=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let r;if(t===vR)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===yR)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);KH(e)&&(n.ns=e.namespace);let i=[];return ht(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var b_=class{constructor(){this.counters_={}}incrementCounter(t,n=1){Vn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return _0(this.counters_)}};var l_={},u_={};function dE(e){let t=e.toString();return l_[t]||(l_[t]=new b_),l_[t]}function ZH(e,t){let n=e.toString();return u_[n]||(u_[n]=t()),u_[n]}var w_=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Us(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var NA="start",QH="close",JH="pLPCommand",XH="pRTLPCB",ER="id",CR="pw",IR="ser",e$="cb",t$="seg",n$="ts",r$="d",i$="dframe",bR=1870,wR=30,o$=bR-wR,s$=25e3,a$=3e4,D_=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nl(t),this.stats_=dE(n),this.urlFn=c=>(this.appCheckToken&&(c[I_]=this.appCheckToken),_R(n,yR,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new w_(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(a$)),UH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new T_((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===NA)this.id=a,this.password=c;else if(s===QH)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[NA]="t",r[IR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[e$]=this.scriptTagHolder.uniqueCallbackIdentifier),r[uR]=Xf,this.transportSessionId&&(r[dR]=this.transportSessionId),this.lastSessionId&&(r[gR]=this.lastSessionId),this.applicationId&&(r[mR]=this.applicationId),this.appCheckToken&&(r[I_]=this.appCheckToken),typeof location<"u"&&location.hostname&&pR.test(location.hostname)&&(r[fR]=hR);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Ln()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!HH()&&!$H()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=Oe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=by(n),i=cR(r,o$);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Ln())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[i$]="t",r[ER]=t,r[CR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=Oe(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},T_=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ln())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=LH(),window[JH+this.uniqueCallbackIdentifier]=t,window[XH+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Qe("frame writing exception"),a.stack&&Qe(a.stack),Qe(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Qe("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[ER]=this.myID,t[CR]=this.myPW,t[IR]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+wR+r.length<=bR;){let s=this.pendingSegs.shift();r=r+"&"+t$+i+"="+s.seg+"&"+n$+i+"="+s.ts+"&"+r$+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(s$)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){Ln()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var c$=16384,l$=45e3,th=null;typeof MozWebSocket<"u"?th=MozWebSocket:typeof WebSocket<"u"&&(th=WebSocket);var Vc=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nl(this.connId),this.stats_=dE(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[uR]=Xf,!Ln()&&typeof location<"u"&&location.hostname&&pR.test(location.hostname)&&(a[fR]=hR),r&&(a[dR]=r),i&&(a[gR]=i),o&&(a[I_]=o),s&&(a[mR]=s),_R(n,vR,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xi.set("previous_websocket_failure",!0);try{let i;if(Ln()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Xf}/${lE}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new th(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&th!==null&&!e.forceDisallow_}static previouslyFailed(){return Xi.isInMemoryStorage||Xi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Xi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Is(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(C(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Oe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=cR(r,c$);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(l$))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),u$=(()=>{class e{static get ALL_TRANSPORTS(){return[D_,Vc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Vc&&Vc.isAvailable(),i=r&&!Vc.previouslyFailed();if(n.webSocketOnly&&(r||ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Vc];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),d$=6e4,f$=5e3,h$=10*1024,p$=100*1024,d_="t",MA="d",g$="s",OA="r",m$="e",xA="o",kA="a",PA="n",FA="p",v$="h",S_=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nl("c:"+this.id+":"),this.transportManager_=new u$(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Hc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>p$?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>h$?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(d_ in t){let n=t[d_];n===kA?this.upgradeIfSecondaryHealthy_():n===OA?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===xA&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Lc("t",t),r=Lc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FA,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:kA,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:PA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Lc("t",t),r=Lc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Lc(d_,t);if(MA in t){let r=t[MA];if(n===v$){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===PA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===g$?this.onConnectionShutdown_(r):n===OA?this.onReset_(r):n===m$?__("Server Error: "+r):n===xA?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):__("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Xf!==r&&ft("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Hc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(d$))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(f$))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FA,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var nh=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var rh=class{constructor(t){this.allowedEvents_=t,this.listeners_={},C(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){C(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var ih=class e extends rh{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!bc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return C(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var LA=32,VA=768,se=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function J(){return new se("")}function z(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function $r(e){return e.pieces_.length-e.pieceNum_}function le(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new se(e.pieces_,t)}function DR(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function y$(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function TR(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function SR(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new se(t,0)}function Fe(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof se)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new se(n,0)}function Y(e){return e.pieceNum_>=e.pieces_.length}function rt(e,t){let n=z(e),r=z(t);if(n===null)return t;if(n===r)return rt(le(e),le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function fE(e,t){if($r(e)!==$r(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function fn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if($r(e)>$r(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var A_=class{constructor(t,n){this.errorPrefix_=n,this.parts_=TR(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Tc(this.parts_[r]);AR(this)}};function _$(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Tc(t),AR(e)}function E$(e){let t=e.parts_.pop();e.byteLength_-=Tc(t),e.parts_.length>0&&(e.byteLength_-=1)}function AR(e){if(e.byteLength_>VA)throw new Error(e.errorPrefix_+"has a key path longer than "+VA+" bytes ("+e.byteLength_+").");if(e.parts_.length>LA)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+LA+") or object contains a cycle "+Ji(e))}function Ji(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var R_=class e extends rh{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return C(t==="visible","Unknown event type: "+t),[this.visible_]}};var jc=1e3,C$=60*5*1e3,jA=30*1e3,I$=1.3,b$=3e4,w$="server_kill",UA=3,hE=(()=>{class e extends nh{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=nl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=jc,this.maxReconnectDelay_=C$,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Ln())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");R_.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&ih.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Oe(s)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new sn,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Vn(n,"w")){let i=Hi(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ft(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||M0(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=jA)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=N0(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Oe(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):__("Unrecognized action received from server: "+Oe(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=jc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>b$&&(this.reconnectDelay_=jc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*I$)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){C(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new S_(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{ft(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(w$)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ft(f),l())}}})}interrupt(n){Qe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Qe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Nf(this.interruptReasons_)&&(this.reconnectDelay_=jc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>uE(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new se(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Qe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=UA&&(this.reconnectDelay_=jA,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Qe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=UA&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Ln()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+lE.replace(/\./g,"-")]=1,bc()?n["framework.cordova"]=1:Af()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=ih.getInstance().currentlyOnline();return Nf(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),G=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var xs=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new G(Os,t),i=new G(Os,n);return this.compare(r,i)!==0}minPost(){return G.MIN}};var Jf,oh=class extends xs{static get __EMPTY_NODE(){return Jf}static set __EMPTY_NODE(t){Jf=t}compare(t,n){return js(t.name,n.name)}isDefinedOn(t){throw Ui("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return G.MIN}maxPost(){return new G(no,Jf)}makePost(t,n){return C(typeof t=="string","KeyIndex indexValue must always be a string."),new G(t,Jf)}toString(){return".key"}},Ms=new oh;var Rs=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},dn=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Bt.EMPTY_NODE,this.right=s??Bt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),N_=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new dn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Bt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,dn.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,dn.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Rs(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Rs(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Rs(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Rs(this.root_,null,this.comparator_,!0,t)}};Bt.EMPTY_NODE=new N_;function D$(e,t){return js(e.name,t.name)}function pE(e,t){return js(e,t)}var M_;function T$(e){M_=e}var RR=function(e){return typeof e=="number"?"number:"+lR(e):"string:"+e},NR=function(e){if(e.isLeafNode()){let t=e.val();C(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Vn(t,".sv"),"Priority must be a string or number.")}else C(e===M_||e.isEmpty(),"priority of unexpected type.");C(e===M_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var BA,ks=(()=>{class e{static set __childrenNodeConstructor(n){BA=n}static get __childrenNodeConstructor(){return BA}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),NR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Y(n)?this:z(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=z(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(C(i!==".priority"||$r(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+RR(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=lR(this.value_):n+=this.value_,this.lazyHash_=sR(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(C(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return C(o>=0,"Unknown leaf type: "+r),C(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),MR,OR;function S$(e){MR=e}function A$(e){OR=e}var O_=class extends xs{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?js(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return G.MIN}maxPost(){return new G(no,new ks("[PRIORITY-POST]",OR))}makePost(t,n){let r=MR(t);return new G(n,new ks("[PRIORITY-POST]",r))}toString(){return".priority"}},Ie=new O_;var R$=Math.log(2),x_=class{constructor(t){let n=o=>parseInt(Math.log(o)/R$,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},sh=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new dn(f,d.node,dn.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),y=i(h+1,l);return d=e[h],f=n?n(d):d,new dn(f,d.node,dn.BLACK,p,y)}},o=function(c){let l=null,u=null,d=e.length,f=function(p,y){let v=d-p,E=d;d-=p;let H=i(v+1,E),ae=e[v],Z=n?n(ae):ae;h(new dn(Z,ae.node,y,null,H))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let y=c.nextBitIsOne(),v=Math.pow(2,c.count-(p+1));y?f(v,dn.BLACK):(f(v,dn.BLACK),f(v,dn.RED))}return u},s=new x_(e.length),a=o(s);return new Bt(r||t,a)};var f_,As={},Ps=class e{static get Default(){return C(As&&Ie,"ChildrenNode.ts has not been loaded"),f_=f_||new e({".priority":As},{".priority":Ie}),f_}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=Hi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Bt?n:null}hasIndex(t){return Vn(this.indexSet_,t.toString())}addIndex(t,n){C(t!==Ms,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(G.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=sh(r,t.getCompare()):a=As;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=wc(this.indexes_,(i,o)=>{let s=Hi(this.indexSet_,o);if(C(s,"Missing index implementation for "+o),i===As)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator(G.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),sh(a,s.getCompare())}else return As;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new G(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=wc(this.indexes_,i=>{if(i===As)return i;{let o=n.get(t.name);return o?i.remove(new G(t.name,o)):i}});return new e(r,this.indexSet_)}};var Uc,U=(()=>{class e{static get EMPTY_NODE(){return Uc||(Uc=new e(new Bt(pE),null,Ps.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&NR(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Uc}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Uc:r}}getChild(n){let r=z(n);return r===null?this:this.getImmediateChild(r).getChild(le(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(C(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new G(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Uc:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=z(n);if(i===null)return r;{C(z(n)!==".priority"||$r(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(le(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Ie,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+RR(this.getPriority().val())+":"),this.forEachChild(Ie,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":sR(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new G(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new G(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new G(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,G.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,G.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===rl?-1:0}withIndex(n){if(n===Ms||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Ms||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ie),o=r.getIterator(Ie),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Ms?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),k_=class extends U{constructor(){super(new Bt(pE),U.EMPTY_NODE,Ps.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return U.EMPTY_NODE}isEmpty(){return!1}},rl=new k_;Object.defineProperties(G,{MIN:{value:new G(Os,U.EMPTY_NODE)},MAX:{value:new G(no,rl)}});oh.__EMPTY_NODE=U.EMPTY_NODE;ks.__childrenNodeConstructor=U;T$(rl);A$(rl);var N$=!0;function je(e,t=null){if(e===null)return U.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),C(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new ks(n,je(t))}if(!(e instanceof Array)&&N$){let n=[],r=!1;if(ht(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=je(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new G(s,c)))}}),n.length===0)return U.EMPTY_NODE;let o=sh(n,D$,s=>s.name,pE);if(r){let s=sh(n,Ie.getCompare());return new U(o,je(t),new Ps({".priority":s},{".priority":Ie}))}else return new U(o,je(t),Ps.Default)}else{let n=U.EMPTY_NODE;return ht(e,(r,i)=>{if(Vn(e,r)&&r.substring(0,1)!=="."){let o=je(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(je(t))}}S$(je);var P_=class extends xs{constructor(t){super(),this.indexPath_=t,C(!Y(t)&&z(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?js(t.name,n.name):o}makePost(t,n){let r=je(t),i=U.EMPTY_NODE.updateChild(this.indexPath_,r);return new G(n,i)}maxPost(){let t=U.EMPTY_NODE.updateChild(this.indexPath_,rl);return new G(no,t)}toString(){return TR(this.indexPath_,0).join("/")}};var F_=class extends xs{compare(t,n){let r=t.node.compareTo(n.node);return r===0?js(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return G.MIN}maxPost(){return G.MAX}makePost(t,n){let r=je(t);return new G(n,r)}toString(){return".value"}},M$=new F_;function xR(e){return{type:"value",snapshotNode:e}}function Fs(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function qc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Yc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function O$(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Kc=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){C(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(qc(n,a)):C(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Fs(n,r)):s.trackChildChange(Yc(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ie,(i,o)=>{n.hasChild(i)||r.trackChildChange(qc(i,o))}),n.isLeafNode()||n.forEachChild(Ie,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Yc(i,o,s))}else r.trackChildChange(Fs(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?U.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var ah=class e{constructor(t){this.indexedFilter_=new Kc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new G(n,r))||(r=U.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=U.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(U.EMPTY_NODE);let o=this;return n.forEachChild(Ie,(s,a)=>{o.matches(new G(s,a))||(i=i.updateImmediateChild(s,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var L_=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ah(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new G(n,r))||(r=U.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=U.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(U.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;C(a.numChildren()===this.limit_,"");let c=new G(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Yc(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(qc(n,d));let y=a.updateImmediateChild(n,U.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Fs(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?t:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(qc(l.name,l.node)),o.trackChildChange(Fs(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,U.EMPTY_NODE)):t}};var V_=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Os}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:no}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function x$(e){return e.loadsAllData()?new Kc(e.getIndex()):e.hasLimit()?new L_(e):new ah(e)}function HA(e){let t={};if(e.isDefault())return t;let n;if(e.index_===Ie?n="$priority":e.index_===M$?n="$value":e.index_===Ms?n="$key":(C(e.index_ instanceof P_,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Oe(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=Oe(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Oe(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Oe(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Oe(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function $A(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ie&&(t.i=e.index_.toString()),t}var j_=class e extends nh{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(C(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=nl("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=HA(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Hi(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=HA(t._queryParams),r=t._path.toString(),i=new sn;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Dc(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Is(a.responseText)}catch{ft("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&ft("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var U_=class{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function ch(){return{value:null,children:new Map}}function kR(e,t,n){if(Y(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=z(t);e.children.has(r)||e.children.set(r,ch());let i=e.children.get(r);t=le(t),kR(i,t,n)}}function B_(e,t,n){e.value!==null?n(t,e.value):k$(e,(r,i)=>{let o=new se(t.toString()+"/"+r);B_(i,o,n)})}function k$(e,t){e.children.forEach((n,r)=>{t(r,n)})}var H_=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ht(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var WA=10*1e3,P$=30*1e3,F$=5*60*1e3,$_=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new H_(t);let r=WA+(P$-WA)*Math.random();Hc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;ht(t,(i,o)=>{o>0&&Vn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Hc(this.reportStats_.bind(this),Math.floor(Math.random()*2*F$))}};var Hn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Hn||{});function PR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function mE(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var W_=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Hn.ACK_USER_WRITE,this.source=PR()}operationForChild(t){if(Y(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new se(t));return new e(J(),n,this.revert)}}else return C(z(this.path)===t,"operationForChild called for unrelated child."),new e(le(this.path),this.affectedTree,this.revert)}};var lh=class e{constructor(t,n){this.source=t,this.path=n,this.type=Hn.LISTEN_COMPLETE}operationForChild(t){return Y(this.path)?new e(this.source,J()):new e(this.source,le(this.path))}};var Ls=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Hn.OVERWRITE}operationForChild(t){return Y(this.path)?new e(this.source,J(),this.snap.getImmediateChild(t)):new e(this.source,le(this.path),this.snap)}};var uh=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Hn.MERGE}operationForChild(t){if(Y(this.path)){let n=this.children.subtree(new se(t));return n.isEmpty()?null:n.value?new Ls(this.source,J(),n.value):new e(this.source,J(),n)}else return C(z(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var $n=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Y(t))return this.isFullyInitialized()&&!this.filtered_;let n=z(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var z_=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function L$(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(O$(s.childName,s.snapshotNode))}),Bc(e,i,"child_removed",t,r,n),Bc(e,i,"child_added",t,r,n),Bc(e,i,"child_moved",o,r,n),Bc(e,i,"child_changed",t,r,n),Bc(e,i,"value",t,r,n),i}function Bc(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>j$(e,a,c)),s.forEach(a=>{let c=V$(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function V$(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function j$(e,t,n){if(t.childName==null||n.childName==null)throw Ui("Should only compare child_ events.");let r=new G(t.childName,t.snapshotNode),i=new G(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function wh(e,t){return{eventCache:e,serverCache:t}}function Wc(e,t,n,r){return wh(new $n(t,n,r),e.serverCache)}function FR(e,t,n,r){return wh(e.eventCache,new $n(t,n,r))}function dh(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ro(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var h_,U$=()=>(h_||(h_=new Bt(BH)),h_),pt=class e{static fromObject(t){let n=new e(null);return ht(t,(r,i)=>{n=n.set(new se(r),i)}),n}constructor(t,n=U$()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:J(),value:this.value};if(Y(t))return null;{let r=z(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(le(t),n);return o!=null?{path:Fe(new se(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Y(t))return this;{let n=z(t),r=this.children.get(n);return r!==null?r.subtree(le(t)):new e(null)}}set(t,n){if(Y(t))return new e(n,this.children);{let r=z(t),o=(this.children.get(r)||new e(null)).set(le(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(Y(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=z(t),r=this.children.get(n);if(r){let i=r.remove(le(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(Y(t))return this.value;{let n=z(t),r=this.children.get(n);return r?r.get(le(t)):null}}setTree(t,n){if(Y(t))return n;{let r=z(t),o=(this.children.get(r)||new e(null)).setTree(le(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(J(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Fe(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,J(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Y(t))return null;{let o=z(t),s=this.children.get(o);return s?s.findOnPath_(le(t),Fe(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,J(),n)}foreachOnPath_(t,n,r){if(Y(t))return this;{this.value&&r(n,this.value);let i=z(t),o=this.children.get(i);return o?o.foreachOnPath_(le(t),Fe(n,i),r):new e(null)}}foreach(t){this.foreach_(J(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fe(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var hn=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new pt(null))}};function zc(e,t,n){if(Y(t))return new hn(new pt(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=rt(i,t);return o=o.updateChild(s,n),new hn(e.writeTree_.set(i,o))}else{let i=new pt(n),o=e.writeTree_.setTree(t,i);return new hn(o)}}}function zA(e,t,n){let r=e;return ht(n,(i,o)=>{r=zc(r,Fe(t,i),o)}),r}function GA(e,t){if(Y(t))return hn.empty();{let n=e.writeTree_.setTree(t,new pt(null));return new hn(n)}}function G_(e,t){return io(e,t)!=null}function io(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(rt(n.path,t)):null}function qA(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ie,(r,i)=>{t.push(new G(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new G(r,i.value))}),t}function Br(e,t){if(Y(t))return e;{let n=io(e,t);return n!=null?new hn(new pt(n)):new hn(e.writeTree_.subtree(t))}}function q_(e){return e.writeTree_.isEmpty()}function Vs(e,t){return LR(J(),e.writeTree_,t)}function LR(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(C(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=LR(Fe(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Fe(e,".priority"),r)),n}}function Dh(e,t){return BR(t,e)}function B$(e,t,n,r,i){C(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=zc(e.visibleWrites,t,n)),e.lastWriteId=r}function H$(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function $$(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);C(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&W$(a,r.path)?i=!1:fn(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return z$(e),!0;if(r.snap)e.visibleWrites=GA(e.visibleWrites,r.path);else{let a=r.children;ht(a,c=>{e.visibleWrites=GA(e.visibleWrites,Fe(r.path,c))})}return!0}else return!1}function W$(e,t){if(e.snap)return fn(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&fn(Fe(e.path,n),t))return!0;return!1}function z$(e){e.visibleWrites=VR(e.allWrites,G$,J()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function G$(e){return e.visible}function VR(e,t,n){let r=hn.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)fn(n,s)?(a=rt(n,s),r=zc(r,a,o.snap)):fn(s,n)&&(a=rt(s,n),r=zc(r,J(),o.snap.getChild(a)));else if(o.children){if(fn(n,s))a=rt(n,s),r=zA(r,a,o.children);else if(fn(s,n))if(a=rt(s,n),Y(a))r=zA(r,J(),o.children);else{let c=Hi(o.children,z(a));if(c){let l=c.getChild(le(a));r=zc(r,J(),l)}}}else throw Ui("WriteRecord should have .snap or .children")}}return r}function jR(e,t,n,r,i){if(!r&&!i){let o=io(e.visibleWrites,t);if(o!=null)return o;{let s=Br(e.visibleWrites,t);if(q_(s))return n;if(n==null&&!G_(s,J()))return null;{let a=n||U.EMPTY_NODE;return Vs(s,a)}}}else{let o=Br(e.visibleWrites,t);if(!i&&q_(o))return n;if(!i&&n==null&&!G_(o,J()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(fn(l.path,t)||fn(t,l.path))},a=VR(e.allWrites,s,t),c=n||U.EMPTY_NODE;return Vs(a,c)}}}function q$(e,t,n){let r=U.EMPTY_NODE,i=io(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ie,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Br(e.visibleWrites,t);return n.forEachChild(Ie,(s,a)=>{let c=Vs(Br(o,new se(s)),a);r=r.updateImmediateChild(s,c)}),qA(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Br(e.visibleWrites,t);return qA(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Y$(e,t,n,r,i){C(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Fe(t,n);if(G_(e.visibleWrites,o))return null;{let s=Br(e.visibleWrites,o);return q_(s)?i.getChild(n):Vs(s,i.getChild(n))}}function K$(e,t,n,r){let i=Fe(t,n),o=io(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Br(e.visibleWrites,i);return Vs(s,r.getNode().getImmediateChild(n))}else return null}function Z$(e,t){return io(e.visibleWrites,t)}function Q$(e,t,n,r,i,o,s){let a,c=Br(e.visibleWrites,t),l=io(c,J());if(l!=null)a=l;else if(n!=null)a=Vs(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function J$(){return{visibleWrites:hn.empty(),allWrites:[],lastWriteId:-1}}function fh(e,t,n,r){return jR(e.writeTree,e.treePath,t,n,r)}function vE(e,t){return q$(e.writeTree,e.treePath,t)}function YA(e,t,n,r){return Y$(e.writeTree,e.treePath,t,n,r)}function hh(e,t){return Z$(e.writeTree,Fe(e.treePath,t))}function X$(e,t,n,r,i,o){return Q$(e.writeTree,e.treePath,t,n,r,i,o)}function yE(e,t,n){return K$(e.writeTree,e.treePath,t,n)}function UR(e,t){return BR(Fe(e.treePath,t),e.writeTree)}function BR(e,t){return{treePath:e,writeTree:t}}var Y_=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Yc(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,qc(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Fs(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Yc(r,t.snapshotNode,i.oldSnap));else throw Ui("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var K_=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},HR=new K_,Zc=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new $n(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yE(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ro(this.viewCache_),o=X$(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function e3(e){return{filter:e}}function t3(e,t){C(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),C(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function n3(e,t,n,r,i){let o=new Y_,s,a;if(n.type===Hn.OVERWRITE){let l=n;l.source.fromUser?s=Z_(e,t,l.path,l.snap,r,i,o):(C(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Y(l.path),s=ph(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Hn.MERGE){let l=n;l.source.fromUser?s=i3(e,t,l.path,l.children,r,i,o):(C(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Q_(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Hn.ACK_USER_WRITE){let l=n;l.revert?s=a3(e,t,l.path,r,i,o):s=o3(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===Hn.LISTEN_COMPLETE)s=s3(e,t,n.path,r,o);else throw Ui("Unknown operation type: "+n.type);let c=o.getChanges();return r3(t,s,c),{viewCache:s,changes:c}}function r3(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=dh(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(xR(dh(t)))}}function $R(e,t,n,r,i,o){let s=t.eventCache;if(hh(r,n)!=null)return t;{let a,c;if(Y(n))if(C(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=ro(t),u=l instanceof U?l:U.EMPTY_NODE,d=vE(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=fh(r,ro(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=z(n);if(l===".priority"){C($r(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=YA(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=le(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let f=YA(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=yE(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return Wc(t,a,s.isFullyInitialized()||Y(n),e.filter.filtersNodes())}}function ph(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(Y(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=z(n);if(!c.isCompleteForPath(n)&&$r(n)>1)return t;let p=le(n),v=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),v):l=u.updateChild(c.getNode(),h,v,p,HR,null)}let d=FR(t,l,c.isFullyInitialized()||Y(n),u.filtersNodes()),f=new Zc(i,d,o);return $R(e,d,n,i,f,a)}function Z_(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new Zc(i,t,o);if(Y(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Wc(t,l,!0,e.filter.filtersNodes());else{let d=z(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Wc(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=le(n),h=a.getNode().getImmediateChild(d),p;if(Y(f))p=r;else{let y=u.getCompleteChild(d);y!=null?DR(f)===".priority"&&y.getChild(SR(f)).isEmpty()?p=y:p=y.updateChild(f,r):p=U.EMPTY_NODE}if(h.equals(p))c=t;else{let y=e.filter.updateChild(a.getNode(),d,p,f,u,s);c=Wc(t,y,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function KA(e,t){return e.eventCache.isCompleteForChild(t)}function i3(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=Fe(n,c);KA(t,z(u))&&(a=Z_(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Fe(n,c);KA(t,z(u))||(a=Z_(e,a,u,l,i,o,s))}),a}function ZA(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Q_(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;Y(n)?l=r:l=new pt(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=ZA(e,h,f);c=ph(e,c,new se(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),y=ZA(e,p,f);c=ph(e,c,new se(d),y,i,o,s,a)}}),c}function o3(e,t,n,r,i,o,s){if(hh(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(Y(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return ph(e,t,n,c.getNode().getChild(n),i,o,a,s);if(Y(n)){let l=new pt(null);return c.getNode().forEachChild(Ms,(u,d)=>{l=l.set(new se(u),d)}),Q_(e,t,n,l,i,o,a,s)}else return t}else{let l=new pt(null);return r.foreach((u,d)=>{let f=Fe(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Q_(e,t,n,l,i,o,a,s)}}function s3(e,t,n,r,i){let o=t.serverCache,s=FR(t,o.getNode(),o.isFullyInitialized()||Y(n),o.isFiltered());return $R(e,s,n,r,HR,i)}function a3(e,t,n,r,i,o){let s;if(hh(r,n)!=null)return t;{let a=new Zc(r,t,i),c=t.eventCache.getNode(),l;if(Y(n)||z(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=fh(r,ro(t));else{let d=t.serverCache.getNode();C(d instanceof U,"serverChildren would be complete if leaf node"),u=vE(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=z(n),d=yE(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,le(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,U.EMPTY_NODE,le(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=fh(r,ro(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||hh(r,J())!=null,Wc(t,l,s,e.filter.filtersNodes())}}var J_=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Kc(r.getIndex()),o=x$(r);this.processor_=e3(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(U.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(U.EMPTY_NODE,a.getNode(),null),u=new $n(c,s.isFullyInitialized(),i.filtersNodes()),d=new $n(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=wh(d,u),this.eventGenerator_=new z_(this.query_)}get query(){return this.query_}};function c3(e){return e.viewCache_.serverCache.getNode()}function l3(e){return dh(e.viewCache_)}function u3(e,t){let n=ro(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Y(t)&&!n.getImmediateChild(z(t)).isEmpty())?n.getChild(t):null}function QA(e){return e.eventRegistrations_.length===0}function d3(e,t){e.eventRegistrations_.push(t)}function JA(e,t,n){let r=[];if(n){C(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function XA(e,t,n,r){t.type===Hn.MERGE&&t.source.queryId!==null&&(C(ro(e.viewCache_),"We should always have a full cache before handling merges"),C(dh(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=n3(e.processor_,i,t,n,r);return t3(e.processor_,o.viewCache),C(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,WR(e,o.changes,o.viewCache.eventCache.getNode(),null)}function f3(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ie,(o,s)=>{r.push(Fs(o,s))}),n.isFullyInitialized()&&r.push(xR(n.getNode())),WR(e,r,n.getNode(),t)}function WR(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return L$(e.eventGenerator_,t,n,i)}var gh,mh=class{constructor(){this.views=new Map}};function h3(e){C(!gh,"__referenceConstructor has already been defined"),gh=e}function p3(){return C(gh,"Reference.ts has not been loaded"),gh}function g3(e){return e.views.size===0}function _E(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return C(o!=null,"SyncTree gave us an op for an invalid query."),XA(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(XA(s,t,n,r));return o}}function zR(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=fh(n,i?r:null),c=!1;a?c=!0:r instanceof U?(a=vE(n,r),c=!1):(a=U.EMPTY_NODE,c=!1);let l=wh(new $n(a,c,!1),new $n(r,i,!1));return new J_(t,l)}return s}function m3(e,t,n,r,i,o){let s=zR(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),d3(s,n),f3(s,n)}function v3(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=Wr(e);if(i==="default")for(let[c,l]of e.views.entries())s=s.concat(JA(l,n,r)),QA(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(i);c&&(s=s.concat(JA(c,n,r)),QA(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Wr(e)&&o.push(new(p3())(t._repo,t._path)),{removed:o,events:s}}function GR(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Hr(e,t){let n=null;for(let r of e.views.values())n=n||u3(r,t);return n}function qR(e,t){if(t._queryParams.loadsAllData())return Th(e);{let r=t._queryIdentifier;return e.views.get(r)}}function YR(e,t){return qR(e,t)!=null}function Wr(e){return Th(e)!=null}function Th(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var vh;function y3(e){C(!vh,"__referenceConstructor has already been defined"),vh=e}function _3(){return C(vh,"Reference.ts has not been loaded"),vh}var E3=1,yh=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new pt(null),this.pendingWriteTree_=J$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function KR(e,t,n,r,i){return B$(e.pendingWriteTree_,t,n,r,i),i?ol(e,new Ls(PR(),t,n)):[]}function eo(e,t,n=!1){let r=H$(e.pendingWriteTree_,t);if($$(e.pendingWriteTree_,t)){let o=new pt(null);return r.snap!=null?o=o.set(J(),!0):ht(r.children,s=>{o=o.set(new se(s),!0)}),ol(e,new W_(r.path,o,n))}else return[]}function il(e,t,n){return ol(e,new Ls(gE(),t,n))}function C3(e,t,n){let r=pt.fromObject(n);return ol(e,new uh(gE(),t,r))}function I3(e,t){return ol(e,new lh(gE(),t))}function b3(e,t,n){let r=CE(e,n);if(r){let i=IE(r),o=i.path,s=i.queryId,a=rt(o,t),c=new lh(mE(s),a);return bE(e,o,c)}else return[]}function _h(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||YR(s,t))){let c=v3(s,t,n,r);g3(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>Wr(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=T3(f);for(let p=0;p<h.length;++p){let y=h[p],v=y.query,E=XR(e,y);e.listenProvider_.startListening(Gc(v),Qc(e,v),E.hashFn,E.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(Gc(t),null):l.forEach(f=>{let h=e.queryToTagMap.get(Sh(f));e.listenProvider_.stopListening(Gc(f),h)}))}S3(e,l)}return a}function ZR(e,t,n,r){let i=CE(e,r);if(i!=null){let o=IE(i),s=o.path,a=o.queryId,c=rt(s,t),l=new Ls(mE(a),c,n);return bE(e,s,l)}else return[]}function w3(e,t,n,r){let i=CE(e,r);if(i){let o=IE(i),s=o.path,a=o.queryId,c=rt(s,t),l=pt.fromObject(n),u=new uh(mE(a),c,l);return bE(e,s,u)}else return[]}function X_(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=rt(f,i);o=o||Hr(h,p),s=s||Wr(h)});let a=e.syncPointTree_.get(i);a?(s=s||Wr(a),o=o||Hr(a,J())):(a=new mh,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=U.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let y=Hr(p,J());y&&(o=o.updateImmediateChild(h,y))}));let l=YR(a,t);if(!l&&!t._queryParams.loadsAllData()){let f=Sh(t);C(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=A3();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=Dh(e.pendingWriteTree_,i),d=m3(a,t,n,u,o,c);if(!l&&!s&&!r){let f=qR(a,t);d=d.concat(R3(e,t,f))}return d}function EE(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=rt(s,t),l=Hr(a,c);if(l)return l});return jR(i,t,o,n,!0)}function D3(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=rt(l,n);r=r||Hr(u,d)});let i=e.syncPointTree_.get(n);i?r=r||Hr(i,J()):(i=new mh,e.syncPointTree_=e.syncPointTree_.set(n,i));let o=r!=null,s=o?new $n(r,!0,!1):null,a=Dh(e.pendingWriteTree_,t._path),c=zR(i,t,a,o?s.getNode():U.EMPTY_NODE,o);return l3(c)}function ol(e,t){return QR(t,e.syncPointTree_,null,Dh(e.pendingWriteTree_,J()))}function QR(e,t,n,r){if(Y(e.path))return JR(e,t,n,r);{let i=t.get(J());n==null&&i!=null&&(n=Hr(i,J()));let o=[],s=z(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=UR(r,s);o=o.concat(QR(a,c,l,u))}return i&&(o=o.concat(_E(i,e,r,n))),o}}function JR(e,t,n,r){let i=t.get(J());n==null&&i!=null&&(n=Hr(i,J()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=UR(r,s),u=e.operationForChild(s);u&&(o=o.concat(JR(u,a,c,l)))}),i&&(o=o.concat(_E(i,e,r,n))),o}function XR(e,t){let n=t.query,r=Qc(e,n);return{hashFn:()=>(c3(t)||U.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?b3(e,n._path,r):I3(e,n._path);{let o=WH(i,n);return _h(e,n,null,o)}}}}function Qc(e,t){let n=Sh(t);return e.queryToTagMap.get(n)}function Sh(e){return e._path.toString()+"$"+e._queryIdentifier}function CE(e,t){return e.tagToQueryMap.get(t)}function IE(e){let t=e.indexOf("$");return C(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new se(e.substr(0,t))}}function bE(e,t,n){let r=e.syncPointTree_.get(t);C(r,"Missing sync point for query tag that we're tracking");let i=Dh(e.pendingWriteTree_,t);return _E(r,n,i,null)}function T3(e){return e.fold((t,n,r)=>{if(n&&Wr(n))return[Th(n)];{let i=[];return n&&(i=GR(n)),ht(r,(o,s)=>{i=i.concat(s)}),i}})}function Gc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(_3())(e._repo,e._path):e}function S3(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=Sh(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function A3(){return E3++}function R3(e,t,n){let r=t._path,i=Qc(e,t),o=XR(e,n),s=e.listenProvider_.startListening(Gc(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)C(!Wr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!Y(l)&&u&&Wr(u))return[Th(u).query];{let f=[];return u&&(f=f.concat(GR(u).map(h=>h.query))),ht(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(Gc(u),Qc(e,u))}}return s}var eE=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},tE=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=Fe(this.path_,t);return new e(this.syncTree_,n)}node(){return EE(this.syncTree_,this.path_)}},N3=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},eR=function(e,t,n){if(!e||typeof e!="object")return e;if(C(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return M3(e[".sv"],t,n);if(typeof e[".sv"]=="object")return O3(e[".sv"],t);C(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},M3=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+e)}},O3=function(e,t,n){e.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&C(!1,"Unexpected increment value: "+r);let i=t.node();if(C(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},x3=function(e,t,n,r){return wE(t,new tE(n,e),r)},eN=function(e,t,n){return wE(e,new eE(t),n)};function wE(e,t,n){let r=e.getPriority().val(),i=eR(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=eR(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new ks(a,je(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new ks(i))),s.forEachChild(Ie,(a,c)=>{let l=wE(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Jc=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function DE(e,t){let n=t instanceof se?t:new se(t),r=e,i=z(n);for(;i!==null;){let o=Hi(r.node.children,i)||{children:{},childCount:0};r=new Jc(i,r,o),n=le(n),i=z(n)}return r}function Bs(e){return e.node.value}function tN(e,t){e.node.value=t,nE(e)}function nN(e){return e.node.childCount>0}function k3(e){return Bs(e)===void 0&&!nN(e)}function Ah(e,t){ht(e.node.children,(n,r)=>{t(new Jc(n,e,r))})}function rN(e,t,n,r){n&&!r&&t(e),Ah(e,i=>{rN(i,t,!0,r)}),n&&r&&t(e)}function P3(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function sl(e){return new se(e.parent===null?e.name:sl(e.parent)+"/"+e.name)}function nE(e){e.parent!==null&&F3(e.parent,e.name,e)}function F3(e,t,n){let r=k3(n),i=Vn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,nE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,nE(e))}var L3=/[\[\].#$\/\u0000-\u001F\u007F]/,V3=/[\[\].#$\u0000-\u001F\u007F]/,p_=10*1024*1024,iN=function(e){return typeof e=="string"&&e.length!==0&&!L3.test(e)},oN=function(e){return typeof e=="string"&&e.length!==0&&!V3.test(e)},j3=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),oN(e)};var U3=function(e,t,n,r){r&&t===void 0||TE(Mf(e,"value"),t,n)},TE=function(e,t,n){let r=n instanceof se?new A_(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Ji(r));if(typeof t=="function")throw new Error(e+"contains a function "+Ji(r)+" with contents = "+t.toString());if(aR(t))throw new Error(e+"contains "+t.toString()+" "+Ji(r));if(typeof t=="string"&&t.length>p_/3&&Tc(t)>p_)throw new Error(e+"contains a string greater than "+p_+" utf8 bytes "+Ji(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(ht(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!iN(s)))throw new Error(e+" contains an invalid key ("+s+") "+Ji(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_$(r,s),TE(e,a,r),E$(r)}),i&&o)throw new Error(e+' contains ".value" child '+Ji(r)+" in addition to actual children.")}};var sN=function(e,t,n,r){if(!(r&&n===void 0)&&!oN(n))throw new Error(Mf(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},B3=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sN(e,t,n,r)},H3=function(e,t){if(z(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},$3=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!iN(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!j3(n))throw new Error(Mf(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var rE=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function SE(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!fE(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function aN(e,t,n){SE(e,n),cN(e,r=>fE(r,t))}function Wn(e,t,n){SE(e,n),cN(e,r=>fn(r,t)||fn(t,r))}function cN(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(W3(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function W3(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();to&&Qe("event: "+n.toString()),Us(r)}}}var z3="repo_interrupt",G3=25,iE=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ch(),this.transactionQueueTree_=new Jc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function q3(e,t,n){if(e.stats_=dE(e.repoInfo_),e.forceRestClient_||YH())e.server_=new j_(e.repoInfo_,(r,i,o,s)=>{tR(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>nR(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Oe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new hE(e.repoInfo_,t,(r,i,o,s)=>{tR(e,r,i,o,s)},r=>{nR(e,r)},r=>{K3(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=ZH(e.repoInfo_,()=>new $_(e.stats_,e.server_)),e.infoData_=new U_,e.infoSyncTree_=new yh({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=il(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),RE(e,"connected",!1),e.serverSyncTree_=new yh({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Wn(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function Y3(e){let n=e.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function AE(e){return N3({timestamp:Y3(e)})}function tR(e,t,n,r,i){e.dataUpdateCount++;let o=new se(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=wc(n,l=>je(l));s=w3(e.serverSyncTree_,o,c,i)}else{let c=je(n);s=ZR(e.serverSyncTree_,o,c,i)}else if(r){let c=wc(n,l=>je(l));s=C3(e.serverSyncTree_,o,c)}else{let c=je(n);s=il(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Nh(e,o)),Wn(e.eventQueue_,a,s)}function nR(e,t){RE(e,"connected",t),t===!1&&J3(e)}function K3(e,t){ht(t,(n,r)=>{RE(e,n,r)})}function RE(e,t,n){let r=new se("/.info/"+t),i=je(n);e.infoData_.updateSnapshot(r,i);let o=il(e.infoSyncTree_,r,i);Wn(e.eventQueue_,r,o)}function lN(e){return e.nextWriteId_++}function Z3(e,t,n){let r=D3(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{let o=je(i).withIndex(t._queryParams.getIndex());X_(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=il(e.serverSyncTree_,t._path,o);else{let a=Qc(e.serverSyncTree_,t);s=ZR(e.serverSyncTree_,t._path,o,a)}return Wn(e.eventQueue_,t._path,s),_h(e.serverSyncTree_,t,n,null,!0),o},i=>(Rh(e,"get for query "+Oe(t)+" failed: "+i),Promise.reject(new Error(i))))}function Q3(e,t,n,r,i){Rh(e,"set",{path:t.toString(),value:n,priority:r});let o=AE(e),s=je(n,r),a=EE(e.serverSyncTree_,t),c=eN(s,a,o),l=lN(e),u=KR(e.serverSyncTree_,t,c,l,!0);SE(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||ft("set at "+t+" failed: "+f);let y=eo(e.serverSyncTree_,l,!p);Wn(e.eventQueue_,t,y),tW(e,i,f,h)});let d=pN(e,t);Nh(e,d),Wn(e.eventQueue_,d,[])}function J3(e){Rh(e,"onDisconnectEvents");let t=AE(e),n=ch();B_(e.onDisconnect_,J(),(i,o)=>{let s=x3(i,o,e.serverSyncTree_,t);kR(n,i,s)});let r=[];B_(n,J(),(i,o)=>{r=r.concat(il(e.serverSyncTree_,i,o));let s=pN(e,i);Nh(e,s)}),e.onDisconnect_=ch(),Wn(e.eventQueue_,J(),r)}function X3(e,t,n){let r;z(t._path)===".info"?r=X_(e.infoSyncTree_,t,n):r=X_(e.serverSyncTree_,t,n),aN(e.eventQueue_,t._path,r)}function rR(e,t,n){let r;z(t._path)===".info"?r=_h(e.infoSyncTree_,t,n):r=_h(e.serverSyncTree_,t,n),aN(e.eventQueue_,t._path,r)}function eW(e){e.persistentConnection_&&e.persistentConnection_.interrupt(z3)}function Rh(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Qe(n,...t)}function tW(e,t,n,r){t&&Us(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function uN(e,t,n){return EE(e.serverSyncTree_,t,n)||U.EMPTY_NODE}function NE(e,t=e.transactionQueueTree_){if(t||Mh(e,t),Bs(t)){let n=fN(e,t);C(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&nW(e,sl(t),n)}else nN(t)&&Ah(t,n=>{NE(e,n)})}function nW(e,t,n){let r=n.map(l=>l.currentWriteId),i=uN(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];C(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=rt(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{Rh(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(eo(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Mh(e,DE(e.transactionQueueTree_,t)),NE(e,e.transactionQueueTree_),Wn(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)Us(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ft("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Nh(e,t)}},s)}function Nh(e,t){let n=dN(e,t),r=sl(n),i=fN(e,n);return rW(e,i,r),r}function rW(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=rt(n,c.path),u=!1,d;if(C(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(eo(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=G3)u=!0,d="maxretry",i=i.concat(eo(e.serverSyncTree_,c.currentWriteId,!0));else{let f=uN(e,c.path,s);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){TE("transaction failed: Data returned ",h,c.path);let p=je(h);typeof h=="object"&&h!=null&&Vn(h,".priority")||(p=p.updatePriority(f.getPriority()));let v=c.currentWriteId,E=AE(e),H=eN(p,f,E);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=H,c.currentWriteId=lN(e),s.splice(s.indexOf(v),1),i=i.concat(KR(e.serverSyncTree_,c.path,H,c.currentWriteId,c.applyLocally)),i=i.concat(eo(e.serverSyncTree_,v,!0))}else u=!0,d="nodata",i=i.concat(eo(e.serverSyncTree_,c.currentWriteId,!0))}Wn(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Mh(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Us(r[a]);NE(e,e.transactionQueueTree_)}function dN(e,t){let n,r=e.transactionQueueTree_;for(n=z(t);n!==null&&Bs(r)===void 0;)r=DE(r,n),t=le(t),n=z(t);return r}function fN(e,t){let n=[];return hN(e,t,n),n.sort((r,i)=>r.order-i.order),n}function hN(e,t,n){let r=Bs(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ah(t,i=>{hN(e,i,n)})}function Mh(e,t){let n=Bs(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,tN(t,n.length>0?n:void 0)}Ah(t,r=>{Mh(e,r)})}function pN(e,t){let n=sl(dN(e,t)),r=DE(e.transactionQueueTree_,t);return P3(r,i=>{g_(e,i)}),g_(e,r),rN(r,i=>{g_(e,i)}),n}function g_(e,t){let n=Bs(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(C(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(C(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(eo(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?tN(t,void 0):n.length=o+1,Wn(e.eventQueue_,sl(t),i);for(let s=0;s<r.length;s++)Us(r[s])}}function iW(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function oW(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ft(`Invalid query segment '${n}' in query '${e}'`)}return t}var iR=function(e,t){let n=sW(e),r=n.namespace;n.domain==="firebase.com"&&pr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&pr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||jH();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new eh(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new se(n.pathString)}},sW=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=iW(e.substring(u,d)));let f=oW(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Eh=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Oe(this.snapshot.exportVal())}},Ch=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Ih=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return C(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var oE=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Y(this._path)?null:DR(this._path)}get ref(){return new zn(this._repo,this._path)}get _queryIdentifier(){let t=$A(this._queryParams),n=uE(t);return n==="{}"?"default":n}get _queryObject(){return $A(this._queryParams)}isEqual(t){if(t=Rt(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=fE(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+y$(this._path)}};var zn=class e extends oE{constructor(t,n){super(t,n,new V_,!1)}get parent(){let t=SR(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},Xc=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new se(t),r=el(this.ref,t);return new e(this._node.getChild(n),r,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,el(this.ref,r),Ie)))}hasChild(t){let n=new se(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function gN(e,t){return e=Rt(e),e._checkNotDeleted("ref"),t!==void 0?el(e._root,t):e._root}function el(e,t){return e=Rt(e),z(e._path)===null?B3("child","path",t,!1):sN("child","path",t,!1),new zn(e._repo,Fe(e._path,t))}function mN(e,t){e=Rt(e),H3("set",e._path),U3("set",t,e._path,!1);let n=new sn;return Q3(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function vN(e){e=Rt(e);let t=new Ih(()=>{}),n=new bh(t);return Z3(e._repo,e,n).then(r=>new Xc(r,new zn(e._repo,e._path),e._queryParams.getIndex()))}var bh=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new Eh("value",this,new Xc(t.snapshotNode,new zn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Ch(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},sE=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Ch(this,t,n):null}createEvent(t,n){C(t.childName!=null,"Child events should have a childName.");let r=el(new zn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Eh(t.type,this,new Xc(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function aW(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{rR(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new Ih(n,o||void 0),a=t==="value"?new bh(s):new sE(t,s);return X3(e._repo,e,a),()=>rR(e._repo,e,a)}function yN(e,t,n,r){return aW(e,"value",t,n,r)}h3(zn);y3(zn);var cW="FIREBASE_DATABASE_EMULATOR_HOST",aE={},lW=!1;function uW(e,t,n,r){let i=t.lastIndexOf(":"),o=t.substring(0,i),s=Bi(o);e.repoInfo_=new eh(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function dW(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||pr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=iR(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[cW]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=iR(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new $c($c.OWNER):new C_(e.name,e.options,t);$3("Invalid Firebase Database URL",s),Y(s.path)||pr("Database URL must point to the root of a Firebase Database (not including a child path).");let d=hW(a,e,u,new E_(e,n));return new cE(d,e)}function fW(e,t){let n=aE[t];(!n||n[e.key]!==e)&&pr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),eW(e),delete n[e.key]}function hW(e,t,n,r){let i=aE[t.name];i||(i={},aE[t.name]=i);let o=i[e.toURLString()];return o&&pr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new iE(e,lW,n,r),i[e.toURLString()]=o,o}var cE=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(q3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zn(this._repo,J())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fW(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&pr("Cannot call "+t+" on a deleted database.")}};function _N(e=Ds(),t){let n=kf(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=b0("database");r&&EN(n,...r)}return n}function EN(e,t,n,r={}){e=Rt(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&$i(r,o.repoInfo_.emulatorOptions))return;pr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&pr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new $c($c.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:D0(r.mockUserToken,e.app.options.projectId);s=new $c(a)}Bi(t)&&(Ty(t),Sy("Database",!0)),uW(o,i,r,s)}function pW(e){FH(ws),ln(new nt("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return dW(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),De(TA,SA,e),De(TA,SA,"esm2017")}hE.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};hE.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};pW();var oo=class{constructor(t){return t}},CN="database",ME=class{constructor(){return Ss(CN)}};var OE=new I("angularfire2.database-instances");function gW(e,t){let n=Lf(CN,e,t);return n&&new oo(n)}function mW(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new oo(r)}}var vW={provide:ME,deps:[[new Tn,OE]]},yW={provide:oo,useFactory:gW,deps:[[new Tn,OE],Yi]};function IN(e,...t){return De("angularfire",Gi.full,"rtdb"),st([yW,vW,{provide:OE,useFactory:mW(e),multi:!0,deps:[re,ve,qi,Nc,[new Tn,Qf],[new Tn,jf],...t]}])}var Oh=Bn(vN,!0),bN=Bn(_N,!0);var xE=Bn(yN,!0);var so=Bn(gN,!0,2);var wN=Bn(mN,!0,2);var zr=class e{constructor(t,n){this.database=t;this.platformId=n}getTiles(){return lr(this.platformId)?new x(t=>{let n=so(this.database,"Boards"),r=xE(n,i=>{let o=i.val();if(o){let s=[];for(let a in o){let c=[];for(let l in o[a])if(o[a].hasOwnProperty(l)){let u=o[a][l];c.push(u)}s.push(c)}t.next(s)}else t.next([])},i=>{t.error(i)});return()=>{r()}}):N([])}updateTile(t,n,r){let i=so(this.database,`Boards/Team ${t+1}/${r}`);return wN(i,n)}getTeamCredentials(t){let n=so(this.database,`LoginCredentials/Team ${t+1}`);return Oh(n)}getDonations2(){return lr(this.platformId)?new x(t=>{let n=so(this.database,"Donations/"),r=xE(n,i=>{let o=i.val();if(o){let s=[];for(let a in o)for(let c in o[a])s.push({name:c,amount:o[a][c]});t.next(s)}else t.next([])},i=>{t.error(i)});return()=>{r()}}):N([])}getDonations(){return m(this,null,function*(){if(!lr(this.platformId))return[];let t=[],n=0;for(;;){let r=so(this.database,`Donations/${n}`),i=yield Oh(r);if(!i.exists())break;let o=i.val(),s,a;if(o&&typeof o=="object"&&!Array.isArray(o)){let c=Object.entries(o);if(c.length===1){let[l,u]=c[0];s=String(l),a=typeof u=="number"?u:Number(u??0)||0,t.push({name:s,amount:a}),n++;continue}}n++}return t})}getTeamNames(){return m(this,null,function*(){if(!lr(this.platformId))return[];let t=[],n=1;for(;;){let r=so(this.database,`LoginCredentials/Team ${n}/name`),i=yield Oh(r);if(!i.exists())break;let o=i.val();t.push(typeof o=="string"?o:String(o)),n++}return t})}static \u0275fac=function(n){return new(n||e)(R(oo),R(lt))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};var xh=(n=>(n[n.Team1=0]="Team1",n[n.Team2=1]="Team2",n))(xh||{});var kh=class e{constructor(t){this.databaseService=t}session={team:-1,authenticated:!1};validPassword(t,n){return m(this,null,function*(){if(Lr.production===!0&&n!==-1)try{let r=yield this.databaseService.getTeamCredentials(n),i=r.val()?JSON.stringify(r.val().password):"";return n===0&&i===JSON.stringify(t)?(this.loginForTeam(0),!0):n===1&&i===JSON.stringify(t)?(this.loginForTeam(1),!0):!1}catch{return!1}else return Lr.production===!1?(this.loginForTeam(n),!0):!1})}loginForTeam(t){t===0?this.session={team:0,authenticated:!0}:t===1&&(this.session={team:1,authenticated:!0})}logout(){this.session={team:-1,authenticated:!1}}static \u0275fac=function(n){return new(n||e)(R(zr))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};var CW=()=>({standalone:!0}),IW=e=>({"is-invalid":e}),DN=()=>[""];function bW(e,t){e&1&&(w(0,"label",10),T(1,"Team 1 Password:"),D())}function wW(e,t){e&1&&(w(0,"label",10),T(1,"Team 2 Password:"),D())}function DW(e,t){if(e&1){let n=cr();w(0,"input",12),Ko("ngModelChange",function(i){Pt(n);let o=q(2);return xa(o.password,i)||(o.password=i),Ft(i)}),D()}if(e&2){let n=q(2);pe("ngClass",Km(2,IW,n.errorMessage!=="")),Yo("ngModel",n.password)}}function TW(e,t){if(e&1){let n=cr();w(0,"form",4)(1,"div",5)(2,"label",6),T(3,"Choose your team"),D(),w(4,"select",7),Ko("ngModelChange",function(i){Pt(n);let o=q();return xa(o.selectedTeam,i)||(o.selectedTeam=i),Ft(i)}),Ce("change",function(){Pt(n);let i=q();return Ft(i.onTeamSelect(i.selectedTeam))}),w(5,"option",8),T(6,"Select Team"),D(),w(7,"option",9),T(8),D(),w(9,"option",9),T(10),D()()(),Me(11,"br"),w(12,"div",5),xe(13,bW,2,0,"label",10),xe(14,wW,2,0,"label",10),xe(15,DW,1,4,"input",11),D()()}if(e&2){let n=q();A(4),Yo("ngModel",n.selectedTeam),pe("ngModelOptions",Tr(10,CW)),A(),pe("value",-1),A(2),pe("value",0),A(),$e(n.teamNames[0]),A(),pe("value",1),A(),$e(n.teamNames[1]),A(3),ke(n.selectedTeam===0?13:-1),A(),ke(n.selectedTeam===1?14:-1),A(),ke(n.selectedTeam!==-1?15:-1)}}function SW(e,t){e&1&&(w(0,"tr")(1,"td",20),T(2,"No tiles available"),D()())}function AW(e,t){if(e&1){let n=cr();w(0,"tr")(1,"td"),T(2),D(),w(3,"td")(4,"div"),Me(5,"img",21),D()(),w(6,"td")(7,"div"),Me(8,"img",21),D()(),w(9,"td"),T(10),D(),w(11,"td"),T(12),D(),w(13,"td"),T(14),D(),w(15,"td")(16,"input",22),Ko("ngModelChange",function(i){let o=Pt(n).$implicit;return xa(o.itemsObtained,i)||(o.itemsObtained=i),Ft(i)}),D()(),w(17,"td")(18,"button",23),Ce("click",function(){let i=Pt(n).$implicit,o=q(4);return Ft(o.saveTile(i,i.id-1))}),T(19,"Save"),D()()()}if(e&2){let n=t.$implicit;A(2),ue(" ",n.title," "),A(3),pe("src",n.src,wr),A(3),pe("src",n.bossSrc,wr),A(2),$e(n.points),A(2),$e(n.description),A(2),$e(n.itemsRequired),A(2),Yo("ngModel",n.itemsObtained),pe("max",n.itemsRequired)}}function RW(e,t){if(e&1&&Dt(0,AW,20,8,"tr",null,Ti),e&2){let n=t.$implicit;Tt(n)}}function NW(e,t){if(e&1&&Dt(0,RW,2,0,null,null,Ti),e&2){let n=q(2);Tt(n.board)}}function MW(e,t){if(e&1){let n=cr();w(0,"div")(1,"div",13)(2,"h2"),T(3),D(),w(4,"p"),T(5,"This is where you can edit your board!"),D(),w(6,"div",14)(7,"button",15),T(8,"Return to board"),D(),w(9,"button",16),Ce("click",function(){Pt(n);let i=q();return Ft(i.logout())}),T(10,"Log out"),D()()(),w(11,"div",17)(12,"table",18)(13,"thead")(14,"tr",19)(15,"th"),T(16,"Tile title"),D(),w(17,"th"),T(18,"Image"),D(),w(19,"th"),T(20,"Boss image"),D(),w(21,"th"),T(22,"Points"),D(),w(23,"th"),T(24,"Description"),D(),w(25,"th"),T(26,"Required"),D(),w(27,"th"),T(28,"Obtained"),D(),w(29,"th"),T(30,"Actions"),D()()(),w(31,"tbody"),xe(32,SW,3,0,"tr")(33,NW,2,0),D()()()()}if(e&2){let n=q();A(3),ue("Welcome ",n.teamNames[n.sessionService.session.team],"!"),A(4),pe("routerLink",Tr(3,DN)),A(25),ke(n.board.length===0?32:33)}}function OW(e,t){if(e&1&&(w(0,"div",24),T(1),D()),e&2){let n=q(2);A(),$e(n.errorMessage)}}function xW(e,t){e&1&&Me(0,"br")}function kW(e,t){if(e&1){let n=cr();xe(0,OW,2,1,"div",24)(1,xW,1,0,"br"),w(2,"div",25)(3,"button",16),Ce("click",function(){Pt(n);let i=q();return Ft(i.login())}),T(4,"Log in"),D(),w(5,"button",15),T(6,"Return to board"),D()()}if(e&2){let n=q();ke(n.errorMessage.length>0?0:1),A(5),pe("routerLink",Tr(2,DN))}}var Ph=class e{constructor(t,n,r){this.databaseService=t;this.platformId=n;this.sessionService=r}selectedTeam=-1;boardSize=6;password="";board=[[]];teamNames=["Team 1","Team 2"];errorMessage="";ngOnInit(){this.databaseService.getTeamNames().then(t=>{this.teamNames[0]=t[0]||"Team 1",this.teamNames[1]=t[1]||"Team 2"}),this.sessionService.session.authenticated&&(this.selectedTeam=this.sessionService.session.team,this.loadTilesFromFirebase())}onTeamSelect(t){this.selectedTeam=parseInt(t),this.loadTilesFromFirebase()}loadTilesFromFirebase(){this.databaseService.getTiles().subscribe({next:t=>{t&&t.length>0&&this.generateBoard(t[this.selectedTeam])},error:t=>{}})}saveTile(t,n){this.databaseService.updateTile(this.selectedTeam,t,n).catch(r=>{})}generateBoard(t){this.board=[];let n=0;for(let r=0;r<this.boardSize;r++){this.board[r]=[];for(let i=0;i<this.boardSize;i++){if(n>=t.length)return;this.board[r][i]=k(_({},t[n]),{id:r*this.boardSize+i+1}),n++}}}login(){return m(this,null,function*(){if(yield this.sessionService.validPassword(this.password,this.selectedTeam))if(Lr.production===!1){let n=new ji;this.board=n.board,this.generateBoard(this.board[this.selectedTeam])}else lr(this.platformId)&&this.loadTilesFromFirebase();else this.errorMessage="Incorrect password. Please try again."})}logout(){this.sessionService.logout(),this.selectedTeam=-1,this.board=[[]],this.password="",this.errorMessage=""}handleKeyboardEvent(t){t.key==="Enter"&&this.login()}static \u0275fac=function(n){return new(n||e)(P(zr),P(lt),P(kh))};static \u0275cmp=Xt({type:e,selectors:[["app-cabbingo-edit-board"]],hostBindings:function(n,r){n&1&&Ce("keydown",function(o){return r.handleKeyboardEvent(o)},vm)},decls:9,vars:2,consts:[[1,"page-wrap"],[1,"banner"],[1,"d-flex","justify-content-center"],[1,"osrs-border-thick-login","px-5","py-4","mb-5","d-flex","flex-column","justify-content-between",2,"height","auto"],[2,"width","500px"],[1,"col-12"],["for","teamSelect",1,"form-label"],["id","teamSelect",1,"form-control",3,"ngModelChange","change","ngModel","ngModelOptions"],["disabled","","selected","",3,"value"],[3,"value"],["for","password"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",3,"ngClass","ngModel"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",3,"ngModelChange","ngClass","ngModel"],[1,"d-flex","flex-row","justify-content-between"],[1,"d-flex","flex-row","gap-4"],[1,"btn","custom-btn",3,"routerLink"],["type","submit",1,"btn","custom-btn",3,"click"],[1,"mt-2","overflow-auto",2,"max-height","600px"],[1,"table","osrs-table","table-bordered"],[1,"sticky-top",2,"top","-1px","box-shadow","black 0px 1px 0px 0px"],["colspan","8"],[1,"tile-image",3,"src"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel","max"],[1,"btn","custom-btn","col-12",3,"click"],[1,"text-danger","mt-2"],[1,"d-flex","justify-content-between"]],template:function(n,r){n&1&&(w(0,"div",0),Me(1,"div",1),w(2,"div",2)(3,"div",3)(4,"div",2),xe(5,TW,16,11,"form",4)(6,MW,34,4,"div"),D(),w(7,"div"),xe(8,kW,7,3),D()()()()),n&2&&(A(5),ke(r.sessionService.session.authenticated?6:5),A(3),ke(r.sessionService.session.authenticated?-1:8))},dependencies:[Rd,Ua,p0,a0,l0,d0,bf,my,Tf,e0,t0,yy,vy,gy,py,hc,vs],encapsulation:2})};function PW(e,t){if(e&1&&(Ee(0,"div",25)(1,"div",26),T(2),ge(),Ee(3,"div",27),T(4),ge()(),Ee(5,"div",28),T(6),Zo(7,"number"),ge()),e&2){let n=q().$implicit,r=q().$index;A(2),ue("",r+1,"."),A(2),$e(n.player_name_with_capitalization),A(2),ue("+ ",Qo(7,3,n.gain,"1.0-0"))}}function FW(e,t){if(e&1&&xe(0,PW,8,6),e&2){let n=t.$implicit,r=q().$implicit;ke(n.username===r?0:-1)}}function LW(e,t){if(e&1&&(Ee(0,"div",8),Dt(1,FW,1,1,null,null,Ti),ge()),e&2){let n=q();A(),Tt(n.participants)}}function VW(e,t){if(e&1&&(Ee(0,"div",24)(1,"p",29),T(2),ge(),Ee(3,"span",30),T(4),Zo(5,"number"),ge()()),e&2){let n=t.$implicit,r=t.$index;A(2),qo("",r+1,". ",n.name,":"),A(2),ue("+",Qo(5,3,n.amount,"1.0-0"),"M")}}var Fh=class e{teams=[];participants=[];currentTeam=0;endDatetime=new Date;donations=[];subscription;now=Date.now();endDateTimemillis=0;remainingTime="";prizePool=0;ngOnInit(){this.setBingoEndCountdown()}getTeamMvp(){let t=this.teams[this.currentTeam];return this.participants.find(n=>n.username===t.mvp)?.player_name_with_capitalization??t.mvp}setBingoEndCountdown(){if(this.endDatetime){let t=new Date(this.endDatetime);t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),this.endDateTimemillis=t.getTime(),this.updateCountdown(),this.subscription=Zs(1e3).subscribe(()=>this.updateCountdown())}}updateCountdown(){let t=new Date().getTime(),r=this.endDateTimemillis-t;if(r<0){this.remainingTime="Expired",this.subscription?.unsubscribe();return}let i=Math.floor(r/(1e3*60*60*24)),o=Math.floor(r%(1e3*60*60*24)/(1e3*60*60)),s=Math.floor(r%(1e3*60*60)/(1e3*60)),a=Math.floor(r%(1e3*60)/1e3);this.remainingTime=`${i}d ${o}h ${s}m ${a}s`}ngOnDestroy(){this.subscription?.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Xt({type:e,selectors:[["app-cabbingo-stats"]],inputs:{teams:"teams",participants:"participants",currentTeam:"currentTeam",endDatetime:"endDatetime",donations:"donations",prizePool:"prizePool"},decls:54,vars:10,consts:[[1,"d-flex","justify-content-center"],[1,"d-flex","flex-row","justify-content-between","d-flex","justify-content-center","gap-3"],[1,"osrs-border","p-1","col-4"],[1,"stats-outline","mb-2"],[1,"d-flex","flex-column","justify-content-center","align-items-center","stats-item","px-5"],[2,"color","#FF9933"],[1,"d-flex","justify-content-center","p-0","m-0"],["src","assets/members.png","height","25",1,"me-2"],[1,"d-flex","flex-row","justify-content-between","mx-2"],[1,"osrs-border","p-1","col-8"],[1,"d-flex","flex-column","justify-content-between","align-items-center","gap-5"],[1,"d-flex","flex-column","justify-content-between","align-items-center","gap-2","w-100"],[1,"stats-outline","w-100"],[1,"d-flex","justify-content-center","p-0","m-0",2,"color","#FF9933"],["src","assets/xp.png","height","25",1,"me-2"],[1,"d-flex","justify-content-center","align-items-center","align-content-center","p-0","m-0"],[1,"d-flex","flex-row","w-100","gap-1"],["src","assets/mvp.png","height","25",1,"me-2"],["src","assets/timeleft.png","height","25",1,"me-2"],[1,"d-flex","justify-content-center","align-items-center","align-content-center","p-0","m-0",2,"color","#FF9933"],["src","assets/prizepool.png","height","25",1,"me-2"],[1,"d-flex","flex-column","stats-item","px-5"],["src","assets/coins.png","height","25",1,"me-2"],[1,"w-100","d-grid","gap-3","mb-2",2,"grid-template-columns","repeat(2, 1fr)","justify-items","center"],[1,"d-flex","align-items-baseline",2,"font-size","20px"],[1,"d-flex","flex-row","col-9",2,"color","#FF9933"],[1,"col-1","align"],[1,"col-11"],[1,"col-3"],[1,"m-0"],[1,"text-success","ms-2"]],template:function(n,r){if(n&1&&(Ee(0,"h3",0),T(1,"Team Statistics"),ge(),Ee(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h3",6),ar(8,"img",7),T(9," Members "),ge()()()(),Dt(10,LW,3,0,"div",8,Ti),ge(),Ee(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",4)(17,"h3",13),ar(18,"img",14),T(19," Total experience gained "),ge(),Ee(20,"h3",15),T(21),Zo(22,"number"),ge()()(),Ee(23,"div",16)(24,"div",12)(25,"div",4)(26,"h3",13),ar(27,"img",17),T(28," Team MVP "),ge(),Ee(29,"h3",6),T(30),ge()()(),Ee(31,"div",12)(32,"div",4)(33,"h3",13),ar(34,"img",18),T(35," Time left "),ge(),Ee(36,"h3",6),T(37),ge()()()(),Ee(38,"div",12)(39,"div",4)(40,"h3",19),ar(41,"img",20),T(42," Prize pool "),ge(),Ee(43,"h3",15),T(44),Zo(45,"number"),ge()()(),Ee(46,"div",12)(47,"div",21)(48,"h3",19),ar(49,"img",22),T(50," Donations "),ge(),Ee(51,"div",23),Dt(52,VW,6,6,"div",24,Di),ge()()()()()()()),n&2){A(10),Tt(r.teams[r.currentTeam].members);let i=r.teams[r.currentTeam];A(11),ue(" ",Qo(22,4,+i.gain||0,"1.0-0")," "),A(9),ue(" ",r.getTeamMvp()||"Not found"," "),A(7),ue(" ",r.remainingTime," "),A(7),ue(" ",Qo(45,7,r.prizePool,"1.0-0")," GP "),A(8),Tt(r.donations)}},dependencies:[gv],encapsulation:2})};var Lh=class e{constructor(t){this.http=t}apiUrl="https://steep-unit-c896.tehnumberone87.workers.dev/templeosrs/api/";getCompetition(t){let n=new rn().set("id",t);return this.http.get(`${this.apiUrl}competition_info_v2.php`,{params:n})}static \u0275fac=function(n){return new(n||e)(R(Vd))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};var UW=()=>["/edit-board"],BW=()=>[],TN=(e,t)=>({"rules-btn-selected":e,"rules-btn":t}),HW=(e,t)=>({"tile-selected":e,"tile-completed":t}),$W=(e,t)=>t.id;function WW(e,t){if(e&1&&(w(0,"div",23),T(1),Me(2,"i",25),D()),e&2){let n=q().$index;A(),ue("Column ",n+1," ")}}function zW(e,t){if(e&1&&(w(0,"div",24),T(1),D()),e&2){let n=q().$index;A(),ue("Column ",n+1)}}function GW(e,t){if(e&1&&xe(0,WW,3,1,"div",23)(1,zW,2,1,"div",24),e&2){let n=t.$index,r=q();ke(r.getTotalPoints()>0&&r.calculateColumnBonuses(n)>0?0:1)}}function qW(e,t){if(e&1&&(w(0,"div",26),T(1),Me(2,"i",25),D()),e&2){let n=q().$index;A(),ue("Row ",n+1," ")}}function YW(e,t){if(e&1&&(w(0,"div",27),T(1),D()),e&2){let n=q().$index;A(),ue("Row ",n+1)}}function KW(e,t){if(e&1){let n=cr();w(0,"button",29),Ce("click",function(){let i=Pt(n).$implicit,o=q(2);return Ft(o.onTileClick(i))}),w(1,"div")(2,"div",30)(3,"div",31),Me(4,"div",32),D()(),Me(5,"img",33),w(6,"p",34),T(7),D()()()}if(e&2){let n=t.$implicit,r=q(2);pe("ngClass",ka(12,HW,n===r.selectedTile,n.itemsObtained>=n.itemsRequired)),A(2),Go("background-color",n.itemsObtained>=n.itemsRequired?"transparent!important":null),A(),Go("background-color",n.itemsObtained>=n.itemsRequired?"transparent!important":null)("width",n.itemsObtained/n.itemsRequired*100,"%"),sr("aria-valuenow",n.itemsObtained)("aria-valuemax",n.itemsRequired),A(2),pe("src",n.src,wr)("alt",n.alt),A(2),$e(n.title)}}function ZW(e,t){if(e&1&&(w(0,"div",11),xe(1,qW,3,1,"div",26)(2,YW,2,1,"div",27),Dt(3,KW,8,15,"button",28,$W),D()),e&2){let n=t.$implicit,r=t.$index,i=q();A(),ke(i.getTotalPoints()>0&&i.calculateRowBonuses(r)>0?1:2),A(2),Tt(n)}}function QW(e,t){if(e&1&&(w(0,"div"),T(1),D(),w(2,"div"),Me(3,"img",35),D(),w(4,"div",36)(5,"div",37),T(6," Points: "),w(7,"p",38),T(8),D()(),w(9,"div"),T(10),D()()),e&2){let n=q();A(),$e(n.selectedTile.description),A(2),pe("src",n.selectedTile.bossSrc,wr)("alt",n.selectedTile.alt||""),A(5),ue(" ",n.selectedTile.points," "),A(),Go("color",n.selectedTile.itemsObtained>=n.selectedTile.itemsRequired?"rgb(8, 255, 8)":null),A(),qo(" ",n.selectedTile.itemsObtained," / ",n.selectedTile.itemsRequired," Obtained ")}}function JW(e,t){e&1&&(w(0,"p"),T(1,"Click on a tile!"),D())}function XW(e,t){e&1&&T(0," There are no rules for this tile. ")}function ez(e,t){if(e&1&&T(0),e&2){let n=q().$implicit;ue(" ",n," ")}}function tz(e,t){if(e&1&&(w(0,"strong",39),T(1),D()),e&2){let n=q().$implicit;A(),$e(n.replace("-",""))}}function nz(e,t){if(e&1&&(w(0,"strong",40),T(1),D()),e&2){let n=q().$implicit;A(),$e(n.replace("+",""))}}function rz(e,t){if(e&1&&(w(0,"strong",41),T(1),D()),e&2){let n=q().$implicit;A(),$e(n)}}function iz(e,t){if(e&1&&(xe(0,ez,1,1)(1,tz,2,1,"strong",39)(2,nz,2,1,"strong",40)(3,rz,2,1,"strong",41),Me(4,"br")),e&2){let n=t.$implicit;ke(n.includes("Excluded")||n.includes("Allowed")?0:n.includes("-")?1:n.includes("+")?2:3)}}function oz(e,t){if(e&1&&Dt(0,iz,5,1,null,null,Di),e&2){let n=q(2);Tt(n.selectedTile==null?null:n.selectedTile.rules)}}function sz(e,t){if(e&1&&xe(0,XW,1,0)(1,oz,2,0),e&2){let n=q();ke(!(n.selectedTile!=null&&n.selectedTile.rules)||(n.selectedTile==null||n.selectedTile.rules==null?null:n.selectedTile.rules.length)===0?0:1)}}function az(e,t){if(e&1&&(w(0,"ul",19)(1,"li"),T(2,"Multiple accounts are allowed, but only one can be logged in at once."),D(),w(3,"li"),T(4,"The EXP tile will only be counted for ONE account. If you are playing with multiple. "),D(),w(5,"li"),T(6),D(),w(7,"li"),T(8,"Tiles can be completed in any order."),D(),w(9,"li",40),T(10,"Good luck and have fun!"),D()()),e&2){let n=q();A(6),ue("Complete a full row or column to earn a ",n.rowBonus," point bonus!")}}function cz(e,t){if(e&1&&(w(0,"div",22),Me(1,"app-cabbingo-stats",42),D()),e&2){let n=q();A(),pe("teams",n.teams)("participants",n.participants)("currentTeam",n.currentTeam)("endDatetime",n.info.end_date)("donations",n.donations)("prizePool",n.prizePool)}}var Vh=class e{constructor(t,n,r){this.databaseService=t;this.platformId=n;this.templeOSService=r}teamEnum=xh;currentTeam=0;selectedTile=void 0;board=[];boardSize=6;columnBonus=5;rowBonus=5;bingoRulesOpened=!0;teamNames=["Team 1","Team 2"];teams=[];participants=[];info={};donations=[];subscription;prizePool=0;buyinCost=3;ngOnInit(){if(this.teams.length===0&&this.getTempleOSData(),this.subscription=Zs(6e4).subscribe(()=>this.getTempleOSData()),Lr.production===!1){let t=new ji;this.board=t.board,this.generateBoard(this.board[this.currentTeam])}else lr(this.platformId)&&(this.getTeamNames(),this.loadTilesFromFirebase())}getTeamNames(){this.databaseService.getTeamNames().then(t=>{this.teamNames[0]=t[0]||"Team 1",this.teamNames[1]=t[1]||"Team 2"})}getDonations(){this.databaseService.getDonations2().subscribe({next:t=>{t.sort((n,r)=>r.amount-n.amount),this.donations=t,this.getPrizePool()},error:t=>{console.error("Error loading donations:",t)}})}getPrizePool(){this.prizePool=0;for(let t of this.donations)this.prizePool+=t.amount;this.prizePool+=this.participants.length*this.buyinCost,this.prizePool*=1e6}getTempleOSData(){this.templeOSService.getCompetition("32578").subscribe({next:t=>{let n=t.data.teams,r=Object.keys(n).filter(i=>!Number.isNaN(Number(i))).sort((i,o)=>Number(i)-Number(o)).map(i=>n[i]);this.teams=r,this.participants=t.data.participants,this.info=t.data.info,this.getDonations()},error:t=>console.error("Error loading TempleOSRS data:",t)})}loadTilesFromFirebase(){this.databaseService.getTiles().subscribe({next:t=>{t&&t.length>0&&(this.generateBoard(t[this.currentTeam]),this.selectedTile&&(this.selectedTile=this.board[this.currentTeam][this.selectedTile?.id-1]))},error:t=>{console.error("Error loading tiles:",t)}})}generateBoard(t){this.board=[];let n=0;for(let r=0;r<this.boardSize;r++){this.board[r]=[];for(let i=0;i<this.boardSize;i++){if(n>=t.length)return;this.board[r][i]=k(_({},t[n]),{id:r*this.boardSize+i+1}),n++}}}onTileClick(t){this.selectedTile=t,this.bingoRulesOpened=!1}switchTeam(t){if(this.currentTeam!==t)if(this.currentTeam=t,this.selectedTile=void 0,this.bingoRulesOpened=!0,Lr.production===!1){let n=new ji;this.board=n.board,this.generateBoard(this.board[this.currentTeam])}else this.loadTilesFromFirebase()}getTotalPoints(){let t=0;for(let n=0;n<this.board.length;n++){let r=this.board[n],i=!0;for(let o of r)o.itemsObtained>=o.itemsRequired?t+=o.points||0:i=!1;i&&(t+=5)}return t+=this.calculateColumnBonuses(),t}calculateColumnBonuses(t){let n=0,r=t!==void 0?[t]:Array.from({length:this.boardSize},(i,o)=>o);for(let i of r){let o=!0;for(let s=0;s<this.board.length;s++){let a=this.board[s][i];if(!a||a.itemsObtained<a.itemsRequired){o=!1;break}}o&&(n+=this.columnBonus)}return n}calculateRowBonuses(t){let n=0,r=t!==void 0?[t]:Array.from({length:this.board.length},(i,o)=>o);for(let i of r){let o=!0;for(let s of this.board[i])if(!s||s.itemsObtained<s.itemsRequired){o=!1;break}o&&(n+=this.rowBonus)}return n}static \u0275fac=function(n){return new(n||e)(P(zr),P(lt),P(Lh))};static \u0275cmp=Xt({type:e,selectors:[["app-cabbingo-board"]],decls:40,vars:19,consts:[[1,"page-wrap"],[1,"w-100"],[1,"d-flex","justify-content-center","align-items-center","w-100","banner"],[1,"btn","button","login-btn",3,"routerLink"],[1,"osrs-border-thick","px-4","py-2","mb-4"],[1,"row","teams","mb-2"],[1,"button","btn","col-md-5",3,"click","ngClass"],[1,"gap-2","d-flex","justify-content-center"],[1,"tiles","osrs-border","column","col-auto"],[1,"d-flex","align-items-center","gap-2"],[1,"d-flex","align-items-center","mx-2","me-0","row-tile"],[1,"d-flex","justify-content-left","px-2","py-1","gap-2"],[1,"infoArea","d-flex","justify-content-between","col-auto"],[1,"infobox","osrs-border","d-flex","flex-column","justify-content-between","align-items-center",2,"min-height","300px"],[1,"d-flex","flex-column","infobox","osrs-border-brighter","justify-content-center","align-items-center"],[1,"d-flex","d-row","justify-content-center","gap-2","py-1","m-0"],[1,"btn","row-tile",2,"width","115px","height","40px",3,"click","ngClass"],[2,"color","#FF9933","width","auto"],[1,"rulesbox","custom-scrollbar","overflow-y-scroll","osrs-border-darker"],[1,"px-2"],[1,"mt-2"],[1,"btn","button","disabled","float-bottom"],[1,"osrs-border-thick","px-4","py-2","mb-4","d-flex","flex-column","justify-content-between"],[1,"d-flex","justify-content-center","gap-2","column-tile","text-success"],[1,"d-flex","justify-content-center","gap-2","column-tile"],[1,"bi","bi-check-circle-fill"],[1,"d-flex","align-items-center","row-tile","text-success"],[1,"d-flex","align-items-center","row-tile"],[1,"btn","tile","d-flex","flex-column",3,"ngClass"],[1,"btn","tile","d-flex","flex-column",3,"click","ngClass"],[1,"progress",2,"height","5px"],["role","progressbar","aria-valuemin","0",1,"progress-bar","bg-success"],[2,"width","110px"],[1,"tile-image","p-1",3,"src","alt"],[1,"tile-text"],[1,"bossImage",3,"src","alt"],[1,"d-flex","flex-column","align-items-center"],[1,"d-flex","flex-row","pt-3"],[1,"mx-2",2,"color","rgb(8, 255, 8)"],[2,"color","#E40303"],[2,"color","#0CD90D"],[2,"color","#FF9933"],[3,"teams","participants","currentTeam","endDatetime","donations","prizePool"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),T(4," Log in as captain "),D()()(),w(5,"div",4)(6,"div",5)(7,"button",6),Ce("click",function(){return r.switchTeam(r.teamEnum.Team1)}),T(8),D(),w(9,"button",6),Ce("click",function(){return r.switchTeam(r.teamEnum.Team2)}),T(10),D()(),w(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10),T(15,"."),D(),Dt(16,GW,2,1,null,null,Di),D(),Dt(18,ZW,5,1,"div",11,Di),D(),w(20,"div",12)(21,"div")(22,"div",13),xe(23,QW,11,8)(24,JW,2,0,"p"),D(),w(25,"div",14)(26,"div",15)(27,"button",16),Ce("click",function(){return r.bingoRulesOpened=!0}),w(28,"p",17),T(29,"Bingo Rulez"),D()(),w(30,"button",16),Ce("click",function(){return r.bingoRulesOpened=!1}),w(31,"p",17),T(32,"Tile Rulez"),D()()(),w(33,"div",18),xe(34,sz,2,1)(35,az,11,1,"ul",19),D()()(),w(36,"div",20)(37,"button",21),T(38),D()()()()(),xe(39,cz,2,6,"div",22),D()),n&2&&(A(3),pe("routerLink",Tr(11,UW)),A(4),pe("ngClass",r.currentTeam===r.teamEnum.Team1?"btn selected-team":""),A(),ue(" ",r.teamNames[0]," "),A(),pe("ngClass",r.currentTeam===r.teamEnum.Team2?"btn selected-team":""),A(),ue(" ",r.teamNames[1]," "),A(6),Tt(Tr(12,BW).constructor(r.boardSize)),A(2),Tt(r.board),A(5),ke(r.selectedTile?23:24),A(4),pe("ngClass",ka(13,TN,r.bingoRulesOpened,!r.bingoRulesOpened)),A(3),pe("ngClass",ka(16,TN,!r.bingoRulesOpened,r.bingoRulesOpened)),A(4),ke(r.bingoRulesOpened?35:34),A(4),ue(" Total points: ",r.getTotalPoints()," "),A(),ke(r.teams[r.currentTeam]?39:-1))},dependencies:[Ua,hc,vs,Fh],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar-button:single-button{background-color:#404040;display:block;background-size:10px;background-repeat:no-repeat}@font-face{font-family:Runescape;src:url("./media/RuneScape-Plain-12-T6CWJQYQ.otf") format("opentype")}@font-face{font-family:Runescape-Bold;font-weight:700;src:url("./media/RuneScape-Bold-12-YYN5KYKT.otf") format("opentype")}@font-face{font-family:Runescape-Quill;src:url("./media/RuneScape-Quill-2XBT7J23.otf") format("opentype")}.osrs-border[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#393228;background:url("./media/tiles-backdrop-Y5VRY7K2.png") repeat top center;background-size:700px}.osrs-border-brighter[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#3e3529;background-size:700px}.osrs-border-darker[_ngcontent-%COMP%]{border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12);background-color:#332b21;background-size:700px}.osrs-border-thick[_ngcontent-%COMP%]{border:3px solid rgb(66,67,65);outline:6px solid rgb(14,14,12);background-color:#393228;background:url("./media/tiles-backdrop-Y5VRY7K2.png") repeat top center;background-size:700px;width:fit-content;min-width:1175px;max-width:1175px}.osrs-border-thick-login[_ngcontent-%COMP%]{border:3px solid rgb(66,67,65);outline:6px solid rgb(14,14,12);background-color:#393228;background:url("./media/tiles-backdrop-Y5VRY7K2.png") repeat top center;background-size:700px;width:fit-content}.page-wrap[_ngcontent-%COMP%] > .osrs-border-thick[_ngcontent-%COMP%], .osrs-border-thick-login[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%}.page-wrap[_ngcontent-%COMP%]{background:url("./media/bg2_upscaled-E25LY5MM.jpg") repeat-y center top;overflow:auto;background-size:100%;min-width:90vw;min-width:90dvw;min-height:100vh;min-height:100dvh}main[_ngcontent-%COMP%]{width:100%;min-height:100%}body[_ngcontent-%COMP%]{background:#000;color:#fff;font-family:Runescape-Bold;text-shadow:black 2px 2px 2px;font-size:16px;margin:0}.banner[_ngcontent-%COMP%]{background:url("./media/Logo-W5ERYSIZ.png") no-repeat center;background-size:contain;display:block;position:relative;height:180px;text-align:center}.button[_ngcontent-%COMP%]{background:url("./media/button-UB2HKL6L.png") no-repeat top center;position:relative;width:243px;height:54px;font-family:Runescape-Bold;font-size:27px;align-content:center;text-align:center}.teams[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-evenly}.board[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;margin-top:30px;max-height:auto;height:650px}.bossImage[_ngcontent-%COMP%]{height:125px;filter:drop-shadow(5px 6px 6px #000000)}.tile-image[_ngcontent-%COMP%]{height:55px;object-fit:contain;filter:drop-shadow(3px 4px 2px #000000);z-index:0}.tile-text[_ngcontent-%COMP%]{color:#f93;font-size:16px;height:16px;max-width:120px;white-space:wrap;word-break:break-word;z-index:1;line-height:normal;text-shadow:black 2px 2px 2px}.tile[_ngcontent-%COMP%]{width:125px;height:105px;flex-wrap:nowrap;justify-content:space-between;border:1px solid rgb(46,43,35);outline:1px solid rgb(86,75,61);background-color:#483e33}.tile[_ngcontent-%COMP%]:focus-visible, .tile[_ngcontent-%COMP%]:active, .tile[_ngcontent-%COMP%]:hover{background-color:#645546;color:gold!important}.rules-btn[_ngcontent-%COMP%], .row-tile[_ngcontent-%COMP%], .column-tile[_ngcontent-%COMP%]{background-color:#483e33;text-align:center;border-radius:4px;height:auto;width:125px;border:1px solid rgb(66,67,65);outline:1px solid rgb(14,14,12)}.rules-btn[_ngcontent-%COMP%], .row-tile[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;width:45px}.tile[_ngcontent-%COMP%]:hover{filter:drop-shadow(0px 0px .5mm gold)}.tile-selected[_ngcontent-%COMP%]{border:gold 2px solid}.tile-completed[_ngcontent-%COMP%]{background:#364732}.tile-completed[_ngcontent-%COMP%]:hover{background:#475e42}.rules-btn-selected[_ngcontent-%COMP%]{border:gold 2px solid}.rules-btn[_ngcontent-%COMP%]:focus-visible, .rules-btn[_ngcontent-%COMP%]:active, .rules-btn[_ngcontent-%COMP%]:hover{background-color:#645546;color:gold!important}.tiles[_ngcontent-%COMP%]{top:5px;width:auto;padding-top:10px;padding-bottom:10px;position:relative;align-items:center;align-content:center;flex-direction:column;justify-content:space-evenly}.infoArea[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:center;display:flex}.rulesbox[_ngcontent-%COMP%], .infobox[_ngcontent-%COMP%]{width:250px;min-height:240px;text-align:center;margin-top:5px;padding-left:8px;padding-right:8px}.rulesbox[_ngcontent-%COMP%]{text-align:left;height:300px;padding-left:8px;padding-right:8px}.btn[_ngcontent-%COMP%]{--bs-btn-color: var(white) !important;color:#fff!important;text-shadow:black 2px 2px 2px}.btn[_ngcontent-%COMP%]:hover{color:gold!important}.selected-team[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 1mm gold)}.progress[_ngcontent-%COMP%]{--bs-progress-bg: rgb(57, 50, 40);background-color:var(--bs-progress-bg)}.osrs-table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{--bs-table-color: #fff;--bs-table-bg: #212529;--bs-table-border-color: #4d5154;--bs-table-striped-bg: #2c3034;--bs-table-striped-color: #fff;--bs-table-active-bg: #373b3e;--bs-table-active-color: #fff;--bs-table-hover-bg: #323539;--bs-table-hover-color: #fff;border:1px solid rgb(14,14,12);--bs-table-bg: rgb(57, 50, 40);background-color:var(--bs-table-bg)}.custom-btn[_ngcontent-%COMP%]{background-color:#483e33;text-align:center;border-radius:4px;height:auto;min-width:40px;border:2px solid rgb(14,14,12)}.custom-btn[_ngcontent-%COMP%]:focus-visible, .custom-btn[_ngcontent-%COMP%]:active, .custom-btn[_ngcontent-%COMP%]:hover{border:2px solid rgb(14,14,12);background-color:#645546;color:gold!important}.custom-scrollbar[_ngcontent-%COMP%]{height:300px;overflow-y:scroll;scrollbar-width:thin;scrollbar-color:rgb(114,98,72) #27221B;scroll-behavior:smooth}.login-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;z-index:1050}@media (max-width: 420px){.login-btn[_ngcontent-%COMP%]{transform:scale(.85);transform-origin:top right;right:6px;top:6px}}.stats-item[_ngcontent-%COMP%]{border:3px solid #685C4C;background-color:#574e42;mask:radial-gradient(6px at 6px 6px,#0000 98%,#000) -6px -6px}.stats-outline[_ngcontent-%COMP%]{border:3px solid #2E2B23;mask:radial-gradient(10px at 10px 10px,#0000 98%,#000) -10px -10px}']})};var SN=[{path:"edit-board",component:Ph},{path:"",component:Vh},{path:"**",redirectTo:"",pathMatch:"full"}];var AN={production:!0,firebaseConfig:{apiKey:"AIzaSyB2e36wu47-6DOc2_rAuHfiFTq9vm6GBD0",authDomain:"cabbingo-db.firebaseapp.com",databaseURL:"https://cabbingo-db-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cabbingo-db",storageBucket:"cabbingo-db.firebasestorage.app",messagingSenderId:"684304316440",appId:"1:684304316440:web:0660b0d72a68752cadeb6d"}};var RN={providers:[Nv(),oy(SN),FT(PT(),kT()),Q0(()=>J0(AN.firebaseConfig)),IN(()=>bN())]};Tv(pf,RN).catch(e=>console.error("Bootstrap error:",e));
